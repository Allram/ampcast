/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,s=l(e),i=s[0],o=s[1],m=new r(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),c=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],m[c++]=t>>16&255,m[c++]=t>>8&255,m[c++]=255&t;return 2===o&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,m[c++]=255&t),1===o&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,m[c++]=t>>8&255,m[c++]=255&t),m},t.fromByteArray=function(e){for(var t,a=e.length,r=a%3,s=[],i=16383,o=0,l=a-r;o<l;o+=i)s.push(m(e,o,o+i>l?l:o+i));return 1===r?(t=e[a-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[a-2]<<8)+e[a-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")};for(var n=[],a=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=s.length;i<o;++i)n[i]=s[i],a[s.charCodeAt(i)]=i;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function m(e,t,a){for(var r,s,i=[],o=t;o<a;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(n[(s=r)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},8764:(e,t,n)=>{"use strict";const a=n(9742),r=n(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return m(e,t,n)}function m(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|d(e,t);let a=o(n);const r=a.write(e,t);return r!==n&&(a=a.slice(0,r)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return _(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return l.from(a,t,n);const r=function(e){if(l.isBuffer(e)){const t=0|v(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?o(0):_(e):"Buffer"===e.type&&Array.isArray(e.data)?_(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|v(e))}function _(e){const t=e.length<0?0:0|v(e.length),n=o(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,l.prototype),a}function v(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return a?-1:W(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return z(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function h(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function f(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,a,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,a,r){let s,i=1,o=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,o/=2,l/=2,n/=2}function m(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){let a=-1;for(s=n;s<o;s++)if(m(e,s)===m(t,-1===a?0:s-a)){if(-1===a&&(a=s),s-a+1===l)return a*i}else-1!==a&&(s-=s-a),a=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){let n=!0;for(let a=0;a<l;a++)if(m(e,s+a)!==m(t,a)){n=!1;break}if(n)return s}return-1}function x(e,t,n,a){n=Number(n)||0;const r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;const s=t.length;let i;for(a>s/2&&(a=s/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Y(a))return i;e[n+i]=a}return i}function y(e,t,n,a){return H(W(t,e.length-n),e,n,a)}function w(e,t,n,a){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function A(e,t,n,a){return H(G(t),e,n,a)}function q(e,t,n,a){return H(function(e,t){let n,a,r;const s=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,r=n%256,s.push(r),s.push(a);return s}(t,e.length-n),e,n,a)}function z(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);const a=[];let r=t;for(;r<n;){const t=e[r];let s=null,i=t>239?4:t>223?3:t>191?2:1;if(r+i<=n){let n,a,o,l;switch(i){case 1:t<128&&(s=t);break;case 2:n=e[r+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(s=l));break;case 3:n=e[r+1],a=e[r+2],128==(192&n)&&128==(192&a)&&(l=(15&t)<<12|(63&n)<<6|63&a,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:n=e[r+1],a=e[r+2],o=e[r+3],128==(192&n)&&128==(192&a)&&128==(192&o)&&(l=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&o,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,i=1):s>65535&&(s-=65536,a.push(s>>>10&1023|55296),s=56320|1023&s),a.push(s),r+=i}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=k));return n}(a)}t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return m(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let r=0,s=Math.min(n,a);r<s;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=l.allocUnsafe(t);let r=0;for(n=0;n<e.length;++n){let t=e[n];if($(t,Uint8Array))r+t.length>a.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(a,r)):Uint8Array.prototype.set.call(a,t,r);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,r)}r+=t.length}return a},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):b.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,n,a,r){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(r>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const o=Math.min(s,i),m=this.slice(a,r),c=e.slice(t,n);for(let e=0;e<o;++e)if(m[e]!==c[e]){s=m[e],i=c[e];break}return s<i?-1:i<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let s=!1;for(;;)switch(a){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,n){let a="";n=Math.min(e.length,n);for(let r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function S(e,t,n){let a="";n=Math.min(e.length,n);for(let r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function I(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let r="";for(let a=t;a<n;++a)r+=J[e[a]];return r}function P(e,t,n){const a=e.slice(t,n);let r="";for(let e=0;e<a.length-1;e+=2)r+=String.fromCharCode(a[e]+256*a[e+1]);return r}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,a,r,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function R(e,t,n,a,r){U(t,a,r,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function B(e,t,n,a,r){U(t,a,r,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function L(e,t,n,a,r,s){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,a,s){return t=+t,n>>>=0,s||L(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function N(e,t,n,a,s){return t=+t,n>>>=0,s||L(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,l.prototype),a},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let a=this[e],r=1,s=0;for(;++s<t&&(r*=256);)a+=this[e+s]*r;return a},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let a=this[e+--t],r=1;for(;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=K((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Q(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(r)<<BigInt(32))})),l.prototype.readBigUInt64BE=K((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Q(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(r)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let a=this[e],r=1,s=0;for(;++s<t&&(r*=256);)a+=this[e+s]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let a=t,r=1,s=this[e+--a];for(;a>0&&(r*=256);)s+=this[e+--a]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=K((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Q(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=K((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Q(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||M(this,e,t,n,Math.pow(2,8*n)-1,0);let r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||M(this,e,t,n,Math.pow(2,8*n)-1,0);let r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=K((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=K((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}let r=0,s=1,i=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===i&&0!==this[t+r-1]&&(i=1),this[t+r]=(e/s>>0)-i&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}let r=n-1,s=1,i=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===i&&0!==this[t+r+1]&&(i=1),this[t+r]=(e/s>>0)-i&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=K((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=K((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const r=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),r},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{const s=l.isBuffer(e)?e:l.from(e,a),i=s.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=s[r%i]}return this};const F={};function O(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,a,r,s){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let r;throw r=s>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(s+1)}${a}`:`>= -(2${a} ** ${8*(s+1)-1}${a}) and < 2 ** ${8*(s+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new F.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Q(t,e.length-(n+1))}(a,r,s)}function j(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function Q(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}O("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),O("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),O("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=V(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=V(r)),r+="n"),a+=` It must be ${t}. Received ${r}`,a}),RangeError);const X=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const a=e.length;let r=null;const s=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function G(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,a){let r;for(r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let r=0;r<16;++r)t[a+r]=e[n]+e[r]}return t}();function K(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6607:e=>{var t;self,t=function(){return(()=>{"use strict";var e={"./base.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a={};a["_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix)"]=n("./presets/converted/_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix).json"),a["_Geiss - Artifact 01"]=n("./presets/converted/_Geiss - Artifact 01.json"),a["_Geiss - Desert Rose 2"]=n("./presets/converted/_Geiss - Desert Rose 2.json"),a["_Geiss - untitled"]=n("./presets/converted/_Geiss - untitled.json"),a._Mig_049=n("./presets/converted/_Mig_049.json"),a._Mig_085=n("./presets/converted/_Mig_085.json"),a["_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix)"]=n("./presets/converted/_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix).json"),a["$$$ Royal - Mashup (197)"]=n("./presets/converted/$$$ Royal - Mashup (197).json"),a["$$$ Royal - Mashup (220)"]=n("./presets/converted/$$$ Royal - Mashup (220).json"),a["$$$ Royal - Mashup (431)"]=n("./presets/converted/$$$ Royal - Mashup (431).json"),a["AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno"]=n("./presets/converted/AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno.json"),a["Aderrasi - Potion of Spirits"]=n("./presets/converted/Aderrasi - Potion of Spirits.json"),a["Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics"]=n("./presets/converted/Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics.json"),a["Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix"]=n("./presets/converted/Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix.json"),a["An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B"]=n("./presets/converted/An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B.json"),a["Cope - The Neverending Explosion of Red Liquid Fire"]=n("./presets/converted/Cope - The Neverending Explosion of Red Liquid Fire.json"),a["cope + flexi - colorful marble (ghost mix)"]=n("./presets/converted/cope + flexi - colorful marble (ghost mix).json"),a["cope + martin - mother-of-pearl"]=n("./presets/converted/cope + martin - mother-of-pearl.json"),a["Eo.S. - glowsticks v2 05 and proton lights (+Krash′s beat code) _Phat_remix02b"]=n("./presets/converted/Eo.S. - glowsticks v2 05 and proton lights (+Krash′s beat code) _Phat_remix02b.json"),a["Eo.S. + Zylot - skylight (Stained Glass Majesty mix)"]=n("./presets/converted/Eo.S. + Zylot - skylight (Stained Glass Majesty mix).json"),a["fiShbRaiN + Flexi - witchcraft 2.0"]=n("./presets/converted/fiShbRaiN + Flexi - witchcraft 2.0.json"),a["Flexi - alien fish pond"]=n("./presets/converted/Flexi - alien fish pond.json"),a["Flexi - area 51"]=n("./presets/converted/Flexi - area 51.json"),a["flexi - bouncing balls [double mindblob neon mix]"]=n("./presets/converted/flexi - bouncing balls [double mindblob neon mix].json"),a["Flexi - infused with the spiral"]=n("./presets/converted/Flexi - infused with the spiral.json"),a["Flexi - mindblob [shiny mix]"]=n("./presets/converted/Flexi - mindblob [shiny mix].json"),a["Flexi - mindblob mix"]=n("./presets/converted/Flexi - mindblob mix.json"),a["flexi - mom, why the sky looks different today"]=n("./presets/converted/flexi - mom, why the sky looks different today.json"),a["flexi - patternton, district of media, capitol of the united abstractions of fractopia"]=n("./presets/converted/flexi - patternton, district of media, capitol of the united abstractions of fractopia.json"),a["Flexi - predator-prey-spirals"]=n("./presets/converted/Flexi - predator-prey-spirals.json"),a["Flexi - smashing fractals [acid etching mix]"]=n("./presets/converted/Flexi - smashing fractals [acid etching mix].json"),a["flexi - swing out on the spiral"]=n("./presets/converted/flexi - swing out on the spiral.json"),a["Flexi - truly soft piece of software - this is generic texturing (Jelly) "]=n("./presets/converted/Flexi - truly soft piece of software - this is generic texturing (Jelly) .json"),a["flexi - what is the matrix"]=n("./presets/converted/flexi - what is the matrix.json"),a["flexi + amandio c - organic [random mashup]"]=n("./presets/converted/flexi + amandio c - organic [random mashup].json"),a["flexi + amandio c - organic12-3d-2.milk"]=n("./presets/converted/flexi + amandio c - organic12-3d-2.json"),a["Flexi + amandio c - piercing 05 - Kopie (2) - Kopie"]=n("./presets/converted/Flexi + amandio c - piercing 05 - Kopie (2) - Kopie.json"),a["flexi + fishbrain - neon mindblob grafitti"]=n("./presets/converted/flexi + fishbrain - neon mindblob grafitti.json"),a["flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish]"]=n("./presets/converted/flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish].json"),a["Flexi + Martin - astral projection"]=n("./presets/converted/Flexi + Martin - astral projection.json"),a["Flexi + Martin - cascading decay swing"]=n("./presets/converted/Flexi + Martin - cascading decay swing.json"),a["Flexi + stahlregen - jelly showoff parade"]=n("./presets/converted/Flexi + stahlregen - jelly showoff parade.json"),a["Flexi, fishbrain, Geiss + Martin - tokamak witchery"]=n("./presets/converted/Flexi, fishbrain, Geiss + Martin - tokamak witchery.json"),a["Flexi, martin + geiss - dedicated to the sherwin maxawow"]=n("./presets/converted/Flexi, martin + geiss - dedicated to the sherwin maxawow.json"),a["Fumbling_Foo + En D & Martin - Mandelverse"]=n("./presets/converted/Fumbling_Foo + En D & Martin - Mandelverse.json"),a["Geiss - Cauldron - painterly 2 (saturation remix)"]=n("./presets/converted/Geiss - Cauldron - painterly 2 (saturation remix).json"),a["Geiss - Reaction Diffusion 2"]=n("./presets/converted/Geiss - Reaction Diffusion 2.json"),a["Geiss - Spiral Artifact"]=n("./presets/converted/Geiss - Spiral Artifact.json"),a["Geiss - Thumb Drum"]=n("./presets/converted/Geiss - Thumb Drum.json"),a["Geiss + Flexi + Martin - disconnected"]=n("./presets/converted/Geiss + Flexi + Martin - disconnected.json"),a["Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup]"]=n("./presets/converted/Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup].json"),a["Goody - The Wild Vort"]=n("./presets/converted/Goody - The Wild Vort.json"),a["gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n)"]=n("./presets/converted/gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n).json"),a["Halfbreak - Funny Madness"]=n("./presets/converted/Halfbreak - Funny Madness.json"),a["Halfbreak - Light of Breakers"]=n("./presets/converted/Halfbreak - Light of Breakers.json"),a["Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause"]=n("./presets/converted/Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause.json"),a["high-altitude basket unraveling - singh grooves nitrogen argon nz+"]=n("./presets/converted/high-altitude basket unraveling - singh grooves nitrogen argon nz+.json"),a["LuxXx - Play v3 (the war within all of us)"]=n("./presets/converted/LuxXx - Play v3 (the war within all of us).json"),a["Martin - acid wiring"]=n("./presets/converted/Martin - acid wiring.json"),a["martin - angel flight"]=n("./presets/converted/martin - angel flight.json"),a["martin - another kind of groove"]=n("./presets/converted/martin - another kind of groove.json"),a["martin - bombyx mori"]=n("./presets/converted/martin - bombyx mori.json"),a["martin - castle in the air"]=n("./presets/converted/martin - castle in the air.json"),a["martin - chain breaker"]=n("./presets/converted/martin - chain breaker.json"),a["Martin - charisma"]=n("./presets/converted/Martin - charisma.json"),a["martin - disco mix 4"]=n("./presets/converted/martin - disco mix 4.json"),a["martin - extreme heat"]=n("./presets/converted/martin - extreme heat.json"),a["martin - frosty caves 2"]=n("./presets/converted/martin - frosty caves 2.json"),a["martin - fruit machine"]=n("./presets/converted/martin - fruit machine.json"),a["martin - glass corridor"]=n("./presets/converted/martin - glass corridor.json"),a["Martin - liquid arrows"]=n("./presets/converted/Martin - liquid arrows.json"),a["martin - mandelbox explorer - high speed demo version"]=n("./presets/converted/martin - mandelbox explorer - high speed demo version.json"),a["martin - mucus cervix"]=n("./presets/converted/martin - mucus cervix.json"),a["martin - reflections on black tiles"]=n("./presets/converted/martin - reflections on black tiles.json"),a["martin - stormy sea (2010 update)"]=n("./presets/converted/martin - stormy sea (2010 update).json"),a["martin - The Bridge of Khazad-Dum"]=n("./presets/converted/martin - The Bridge of Khazad-Dum.json"),a["martin - witchcraft reloaded"]=n("./presets/converted/martin - witchcraft reloaded.json"),a["martin [shadow harlequins shape code] - fata morgana"]=n("./presets/converted/martin [shadow harlequins shape code] - fata morgana.json"),a["martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained"]=n("./presets/converted/martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained.json"),a["martin, flexi, fishbrain + sto - enterstate [random mashup]"]=n("./presets/converted/martin, flexi, fishbrain + sto - enterstate [random mashup].json"),a["Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX"]=n("./presets/converted/Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX.json"),a["MilkDrop2077.R002"]=n("./presets/converted/MilkDrop2077.R002.json"),a["MilkDrop2077.R033"]=n("./presets/converted/MilkDrop2077.R033.json"),a["ORB - Waaa"]=n("./presets/converted/ORB - Waaa.json"),a["Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix"]=n("./presets/converted/Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix.json"),a["Rovastar - Oozing Resistance"]=n("./presets/converted/Rovastar - Oozing Resistance.json"),a["Rovastar + Loadus + Geiss - FractalDrop (Triple Mix)"]=n("./presets/converted/Rovastar + Loadus + Geiss - FractalDrop (Triple Mix).json"),a["sawtooth grin roam"]=n("./presets/converted/sawtooth grin roam.json"),a["ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector"]=n("./presets/converted/ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector.json"),a["shifter - dark tides bdrv mix 2"]=n("./presets/converted/shifter - dark tides bdrv mix 2.json"),a["shifter - escape (sigur ros)"]=n("./presets/converted/shifter - escape (sigur ros).json"),a["shifter - liquid circuitry - conjugoth"]=n("./presets/converted/shifter - liquid circuitry - conjugoth.json"),a["suksma - ed geining hateops - squeakers"]=n("./presets/converted/suksma - ed geining hateops - squeakers.json"),a["suksma - heretical crosscut playpen"]=n("./presets/converted/suksma - heretical crosscut playpen.json"),a["suksma - Hexcollie - Julian Carnival - shimmy dumb grid"]=n("./presets/converted/suksma - Hexcollie - Julian Carnival - shimmy dumb grid.json"),a["suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression"]=n("./presets/converted/suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression.json"),a["suksma - uninitialized variabowl (hydroponic chronic)"]=n("./presets/converted/suksma - uninitialized variabowl (hydroponic chronic).json"),a["suksma - vector exp 1 - couldn′t not"]=n("./presets/converted/suksma - vector exp 1 - couldn′t not.json"),a["TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle]"]=n("./presets/converted/TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle].json"),a["TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse]"]=n("./presets/converted/TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse].json"),a["Unchained - Rewop"]=n("./presets/converted/Unchained - Rewop.json"),a["Unchained - Unified Drag 2"]=n("./presets/converted/Unchained - Unified Drag 2.json"),a["yin - 191 - Temporal singularities"]=n("./presets/converted/yin - 191 - Temporal singularities.json"),a["yin - 393 - Artificial Inspiration (music driven - outward)"]=n("./presets/converted/yin - 393 - Artificial Inspiration (music driven - outward).json"),a["Zylot - Paint Spill (Music Reactive Paint Mix)"]=n("./presets/converted/Zylot - Paint Spill (Music Reactive Paint Mix).json"),a["Zylot - Star Ornament"]=n("./presets/converted/Zylot - Star Ornament.json"),a["Zylot - True Visionary (Final Mix)"]=n("./presets/converted/Zylot - True Visionary (Final Mix).json");const r=a},"./presets/converted/$$$ Royal - Mashup (197).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wrap":0,"darken_center":1,"solarize":1,"wave_a":0.001,"zoom":0.97,"rot":-6.27999,"warp":0.00052,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"mv_r":0.8,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.75,"y":0.75,"rad":0.7417,"tex_zoom":0.22746,"g":1,"b":1,"r2":1,"b2":1,"a2":0.1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n\\ntex_capture = above(q3,1);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":1,"textured":1,"x":0.25,"y":0.75,"rad":4.44708,"tex_zoom":0.22746,"r":0,"a":0.1,"g2":0,"a2":0.2,"border_r":0,"border_g":0,"border_a":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n//x = 0.5 + 0.2*sin(q2);\\n//y = 0.5 + (0.3*sin(q2));\\n\\ntex_capture = above(q3,1);\\ntex_zoom = 0.6;"},{"baseVals":{"textured":1,"rad":6.621,"tex_zoom":0.22746,"g":1,"b":1,"a":0.2,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n//x = 0.5 + 0.2*sin(q2);\\n//y = 0.5 + (0.3*sin(q2));\\n\\ntex_capture = above(q3,2);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.12)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.5*sin(time*1.22) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.307 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.959 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.14)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\nx = x*0.6 + 0.2;\\ny = y*0.6 + 0.2;\\n\\nr = 0.5 + 0.5*sin(time*1.322) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.5407 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.759 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.14)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\nx = x*0.25 + 0.375;\\ny = y*0.25 + 0.375;\\n\\nr = 0.5 + 0.5*sin(time*1.622) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.2407 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.359 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"thick":1,"additive":1,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*10000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + (equal(0,q1))*sin(v*1)*speed*atan(v*1.51);\\nys = ys + (equal(0,q1))*sin(v*1)*speed;\\n\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y*0.9 + 0.05 + bass*0.08;\\ny = y*0.8;\\n\\nr = 0.5 + 0.5*sin(time*1.789) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.478);\\nb = 0.4 + 0.4*sin(time*1.125);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"}],"init_eqs_eel":"","frame_eqs_eel":"basstime = basstime + bass*0.03;\\nq1 = basstime*4;\\n\\n//start in most active range\\nbasstime = if(below(basstime,1000),1000,basstime);\\n//basstime = if(above(basstime,495),450,basstime);\\n\\nbasstime = basstime + bass_att*0.03;\\nvol = pow(bass+mid+treb,2);\\nbasssum = vol;\\n\\nstickybit = time%2;\\n\\n//avg vol\\n//buffer 1\\nvolAvg = volAvg + vol*equal(stickybit,1);\\n//number of samples 1 or framerate\\nsample1 = sample1 + equal(stickybit,1);\\n//buffer 2\\nvolAvg2 = volAvg2 + vol*equal(stickybit,0);\\n//number of samples 2\\nsample2 = sample2 + equal(stickybit,0);\\n\\n//transision\\nedge = bnot(equal(bit2,stickybit));\\n\\nvolAvg = volAvg - volAvg*edge*stickybit;\\nvolAvg2 = volAvg2 - volAvg2*edge*equal(stickybit,0);\\n\\nsample1 = sample1  - sample1*edge*stickybit;\\nsample2 = sample2  - sample2*edge*equal(stickybit,0);\\n\\n//test vol against avg buffer lvl\\ndiff = if(equal(stickybit,1), (basssum/(volAvg2/sample2)) , 0);\\ndiff = if(equal(stickybit,0), (basssum/(volAvg/sample1)), diff);\\n\\nq3 = diff;\\n\\nbit2 = time%2;\\n\\ndifftime = difftime + diff*0.03;\\nq2 = difftime;\\n\\n//fix a strange error\\ndifftime = if(above(difftime,2000),0, difftime);\\n\\nmonitor = abs(cos(time))*3.14;\\n\\n\\nmv_a = above(diff,10);","pixel_eqs_eel":"zoom = 1 + 0.05*q3*rad;\\n\\ndecay_r = 0.2*rad*sin(q2*0.35) + 0.85 + 0.1*sin(q2);\\ndecay_g = 0.2*rad*sin(q2*0.5) + 0.85 + 0.1*sin(0.7*q2);\\ndecay_b = 0.2*rad*sin(q2*0.4) + 0.85 + 0.1*sin(0.8*q2);\\n\\nrot = 0;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (vec2(1.0, 0.0) * texsize.z);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(0.0, 1.0) * texsize.z);\\n  ret_1 = (((\\n    (texture (sampler_main, (uv + tmpvar_2)).xyz + texture (sampler_main, (uv + tmpvar_2)).xyz)\\n   * 0.5) + (\\n    (texture (sampler_main, (uv + tmpvar_3)).xyz + texture (sampler_main, (uv + tmpvar_3)).xyz)\\n   * 0.5)) - texture (sampler_main, ((\\n    (uv - 0.5)\\n   * 0.9) + 0.5)).xyz);\\n  ret_1 = (ret_1 - 0.4);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((0.5 - uv) + 0.5);\\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, tmpvar_2).xyz, vec3(0.5, 0.5, 0.5)) * 2.0);\\n  ret_1 = (((\\n    ((texture (sampler_blur3, uv).xyz * scale3) + bias3)\\n   * 2.0) + (\\n    ((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3)\\n   * 2.0)) + ret_1);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/$$$ Royal - Mashup (220).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.07,"decay":0.95,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"darken":1,"invert":1,"wave_a":4.1,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.99951,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(mid_att,1.8),mid_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*0.672;\\naxang = 0;\\nyang = time*-1.351;\\nayang = 0;\\nzang = time*-0.401;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\nr = 1 + sin(sp);\\nb = 0.5 + 0.5*sin(sample*1.57);\\ng = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(bass_att,1.8),bass_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*-0.321;\\naxang = 0;\\nyang = time*1.531;\\nayang = 0;\\nzang = time*-0.101;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\ng = 1 + sin(sp);\\nr = 0.5 + 0.5*sin(sample*1.57);\\nb = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(treb_att,1.8),treb_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*0.221;\\naxang = 0;\\nyang = time*-0.411;\\nayang = 0;\\nzang = time*1.201;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\nb = 1+sin(sp);\\ng = 0.5 + 0.5*sin(sample*1.57);\\nr = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;","pixel_eqs_eel":"it = 0.3*sin(time*0.2);\\nradm = rad*0.5;\\nrot = 0.02*sin((radm+it)*20);\\nmod = sin(ang*5);\\nmod = mod*mod*mod*mod*mod;\\nzoom = 1 + abs(0.01*mod);\\n\\nzoom *= min(1.05,max(1,max(bass,treb)));","warp":" shader_body { \\n  vec3 xfer_1;\\n  vec3 ret_2;\\n  vec4 tmpvar_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  tmpvar_3 = texture (sampler_main, (tmpvar_4 + 0.5));\\n  ret_2 = (tmpvar_3.xyz / ((tmpvar_3.x + tmpvar_3.y) + tmpvar_3.z));\\n  ret_2 = texture (sampler_main, ((tmpvar_4 * dot (ret_2, vec3(1.0, 0.975, 0.95))) + 0.5)).xyz;\\n  vec3 tmpvar_5;\\n  tmpvar_5 = clamp (((ret_2 - 0.05) * 99.0), 0.0, 1.0);\\n  xfer_1.x = tmpvar_5.x;\\n  xfer_1.yz = (tmpvar_5.yz * clamp ((\\n    (0.1 - ret_2.xy)\\n   * 99.0), 0.0, 1.0));\\n  ret_2 = (ret_2 + (vec3(-0.014, 0.014, 0.0) * tmpvar_5.xxx));\\n  ret_2 = (ret_2 + (vec3(0.0, -0.08, 0.08) * xfer_1.yyy));\\n  ret_2 = (ret_2 + (vec3(0.0, 0.0, -0.02) * xfer_1.zzz));\\n  ret_2 = (ret_2 + (vec3(5.0, 15.0, 40.0) * (\\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5)\\n   / 256.0)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":""}')},"./presets/converted/$$$ Royal - Mashup (431).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":30.965,"warpscale":2.572,"zoom":1.00901,"warp":0.00054,"wave_r":0,"wave_g":0,"wave_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\n//zoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\n//zoom = zoom + max(0,bass_att-1.1)*0.2;\\n//warp = warp + max(0,treb_att-1.1)*1.0;\\n\\n// this is a great way to respond to beats:\\n// once you get one, let it decay at a constant rate!!\\nrg = max(rg*0.77, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\\nq9 = rg;\\n\\nzoom = zoom + q9*0.1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((((\\n      (texture (sampler_blur1, uv).xyz * scale1)\\n     + bias1) * 0.3) + ((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 0.4)) + (((texture (sampler_blur3, uv).xyz * scale3) + bias3) * 0.3))\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * (\\n    (clamp ((treb_att - 1.0), 0.0, 1.0) * 0.4)\\n   + 0.3)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = 0.0;\\n  tmpvar_2.y = texsize.w;\\n  vec2 uv_3;\\n  float inten_4;\\n  float dist_5;\\n  vec2 uv1_6;\\n  vec3 ret_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_9;\\n  tmpvar_9 = (time / 18.0);\\n  dist_5 = (1.0 - fract((0.25 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (inten_4 * ((2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\\n  ) - (2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\\n  )));\\n  xlat_mutabledz.y = (inten_4 * ((2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\\n  ) - (2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\\n  )));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((0.5 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((0.75 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((1.0 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  xlat_mutabledz = (xlat_mutabledz * (0.5 + rand_preset.z));\\n  vec2 tmpvar_10;\\n  tmpvar_10 = (2.0 * (rand_preset.xy - 0.5));\\n  uv1_6 = (4.0 * tmpvar_8);\\n  vec2 tmpvar_11;\\n  tmpvar_11 = sin(((uv1_6 + xlat_mutabledz) + tmpvar_10));\\n  vec2 tmpvar_12;\\n  tmpvar_12 = sin(((uv1_6 + \\n    (xlat_mutabledz * 1.4)\\n  ) + tmpvar_10));\\n  vec2 tmpvar_13;\\n  tmpvar_13 = sin(((uv1_6 + \\n    (xlat_mutabledz * 1.8)\\n  ) + tmpvar_10));\\n  vec3 tmpvar_14;\\n  tmpvar_14.x = inversesqrt(dot (tmpvar_11, tmpvar_11));\\n  tmpvar_14.y = inversesqrt(dot (tmpvar_12, tmpvar_12));\\n  tmpvar_14.z = inversesqrt(dot (tmpvar_13, tmpvar_13));\\n  ret_7 = (((\\n    (tmpvar_14 * ((vec3(0.01, 0.01, 0.01) * (1.0 + \\n      (rand_preset.xyz / 2.0)\\n    )) * (0.5 + rand_preset.y)))\\n   * \\n    ((((rand_preset.x - 0.5) * 4.0) * xlat_mutableret1) + (8.0 * (1.0 + rand_preset)).xyz)\\n  ) - (xlat_mutableret1.x * 0.5)) + ((xlat_mutableret1.y + xlat_mutableret1.z) / 3.0));\\n  ret_7 = (ret_7 - ((slow_roam_sin.wzy * roam_cos.zxy) * 0.4));\\n  ret_7 = (ret_7 * (1.0 + ret_7));\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_7;\\n  ret = tmpvar_15.xyz;\\n }"}')},"./presets/converted/AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.9,"echo_zoom":1.169,"wave_a":0.001,"warpanimspeed":30.965,"warpscale":2.572,"zoomexp":1.94773,"zoom":1.00901,"warp":0.00054,"wave_r":0,"wave_g":0,"wave_b":0,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.75,"y":0.75,"rad":0.7418,"tex_zoom":0.22746,"g":1,"b":1,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n\\ntex_capture = above(q3,2);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0444,"tex_zoom":0.22746,"r":0,"g":0.3,"g2":0,"border_r":0,"border_g":0,"border_a":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.22167,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"border_r = 0.5 + 0.5*sin(q1*10);"},{"baseVals":{"sides":100,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = above(q3,2);\\na2 = above(q3,2)*0.8;\\n\\nxx = if(above(q3,6),xx,int(rand(100))*0.01);\\nyy = if(above(q3,6),yy,int(rand(100))*0.01);\\nradi = if(above(q3,5),radi,int(rand(100))*0.01);\\n\\nrad = radi;\\n\\nx = xx;\\ny = yy;\\n\\n\\nr = 0.5 + 0.5*sin(q1*1.22) + 0.1;\\ng = 0.4 + 0.4*sin(q1*1.307);\\nb = 0.4 + 0.4*sin(q1*1.959);\\n\\n\\nr2 = 0.5 + 0.5*sin(q1*1.622) + 0.1;\\ng2 = 0.4 + 0.4*sin(q1*1.507);\\nb2 = 0.4 + 0.4*sin(q1*1.6559);"}],"waves":[{"baseVals":{"enabled":1,"a":0.5},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//init\\nzs = if(below(zs,1),9,zs);\\n\\nzs = if(above(zs, 1100),1, zs);\\n\\nspeed = bass*0.002;\\n\\n//sum\\nzs = zs + tan(q1*0.015)*speed;\\n\\nzd = zd + 2;\\n\\n\\n\\n//project\\nx = 0.5 + 0.1*cos(q1*zs);\\ny = 0.5 + 0.1*sin(q1*zs);\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"rot = -0.001;\\n//rot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\n\\nzoom =1.01;// + bass*0.05 - treb*0.015;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  ret_2 = texture (sampler_main, uv_1).xyz;\\n  ret_2.xz = (ret_2.xz + ((\\n    (ret_2.xz - mix (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2), ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), uv_orig.xxx).xz)\\n   * 0.3) - (0.00666 * \\n    (((bass + treb) + mid) - 0.5)\\n  )));\\n  ret_2.xz = (ret_2.xz * 0.95);\\n  ret_2.xz = (ret_2.xz + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_2.x = mix (ret_2.x, dot (ret_2.xxx, vec3(0.32, 0.49, 0.29)), 0.2);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 12.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur2, \\n    (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = tmpvar_5.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_4.z;\\n  tmpvar_8.y = tmpvar_5.z;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (((uv_orig + \\n    (tmpvar_6 * 0.005)\\n  ) + (tmpvar_7 * 0.005)) - (tmpvar_8 * 0.005));\\n  ret_2.y = (texture (sampler_main, tmpvar_9).y - 0.04);\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - (((texture (sampler_blur1, tmpvar_9).xyz * scale1) + bias1).y * 1.5))\\n   + 0.4) * 0.1));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }","comp":" shader_body { \\n  float ang2_1;\\n  vec2 uv2_2;\\n  ang2_1 = ((ang * 0.1591549) + (time * 0.025));\\n  ang2_1 = (fract((ang2_1 * 9.0)) / 9.0);\\n  ang2_1 = (abs((ang2_1 - 0.05555556)) * 6.283185);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = cos(ang2_1);\\n  tmpvar_3.y = sin(ang2_1);\\n  uv2_2 = (0.5 + ((\\n    (0.4 * (rad * sqrt(dot (texsize.xy, texsize.xy))))\\n   * tmpvar_3) * texsize.zw));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (((texture (sampler_main, uv2_2).y * vec3(0.6, 0.2, 1.5)) + (texture (sampler_fw_main, uv2_2).x * vec3(1.0, 0.66, 0.0))) - (texture (sampler_main, uv2_2).z * vec3(-0.6, 1.0, 2.0)));\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.001,"decay":0.95,"echo_zoom":0.9996,"wave_mode":1,"wrap":0,"wave_a":3.072644,"wave_scale":1.285746,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999513,"warp":0.0101,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":0.8,"ib_size":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);","pixel_eqs_eel":"zoom = zoom + 0.05*(sin(6*ang) + sin(sin(time*2*sin(time)*rad))*0.3 - cos(rad)*0.1);\\nrot = rot + 0.5*sin(0.5-rad)*cos(0.02*(0.5-rad)+time);\\nsx = sx + 0.01*(0.99*1-rad)*sin(0.733*time)*below(sin(time),0);\\nsy = sy + 0.01*(0.99*1-rad)*cos(0.953*time)*above(sin(time),0);\\nzoom = zoom - 0.05*(1-rad)*below(rad,0.5);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\\n   * 0.03))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.03 + (0.94 * uv));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 0.7);\\n  ret_2 = (texture (sampler_main, (uv_1 + (tmpvar_3 * vec2(3.5, 0.0)))).xyz * 3.0);\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(0.0, 3.5))\\n  )).xyz * 3.0));\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(0.0, -3.5))\\n  )).xyz * -2.0));\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(-3.5, 0.0))\\n  )).xyz * -2.0));\\n  ret_2 = (ret_2 / 2.0);\\n  ret_2 = (ret_2 * (1.0 + (0.15 * \\n    ((texture (sampler_noise_lq, (rand_frame.xy + (\\n      (uv_1 * texsize.xy)\\n     * texsize_noise_lq.zw))).xxx * 2.0) - 1.0)\\n  )));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = pow (ret_2, vec3(0.5, 0.8, 1.0));\\n  ret_2 = tmpvar_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = tmpvar_4;\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/Aderrasi - Potion of Spirits.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1.42,"decay":1,"echo_zoom":0.999823,"echo_alpha":0.5,"echo_orient":1,"wave_mode":5,"wave_thick":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001185,"wave_scale":0.325446,"wave_smoothing":0.9,"modwavealphastart":0.5,"modwavealphaend":1,"warpanimspeed":2.630064,"warpscale":3.209168,"zoomexp":1.000158,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_a":0.5,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.1,"mv_x":6.4,"mv_y":4.8,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.5 + 0.5*sin(1.6*time);\\nwave_g = 0.5 + 0.5*sin(4.1*time);\\nwave_b = -1 + (1-wave_r + 1-wave_g);\\nwarp = 2;\\n\\nob_r = ob_r+wave_b*above(sin(0.1*time),0);\\nob_b = ob_b+wave_g*above(sin(0.1*time),0);\\nob_g = ob_g+wave_r*above(sin(0.1*time),0);\\nob_r = ob_r+wave_g*below(sin(0.1*time),0);\\nob_b = ob_b+wave_r*below(sin(0.1*time),0);\\nob_g = ob_g+wave_b*below(sin(0.1*time),0);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.05*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.056*sin(6*time)+(1-equal(thresh,2))*dy_r;\\ntg1 = abs(sin(time));\\ntg2 = 22*above(tg1,0.75) + 12*below(tg1,0.25) + 18*above(tg1,0.25)*below(tg1,0.5)+\\n12*above(tg1,0.5)*below(tg1,0.75);\\ntg3 = if(equal(thresh,2),tg2,tg3);\\n\\nsix = sin(x);\\n\\ndx = dx + dx_r*sin(abs(tg3*y))*sin(time);\\ndy = dy + dy_r*sin(abs(tg3*x))*cos(time);\\ndx = dx + dx_r*pow(rad,y*2)*sin(time);\\ndy = dy + dy_r*pow(rad,x*2)*sin(time);\\nzoom = zoom - 0.0825*pow(rad,x*6)*cos(ang*6);\\nrot = rot - 0.0525*(0.75*sin(1.25*time)*pow(rad,x)*sin(1.45*time))*sin(time);","warp":"","comp":""}')},"./presets/converted/Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":0.97,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"wave_brighten":0,"wrap":0,"wave_a":100,"wave_scale":0.797,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\n\\nob_r = ob_r + 0.8*sin(1.1*time) + 1.1*cos(2*time);\\nob_b = ob_b + 0.9*sin(1.2*time) + cos(1.5*time);\\nob_g = ob_g + 0.7*sin(time) + sin(0.4*time);\\nwave_r = abs(ob_r+0.2);\\nwave_g = abs(ob_g+0.2);\\nwave_b = abs(ob_b+0.2);\\nib_b = ib_b + 0.44*cos(1.5*time) + 0.7*tan(time);\\nib_g = ib_g + 2*sin(time*bass_att);\\nib_r = ib_r + 0.8*sin(1.2*time) + 1.3*cos(1.8*time);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\nzoom = zoom + 0.07*treb*(abs(sin(time*rad)))*(0.3-rad);\\ndy = dy + dy_r*below(rad,0.5 - (0.2*time));\\ndx = dx + dx_r*below(rad,0.5 - (0.2*time));\\nrot = rot + (0.7*bass_att*sin(abs(dx_r*(1-rad)*2*time+cos(rad*12))))*0.2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    (texture (sampler_noise_lq, ((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 0.1))).xyz - 0.5)\\n   / 256.0) * 28.0));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":""}')},"./presets/converted/An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"additivewave":1,"modwavealphabyvolume":1,"wave_a":0.009,"wave_scale":2.713,"wave_smoothing":0,"modwavealphastart":1.2,"modwavealphaend":1.2,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.44,"wave_g":0.4,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"num_inst":175,"rad":0.20065,"ang":0.75398,"tex_ang":3.14159,"tex_zoom":0.99979,"r":0,"g2":0,"border_r":0.01,"border_g":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"//lorenz-attractor calc\\nxx1 = if(equal(instance,0),q11,xx1);\\nyy1 = if(equal(instance,0),q12,yy1);\\nzz1 = if(equal(instance,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\ndd = sqrt(dx1*dx1+dy1*dy1+dz1*dz1);\\nxx1 = xx1 + q17*dx1/dd;\\nyy1 = yy1 + q17*dy1/dd;\\nzz1 = zz1 + q17*dz1/dd;\\n\\n\\n// 3D object model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 4.75; // camera distance\\nzoom = .55+0.25*sin(.5*q32);\\n\\n// solid angles\\nw1 = q3;\\nw2 = q4;\\nw3 = q5;\\n\\n// 3D rotation\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nrad = rad/d;\\nang = ang-instance/num_inst*asin(1)*8;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.0986,"tex_zoom":0.7874,"r":0.2,"g":0.03,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*2;\\nmy_z = -(-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*2;\\nmy_y = t*(sin(wh)*sin(wv)*l)*2;\\n\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.2667,"tex_zoom":0.7874,"r":0,"g":0.1,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*4;\\nmy_z = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*4;\\nmy_y = t*(sin(wh)*sin(wv)*l)*4;\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.05012,"tex_zoom":0.7874,"r":0,"g":0.02,"b":0.11,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"}],"waves":[{"baseVals":{"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.21,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"","point_eqs_eel":"// lorenz-attractor calc\\nxx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\n// 3D model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // distance of the camera (on the z-axis) to the origin\\nzoom = 0.4;\\n\\n// solid angles\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\n// rotations\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\nmy_x = xx1*0.02;\\nmy_y = yy1*0.02;\\nmy_z = zz1*0.02;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"step = 0;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.96, 30/fps);\\ndec_fast = pow (0.6, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, 0+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq24 = is_beat;\\nvol = bass_att + mid_att + treb_att;\\nvol_ = dec_med * vol_ + (1-dec_med)* vol;\\nvol__ = dec_med * vol__ + (1-dec_med)* vol_;\\nq27 = index + 1;\\nq28 = index2 + 1;\\nq23 = q22 -0.1/q22;\\nq23 = max(q23,1);\\n\\nk1 =  is_beat*equal(index%8,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_fast * p2+ (1-dec_fast)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%2);\\nvx = vx*bnot(trig) + trig* (int(rand(100))/100-.5);\\nvy = vy*bnot(trig) + trig* (int(rand(100))/100-.5);\\nq10 = 0.2+vy*vy*2;\\nq11 = sin(time/9)/2+.4;\\nmovz = movz-1/fps*(.3+vx);\\nq9 = movz;\\n\\nq12 = min(q22,6)*2;\\nq13 = min(2,1+abs(8*vy*vx));\\n//dir_ = dec_med*dir_ + (1-dec_med)*(index2%2-.5);\\ndir_ =  bass-1;\\n\\ntrig = bnot(index%4) * q24;\\ndir = bnot(trig)*dir + trig*(int(rand(10))-5);\\n\\ntrel = trel + .1/fps*dir;\\ntrel_ = dec_med*trel_ + (1-dec_med)*trel;\\n\\nq5 = cos(trel_);\\nq6 = sin(trel_+0*q27*(q28%2));\\nq7 = -q6;\\nq8 = q5;\\n\\nzoom = 1.02;\\nrot = .5*sin(bnot(q28%2)*q28) ;\\nrot = .0*sin(time/3);\\ndx = .0;\\n\\nmonitor = q11;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, (uv - (\\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((mix (tmpvar_2, \\n    (1.0 - tmpvar_2.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , 18.0)));\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 ofs_2;\\n  vec3 ret1_3;\\n  uv_1 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q5;\\n  tmpvar_4.y = q6;\\n  uv_1 = (uv_1 + (tmpvar_4 / 4.0));\\n  mat2 tmpvar_5;\\n  tmpvar_5[uint(0)] = _qb.xy;\\n  tmpvar_5[1u] = _qb.zw;\\n  uv_1 = (uv_1 * tmpvar_5);\\n  float tmpvar_6;\\n  float tmpvar_7;\\n  tmpvar_7 = (min (abs(\\n    (uv_1.y / uv_1.x)\\n  ), 1.0) / max (abs(\\n    (uv_1.y / uv_1.x)\\n  ), 1.0));\\n  float tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 * tmpvar_7);\\n  tmpvar_8 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)\\n     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)\\n   * tmpvar_8) + 0.9999793) * tmpvar_7);\\n  tmpvar_8 = (tmpvar_8 + (float(\\n    (abs((uv_1.y / uv_1.x)) > 1.0)\\n  ) * (\\n    (tmpvar_8 * -2.0)\\n   + 1.570796)));\\n  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));\\n  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {\\n    if ((uv_1.x < 0.0)) {\\n      if ((uv_1.y >= 0.0)) {\\n        tmpvar_6 += 3.141593;\\n      } else {\\n        tmpvar_6 = (tmpvar_6 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_6 = (sign(uv_1.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = (((tmpvar_6 / 3.1416) * 6.0) * q28);\\n  xlat_mutablers0.y = inversesqrt(dot (uv_1, uv_1));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (xlat_mutablers0.x + (q9 * 8.0));\\n  tmpvar_9.y = (xlat_mutablers0.y + ((q9 * q28) * 4.0));\\n  xlat_mutablerss = (tmpvar_9 / 12.0);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q5;\\n  tmpvar_10.y = q6;\\n  ofs_2 = (0.1 * tmpvar_10.yx);\\n  float tmpvar_11;\\n  float tmpvar_12;\\n  tmpvar_12 = -(q9);\\n  tmpvar_11 = fract(tmpvar_12);\\n  mat2 tmpvar_13;\\n  tmpvar_13[uint(0)].x = 1.0;\\n  tmpvar_13[uint(0)].y = -0.0;\\n  tmpvar_13[1u].x = 0.0;\\n  tmpvar_13[1u].y = 1.0;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_11)\\n   * tmpvar_13)) * aspect.yx);\\n  vec2 tmpvar_14;\\n  tmpvar_14 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_14).xyz + ((texture (sampler_blur1, tmpvar_14).xyz * scale1) + bias1));\\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), ((xlat_mutableneu * \\n    (1.0 - (tmpvar_11 * tmpvar_11))\\n  ) * 2.0));\\n  float tmpvar_15;\\n  tmpvar_15 = fract((tmpvar_12 + 0.3333333));\\n  mat2 tmpvar_16;\\n  tmpvar_16[uint(0)].x = -0.4990803;\\n  tmpvar_16[uint(0)].y = -0.8665558;\\n  tmpvar_16[1u].x = 0.8665558;\\n  tmpvar_16[1u].y = -0.4990803;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_15)\\n   * tmpvar_16)) * aspect.yx);\\n  vec2 tmpvar_17;\\n  tmpvar_17 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_17).xyz + ((texture (sampler_blur1, tmpvar_17).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_15 * tmpvar_15))\\n  ) * 2.0));\\n  float tmpvar_18;\\n  tmpvar_18 = fract((tmpvar_12 + 0.6666667));\\n  mat2 tmpvar_19;\\n  tmpvar_19[uint(0)].x = -0.5018377;\\n  tmpvar_19[uint(0)].y = 0.8649619;\\n  tmpvar_19[1u].x = -0.8649619;\\n  tmpvar_19[1u].y = -0.5018377;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_18)\\n   * tmpvar_19)) * aspect.yx);\\n  vec2 tmpvar_20;\\n  tmpvar_20 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_20).xyz + ((texture (sampler_blur1, tmpvar_20).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_18 * tmpvar_18))\\n  ) * 2.0));\\n  float tmpvar_21;\\n  tmpvar_21 = fract((tmpvar_12 + 1.0));\\n  mat2 tmpvar_22;\\n  tmpvar_22[uint(0)].x = 0.9999949;\\n  tmpvar_22[uint(0)].y = 0.003185092;\\n  tmpvar_22[1u].x = -0.003185092;\\n  tmpvar_22[1u].y = 0.9999949;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_21)\\n   * tmpvar_22)) * aspect.yx);\\n  vec2 tmpvar_23;\\n  tmpvar_23 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_23).xyz + ((texture (sampler_blur1, tmpvar_23).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_21 * tmpvar_21))\\n  ) * 2.0));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = (ret1_3.x + ret1_3.z);\\n  tmpvar_24.y = (ret1_3.x - ret1_3.y);\\n  vec4 tmpvar_25;\\n  tmpvar_25.w = 1.0;\\n  tmpvar_25.xyz = ((ret1_3 + (\\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\\n   * roam_sin).xyz) + ((2.0 * \\n    (bass_att * ((texture (sampler_blur1, fract(\\n      (xlat_mutablerss + (tmpvar_24 / 2.0))\\n    )).xyz * scale1) + bias1).zxy)\\n  ) * clamp (\\n    (1.0 - (ret1_3 * 4.0))\\n  , 0.0, 1.0)));\\n  ret = tmpvar_25.xyz;\\n }"}')},"./presets/converted/Cope - The Neverending Explosion of Red Liquid Fire.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.14,"decay":1,"echo_zoom":1,"wave_mode":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.179,"wave_smoothing":0,"wave_mystery":0.3,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoomexp":0.8195,"zoom":1.0697,"dy":0.006,"warp":0.01,"sx":0.9996,"wave_g":0,"wave_b":0,"ob_a":0.8,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":63,"rad":0.01,"ang":3.4054,"tex_ang":3.1415,"tex_zoom":1.6446,"r":0,"a":0.4,"g2":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = rad + 0.1*q3;"},{"baseVals":{"sides":34,"textured":1,"rad":0.18167,"tex_ang":3.1415,"tex_zoom":5.42789,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":54,"x":0,"y":0.6,"rad":0.13478,"r":0.7,"g":0.6,"b":0.7,"r2":0.6,"g2":0.6,"b2":0.6,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//r = r + 0.3*(0.6*sin(time*1.87) + 0.4*sin(1.98*time));\\n//b = b + 0.3*(0.6*sin(time*1.3434) + 0.4*sin(1.78*time));\\n//g = g + 0.3*(0.6*sin(time*1.9887) + 0.4*sin(1.6*time));\\nr=0;\\nb=0;\\ng=0;\\nr2=r;\\nb2=b;\\ng2=g;"},{"baseVals":{"x":0,"y":0.2,"rad":0.20068,"r":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.3696,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"bass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.91+1.3);\\n\\nwave_r = 0.5 + 0.5*(0.6*sin(time*1.3) + 0.4*sin(0.98*time));\\nwave_b = 0.5 + 0.5*(0.6*sin(time*1.1) + 0.4*sin(0.78*time));\\nwave_g = 0.5 + 0.5*(0.6*sin(time*1.2) + 0.4*sin(0.6*time));\\n\\nq8=wave_r;\\nq7=wave_b;\\nq6=wave_g;\\n\\nwr = 0.5+0.4*(0.6*sin(time*0.2) + 0.4*sin(0.8*time));\\nwb = 0.5+0.4*(0.6*sin(time*0.377) + 0.4*sin(0.5*time));\\nwg = 0.5+0.4*(0.6*sin(time*0.7) + 0.4*sin(0.4*time));\\n\\nq10=wr;//*above(bass_thresh, 1.9)*1;\\nq11=wb;//*above(bass_thresh, 1.9)*1;\\nq12=wg;//*above(bass_thresh, 1.9)*1;\\n\\nq10=0.8;\\nq11=0.2;\\nq12=0.1;\\n\\n\\nq18 = 0.01*sin(mtime*0.1);\\nq17 = -0.01*sin(mtime*0.254);\\nq2=bass_thresh;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\nq3=vol;\\nq5=vol*0.5;\\nmtime=mtime+vol*0.01;\\nq2=mtime*0.25;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise2_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) + texture (sampler_main, uv).xyz);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (0.5 + ((uv - 0.5) * (1.0 + \\n    (tmpvar_3.y * 0.05)\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (tmpvar_4.x + pow (tmpvar_3.x, q17));\\n  tmpvar_5.y = (tmpvar_4.y + pow (tmpvar_3.x, q18));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_fc_main, fract(tmpvar_5));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = q10;\\n  tmpvar_7.y = q11;\\n  tmpvar_7.z = q12;\\n  noise2_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + ((tmpvar_7 * vec3(rad)) * vol));\\n  vec3 a_8;\\n  a_8 = (1.0 - tmpvar_6.xyz);\\n  ret_2 = (tmpvar_6.xyz + (0.3 * clamp (\\n    ((a_8.yzx * noise2_1.zxy) - (a_8.zxy * noise2_1.yzx))\\n  , 0.0, 1.0)));\\n  ret_2 = (ret_2 * 0.97);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ret_2;\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz * vec3(0.9, 0.3, 0.5));\\n  ret_1 = (ret_1 * 1.34);\\n  ret_1 = (ret_1 * ret_1);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/Eo.S. + Zylot - skylight (Stained Glass Majesty mix).json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"decay":0.95,"echo_zoom":1.006596,"echo_orient":1,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"wave_a":0.019788,"wave_scale":0.011726,"wave_smoothing":0.9,"warpanimspeed":0.010284,"warpscale":0.01,"fshader":1,"warp":0.01,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0,"ob_r":0.11,"ob_b":0.1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":31.999994,"mv_y":24.000004,"mv_dx":0.02,"mv_dy":-0.02,"mv_l":1,"mv_r":0.49,"mv_g":0.48,"mv_b":0.300001,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"rad":1.670888,"tex_ang":0.942478,"tex_zoom":0.534261,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0.17},"init_eqs_eel":"","frame_eqs_eel":"flux=q5*9;\\nfluxs=max(flux,0);\\nfluxs=min(fluxs,1);\\nadvflux=(q3*fluxs) + (-q3 * (1-fluxs));\\nadv=adv+advflux;\\nadvs=adv/256;\\n\\n\\nang=advs;\\nrad=1.671 + q3/25"},{"baseVals":{"sides":3,"x":0.35,"g":1,"b":1,"g2":0,"b2":0.1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"y=0.1 + q2*0.4;\\nrad=q2/2;\\nang=-q2*2"},{"baseVals":{"enabled":1,"sides":3,"x":0.59,"rad":0.444842,"r":0,"r2":0.1,"g2":0.05,"border_a":0},"init_eqs_eel":"dir = 3;\\nmover = 0;\\nrotator = .255","frame_eqs_eel":"ang = rotator;\\nx = if(equal(dir,1),1 - mover,if(equal(dir,1.5),.15,if(equal(dir,2),0,if(equal(dir,2.5),0, if(equal(dir,3),0+mover,if(equal(dir,3.5),1,if(equal(dir,4),1,1)))))));\\ny = if(equal(dir,1),1,if(equal(dir,1.5),1,if(equal(dir,2),1 - mover,if(equal(dir,2.5),0, if(equal(dir,3),0,if(equal(dir,3.5),0,if(equal(dir,4),0+mover,1)))))));\\nmover = if(equal(dir,1),mover + .005,if(equal(dir,1.5),0,if(equal(dir,2),mover + .005,if(equal(dir,2.5),0, if(equal(dir,3),mover+.005,if(equal(dir,3.5),0,if(equal(dir,4),mover+.005,0)))))));\\ndir = if(equal(dir,1),if(above(mover,.995),1.5,dir),if(equal(dir,1.5),if(below(rotator,-1.29),2,dir), if(equal(dir,2),if(above(mover,.995),2.5,dir),if(equal(dir,2.5),if(below(rotator,-2.85),3,dir), if(equal(dir,3),if(above(mover,.995),3.5,dir),if(equal(dir,3.5),if(below(rotator,-4.44),4,dir), if(equal(dir,4),if(above(mover,.995),4.5,dir),if(equal(dir,4.5),if(below(rotator,-5.94),1,dir),dir))))))));\\nrotator = if(equal(dir,1.5),if(above(rotator,-1.31),rotator - .05,rotator),if(equal(dir,2),-1.3, if(equal(dir,2.5),if(above(rotator,-2.87),rotator-.05,rotator),if(equal(dir,3),-2.86, if(equal(dir,3.5),if(above(rotator,-4.46),rotator-.05,rotator),if(equal(dir,4),-4.45, if(equal(dir,4.5),if(above(rotator,-5.97),rotator-.05,rotator),if(equal(dir,4),-5.96,.26))))))));\\n\\n//Ok, enough with the crazy ifs, we got our tram moving, now for some reaction.\\n\\nb = above(mid,1.5);\\nr2 = above(mid,1.5);\\ng2 = above(mid,1.5);\\nb2 = above(mid,1.5);"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"x":0.84,"r":0.98,"g":1,"b":0.98,"a":0.3,"g2":0.09,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=sin(time/2)*0.4 + 0.5;\\ny=sin(time)*0.4+0.5;\\nrad=(q1*q1)/2;;\\nang=q1*4;\\n\\nr=0.70 + (sin(time/2))*0.50;\\ng=0.70 + (sin(time/2 + 2)) * 0.50;\\nb=0.70 + (sin(time/2 + 4)) * 0.5"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0;\\nq1=0;q2=0;q3=0","frame_eqs_eel":"decay=1;\\nzoom=1.000;\\nspeed=0.80;\\nspeedinv=1-speed;\\nq1=(qa*speed + bass*speedinv);\\nq2=(qb*speed + mid *speedinv);\\nq3=(qc*speed + treb*speedinv);\\nqa=q1;\\nqb=q2;\\nqc=q3;\\nflux=sin(time/2);\\nq4=flux * 0.5 + 0.5;\\nq5=flux","pixel_eqs_eel":"","warp":"","comp":""}')},"./presets/converted/Eo.S. - glowsticks v2 05 and proton lights (+Krash′s beat code) _Phat_remix02b.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1.21,"decay":0.96,"echo_zoom":0.99663,"echo_orient":1,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"brighten":1,"invert":1,"wave_a":0.001,"wave_scale":0.011726,"wave_smoothing":0.9,"warpanimspeed":0.037492,"warpscale":0.014889,"warp":0.033004,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0.055,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":0,"mv_y":43.199997,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"textured":1,"rad":1.06779,"ang":0.753982,"tex_zoom":0.779769,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(q1*0.15);\\nx=sin(q1*0.5) * 0.05 + 0.5;\\ny=cos(q1*0.63)* 0.05 + 0.5"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"additive":1,"rad":0.038091,"g":1,"b":1,"g2":0.6,"b2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm=q1;\\n\\nxp=0;\\nyp=0.1;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n\\n"}],"waves":[{"baseVals":{"enabled":1,"r":0.1,"b":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"r":0.2,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"g":0.6,"b":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;\\n\\n\\nt8= int( sin(time*2)*2 + 3);","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8 + 1;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\n\\n\\na=a* above( sin(tm*128*t8) , 0 );\\n\\n\\nr=t4;\\ng=t5;\\nb=t6;\\n"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"g":0.3,"b":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;\\n\\n\\nt8= int( sin(time*2)*2 + 3);","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8+1;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\na=a* above( sin(tm*128*t8) , 0 );\\n\\n\\nr=t4;\\ng=t5;\\nb=t6;"}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0;\\nwarp=0","frame_eqs_eel":"//krash\'s beat detection code\\nvolume = 0.3*(bass+mid+att);\\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\\nlastbeat = lastbeat + equal(lastbeat,0)*time;\\nmeanbass_att = 0.1*(meanbass_att*9 + bass_att);\\npeakbass_att = max(bass_att,peakbass_att);\\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.95 + (1-above(time - lastbeat, 2*beatrate))*0.995);\\nlastbeat = beat*time + (1-beat)*lastbeat;\\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\\nbeatcounter = beatcounter + beat;\\nmode = if(beat*equal(beatcounter%2,0),1-mode,mode);\\nflip = 2*mode-1;\\nmonitor=flip;\\nq8=flip;\\n\\n\\ndecay=1;\\nzoom=1.002;\\n\\nvol=(bass_att+mid_att+treb_att)*0.25;\\nvol=vol*vol;\\nmtime=mtime+vol*0.1*flip*(55/fps);\\n\\nq1=mtime*0.4;\\n\\nwarp=0.0","pixel_eqs_eel":"//tm=time+(sin(time)*rad);\\nvar=tan(time)*treb*treb;\\n\\nzoom=1+(rad/40)+(var/40);\\n//rot=((rad/100)*var)*sin(time);","warp":"","comp":""}')},"./presets/converted/Flexi + Martin - astral projection.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.9,"echo_zoom":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":5.715,"wave_smoothing":0.9,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.162,"warpscale":5.582,"zoomexp":0.32104,"zoom":0.9901,"warp":0.11563,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"textured":1,"rad":0.05343,"tex_zoom":12.77228,"g":1,"b":1,"a":0,"r2":1,"b2":1,"a2":1,"border_g":0,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4 + asin(1)*2/3;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4 - asin(1)*2/3;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"scaling":2.44415,"smoothing":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 - 0.0005 - bass*0.003;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 +0.0001 + mid*0.001 - bass*0.0005 -treb*0.0005;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.0001+ treb*0.001 - bass*0.0005 - mid*0.0005;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = -z+0.7;"},{"baseVals":{"enabled":1,"thick":1,"scaling":2.44415,"smoothing":0,"a":0.05},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -(q4-q6)*10+sample*asin(1)*4.01;\\nc=9;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"enabled":1,"samples":49,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -1;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;"},{"baseVals":{"enabled":1,"samples":49,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = 1;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"zoom = 1.0;\\n\\nq1 = .1*(bass-treb);\\n\\nvvb = if(below(vvb,0),0,vvb);\\nvvm = if(below(vvm,0),0,vvm);\\nvvt = if(below(vvt,0),0,vvt);\\nvb = vb*0.85 + (1-vb)*pow(bass,2)*0.001;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.2;\\nvm = vm*0.85 + (1-vm)*pow(mid,2)*0.01;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.2;\\nvt = vt*0.85 + (1-vt)*pow(treb,2)*0.001;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.2;\\n\\nq1 = (vvb-vvt)*vvm;//0.5 + vb - vvb;\\nq2 = vvm;//0.5 + vm - vvm;\\nq3 = vvt;//0.5 + vt - vvt;\\n\\nv=0.2;\\nd = 0;//v*0.2;\\nbb = bb + vvb*v - d;\\nmm = mm + vvm*v - d;\\ntt = tt + vvt*v - d;\\nq4 = bb;\\nq5 = mm;\\nq6 = tt;\\n\\n\\nq4 = if(above(abs(q1),0.02),0.99,1);\\nq9 = 0.5 + 0.5*sin(time*0.14);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv) * q4).xyz;\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = 0.5;\\n  tmpvar_1.y = (1.0 - q9);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (uv_orig - tmpvar_1);\\n  float tmpvar_3;\\n  tmpvar_3 = (3.0 / tmpvar_2.y);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = ((tmpvar_2.x * tmpvar_3) * q9);\\n  tmpvar_4.y = (tmpvar_3 * q9);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, fract(((1.0 - \\n    abs(((fract(\\n      ((tmpvar_2 + vec2(0.5, 1.0)) * 0.5)\\n    ) * 2.0) - 1.0))\\n  ) - (\\n    ((texture (sampler_noise_hq, ((tmpvar_4 * 0.05) + (vec2(0.1, -0.05) * time))) - 0.5) * float(int((tmpvar_2.y > 0.0))))\\n  .xy * 0.025))));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (((tmpvar_5.xyz * tmpvar_5.xyz) * 1.4) - 0.04);\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Flexi + Martin - cascading decay swing.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0002*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\n\\nzoom = 1;\\nwarp = 0;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nmonitor = s;\\n\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\n\\ndir = -q6*1 + asin(1)*0;\\n\\nb1 = 0.1; // distance\\nm1 = q5*25;//-0.6 + q5*200; // size\\nt1 = 0.05; // velocity\\n\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.05;\\nv = -35*q5;\\ndx = v*sin(dir)*(r-d)*(1-sigmoid(d-r,200))*q2;\\ndy = v*cos(dir)*(r-d)*(1-sigmoid(d-r,200))*q1;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\\n    (uv - (((vec2(0.0, 32.0) * texsize.zw) * dot (\\n      (tmpvar_2.xyz - 0.35)\\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\\n  ) - 0.5) * 0.0038).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Flexi + amandio c - piercing 05 - Kopie (2) - Kopie.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.9,"echo_zoom":1.169,"echo_orient":1,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.9,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":2.853,"rot":0.006,"warp":0,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"mv_x":0,"mv_y":48,"mv_dx":-0.941,"mv_dy":0.426,"mv_l":5,"mv_r":0.316,"mv_g":0.078,"mv_b":0.942,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.78903,"ang":0.62832,"tex_zoom":1.02009,"r":0,"g":1,"b":1,"r2":0.7,"b2":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"c_x = 0.5;\\nc_y = 0.5;","frame_eqs_eel":"sx=1+.01*(8*bass%8)*equal(time%(int(24-2*bass)),0);\\nsy=1+.01*(8*mid%8) *equal(time%(12+int(24-2*bass)),0);\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nrot = 0;\\nzoom = 1;\\nwarp = 0;\\n\\n\\nvol = bass*8 + mid*4 + treb*2;\\nvol = vol*above(vol,17);\\nmonitor = vol;\\nbeat = above(vol,res);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol+2*diff) + (1-beat)*(res - (diff*0.04 + 0.12)*60/fps);\\nres = max(0,res);\\nmonitor = res;\\n\\nr = if(beat, 0.01*(rand(200)-100)*0.01,r);\\nrot = r;\\n\\nc_x = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_x);\\nc_y = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_y);\\n\\n\\nq23 = c_x;\\nq24 = c_y;\\n\\n// elastic thread code by Flexi\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1*1.5;\\ndt = 0.03/fps;\\nvx2 = vx2*(1-2*dt) + dt*((x1+x3-2*x2)*10);\\nvy2 = vy2*(1-2*dt) + dt*((y1+y3-2*y2)*10-0.5);\\nvx3 = vx3*(1-2*dt) + dt*((x2+x4-2*x3)*10);\\nvy3 = vy3*(1-2*dt) + dt*((y2+y4-2*y3)*10-0.5);\\nvx4 = vx4*(1-2*dt) + dt*((x3-x4)*10);\\nvy4 = vy4*(1-2*dt) + dt*((y3-y4)*10-0.5);\\nx2 = x2 + vx2; y2 = y2 + vy2;\\nx3 = x3 + vx3; y3 = y3 + vy3;\\nx4 = x4 + vx4; y4 = y4 + vy4;\\nvx2 = if(above(x2,0),vx2,abs(vx2)*0.5);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*0.5);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*0.5);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*0.5);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*0.5);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*0.5);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*0.5);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*0.5);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*0.5);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*0.5);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*0.5);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*0.5);\\nq1 = x1;q2 = x2;q3 = x3;q4 = x4;\\nq5 = y1;q6 = y2;q7 = y3;q8 = y4;\\nq9 = 1/aspectx;\\nq10 = 1/aspecty;\\nq11 = aspectx;\\nq12 = aspecty;\\nq13 = sqrt(vx4*vx4 + vy4*vy4)*0.8;\\nq14 = atan2(vx4,vy4);","pixel_eqs_eel":"d = (pow(sqrt(sqr(x-q3)+sqr(y-q4)),2)-0);\\nv = 0.03;\\ndx = v*(x-q23)*d;\\ndy = v*(y-q24)*d;\\n\\n\\nx = 0.5 + (x-0.5)*q11;\\ny = 0.5 + (y-0.5)*q12;\\ndir = -q14*1 + asin(1)*1;\\n\\nvelocity = q13;\\nstrength = 100;\\nsize = 0.07;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx   +cos(dir+1.5708)*size;\\ny1 = yy -sin(dir+1.5708)*size;\\n\\nx2 = xx   -cos(dir+1.5708)*size;\\ny2 = yy +sin(dir+1.5708)*size;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-size*2;\\nsi1 = 1- 1/(1+pow(2,-d1*100));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-size*2;\\nsi2 = 1- 1/(1+pow(2,-d2*100));\\n\\ndx += (si1*sin(y1-y)*d1  - si2*sin(y2-y)*d2)*strength*velocity;\\ndy += (-si1*sin(x1-x)*d1 + si2*sin(x2-x)*d2)*strength*velocity;","warp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5);\\n  xlat_mutabled = (texsize.zw * 4.0);\\n  xlat_mutabledx = (((texture (sampler_blur1, \\n    (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1));\\n  xlat_mutabledy = (((texture (sampler_blur1, \\n    (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1));\\n  xlat_mutabled = uv;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = xlat_mutabledx.y;\\n  tmpvar_3.y = xlat_mutabledy.y;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv_orig);\\n  ret_1.y = ((texture (sampler_main, (uv - \\n    ((tmpvar_3 * texsize.zw) * 6.0)\\n  )).y - 0.008) + ((1.0 - tmpvar_5.x) * 0.018));\\n  ret_1.z = ((texture (sampler_main, (uv - \\n    ((tmpvar_4 * texsize.zw) * 6.0)\\n  )).z - 0.008) + (tmpvar_5.x * 0.018));\\n  ret_1.x = texture (sampler_fc_main, (uv + ((tmpvar_2.xy * texsize.zw) * 0.5))).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, uv).xyz * scale3) + bias3).x)\\n   * 0.15) + (tmpvar_2 * 0.0042)).x);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q3;\\n  tmpvar_1.y = q4;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q6;\\n  tmpvar_2.y = q7;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q9;\\n  tmpvar_3.y = q10;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q12;\\n  tmpvar_4.y = q13;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 1.25);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_9;\\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - tmpvar_1);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_11;\\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - tmpvar_2);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_13;\\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - tmpvar_3);\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_15;\\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - tmpvar_4);\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = mix (texture (sampler_main, uv).xyz, max (max (\\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_9, x_9)\\n    ), 0.2))) * vec3(2.0, 1.0, -1.0))\\n  , \\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_11, x_11)\\n    ), 0.2))) * vec3(2.0, -1.0, 1.0))\\n  ), max (\\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_13, x_13)\\n    ), 0.2))) * vec3(-1.0, 1.0, 2.0))\\n  , \\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_15, x_15)\\n    ), 0.2))) * vec3(1.0, -1.0, 2.0))\\n  )), vec3(0.5, 0.5, 0.5));\\n  ret = tmpvar_16.xyz;\\n }"}')},"./presets/converted/Flexi + stahlregen - jelly showoff parade.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"modwavealphabyvolume":1,"wave_a":0.207,"wave_scale":0.397,"wave_smoothing":0,"wave_mystery":0.24,"modwavealphaend":1.17,"warpscale":16.016,"zoomexp":11.56276,"zoom":1.05971,"warp":0.13126,"ob_size":0.005,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"decay = 1;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*1.5;\\ny1 = 0.5 + yy1;\\n\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 18;\\ngrav = 1;\\nresist = 5;\\nbounce = 0.9;\\ndt = 0.0003;\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"r = 0.2;\\ncx1 = q4;\\ncy1 = q5;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(r*r-d*d)*q3;\\nx1 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny1 = if( above(d,r),0, -sin(x-cx1)*dir);\\nv = 1;\\ndx = (x1)*v;\\ndy = (y1)*v;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.5 + ((uv - 0.5) * 1.002));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 8.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = fract(((0.5 + \\n    (uv_1 - 0.5)\\n  ) - (tmpvar_6 * texsize.zw)));\\n  ret_2.x = texture (sampler_main, tmpvar_7).x;\\n  ret_2.x = (ret_2.x + ((\\n    (ret_2.x - ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.x;\\n  tmpvar_8.y = -(tmpvar_4.x);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_4.z;\\n  tmpvar_9.y = tmpvar_5.z;\\n  ret_2.z = max ((clamp (\\n    (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1).x - 0.3)\\n  , 0.0, 1.0) * 2.0), (texture (sampler_fc_main, (\\n    (uv_1 - ((tmpvar_8 * texsize.zw) * 8.0))\\n   + \\n    ((tmpvar_9 * texsize.zw) * 4.0)\\n  )).z - 0.008));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.y;\\n  tmpvar_10.y = tmpvar_5.y;\\n  ret_2.y = max (ret_2.x, (texture (sampler_fc_main, (uv_1 + \\n    (tmpvar_10 * texsize.zw)\\n  )).y - 0.016));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 6.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\\n  tmpvar_5.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - (0.25 * tmpvar_5));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\\n  tmpvar_7.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + (0.25 * tmpvar_7));\\n  ret_1 = ((0.8 * (\\n    (texture (sampler_blur3, tmpvar_6).xyz * scale3)\\n   + bias3)) - ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1));\\n  ret_1 = (ret_1 + (0.6 * (\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1)));\\n  ret_1 = (ret_1 - ((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur1, tmpvar_8).xyz * scale1)\\n   + bias1)));\\n  ret_1 = (ret_1 + ((1.2 * texture (sampler_main, tmpvar_8).xyz) + (0.15 * \\n    ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1)\\n  )));\\n  ret_1 = (ret_1 + 1.0);\\n  float tmpvar_9;\\n  tmpvar_9 = dot (ret_1, vec3(0.32, 0.49, 0.29));\\n  ret_1 = (mix (vec3(tmpvar_9), (\\n    (0.75 * vec3(tmpvar_9))\\n   * \\n    dot ((((0.6 * \\n      ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\\n    ) - (0.7 * texture (sampler_main, uv).xyz)) - (0.3 * (\\n      (texture (sampler_blur1, tmpvar_8).xyz * scale1)\\n     + bias1))), vec3(0.32, 0.49, 0.29))\\n  ), pow (hue_shader, vec3(tmpvar_9))) * 0.9);\\n  ret_1 = (ret_1 * ret_1);\\n  vec3 tmpvar_10;\\n  tmpvar_10 = sqrt(ret_1);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = tmpvar_10;\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/Flexi - alien fish pond.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"wave_thick":1,"wrap":0,"wave_a":0.004,"wave_scale":9.731,"wave_smoothing":0,"wave_mystery":1,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.442,"warpscale":7.315,"zoomexp":1.50374,"warp":0.08563,"wave_y":0.04,"ob_size":0,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":0,"ib_b":0.75,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":41,"additive":1,"num_inst":50,"rad":0.01,"ang":3.20442,"tex_zoom":6.23873,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"index = instance*q32;\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\n\\nang = gmegabuf(index+9);\\nrad = gmegabuf(index+4)*2;\\n\\nr = gmegabuf(index+5);\\ng = gmegabuf(index+6);\\nb = gmegabuf(index+7);\\n\\nr2 = r; g2 = g; b2 = b;\\n\\n\\nx = 0.5 + (x-0.5)/q2;"},{"baseVals":{"sides":23,"additive":1,"num_inst":50,"x":0.74,"y":0.27,"rad":0.01,"tex_zoom":0.81948,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"sample = instance/(num_inst-1);\\n\\nx1 = 0.5;\\ny1 = 0.5 + (q3-0.5)*0.01;\\ny2 = 0.5;\\nx = x1 + (sample-0.5)*0.2;\\ny = y2*sample + y1*(1-sample);"},{"baseVals":{"sides":100,"additive":1,"rad":0.0999,"tex_zoom":0.73458,"r":0,"g":1,"a":0,"border_a":1,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":3,"additive":1,"num_inst":400,"rad":0.16283,"tex_zoom":0.73458,"g":1,"b":1,"a":0.5,"g2":0,"border_a":0},"init_eqs_eel":"i3 = 0;\\ni4 = 0;","frame_eqs_eel":"i3 = if(equal(instance,0),0,i3);\\ni4 = if(equal(instance,0),0,i4);\\nppo = 8;\\nindex = i4*q32;\\nsample = i3 % ppo;\\n\\nsize = gmegabuf(index+4)*40;\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\n\\nang = gmegabuf(index+9);\\nrad = size*0.05;\\n\\nr = gmegabuf(index+5);\\ng = gmegabuf(index+6);\\nb = gmegabuf(index+7);\\n\\n\\nsample = sample/ppo;\\nbending = gmegabuf(index + 12)*5 + gmegabuf(index + 10)*5;\\ndir = -ang + (sample-0.4)*bending;\\n\\n ang =  asin(1)*1.5 - dir + bending*0.05;\\n\\nx = x + ((sample-0.3)*0.06*cos(dir)*size + sin(dir)*size*bending*0.01);\\ny = y + ((sample-0.3)*0.06*sin(dir)*size - cos(dir)*size*bending*0.01);\\n\\nx = 0.5 + (x-0.5)/q2;\\n\\nrad = rad*1.5 - sample*0.05*size;\\n\\ni3 = i3 + 1;\\ni4 = if( equal(i3%ppo,0), i4 +1, i4);"}],"waves":[{"baseVals":{"samples":452,"additive":1,"scaling":2.44415,"smoothing":0,"a":0.15,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nt2 = 0;","point_eqs_eel":"ppo = 9;\\nindex = t2*q32;\\nsample = t1 % ppo;\\n\\nnindex = gmegabuf(index + q30); // the next neighbor\'s index\\nnnindex = gmegabuf(index + q30+1); // the next neighbor\'s index\\nnnnindex = gmegabuf(index + q30+2); // the next neighbor\'s index\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\nr = 0.5 + gmegabuf(index+5)*0.5;\\ng = 0.5 + gmegabuf(index+6)*0.5;\\nb = 0.5 + gmegabuf(index+7)*0.5;\\n\\nnx = gmegabuf(nindex);\\nny = gmegabuf(nindex+1);\\nnnx = gmegabuf(nnindex);\\nnny = gmegabuf(nnindex+1);\\nnnnx = gmegabuf(nnnindex);\\nnnny = gmegabuf(nnnindex+1);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q2;\\nnx = 0.5 + (nx-0.5)/q2;\\nny = 0.5 + (ny-0.5)/q2;\\nnnx = 0.5 + (nnx-0.5)/q2;\\nnny = 0.5 + (nny-0.5)/q2;\\nnnnx = 0.5 + (nnnx-0.5)/q2;\\nnnny = 0.5 + (nnny-0.5)/q2;\\n\\nx = if( equal(sample,2), nx, x);\\ny = if( equal(sample,2), ny, y);\\nx = if( equal(sample,4), nnx, x);\\ny = if( equal(sample,4), nny, y);\\nx = if( equal(sample,6), nnnx, x);\\ny = if( equal(sample,6), nnny, y);\\n\\na = above(sample,1)*below(sample,ppo-1)*a;\\n\\nt1 = t1 + 1;\\nt2 = if( equal(t1%ppo,0), t2 +1, t2);"},{"baseVals":{"enabled":1,"samples":65,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":0.33408,"smoothing":0,"a":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;\\n\\nt1 = 0.5;\\nt2 = 0.9;","point_eqs_eel":"d = 0;//d*0.85 + (value1)*1;\\n\\ny = 0.2 + value1+value2;\\nx = 0.9 - sample*0.8;\\n\\ngmegabuf((sample*64-1)*q32 + 14) = value1 + value2;"},{"baseVals":{"samples":280,"additive":1,"scaling":5.92556,"smoothing":0,"a":0.5,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = 0;\\nt2 = 0;\\n\\n","point_eqs_eel":"// q32 number of attributes\\n// q31 number of objects\\n\\nppo = 7; // number of points used for each object\\nindex = t2*q32; // object\'s index\\n\\nx = 0.5 +(gmegabuf(index)-0.5)/q2;\\ny = 0.5 + (gmegabuf(index+1)-0.5)/q2;\\n\\n// collecting pairs of index and distance to the current object in a local buffer\\ni = 0;\\nj = 0;\\nloop(q31,\\n     d = sqrt( sqr(gmegabuf(index)-gmegabuf(i)) + sqr(gmegabuf(index+1)-gmegabuf(i+1)));\\n     d = if( equal(d,0), 1, d);\\n     megabuf(j)   = i; // store index/distance pairs\\n     megabuf(j+1) = d;\\n     j = j+2;\\n     i = i+q32;\\n    );\\n\\n// sort that buffer, but only 5 cycles for the 5 nearest objects\\ni = 0;\\nloop( 5,\\n      j = i;\\n      smallestfind = 100;\\n      findindex = 0;\\n      loop( q31-j,\\n            distance =megabuf(j*2+1);\\n            smaller = above( smallestfind, distance);\\n            smallestfind = if(smaller, distance, smallestfind);\\n            findindex = if( smaller, j*2, findindex);\\n            j = j + 1;\\n          );\\n\\n      // now that the nearest object was found, swap it to the buffer\'s top\\n\\n      j = megabuf(i);\\n      d = megabuf(i+1);\\n\\n      megabuf(i)   = megabuf(findindex);\\n      megabuf(i+1) = megabuf(findindex+1);\\n      megabuf(findindex)   = j;\\n      megabuf(findindex+1) = d;\\n\\n      i = i+1;\\n    );\\n\\n\\nindex2 = (t1)%ppo;\\ni = megabuf(index2-2);\\nxx = 0.5 + (gmegabuf(i)-0.5)/q2;\\nyy = 0.5 + (gmegabuf(i+1)-0.5)/q2;\\nw = asin(1)*index2/4;\\n//xx = x + sin(w)*0.1;\\n//yy = y + cos(w)*0.1;\\nx = if( equal(index2%2,0), x, xx);\\ny = if( equal(index2%2,0), y, yy);\\n\\n\\na = below(index2,ppo-1)*above(index2,1)*a;\\nr = 0.5 + gmegabuf(index + 5)*0.5;\\ng = 0.5 + gmegabuf(index + 6)*0.5;\\nb = 0.5 + gmegabuf(index + 7)*0.5;\\n\\n\\nt2 = t2 + equal(t1%ppo,ppo-1);\\nt1 = t1 + 1;\\n\\n//a = above(t1,128);"},{"baseVals":{"samples":15,"thick":1,"additive":1,"scaling":5.92556,"smoothing":0,"a":0.4,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = 0;\\nt2 = 0;\\nt3 = 0;\\nt4 = 0.5;","point_eqs_eel":"ppo = 5;\\n\\nindex = t2*q32;\\nneighbor = 1;\\nneighbor = gmegabuf(index+10+neighbor);\\nx = 0.5 + (gmegabuf(index)-0.5)/q2;\\ny = 0.5 + (gmegabuf(index+1)-0.5)/q2;\\nxx = 0.5 + ( gmegabuf(neighbor) - 0.5)/q2;\\nyy = 0.5 + ( gmegabuf(neighbor+1) - 0.5)/q2;\\n\\nx = if( equal(t1 % 2, 0), x, xx);\\ny = if( equal(t1 % 2, 0), y, yx);\\n\\n\\nt2 = t2 + equal(t1,ppo);\\nt1 = if(above(t1,ppo),t1-ppo,t1) + 1;\\n"}],"init_eqs_eel":"// clear buffer\\ni = 0; loop(1024*1024, gmegabuf(i) = 0; i = i+1;);\\n\\ncount = 50;\\nattributes = 32;\\nnListStart = 24; // starting index of neighbor list\\n\\nminradius = 0.004;\\nmaxradius = 0.04;\\nv = 0.0;\\n\\n// randomize initial coordinates\\nindex = 0;\\nloop(count,\\n     gmegabuf(index*attributes) = rand(1000)/1000;\\n     gmegabuf(index*attributes+1) = rand(1000)/1000;\\n     gmegabuf(index*attributes+2) = v*(rand(1000)/1000-0.5);\\n     gmegabuf(index*attributes+3) = v*(rand(1000)/1000-0.5);\\n     gmegabuf(index*attributes+4) = minradius + (maxradius-minradius)*(index+1)/count;\\n     gmegabuf(index*attributes+5) = 0;\\n     gmegabuf(index*attributes+6) = 1;\\n     gmegabuf(index*attributes+7) = 1;\\n     gmegabuf(index*attributes+8) = pow(gmegabuf(index*attributes+4),3) ;\\n     gmegabuf(index*attributes+9) = 4*asin(1)*rand(1000)/1000;\\n     gmegabuf(index*attributes+10) = 0;\\n     gmegabuf(index*attributes+13) = index/(count-1);\\n     gmegabuf(index*attributes+14) = 0;\\n     index = index+1;\\n    );\\n\\nq30 = nListStart;\\nq31 = count;\\nq32 = attributes;\\n\\n// 0, x\\n// 1, y\\n// 2, vx\\n// 3, vy\\n// 4, radius\\n// 5, red\\n// 6, green\\n// 7, blue\\n// 8, mass\\n// 9, angle\\n// 10, rotation\\n// 11, bend force\\n// 12, bending\\n// 13, sample\\n// 14, spectrum","frame_eqs_eel":"dt = 1/fps;\\n\\nwarp = 0;\\nzoom = 1;\\nwave_a = 0;\\n\\ngravity = 0.0015*dt*0;\\ndampening = 0;\\nfriction = 2048*dt;\\nshock = 0.002;\\npi2 = asin(1);\\n\\nnn = 3; // number of nearest neighbors to search, reduce if not needed\\n        // provide enough attributes, otherwise the next object\'s coordinate will be overwritten\\n        // collision detection is based on nearest neighbors, so keep it at least at 1.\\n\\ncheck = 2; // how many neighbors will be checked for a possible collision. may not be above nn.\\n           // raise to avoid odd behavior in clusters of touching objects.\\n\\nbouncefactor = 0.1;\\nrotatefactor = 0; // relation between angular and translative momentum, when object hits a border. this is an empirical value for a convincing impression\\n\\n\\n\\nh = (aspecty-1)*0.5; w = (aspectx-1)*0.5;\\nindex = 0; index2 = 0;\\nloop(count,\\n\\n     random = rand(1000)/1000;\\n     sample = gmegabuf(index+13);\\n\\n     // bend force\\n     gmegabuf(index + 11) = gmegabuf(index + 11)*0.92 - 4*gmegabuf(index+12)*dt + 2*(random-0.5)*dt*gmegabuf(index+14);\\n\\n     // bend\\n     gmegabuf(index + 12) += 60*gmegabuf(index + 11)*dt;\\n\\n     v = sqrt( sqr( gmegabuf(index + 2) ) + sqr( gmegabuf(index + 3) ) );\\n\\n     // apply friction\\n     fric = max(0,1 - sqr(v*friction) - v*2);\\n     gmegabuf(index + 2) *= fric;\\n     gmegabuf(index + 3) *= fric;\\n\\n     // apply direction change\\n     gmegabuf(index + 10) = gmegabuf(index + 10)*fric +  v*gmegabuf(index +12)*0;\\n\\n     // apply acceleration force\\n     acceleration = random*0.000 + abs(gmegabuf(index+11))*0.003;\\n     direction = gmegabuf(index + 9) - pi2;\\n     gmegabuf(index + 2) += sin(direction)*acceleration;\\n     gmegabuf(index + 3) += cos(direction)*acceleration;\\n\\n     // adding velocity vectors\\n     gmegabuf(index) = gmegabuf(index) + gmegabuf(index+2)*60*dt;\\n     gmegabuf(index+1) = gmegabuf(index+1) + gmegabuf(index+3)*60*dt;\\n     gmegabuf(index+9) = gmegabuf(index+9) + gmegabuf(index+10)*0.5;\\n\\n     // applying gravity\\n     gmegabuf(index+3) = gmegabuf(index+3) - gravity;\\n\\n     vr = sin(gmegabuf(index+10))*gmegabuf(index+4); // rotation speed at the surface\\n\\n     // bounce off ceiling\\n     bounce = above( gmegabuf(index+1), 1 - gmegabuf(index+4) + w);\\n     gmegabuf(index+2) = if( bounce, gmegabuf(index+2) + (vr+gmegabuf(index+2))*rotatefactor, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, -abs(gmegabuf(index+3))*dampening - shock, gmegabuf(index+3));\\n     vr = if( bounce, vr - (gmegabuf(index+2) + vr)*(1-rotatefactor), vr);\\n\\n     // bounce off floor\\n     bounce = below( gmegabuf(index+1), gmegabuf(index+4) - w);\\n     gmegabuf(index+2) = if( bounce, gmegabuf(index+2) + (vr-gmegabuf(index+2))*rotatefactor, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, abs(gmegabuf(index+3))*dampening + shock, gmegabuf(index+3));\\n     vr = if( bounce, vr + (gmegabuf(index+2) - vr)*(1-rotatefactor), vr);\\n\\n     // bounce off right border\\n     bounce = above( gmegabuf(index), 1 - gmegabuf(index+4) + h);\\n     gmegabuf(index+2) = if( bounce, -abs(gmegabuf(index+2))*dampening - shock, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, gmegabuf(index+3) + (vr-gmegabuf(index+3))*rotatefactor, gmegabuf(index+3));\\n     vr = if( bounce, vr + (gmegabuf(index+3) - vr)*(1-rotatefactor), vr);\\n\\n     // bounce off left border\\n     bounce = below( gmegabuf(index), gmegabuf(index+4) - h);\\n     gmegabuf(index+2) = if( bounce, abs(gmegabuf(index+2))*dampening + shock, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, gmegabuf(index+3) - (vr+gmegabuf(index+3))*rotatefactor, gmegabuf(index+3));\\n     vr = if( bounce, vr - (gmegabuf(index+3) + vr)*(1-rotatefactor), vr);\\n\\n     gmegabuf(index+10) = asin(vr/gmegabuf(index+4));\\n\\n     i = 0; j = 0; // collecting pairs of index and distance to the current object in a local buffer\\n     loop( count,\\n           d = sqrt( sqr(gmegabuf(index)-gmegabuf(i)) + sqr(gmegabuf(index+1)-gmegabuf(i+1)));\\n           d = if( equal(d,0), 10, d); // leave out comparison with itself (where d == 0, set d to a high value)\\n           d = d - (gmegabuf(index+4)+gmegabuf(i+4))*0.5; // subtract radius (surface to surface distance)\\n           megabuf(j)   = i; // store index/distance pairs\\n           megabuf(j+1) = d;\\n           j = j+2;\\n           i = i+attributes; );\\n     i = 0; // sort that buffer, but only as many cycles as needed for the _nn_ nearest neighbors\\n     loop( nn,\\n           j = i; smallestfind = 10; findindex = -1;\\n           loop( count-j,\\n                 distance =megabuf(j*2+1);\\n                 smaller = above( smallestfind, distance);\\n                 smallestfind = if(smaller, distance, smallestfind);\\n                 findindex = if( smaller, j*2, findindex);\\n                 j = j + 1; );\\n           j = megabuf(i*2); d = megabuf(i*2+1);\\n           megabuf(i*2)   = megabuf(findindex);\\n           megabuf(i*2+1) = megabuf(findindex+1);\\n           megabuf(findindex)   = j;\\n           megabuf(findindex+1) = d;\\n           i = i+1;\\n         );\\n     i = 0; // storing the indexes of the nearest neighbors in the list\\n     loop( nn,\\n           gmegabuf(index + nListStart + i) = megabuf(i*2);\\n           i = i +1;\\n         );\\n     i = 0; // collision detection and impulse transmission below\\n     loop( check,\\n           index2 = megabuf(i);\\n           hit = below( sqrt( sqr( gmegabuf(index) - gmegabuf(index2)) +\\n                              sqr( gmegabuf(index+1) - gmegabuf(index2+1))),\\n                        gmegabuf(index + 4) + gmegabuf(index2 + 4)\\n                      )\\n                 *\\n                 above( sqrt( sqr( gmegabuf(index)   - gmegabuf(index2))+\\n                        sqr( gmegabuf(index+1) - gmegabuf(index2+1))),\\n                        sqrt( sqr( gmegabuf(index+0) - gmegabuf(index2+0)+\\n                                   gmegabuf(index+2) - gmegabuf(index2+2))+\\n                              sqr( gmegabuf(index+1) - gmegabuf(index2+1)+\\n                                   gmegabuf(index+3) - gmegabuf(index2+3)) ) );\\n           ref_ang = atan2( gmegabuf(index2)-gmegabuf(index), // calculating the angle of the common tangent\\n                            gmegabuf(index2 + 1)-gmegabuf(index + 1)) + pi2;\\n           v1 = sqrt(sqr( gmegabuf(index + 2)) + sqr( gmegabuf(index + 3))); // velocity of object1\\n           v2 = sqrt(sqr( gmegabuf(index2 + 2)) + sqr( gmegabuf(index2 + 3)));  // velocity of object2\\n           w1 = atan2( gmegabuf(index + 2), gmegabuf(index + 3));   // object1 motion angle\\n           w2 = atan2( gmegabuf(index2 + 2), gmegabuf(index2 + 3)); // object2 motion angle\\n           vr2 = sin(gmegabuf(index2 + 10))*gmegabuf(index2+4); // the other object\'s surface velocity\\n           m1 = gmegabuf(index + 8); m2 = gmegabuf(index2 + 8);\\n           vv1 = ((m1-m2)*v1 + 2*m2*v2)/(m1+m2); vv2 = ((m2-m1)*v2 + 2*m1*v1)/(m1+m2);\\n           vrr = ((m1-m2)*vr + 2*m2*vr2)/(m1+m2); vrr2 = ((m2-m1)*vr2 + 2*m1*vr)/(m1+m2);\\n\\n           gmegabuf( index + 2) = if( hit, sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-vr2)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n                                         + cos(ref_ang)*vv1*sin(w2-ref_ang),\\n                                                  gmegabuf( index + 2) );\\n\\n           gmegabuf( index + 3) = if( hit, cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-vr2)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n                                         - sin(ref_ang)*vv1*sin(w2-ref_ang),\\n                                                 gmegabuf( index + 3) );\\n\\n           gmegabuf( index2 + 2) = if( hit, sin(ref_ang)*v2*cos(w2-ref_ang) + ((vr2-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n                                          + cos(ref_ang)*vv2*sin(w1-ref_ang),\\n                                                  gmegabuf( index2 + 2) );\\n\\n           gmegabuf( index2 + 3) = if( hit, cos(ref_ang)*v2*cos(w2-ref_ang) + ((vr2-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n                                          - sin(ref_ang)*vv2*sin(w1-ref_ang),\\n                                                  gmegabuf( index2 + 3) );\\n\\n           vr = if( hit, vr + (cos(w1-ref_ang)*(v1-v2)-vr) , vr);\\n           gmegabuf( index + 10) = asin( vr / gmegabuf(index+4) );\\n\\n           vr2 = if( hit, vr2 + (cos(w2-ref_ang)*(v2-v1)-vr2) , vr2);\\n           gmegabuf( index2 + 10) = asin( vr2 / gmegabuf(index2+4) );\\n\\n           i=i+2;\\n         );\\n     index = index+attributes;\\n    );\\n\\n\\nq1 = aspectx;\\nq2 = aspecty;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_4.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\\n    (tmpvar_4 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_1.y = (ret_1.y + ((\\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.014));\\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  tmpvar_5.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  ret_1.x = ((texture (sampler_main, (uv - \\n    ((tmpvar_5 * texsize.zw) * 4.0)\\n  )).x - (ret_1.y * 0.01)) + 0.004);\\n  ret_1.x = (ret_1.x + ((\\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\\n   * 0.01) + (ret_1.z * 0.14)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  )) * 0.5).y;\\n  tmpvar_3.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  )) * 0.5).y;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 128.0));\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_4).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_5.y), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (mix (ret_1, \\n    (pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0)) * 1.4)\\n  , vec3(\\n    ((texture (sampler_main, tmpvar_4).x * 0.8) + ((texture (sampler_blur1, tmpvar_4).xyz * scale1) + bias1).x)\\n  )), vec3(1.0, 1.0, 1.0), (\\n    (pow (hue_shader, vec3(8.0, 8.0, 8.0)) * texture (sampler_main, clamp (uv, 0.0, 1.0)).y)\\n   * 1.2)) * clamp ((1.0 - tmpvar_5.z), 0.0, 1.0));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Flexi - area 51.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"wave_thick":1,"modwavealphabyvolume":1,"wave_a":0.9,"wave_scale":2.997,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.274,"warpscale":7.98,"zoom":0.99951,"warp":0.20929,"wave_r":0.02,"wave_g":0.02,"wave_b":0,"ob_size":0.5,"ob_r":1,"ob_g":0.12,"ob_b":1,"ob_a":0.37,"ib_size":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":5,"mv_a":0,"b1ed":0.2},"shapes":[{"baseVals":{"sides":99,"textured":1,"x":1,"y":0.63,"rad":1.3,"tex_zoom":0.763,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"y":0.55,"rad":0.225,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"x":0.85,"y":0,"rad":1.3,"tex_zoom":2.068,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":0.97,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":3,"textured":1,"x":0.02,"rad":0.733,"ang":1.319,"tex_zoom":100,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":0.97,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":60,"scaling":0.08,"smoothing":0.4,"r":0,"g":0,"b":0,"a":0.97,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":20,"scaling":0.07,"smoothing":0.65,"r":0.3,"g":0.3,"b":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":30,"scaling":0.07,"r":0.3,"g":0.3,"b":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":60,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 0;\\ny1= .001;\\nz1 = 0;","frame_eqs_eel":"zoom = 1;\\nwave_a = 0;\\n\\nstartx = 0.3;\\nstarty = 0.3;\\n\\na = 0.55;\\nb = 0.05;\\nd = 0.09;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq5 = a;\\nq6 = b;\\nq7 = d;\\n\\n\\n// coloring borders\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nh1 = (bb-mn)/(mx-mn);\\nh2 = (mm-mn)/(mx-mn);\\nh3 = (tt-mn)/(mx-mn);\\n\\nv = 0.1333/fps;\\nbm = bm + (h1-h2)*v;\\nmt = mt + (h2-h3)*v;\\nbt = bt + (h1-h3)*v;\\n\\nw = bm*2;\\nq3 = sin(w);\\nq4 = cos(w);\\n\\n\\nq10 = bm;\\nq11 = mt;\\nq12 = bt;","pixel_eqs_eel":"x = 0.5 + (x-0.51)*q1;\\ny = 0.5 - (y-0.5)*q2;\\ndx = (x*(1-x)-q5*x*y/(x+q6));\\ndy = -q7*y*(1-y/x);\\n\\ndx = -dx*0.02/q1;\\ndy = -dy*0.02/q2;","warp":" shader_body { \\n  vec2 my_uv2_1;\\n  vec2 dz_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = ((2.0 * (\\n    (texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = ((2.0 * (\\n    (texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_5.x;\\n  tmpvar_7.y = tmpvar_6.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 * texsize.zw);\\n  ret_3.x = (texture (sampler_fw_main, (uv - tmpvar_8)).x - ((\\n    (texture (sampler_blur3, uv).xyz * scale3)\\n   + bias3).x - (\\n    (texture (sampler_blur1, (uv + tmpvar_8)).xyz * scale1)\\n   + bias1).x));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  dz_2 = (-(tmpvar_9) * texsize.zw);\\n  ret_3.y = ((texture (sampler_fw_main, (uv - dz_2)).y - 0.06) - ((\\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  .y - \\n    ((texture (sampler_blur1, (uv + dz_2)).xyz * scale1) + bias1)\\n  .y) * 1.3));\\n  vec2 tmpvar_10;\\n  tmpvar_10 = ((uv_orig - 0.5) * (1.8 - (\\n    (bass_att - treb_att)\\n   * 0.015)));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = ((tmpvar_10.x * tmpvar_10.x) - (tmpvar_10.y * tmpvar_10.y));\\n  tmpvar_11.y = ((2.0 * tmpvar_10.x) * tmpvar_10.y);\\n  my_uv2_1 = (tmpvar_11 + vec2(0.28, 0.4));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = ((2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1))).z;\\n  tmpvar_12.y = ((2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1))).z;\\n  dz_2 = (tmpvar_12 * texsize.zw);\\n  ret_3.z = (texture (sampler_main, clamp ((my_uv2_1 + dz_2), 0.0, 1.0)).z - 0.014);\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = ret_3;\\n  ret = tmpvar_13.xyz;\\n }","comp":" shader_body { \\n  vec3 dy_1;\\n  vec3 dx_2;\\n  vec2 mirror_uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = ((q4 * tmpvar_5.x) - (q3 * tmpvar_5.y));\\n  tmpvar_6.y = ((q3 * tmpvar_5.x) + (q4 * tmpvar_5.y));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (0.5 - (tmpvar_6 * 2.0));\\n  vec2 numerator_8;\\n  numerator_8 = (tmpvar_7 - vec2(0.0, 0.5));\\n  vec2 denominator_9;\\n  denominator_9 = (tmpvar_7 - vec2(1.0, 0.5));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = ((numerator_8.x * denominator_9.x) + (numerator_8.y * denominator_9.y));\\n  tmpvar_10.y = ((numerator_8.y * denominator_9.x) - (numerator_8.x * denominator_9.y));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (((tmpvar_10 / \\n    ((denominator_9.x * denominator_9.x) + (denominator_9.y * denominator_9.y))\\n  ) + 0.5) - vec2(0.5, 0.5));\\n  float tmpvar_12;\\n  tmpvar_12 = sqrt(dot (tmpvar_11, tmpvar_11));\\n  float tmpvar_13;\\n  float tmpvar_14;\\n  tmpvar_14 = (min (abs(\\n    (tmpvar_11.x / tmpvar_11.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_11.x / tmpvar_11.y)\\n  ), 1.0));\\n  float tmpvar_15;\\n  tmpvar_15 = (tmpvar_14 * tmpvar_14);\\n  tmpvar_15 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_15) + 0.05368138) * tmpvar_15) - 0.1173503)\\n     * tmpvar_15) + 0.1938925) * tmpvar_15) - 0.3326756)\\n   * tmpvar_15) + 0.9999793) * tmpvar_14);\\n  tmpvar_15 = (tmpvar_15 + (float(\\n    (abs((tmpvar_11.x / tmpvar_11.y)) > 1.0)\\n  ) * (\\n    (tmpvar_15 * -2.0)\\n   + 1.570796)));\\n  tmpvar_13 = (tmpvar_15 * sign((tmpvar_11.x / tmpvar_11.y)));\\n  if ((abs(tmpvar_11.y) > (1e-08 * abs(tmpvar_11.x)))) {\\n    if ((tmpvar_11.y < 0.0)) {\\n      if ((tmpvar_11.x >= 0.0)) {\\n        tmpvar_13 += 3.141593;\\n      } else {\\n        tmpvar_13 = (tmpvar_13 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_13 = (sign(tmpvar_11.x) * 1.570796);\\n  };\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (tmpvar_13 * 0.1591549);\\n  tmpvar_16.y = tmpvar_12;\\n  vec2 tmpvar_17;\\n  tmpvar_17.x = ((tmpvar_16.x * 2.0) + q11);\\n  tmpvar_17.y = ((0.3 * log(tmpvar_12)) + q12);\\n  vec2 tmpvar_18;\\n  tmpvar_18 = (0.5 + (0.5 - abs(\\n    ((fract((tmpvar_17 * 0.5)) * 2.0) - 1.0)\\n  )));\\n  vec2 tmpvar_19;\\n  tmpvar_19 = (texsize.zw * 3.0);\\n  vec3 tmpvar_20;\\n  tmpvar_20 = ((2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec3 tmpvar_21;\\n  tmpvar_21 = ((2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_22;\\n  tmpvar_22.x = tmpvar_20.x;\\n  tmpvar_22.y = tmpvar_21.x;\\n  mirror_uv_3 = (tmpvar_18 + ((tmpvar_22 * texsize.zw) * 4.0));\\n  ret_4 = ((mix (ret_4, vec3(1.0, 1.0, 1.0), \\n    ((((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1).x * (1.0 - (\\n      (texture (sampler_blur2, mirror_uv_3).xyz * scale2)\\n     + bias2).x)) * (pow (hue_shader, vec3(4.0, 4.0, 4.0)) * 1.4))\\n  ) * texture (sampler_main, mirror_uv_3).xxx) + ((\\n    (1.0 - texture (sampler_main, mirror_uv_3).x)\\n   * \\n    ((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1)\\n  .x) * vec3(3.0, 3.0, 3.0)));\\n  vec2 tmpvar_23;\\n  tmpvar_23.x = tmpvar_20.x;\\n  tmpvar_23.y = tmpvar_21.x;\\n  mirror_uv_3 = (mirror_uv_3 - ((tmpvar_23 * texsize.zw) * 24.0));\\n  dx_2 = ((2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  dy_1 = ((2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = -(dx_2.y);\\n  tmpvar_24.y = dy_1.y;\\n  vec2 tmpvar_25;\\n  tmpvar_25 = (tmpvar_24 * 0.25);\\n  vec3 tmpvar_26;\\n  tmpvar_26 = mix (ret_4, vec3(1.0, 1.0, 1.0), (mix (vec3(1.0, 0.7, 0.2), vec3(0.15, 0.0, 0.5), vec3(\\n    ((((\\n      ((mirror_uv_3.x * 0.8) - mirror_uv_3.y)\\n     + 0.75) + tmpvar_25.x) + tmpvar_25.y) - 0.1)\\n  )) * texture (sampler_main, mirror_uv_3).y));\\n  vec2 tmpvar_27;\\n  vec2 tmpvar_28;\\n  tmpvar_28 = ((0.5 + (\\n    (uv - 0.5)\\n   * aspect.wz)) - vec2(0.5, 0.5));\\n  vec2 tmpvar_29;\\n  tmpvar_29.x = ((q4 * tmpvar_28.x) - (q3 * tmpvar_28.y));\\n  tmpvar_29.y = ((q3 * tmpvar_28.x) + (q4 * tmpvar_28.y));\\n  tmpvar_27 = (vec2(0.5, 0.5) + tmpvar_29);\\n  mirror_uv_3 = tmpvar_27.yx;\\n  vec2 tmpvar_30;\\n  tmpvar_30 = (vec2(1.0, 0.0) * texsize.zw);\\n  dx_2 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_30)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_30)).xyz));\\n  vec2 tmpvar_31;\\n  tmpvar_31 = (vec2(0.0, 1.0) * texsize.zw);\\n  dy_1 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_31)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_31)).xyz));\\n  vec2 tmpvar_32;\\n  tmpvar_32.x = dx_2.z;\\n  tmpvar_32.y = dy_1.z;\\n  vec3 tmpvar_33;\\n  tmpvar_33 = mix (tmpvar_26, vec3(0.9, 0.9, 1.0), vec3((1.0 - texture (sampler_main, (tmpvar_27.yx - tmpvar_32)).z)));\\n  ret_4 = tmpvar_33;\\n  vec4 tmpvar_34;\\n  tmpvar_34.w = 1.0;\\n  tmpvar_34.xyz = tmpvar_33;\\n  ret = tmpvar_34.xyz;\\n }"}')},"./presets/converted/Flexi - infused with the spiral.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.5,"echo_zoom":1.03,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpscale":0.107,"zoomexp":4.28632,"fshader":1,"warp":0.01743,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.789,"ang":0.6283,"tex_zoom":1.17257,"r":0,"g":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = 0.65 + bass*0.1;\\n\\nan = an*0.99 + (bass-treb)*0.1;\\nang = an*0.1 + 0.6;"},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.40271,"tex_zoom":2.23888,"g":1,"b":1,"r2":0.08,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"rad":1.21525,"tex_ang":2.57611,"tex_zoom":0.55595,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"x":0.99,"y":0.99,"rad":0.02558,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"r":0,"g":0.04,"b":0,"a":0.99},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .07;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 180;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nmy_x = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4+(t7+1)*t8);\\nmy_y = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4+(t7+1)*t8);\\nmy_z = sin(sample*pi*n)*rd;\\n\\n\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 0.65;\\n\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nb = -z3 + 0.5;\\nb = min(1,max(0,b))*0.5;\\nr = 1-b*2\\n//b = (1 - r)*0.1;\\n//a =  7/(d*16) - 0.1;"},{"baseVals":{"samples":445,"sep":4,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .09;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 160;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nxx = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = -d*t5;\\ns1 = sin(t2*1+w);\\ns2 = sin(t3*1+w);\\ns3 = sin(t4*1+w);\\nc1 = cos(t2*1+w);\\nc2 = cos(t3*1+w);\\nc3 = cos(t4*1+w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.75;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = sample*pi*4-2*time;\\nc=1.6;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\na = 1-(z + a)/2;\\n"},{"baseVals":{"sep":4,"scaling":0.09348,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 100;//0.3;\\nxx = sin(sample*s);//((sample*343)%7 - 3.5)*s;\\nzz = cos(sample*s);//((sample*49)%7 - 3.5)*s;\\nyy = (sample-0.5);//((sample*7)%7 - 3.5)*s;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1/d;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = 1+0*(d)*(t6);//(sample*sin(time*0.3)*0.02-1);\\ns1 = sin(t2*w);\\ns2 = sin(t3*w);\\ns3 = sin(t4*w);\\nc1 = cos(t2*w);\\nc2 = cos(t3*w);\\nc3 = cos(t4*w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 2;\\nzoom = 0.3*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*13+t5*20;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(-z,10)*1.0+0.0;"},{"baseVals":{"samples":484,"sep":4,"usedots":1,"scaling":9.94125,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 0.25;\\nxx = ((sample*(465))%15 - 8)*s*2;\\nyy = ((sample*31)%31 - 16)*s;\\nzz = 0;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nw = 1;\\n\\ns1 = sin(t2*1);\\ns2 = sin(t3*0);\\ns3 = sin(t4*1);\\nc1 = cos(t2*1);\\nc2 = cos(t3*0);\\nc3 = cos(t4*1);\\n\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 500;\\nzoom = 0.05*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*5+t5;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(z,5);"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"q1 = 0;\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0052;\\nn1 = n1 + j2*0.0052;\\nn2 = n2 + j3*0.0052;\\n\\n\\nq2 = n*0.01;\\nq3 = n1*0.01;\\nq4 = n2*0.01;\\n\\nk = k*0.99 + sqr(mid_att*2);\\nq5 = k*0.00;\\n\\nzoom = 1.0016;\\nwarp = 0;\\n\\nrot = -0.00;\\n\\nq9 = aspectx;\\nq10 = aspecty;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((texture (sampler_blur2, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale2) + bias2)).z;\\n  tmpvar_3.y = -(((\\n    (texture (sampler_blur2, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\\n   + bias2)).z);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv + ((tmpvar_3 * texsize.zw) * 60.0));\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 - uv);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_main, uv);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  ret_1.z = (((texture (sampler_main, tmpvar_4).z + \\n    (((tmpvar_6.z - (\\n      (tmpvar_7.xyz * scale1)\\n     + bias1).z) * 200.0) * sqrt(dot (x_5, x_5)))\\n  ) * 0.96) - 0.02);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).y;\\n  tmpvar_8.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).y;\\n  ret_1.y = ((texture (sampler_main, (uv_orig + \\n    ((tmpvar_8 * texsize.zw) * 6.0)\\n  )).y + (\\n    (tmpvar_6.y - ((tmpvar_7.xyz * scale1) + bias1).y)\\n   * 0.1)) - 0.016);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ret_1;\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \\n    (tmpvar_5 * 0.2)\\n  )).yyy) * ((\\n    (-(tmpvar_3.y) + tmpvar_4.y)\\n   + 1.0) + (\\n    (-(tmpvar_3.z) + tmpvar_4.z)\\n   * 2.0)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = mix (mix (ret_1, vec3(0.2, 0.0, 0.4), vec3((\\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\\n  .x * 1.4))), vec3(1.0, 0.9, 0.8), texture (sampler_main, uv).zzz);\\n  ret_1 = tmpvar_7;\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = tmpvar_7;\\n  ret = tmpvar_8.xyz;\\n }"}')},"./presets/converted/Flexi - mindblob [shiny mix].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":2.789,"wave_scale":0.292,"wave_smoothing":0,"wave_mystery":0.12,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.92178,"zoom":0.9901,"warp":0.01,"wave_g":0,"ob_size":0,"ob_r":0.2,"ob_a":0.1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"rad":0.71426,"tex_ang":0.12566,"tex_zoom":1.51878,"a":0,"g2":0,"border_r":0.1,"border_g":0,"border_b":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"x":0.43,"y":0.42,"rad":0.15799,"ang":0.1885,"tex_zoom":0.87865,"r":0,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q4;\\ny = q8;"},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"decay = 1;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + xx1-xx2;\\ny1 = 0.5 + yy1;\\n\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 18;\\ngrav = 1;\\nresist = 0.2;\\nbounce = 0.9;\\ndt = 0.0003;\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\n\\nzoom = 1.004;\\n\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);","pixel_eqs_eel":"dir = -q6*1 + asin(1)*1;\\n\\nb1 = 0.08; // distance\\nm1 = q5*45;//-0.6 + q5*200; // size\\nt1 = 0.5; // velocity\\n\\nxx = 0.5 + (q4-0.5)/aspectx;\\nyy = 1-(0.5 + (q8-0.5)/aspecty);\\n\\n\\nx1 = xx   +cos(dir+1.5708)*b1;\\ny1 = yy -sin(dir+1.5708)*b1;\\n\\nx2 = xx   -cos(dir+1.5708)*b1;\\ny2 = yy +sin(dir+1.5708)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nsi1 = 1- 1/(1+pow(2,-d1*100));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi2 = 1- 1/(1+pow(2,-d2*100));\\n\\nsi3 = -pow(q5,3)*00;\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2 + si3*cos(dir)*t1)*2/aspectx;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2 - si3*sin(dir)*t1)*2/aspecty;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).x;\\n  tmpvar_3.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).x;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 0.5));\\n  ret_1.x = texture (sampler_fw_main, tmpvar_4).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_4).xyz * scale3) + bias3).x)\\n   * 0.2) - 0.004));\\n  ret_1.y = ((texture (sampler_fw_main, uv_orig).y * 0.98) - 0.004);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_1;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (texsize.zw * 4.0);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1)).x;\\n  tmpvar_2.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1)).x;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = mix ((vec3(0.0, 0.0, 1.0) * texture (sampler_main, uv).x), vec3(1.0, 0.0, 0.0), texture (sampler_main, (uv - tmpvar_2)).yyy);\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/Flexi - mindblob mix.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.137,"warpscale":13.125,"zoom":0.99951,"warp":0.99213,"wave_y":0.04,"ob_size":0.015,"ob_r":0.1,"ob_g":0.25,"ob_a":1,"ib_size":0,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.02015,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\nwave_a = 0;\\n// elastic thread code\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1*1.5;\\ndt = 0.03/fps;\\nvx2 = vx2*(1-2*dt) + dt*((x1+x3-2*x2)*10);\\nvy2 = vy2*(1-2*dt) + dt*((y1+y3-2*y2)*10-0.5);\\nvx3 = vx3*(1-2*dt) + dt*((x2+x4-2*x3)*10);\\nvy3 = vy3*(1-2*dt) + dt*((y2+y4-2*y3)*10-0.5);\\nvx4 = vx4*(1-2*dt) + dt*((x3-x4)*10);\\nvy4 = vy4*(1-2*dt) + dt*((y3-y4)*10-0.5);\\nx2 = x2 + vx2; y2 = y2 + vy2;\\nx3 = x3 + vx3; y3 = y3 + vy3;\\nx4 = x4 + vx4; y4 = y4 + vy4;\\nvx2 = if(above(x2,0),vx2,abs(vx2)*0.5);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*0.5);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*0.5);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*0.5);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*0.5);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*0.5);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*0.5);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*0.5);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*0.5);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*0.5);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*0.5);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*0.5);\\nq1 = x1;q2 = x2;q3 = x3;q4 = x4;\\nq5 = y1;q6 = y2;q7 = y3;q8 = y4;\\nq9 = 1/aspectx;\\nq10 = 1/aspecty;\\nq11 = aspectx;\\nq12 = aspecty;\\nq13 = sqrt(vx4*vx4 + vy4*vy4);\\nq14 = atan2(vx4,vy4);\\nq15 = sin(q14);\\nq16 = cos(q14);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 my_uv_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q4;\\n  tmpvar_4.y = (1.0 - q8);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = -(q15);\\n  tmpvar_5.y = q16;\\n  vec2 domain_6;\\n  vec2 uv_rot_7;\\n  domain_6 = (uv - tmpvar_4);\\n  domain_6 = (domain_6 * aspect.xy);\\n  float tmpvar_8;\\n  tmpvar_8 = (1.0/((1.0 + exp(\\n    ((sqrt(dot (domain_6, domain_6)) - 0.07) * 50.0)\\n  ))));\\n  domain_6 = (domain_6 + ((tmpvar_5 * q13) * (aspect.wz * tmpvar_8)));\\n  float tmpvar_9;\\n  tmpvar_9 = sin(tmpvar_8);\\n  float tmpvar_10;\\n  tmpvar_10 = cos(tmpvar_8);\\n  uv_rot_7.x = ((tmpvar_10 * domain_6.x) - (tmpvar_9 * domain_6.y));\\n  uv_rot_7.y = ((tmpvar_9 * domain_6.x) + (tmpvar_10 * domain_6.y));\\n  uv_rot_7 = (uv_rot_7 * aspect.zw);\\n  uv_rot_7 = (uv_rot_7 + tmpvar_4);\\n  uv_1 = (clamp ((tmpvar_4 + \\n    ((uv_rot_7 - tmpvar_4) * mix (1.0, 4.0, tmpvar_8))\\n  ), 0.0, 1.0) + (texsize.zw * vec2(0.0, 0.15)));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = mix (uv_orig, uv_1, vec2(0.2, 0.2));\\n  uv_1 = tmpvar_11;\\n  vec2 tmpvar_12;\\n  tmpvar_12 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_13;\\n  tmpvar_13 = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.x);\\n  float tmpvar_14;\\n  tmpvar_14 = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.y);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_13;\\n  tmpvar_15.y = tmpvar_14;\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.y);\\n  ret_3.x = texture (sampler_fw_main, ((tmpvar_11 - (tmpvar_15 * 0.006)) + (tmpvar_16 * 0.003))).x;\\n  ret_3.x = (ret_3.x + ((ret_3.x - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_3.x = (ret_3.x + 0.004);\\n  vec2 tmpvar_17;\\n  tmpvar_17.x = tmpvar_14;\\n  tmpvar_17.y = -(tmpvar_13);\\n  my_uv_2 = (uv_orig + ((tmpvar_17 * 0.05) * (1.2 - \\n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\\n  .y)));\\n  ret_3.z = texture (sampler_fw_main, my_uv_2).z;\\n  vec2 x_18;\\n  x_18 = (my_uv_2 - uv_orig);\\n  ret_3.z = (ret_3.z + ((\\n    ((ret_3.z - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1).z) * sqrt(dot (x_18, x_18)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_12, tmpvar_12)\\n  )));\\n  ret_3.z = (ret_3.z * 0.85);\\n  ret_3.z = (ret_3.z + 0.008);\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = -(tmpvar_14);\\n  tmpvar_19.y = tmpvar_13;\\n  my_uv_2 = (tmpvar_19 * 0.045);\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_12.x);\\n  tmpvar_20.y = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_12.y);\\n  my_uv_2 = (my_uv_2 + (tmpvar_11 - (tmpvar_20 * 0.03)));\\n  ret_3.y = texture (sampler_fw_main, my_uv_2).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - ((texture (sampler_blur3, my_uv_2).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.03));\\n  vec4 tmpvar_21;\\n  tmpvar_21.w = 1.0;\\n  tmpvar_21.xyz = ret_3;\\n  ret = tmpvar_21.xyz;\\n }","comp":" shader_body { \\n  vec2 dz_1;\\n  vec3 dy_2;\\n  vec3 dx_3;\\n  vec2 d_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;\\n  d_4 = (texsize.zw * 2.0);\\n  dx_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * d_4))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * d_4))\\n  ).xyz * scale1) + bias1));\\n  dy_2 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * d_4))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * d_4))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = dx_3.y;\\n  tmpvar_9.y = dy_2.y;\\n  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);\\n  ret_5 = (vec3(((\\n    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)\\n   + \\n    (((texture (sampler_blur2, uv).xyz * scale2) + bias2).y * 0.4)\\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dx_3.x;\\n  tmpvar_10.y = dy_2.x;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = mix (mix (ret_5, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \\n    (uv + ((tmpvar_10 * texsize.zw) * 18.0))\\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv).zzz);\\n  ret_5 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/Flexi - predator-prey-spirals.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.28,"decay":0.8,"echo_zoom":1,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.92178,"zoom":0.9901,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":39,"additive":1,"num_inst":126,"rad":0.06989,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"sides":41,"additive":1,"num_inst":239,"rad":0.06989,"tex_ang":0.62832,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"sides":43,"additive":1,"num_inst":32,"rad":0.06989,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":127,"rad":0.0556,"tex_ang":0.62832,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0001*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq10 = x1;\\nq11 = y1;\\nzoom = 1;\\nwarp = 0;\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nmonitor = s;\\n\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.1;\\nv = 20;\\nv2 = q5;\\ndx = (v*(sin(y-yy)*(d-r)-(x-xx)*(d-r/2)) + cos(dir)*v2)*(1.00-sigmoid(d-r,120));\\ndy = (-v*(sin(x-xx)*(d-r)+(y-yy)*(d-r/2)) -sin(dir)*v2)*(1.00-sigmoid(d-r,120));","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = mix (uv_orig, uv, vec2(2.0, 2.0));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 2.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (tmpvar_2 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (tmpvar_2 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (tmpvar_2 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (tmpvar_2 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (tmpvar_2 + ((tmpvar_6 * texsize.zw) * 8.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_4.y;\\n  tmpvar_8.y = tmpvar_5.y;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (tmpvar_2 + ((tmpvar_8 * texsize.zw) * 8.0));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.z;\\n  tmpvar_10.y = tmpvar_5.z;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_2 + ((tmpvar_10 * texsize.zw) * 8.0));\\n  ret_1.x = (texture (sampler_main, tmpvar_7).x - ((texture (sampler_main, tmpvar_7).xyz - \\n    ((texture (sampler_blur3, tmpvar_7).xyz * scale3) + bias3)\\n  ).x * 0.02));\\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \\n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\\n  ).y * 0.02));\\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  ).z * 0.02));\\n  ret_1 = (ret_1 + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.04));\\n  ret_1 = (ret_1 - ((ret_1.yzx * 0.1) - 0.02));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (texsize.zw * 8.0);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q4;\\n  tmpvar_4.y = (1.0 - q8);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_2.y;\\n  tmpvar_5.y = tmpvar_3.y;\\n  vec2 x_6;\\n  x_6 = ((uv - (tmpvar_5 * 2.0)) - tmpvar_4);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_2.x;\\n  tmpvar_7.y = tmpvar_3.x;\\n  vec2 x_8;\\n  x_8 = ((uv - (tmpvar_7 * 2.0)) - tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_2.z;\\n  tmpvar_9.y = tmpvar_3.z;\\n  vec2 x_10;\\n  x_10 = ((uv - (tmpvar_9 * 2.0)) - tmpvar_4);\\n  vec3 tmpvar_11;\\n  tmpvar_11.x = (1.1 - pow (sqrt(\\n    dot (x_8, x_8)\\n  ), 0.2));\\n  tmpvar_11.y = (1.1 - pow (sqrt(\\n    dot (x_6, x_6)\\n  ), 0.2));\\n  tmpvar_11.z = (1.1 - pow (sqrt(\\n    dot (x_10, x_10)\\n  ), 0.2));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ((tmpvar_11 * texture (sampler_main, uv).xyz) * 2.4);\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/Flexi - smashing fractals [acid etching mix].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":2,"wave_mode":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":1.311,"warpscale":8.311,"zoomexp":5.20652,"warp":0.13291,"wave_y":0.04,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07493,"tex_zoom":0.73458,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q4;\\ny = q8;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.7,"y":0.3,"rad":0.6623,"ang":2.45044,"tex_zoom":0.74934,"g":0.1,"b":0.1,"r2":1,"g2":0.1,"b2":0.1,"a2":1,"border_a":0},"init_eqs_eel":"xx = 0.5;\\nyy = 0.4;","frame_eqs_eel":"d = sqrt( sqr(xx-q4)+sqr(yy-q8));\\n\\nxx = if(below(d,0.15),0.4+rand(200)/1000,xx);\\nyy = if(below(d,0.15),0.3+rand(400)/1000,yy);\\naang = if(below(d,0.12),rand(1000)/1000,aang);\\nang =aang*4*asin(1);\\nx = xx;\\ny = yy;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.43,"y":0.6,"rad":1.16781,"ang":5.96903,"tex_zoom":0.67165,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"xx = 0.5;\\nyy = 0.4;","frame_eqs_eel":"d = sqrt( sqr(xx-q4)+sqr(yy-q8));\\n\\nxx = if(below(d,0.15),0.4+rand(200)/1000,xx);\\nyy = if(below(d,0.15),0.3+rand(400)/1000,yy);\\naang = if(below(d,0.12),rand(1000)/1000,aang);\\nang =aang*4*asin(1);\\nx = xx;\\ny = yy;"},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07059,"tex_zoom":0.73458,"g":0.5,"b":0.5,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q1;\\ny = q5;"}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":7.7518,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;\\n\\nt1 = 0.5;\\nt2 = 0.9;","point_eqs_eel":"d = d*0.85 + (value1)*1;\\n\\nx = 0.5 + d*sample*(1-sample);\\ny = 0.9 - sample*0.8;"},{"baseVals":{"usedots":1,"thick":1,"scaling":5.92556,"smoothing":0,"g":0,"b":0,"a":0.66,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\n\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\ndd = dd*0.95 + (value1);\\nddd = dd*sample*(1-sample)*d;\\n\\nx = xx + (yy-yyy)*ddd;\\ny = yy - (xx-xxx)*ddd;"},{"baseVals":{"thick":1,"scaling":5.92556,"smoothing":0,"r":0.65,"g":0.45,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\n\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\ndd = dd*0.95 + (value1);\\nddd = dd*sample*(1-sample)*d;\\nddd = sample*(1-sample)*sin(sample*200)*d*0.05;\\nx = xx + (yy-yyy)*ddd;\\ny = yy - (xx-xxx)*ddd;"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"decay = 0.25;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1));\\ny1 = max(0,min(1,y1));\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 50;\\ngrav = 2;\\nresist = 5;\\nbounce = 0.75;\\ndt = 0.00015*60/fps;\\n\\nspx2 = (x1+x3-2*x2)*spring;\\nspy2 = (y1+y3-2*y2)*spring;\\nspx3 = (x2+x4-2*x3)*spring;\\nspy3 = (y2+y4-2*y3)*spring;\\nspx4 = (x3-x4)*spring;\\nspy4 = (y3-y4)*spring;\\n\\nvx2 = vx2*(1-resist*dt) + dt*(spx2);\\nvy2 = vy2*(1-resist*dt) + dt*(spy2-grav);\\nvx3 = vx3*(1-resist*dt) + dt*(spx3);\\nvy3 = vy3*(1-resist*dt) + dt*(spy3-grav);\\nvx4 = vx4*(1-resist*dt) + dt*(spx4);\\nvy4 = vy4*(1-resist*dt) + dt*(spy4-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0.1),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,0.9),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0.1),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,0.9),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0.1),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,0.9),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\nmonitor = ry4;\\n\\nzoom = 1.0004;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur2, \\n    (uv + vec2(0.005, 0.0))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.005, 0.0))\\n  ).xyz * scale2) + bias2)).y;\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    (uv + vec2(0.0, 0.005))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.0, 0.005))\\n  ).xyz * scale2) + bias2)).y;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3;\\n  tmpvar_5.y = tmpvar_4;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - (tmpvar_5 * 0.01));\\n  ret_2.y = texture (sampler_fc_main, (tmpvar_6 - floor(tmpvar_6))).y;\\n  ret_2.y = (ret_2.y + ((ret_2.y - \\n    ((texture (sampler_blur3, (tmpvar_6 - floor(tmpvar_6))).xyz * scale3) + bias3)\\n  .y) * 0.1));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor(uv);\\n  ret_2.y = (ret_2.y + (0.006 - (\\n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\\n  .x * 5.0)));\\n  ret_2.y = ret_2.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = -(tmpvar_4);\\n  tmpvar_8.y = tmpvar_3;\\n  my_uv_1 = (tmpvar_8 * 0.05);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (((texture (sampler_blur2, \\n    (uv + vec2(0.01, 0.0))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.01, 0.0))\\n  ).xyz * scale2) + bias2)).z;\\n  tmpvar_9.y = (((texture (sampler_blur2, \\n    (uv + vec2(0.0, 0.01))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.0, 0.01))\\n  ).xyz * scale2) + bias2)).z;\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_9 * 0.005)));\\n  ret_2.z = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_2.z = (ret_2.z + ((ret_2.z - \\n    ((texture (sampler_blur3, (my_uv_1 - floor(my_uv_1))).xyz * scale3) + bias3)\\n  .z) * 0.13));\\n  ret_2.z = (ret_2.z * 0.95);\\n  ret_2.z = (ret_2.z + ((0.03 - \\n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\\n  .x) - (texture (sampler_main, \\n    (my_uv_1 - floor(my_uv_1))\\n  ).y * 0.05)));\\n  ret_2.x = (texture (sampler_main, uv_orig).x - 0.3);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.y;\\n  tmpvar_5.y = tmpvar_4.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + (tmpvar_5 * 0.1));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_6).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_7.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_6).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_3.y;\\n  tmpvar_8.y = tmpvar_4.y;\\n  vec3 tmpvar_9;\\n  vec3 tmpvar_10;\\n  tmpvar_10 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_9 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_10 * texture (sampler_main, clamp ((uv - (tmpvar_8 * 0.04)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_10.zxy * 1.8), tmpvar_7.yyy);\\n  ret_1 = tmpvar_9;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = tmpvar_9;\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/Flexi - truly soft piece of software - this is generic texturing (Jelly) .json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.24298,"zoom":0.9901,"warp":0.01,"wave_y":0.04,"ob_size":0,"ob_g":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0.05,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.80013,"ang":4.64954,"tex_zoom":1.24471,"g":1,"b":1,"r2":1,"b2":1,"a2":0.77,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0.;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0.;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom =1;// 0.999;\\nwarp = 0;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (0.02 * aspect.zw);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    ((uv + (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv + (vec2(1.0, 0.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    ((uv - (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv - (vec2(1.0, 0.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur2, \\n    ((uv + (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv + (vec2(0.0, 1.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    ((uv - (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv - (vec2(0.0, 1.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = tmpvar_5.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.x;\\n  tmpvar_8.y = -(tmpvar_4.x);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((uv - (tmpvar_7 * vec2(0.01, 0.01))) - (tmpvar_8 * -0.02));\\n  ret_2.y = texture (sampler_fc_main, (tmpvar_9 - floor(tmpvar_9))).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - tmpvar_6.y)\\n   * 0.02) + 0.005));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = tmpvar_5.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_5.z;\\n  tmpvar_11.y = -(tmpvar_4.z);\\n  my_uv_1 = ((uv - (tmpvar_10 * vec2(0.01, 0.01))) - (tmpvar_11 * -0.02));\\n  ret_2.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_2.x = (ret_2.x + ((\\n    (ret_2.x - tmpvar_6.x)\\n   * 0.02) + 0.005));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_4.z;\\n  tmpvar_12.y = tmpvar_5.z;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.y;\\n  tmpvar_13.y = -(tmpvar_4.y);\\n  my_uv_1 = ((uv - (tmpvar_12 * vec2(0.01, 0.01))) - (tmpvar_13 * -0.02));\\n  ret_2.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_2.z = (ret_2.z + ((\\n    (ret_2.z - tmpvar_6.z)\\n   * 0.02) + 0.005));\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 1.0;\\n  tmpvar_14.xyz = ret_2;\\n  ret = tmpvar_14.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  vec3 ret_2;\\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\\n  float tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.14;\\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\\n  tmpvar_6.y = (tmpvar_5 - ((\\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\\n   + \\n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\\n  ) + (\\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\\n   * 0.1)).x);\\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\\n  vec2 x_7;\\n  x_7 = (ret_2.xy - 0.5);\\n  ret_2 = (ret_2 * clamp ((\\n    sqrt(dot (x_7, x_7))\\n   * 5.0), 0.0, 1.0));\\n  ret_2 = ret_2.xxy;\\n  ret_2 = (ret_2 + 1.15);\\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \\n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  ), pow (hue_shader.zxy, ret_2)));\\n  ret_2 = (ret_2 * ret_2);\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_2;\\n  ret = tmpvar_8.xyz;\\n }"}')},"./presets/converted/Flexi, fishbrain, Geiss + Martin - tokamak witchery.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"fshader":1,"zoom":1.004,"warp":0.19788,"sx":0.99967,"sy":0.9999,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"additive":1,"num_inst":2,"x":0.49,"rad":0.11589,"tex_zoom":4.36077,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(1000)/1000;\\ny = rand(1000)/1000;\\nang = rand(150)/100;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"r":0,"g":0.3,"b":0.75},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"thick":1,"r":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"thick":1,"g":0.5,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1,"r":0.4,"g":0,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.2*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.2*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.2*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.6*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.6*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\nwarp = 0;\\nzoom = 1;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);","pixel_eqs_eel":"du = (x*2-1) - q1;\\ndv = (y*2-1) - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv) + time*0.15;\\nmult = 0.05*sin(dist*0.05);\\ndx = mult*sin(ang2*2-1.5);\\ndy = mult*cos(ang2*2-1.5);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\\n    (uv - (((vec2(0.0, 64.0) * texsize.zw) * dot (\\n      (tmpvar_2.xyz - 0.35)\\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\\n  ) - 0.5) * 0.0038).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Flexi, martin + geiss - dedicated to the sherwin maxawow.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\nwave_r = 1- ib_r;\\nwave_g = 1- ib_g;\\nwave_b = 1- ib_b;\\n//wave_mystery = -1+bass/2;\\nwave_x = 0.5+sin(time*3)*0.3;\\nwave_y = 0.5+cos(time*2.187)*0.3;","pixel_eqs_eel":"r = bass/4;\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = (bass)*(r*r-d*d)*0.3;\\nx1 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny1 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\n\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(mid)*(r*r-d*d)*0.3;\\nx2 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny2 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(treb)*(r*r-d*d)*0.3;\\nx3 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny3 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\n\\ndx = x1+x2+x3;\\ndy = y1+y2+y3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy);\\n  uv_1 = (uv + ((texture (sampler_noise_lq, tmpvar_2).xy - 0.5) * texsize.zw));\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = bass;\\n  tmpvar_3.y = treb;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_main, (uv_1 + (\\n    (texture (sampler_main, (mix (uv_1, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.4)\\n   * \\n    (-0.004 + (0.04 * clamp ((tmpvar_3 - 1.0), 0.0, 1.0)))\\n  ))).xyz - (0.0008 + (\\n    (texture (sampler_noise_lq, tmpvar_2) - 0.5)\\n   * 0.02)).xyz);\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Fumbling_Foo + En D & Martin - Mandelverse.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":54,"textured":1,"rad":0.49138,"ang":1.5708,"tex_ang":3.14159,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q3;\\ny=1-q4;\\n\\nr = abs(q20);\\ng = abs(q21);\\nb = abs(q22);\\n\\nrad = .1*mid;"},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q5;\\ny=1-q6;\\n\\nrad = .2*bass;"},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q1;\\ny=1-q2;\\n\\nr = (q23);\\ng = (q24);\\nb = (q25);\\na = q19;\\n\\nrad = bass*.1;"}],"waves":[{"baseVals":{"sep":51,"spectrum":1,"usedots":1,"thick":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"sep":51,"spectrum":1,"usedots":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"sep":51,"usedots":1,"thick":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"enabled":1,"sep":51,"usedots":1,"additive":1,"scaling":1.32735,"smoothing":0.82,"b":3},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\n//q15 = sign(4*avg - 1)*pow(abs(4*avg - 1), 1.25); // 500*ds*q7; // + ( sign(v1)*sqrt(abs(v1)) + sign(v2)*sqrt(abs(v2)) + sign(v3)*sqrt(abs(v3)) )\\nq15 = 4*avg - 1.4;\\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\n\\nmonitor = 3.333*q15;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.92 + (q14 * 1.5));\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  uv_3 = (((uv - 0.5) * (1.0 - \\n    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))\\n  )) + 0.5);\\n  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = tmpvar_5.xyz;\\n  if ((tmpvar_5.y > 0.1)) {\\n    vec3 tmpvar_7;\\n    tmpvar_7 = (tmpvar_5.xyz - vec3(0.5, 0.5, 0.5));\\n    vec4 nb2_8;\\n    vec4 nb_9;\\n    vec2 tmpvar_10;\\n    tmpvar_10 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.x = (1.0 - (tmpvar_10.y + (0.03125 * \\n      (tmpvar_10.x - 0.505)\\n    )));\\n    vec2 tmpvar_11;\\n    tmpvar_11 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.y = (1.0 - (tmpvar_11.y + (0.03125 * \\n      (tmpvar_11.x - 0.505)\\n    )));\\n    vec2 tmpvar_12;\\n    tmpvar_12 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.z = (1.0 - (tmpvar_12.y + (0.03125 * \\n      (tmpvar_12.x - 0.505)\\n    )));\\n    vec2 tmpvar_13;\\n    tmpvar_13 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.w = (1.0 - (tmpvar_13.y + (0.03125 * \\n      (tmpvar_13.x - 0.505)\\n    )));\\n    vec2 tmpvar_14;\\n    tmpvar_14 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.x = (1.0 - (tmpvar_14.y + (0.03125 * \\n      (tmpvar_14.x - 0.505)\\n    )));\\n    vec2 tmpvar_15;\\n    tmpvar_15 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.y = (1.0 - (tmpvar_15.y + (0.03125 * \\n      (tmpvar_15.x - 0.505)\\n    )));\\n    vec2 tmpvar_16;\\n    tmpvar_16 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.z = (1.0 - (tmpvar_16.y + (0.03125 * \\n      (tmpvar_16.x - 0.505)\\n    )));\\n    vec2 tmpvar_17;\\n    tmpvar_17 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.w = (1.0 - (tmpvar_17.y + (0.03125 * \\n      (tmpvar_17.x - 0.505)\\n    )));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = min (nb_9, nb2_8);\\n    nb_9.zw = tmpvar_18.zw;\\n    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);\\n    vec2 tmpvar_19;\\n    tmpvar_19 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, uv_3).yz)\\n     + vec2(0.5, 0.5))));\\n    vec2 tmpvar_20;\\n    tmpvar_20.x = (tmpvar_7.x * abs(tmpvar_7.y));\\n    tmpvar_20.y = (abs(tmpvar_7.x) * tmpvar_7.y);\\n    xlat_mutabledist = (min (min (nb_9.x, nb_9.y), (1.0 - \\n      (tmpvar_19.y + (0.03125 * (tmpvar_19.x - 0.505)))\\n    )) + (0.01 * tmpvar_20)).x;\\n  } else {\\n    xlat_mutabledist = tmpvar_6.x;\\n  };\\n  vec2 tmpvar_21;\\n  tmpvar_21 = (0.003472222 * floor((\\n    (288.0 * texture (sampler_pc_main, uv_3).yz)\\n   + vec2(0.5, 0.5))));\\n  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - \\n    (tmpvar_21.y + (0.03125 * (tmpvar_21.x - 0.505)))\\n  )) - (q10 * 0.8));\\n  float tmpvar_22;\\n  tmpvar_22 = (xlat_mutabledist + (pow (xlat_mutabledist, 3.0) * 0.2));\\n  vec3 tmpvar_23;\\n  tmpvar_23.xy = (xlat_mutableuv1 * tmpvar_22);\\n  tmpvar_23.z = tmpvar_22;\\n  xlat_mutableuv2 = (((tmpvar_23 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  vec4 tmpvar_24;\\n  tmpvar_24.w = 0.0;\\n  tmpvar_24.xyz = (vec3((texture (sampler_noisevol_lq, (xlat_mutableuv2 / 16.0)).x * 3.0)) * 80.0);\\n  float tmpvar_25;\\n  tmpvar_25 = sqrt(dot (tmpvar_24.xyz, tmpvar_24.xyz));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_24.xyz, tmpvar_24.xyz)) / 80.0);\\n  if (((tmpvar_25 < 80.0) && (xlat_mutabledist > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * texture (sampler_main, uv_3).x));\\n    vec2 tmpvar_26;\\n    tmpvar_26 = (0.003472222 * floor((\\n      (288.0 * vec2((1.0 - xlat_mutabledist)))\\n     + vec2(0.5, 0.5))));\\n    vec2 tmpvar_27;\\n    tmpvar_27.x = ((32.0 * (\\n      (1.0 - xlat_mutabledist)\\n     - tmpvar_26.x)) + 0.495);\\n    tmpvar_27.y = tmpvar_26.x;\\n    ret_4.yz = tmpvar_27;\\n  } else {\\n    vec3 tmpvar_28;\\n    tmpvar_28.x = (0.5 * (sustain + 1.0));\\n    tmpvar_28.y = sustain;\\n    tmpvar_28.z = sustain;\\n    vec3 tmpvar_29;\\n    tmpvar_29.y = 0.0;\\n    tmpvar_29.x = (1.0 - sustain);\\n    tmpvar_29.z = (1.0 - sustain);\\n    ret_4 = ((texture (sampler_fw_main, fract(uv_3)).xyz * tmpvar_28) - (0.01 * tmpvar_29));\\n  };\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = ret_4;\\n  ret = tmpvar_30.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 dz_2;\\n  vec3 ret2_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (abs((uv.x - 0.5)) + 0.5);\\n  tmpvar_4.y = uv.y;\\n  uv_1 = (abs((tmpvar_4 - 0.5)) + 0.5);\\n  ret2_3 = (texture (sampler_main, uv_1).xyz * (0.6 + (0.5 * \\n    sin(((uv_1.x * 10.0) + (3.141593 * (q27 + q28))))\\n  )));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = mix (vec3(dot (texture (sampler_main, uv_1).xyz, vec3(0.32, 0.49, 0.29))), ret2_3, pow (ret2_3, vec3((0.15 + \\n    (mid_att * 0.025)\\n  ))));\\n  ret2_3 = tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv_1 - 0.5);\\n  vec2 tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0005, 0.0) * q21);\\n  tmpvar_7.x = (texture (sampler_main, (uv_1 + tmpvar_8)).x - texture (sampler_main, (uv_1 - tmpvar_8)).z);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (vec2(0.0, 0.0005) * q20);\\n  tmpvar_7.y = (texture (sampler_main, (uv_1 + tmpvar_9)).x - texture (sampler_main, (uv_1 - tmpvar_9)).z);\\n  dz_2 = (tmpvar_7 + ((texture (sampler_noise_hq, \\n    (((tmpvar_6 / (\\n      (((0.5 * q26) + (0.5 * q27)) / q16)\\n     + rad)) * ((q23 * 0.1) + (q24 * 0.1))) + q31)\\n  ) - 0.5) * 0.1).xy);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = abs((tmpvar_6 - dz_2));\\n  vec3 tmpvar_11;\\n  float tmpvar_12;\\n  tmpvar_12 = abs(q21);\\n  float tmpvar_13;\\n  tmpvar_13 = abs(q20);\\n  tmpvar_11.x = (tmpvar_13 + tmpvar_12);\\n  float tmpvar_14;\\n  tmpvar_14 = abs(q22);\\n  tmpvar_11.y = (tmpvar_12 + tmpvar_14);\\n  tmpvar_11.z = (tmpvar_14 + tmpvar_13);\\n  vec3 tmpvar_15;\\n  tmpvar_15 = log(exp2((\\n    (3.141593 * tmpvar_11)\\n   * \\n    ((0.7 * texture (sampler_main, uv_1).xyz) + ((pow (\\n      abs((0.03333 / sqrt(dot (tmpvar_10, tmpvar_10))))\\n    , 0.75) * tmpvar_5) * (5.0 + sqrt(mid))))\\n  .yzx)));\\n  vec3 tmpvar_16;\\n  float tmpvar_17;\\n  tmpvar_17 = abs(q24);\\n  float tmpvar_18;\\n  tmpvar_18 = abs(q23);\\n  tmpvar_16.x = (tmpvar_18 + tmpvar_17);\\n  float tmpvar_19;\\n  tmpvar_19 = abs(q25);\\n  tmpvar_16.y = (tmpvar_17 + tmpvar_19);\\n  tmpvar_16.z = (tmpvar_19 + tmpvar_18);\\n  vec2 tmpvar_20;\\n  tmpvar_20 = fract(-(tmpvar_10));\\n  vec2 tmpvar_21;\\n  tmpvar_21 = fract(dz_2);\\n  vec3 tmpvar_22;\\n  tmpvar_22 = log(exp2((\\n    (3.141593 * tmpvar_16)\\n   * texture (sampler_main, \\n    fract(-(abs((tmpvar_20 - \\n      (2.0 * (dot (tmpvar_21, tmpvar_20) * tmpvar_21))\\n    ))))\\n  ).xyz)));\\n  vec3 tmpvar_23;\\n  float tmpvar_24;\\n  tmpvar_24 = abs(q27);\\n  float tmpvar_25;\\n  tmpvar_25 = abs(q26);\\n  tmpvar_23.x = (tmpvar_25 + tmpvar_24);\\n  float tmpvar_26;\\n  tmpvar_26 = abs(q28);\\n  tmpvar_23.y = (tmpvar_24 + tmpvar_26);\\n  tmpvar_23.z = (tmpvar_26 + tmpvar_25);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = log(exp2((\\n    (3.141593 * tmpvar_23)\\n   * texture (sampler_main, \\n    fract(-(tmpvar_10))\\n  ).zxy)));\\n  vec3 tmpvar_28;\\n  tmpvar_28 = mix (tmpvar_15, tmpvar_22, (1.5708 - (1.570796 - \\n    (sign(tmpvar_27) * (1.570796 - (sqrt(\\n      (1.0 - abs(tmpvar_27))\\n    ) * (1.570796 + \\n      (abs(tmpvar_27) * (-0.2146018 + (abs(tmpvar_27) * (0.08656672 + \\n        (abs(tmpvar_27) * -0.03102955)\\n      ))))\\n    ))))\\n  )));\\n  vec3 tmpvar_29;\\n  tmpvar_29 = mix (tmpvar_15, tmpvar_22, tmpvar_27);\\n  vec3 tmpvar_30;\\n  tmpvar_30.z = 0.0;\\n  tmpvar_30.xy = ((uv_1 - 0.5) + (0.4 * dot (texture (sampler_main, uv_1).xyz, vec3(0.32, 0.49, 0.29))));\\n  float x_31;\\n  x_31 = (fract((\\n    (dot (tmpvar_30, vec3(0.32, 0.49, 0.29)) * 3.0)\\n   - time)) - 0.5);\\n  vec4 tmpvar_32;\\n  tmpvar_32.w = 1.0;\\n  tmpvar_32.xyz = ((0.637 * abs(\\n    mix ((1.5708 - (1.570796 - (\\n      sign(tmpvar_29)\\n     * \\n      (1.570796 - (sqrt((1.0 - \\n        abs(tmpvar_29)\\n      )) * (1.570796 + (\\n        abs(tmpvar_29)\\n       * \\n        (-0.2146018 + (abs(tmpvar_29) * (0.08656672 + (\\n          abs(tmpvar_29)\\n         * -0.03102955))))\\n      ))))\\n    ))), (sign(tmpvar_28) * (1.570796 - (\\n      sqrt((1.0 - abs(tmpvar_28)))\\n     * \\n      (1.570796 + (abs(tmpvar_28) * (-0.2146018 + (\\n        abs(tmpvar_28)\\n       * \\n        (0.08656672 + (abs(tmpvar_28) * -0.03102955))\\n      ))))\\n    ))), ((3.0 * q15) * mix ((1.5708 - \\n      (1.570796 - (sign(tmpvar_15) * (1.570796 - (\\n        sqrt((1.0 - abs(tmpvar_15)))\\n       * \\n        (1.570796 + (abs(tmpvar_15) * (-0.2146018 + (\\n          abs(tmpvar_15)\\n         * \\n          (0.08656672 + (abs(tmpvar_15) * -0.03102955))\\n        ))))\\n      ))))\\n    ), (1.5708 - \\n      (1.570796 - (sign(tmpvar_22) * (1.570796 - (\\n        sqrt((1.0 - abs(tmpvar_22)))\\n       * \\n        (1.570796 + (abs(tmpvar_22) * (-0.2146018 + (\\n          abs(tmpvar_22)\\n         * \\n          (0.08656672 + (abs(tmpvar_22) * -0.03102955))\\n        ))))\\n      ))))\\n    ), (\\n      sign(tmpvar_27)\\n     * \\n      (1.570796 - (sqrt((1.0 - \\n        abs(tmpvar_27)\\n      )) * (1.570796 + (\\n        abs(tmpvar_27)\\n       * \\n        (-0.2146018 + (abs(tmpvar_27) * (0.08656672 + (\\n          abs(tmpvar_27)\\n         * -0.03102955))))\\n      ))))\\n    ))))\\n  )) + (exp(\\n    (-20.0 * sqrt((x_31 * x_31)))\\n  ) * q10));\\n  ret = tmpvar_32.xyz;\\n }"}')},"./presets/converted/Geiss + Flexi + Martin - disconnected.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.925,"echo_zoom":1.007,"echo_orient":3,"wave_brighten":0,"brighten":1,"darken":1,"solarize":1,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":1.459,"warpscale":2.007,"fshader":1,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.789,"ang":0.6283,"tex_zoom":1.17257,"r":0,"g":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = 0.65 + bass*0.1;\\n\\nan = an*0.99 + (bass-treb)*0.1;\\nang = an*0.1 + 0.6;"},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.40271,"tex_zoom":2.23888,"g":1,"b":1,"r2":0.08,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"rad":1.21525,"tex_ang":2.57611,"tex_zoom":0.55595,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"x":0.99,"y":0.99,"rad":0.02558,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"r":0,"g":0.04,"b":0,"a":0.99},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .07;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 180;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nmy_x = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4+(t7+1)*t8);\\nmy_y = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4+(t7+1)*t8);\\nmy_z = sin(sample*pi*n)*rd;\\n\\n\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 0.65;\\n\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nb = -z3 + 0.5;\\nb = min(1,max(0,b))*0.5;\\nr = 1-b*2\\n//b = (1 - r)*0.1;\\n//a =  7/(d*16) - 0.1;"},{"baseVals":{"samples":445,"sep":4,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .09;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 160;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nxx = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = -d*t5;\\ns1 = sin(t2*1+w);\\ns2 = sin(t3*1+w);\\ns3 = sin(t4*1+w);\\nc1 = cos(t2*1+w);\\nc2 = cos(t3*1+w);\\nc3 = cos(t4*1+w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.75;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = sample*pi*4-2*time;\\nc=1.6;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\na = 1-(z + a)/2;\\n"},{"baseVals":{"sep":4,"scaling":0.09348,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 100;//0.3;\\nxx = sin(sample*s);//((sample*343)%7 - 3.5)*s;\\nzz = cos(sample*s);//((sample*49)%7 - 3.5)*s;\\nyy = (sample-0.5);//((sample*7)%7 - 3.5)*s;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1/d;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = 1+0*(d)*(t6);//(sample*sin(time*0.3)*0.02-1);\\ns1 = sin(t2*w);\\ns2 = sin(t3*w);\\ns3 = sin(t4*w);\\nc1 = cos(t2*w);\\nc2 = cos(t3*w);\\nc3 = cos(t4*w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 2;\\nzoom = 0.3*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*13+t5*20;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(-z,10)*1.0+0.0;"},{"baseVals":{"samples":484,"sep":4,"usedots":1,"scaling":9.94125,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 0.25;\\nxx = ((sample*(465))%15 - 8)*s*2;\\nyy = ((sample*31)%31 - 16)*s;\\nzz = 0;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nw = 1;\\n\\ns1 = sin(t2*1);\\ns2 = sin(t3*0);\\ns3 = sin(t4*1);\\nc1 = cos(t2*1);\\nc2 = cos(t3*0);\\nc3 = cos(t4*1);\\n\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 500;\\nzoom = 0.05*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*5+t5;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(z,5);"}],"init_eqs_eel":"step = 0;","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, -2+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index + 1;\\nq28 = index2;\\n\\nq29 = ((index%2)-.5)*2;\\n\\nk1 =  is_beat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/8;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n//ds = max ((q26-.2),0);\\n//step = step + ds/10;\\n\\nstep = step + q24 ;\\n\\np3 = p3*dec_slow + (1-dec_slow) * step;\\nq30 = step;\\n\\np4 = dec_slow*p4 + (1-dec_slow)*q27;\\nq31 = p4;\\n\\nq12 = time -t0;\\nmonitor = q12;\\n\\n\\n\\nzoom = 1;\\nrot = -0 ;\\ndx = .00;","pixel_eqs_eel":"zoom = 1.3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (((q29 * 2.0) * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.02)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"uniform sampler2D sampler_rand00;\\n shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((texture (sampler_rand00, (0.4 + \\n    (0.6 * tmpvar_1.xy)\\n  )) * tmpvar_1.z) * 3.0).xyz;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/Geiss - Cauldron - painterly 2 (saturation remix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":2.7,"wave_mode":1,"modwavealphabyvolume":1,"wave_a":2.707,"wave_scale":1.025,"wave_smoothing":0.1,"modwavealphastart":0.77,"modwavealphaend":1.01,"warpscale":1.331,"zoom":1.014,"warp":0.21786,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.350*( 0.60*sin(3.980*time) + 0.40*sin(11.047*time) );\\nwave_g = wave_g + 0.350*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.350*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\ncx = cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.005*( 0.60*sin(0.173*time) + 0.40*sin(0.223*time) );\\ndecay = decay - 0.01*equal(frame%20,0);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (mix (uv, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.37)\\n   * 0.01))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = mix (vec3(dot (tmpvar_1.xyz, vec3(0.3333, 0.3333, 0.3333))), tmpvar_1.xyz, vec3(3.0, 3.0, 3.0));\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/Geiss - Reaction Diffusion 2.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.9,"echo_zoom":1.16936,"wave_mode":7,"modwavealphabyvolume":1,"wave_a":0,"wave_scale":1.015009,"wave_smoothing":0.522,"modwavealphastart":0.83,"modwavealphaend":1.31,"warpscale":3.138,"zoom":1.009006,"warp":0.000536,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\nzoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\nzoom = zoom + max(0,bass_att-1.1)*0.4;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz + ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.4));\\n  vec3 tmpvar_2;\\n  tmpvar_2 = pow (ret_1, vec3(0.5, 0.8, 1.7));\\n  ret_1 = tmpvar_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = tmpvar_2;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/Geiss - Spiral Artifact.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"wave_mode":6,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"wave_a":100,"wave_scale":3.63,"wave_smoothing":0.9,"wave_mystery":-0.3,"modwavealphastart":1.15,"modwavealphaend":1.55,"warpscale":1.331,"zoom":0.96971,"warp":0,"wave_r":0.6,"wave_g":0.6,"wave_b":0.6,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"rot_sum = 0;\\nq2 = 0.07 + 0.04*rand(1000)*0.001 + 0.03*rand(1000)*0.001;\\nq3 = 1.035 + 0.06*(rand(1000)+rand(1000)+rand(1000))*0.000333;","frame_eqs_eel":"wave_r = wave_r + 0.500*( 0.60*sin(1.980*time) + 0.40*sin(3.047*time) );\\nwave_g = wave_g + 0.500*( 0.60*sin(2.835*time) + 0.40*sin(2.081*time) );\\nwave_b = wave_b + 0.500*( 0.60*sin(3.814*time) + 0.40*sin(1.011*time) );\\ncx = 0.5;//cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = 0.5;//cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\n\\nrot = q2;//0.13;//6.28*(rand(737)/737.0 - 0.5) * 0.03;\\nzoom = zoom-1 + q3;\\nrot_sum = rot_sum + rot;\\nq1 = -rot_sum;\\nq5 = cos(rot_sum);\\nq6 = sin(rot_sim);\\nmonitor = q2;\\n\\n// custom beat detection code: (fps-independent; quiet songs don\'t freak out)\\nmin_att    = 2.5;               // lower # = quieter songs can declare beats\\ndecay_to   = 0.8;               // lower # = more hasty to declare a beat\\ndecay_rate = pow(0.9990, fps);  // lower # = more hasty to declare a beat\\nbeat =           bass/max(min_att,bass_att);\\nbeat = max(beat, mid /max(min_att,mid_att ));\\nbeat = max(beat, treb/max(min_att,treb_att));\\nbeat = max( beat, (prev_beat-decay_to)*decay_rate + decay_to );\\nbeat_level     = (beat - prev_beat - 0.02)*24;\\nis_beat = above(beat_level, 0.5);\\nprev_beat = beat;\\n  // put your beat responses HERE:\\n  wave_a = beat_level;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_pw_main, uv).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv2_2;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * (min (aspect.x, aspect.y) * 0.8));\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = sin(q1);\\n  float tmpvar_4;\\n  tmpvar_4 = cos(q1);\\n  uv2_2.x = ((uv_1.x * tmpvar_4) - (uv_1.y * tmpvar_3));\\n  uv2_2.y = ((uv_1.x * tmpvar_3) + (uv_1.y * tmpvar_4));\\n  uv2_2 = (uv2_2 * aspect.zw);\\n  uv2_2 = (uv2_2 + 0.5);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (abs((\\n    (texture (sampler_main, uv2_2).xyz * 2.65)\\n   + \\n    (((texture (sampler_blur1, uv2_2).xyz * scale1) + bias1) * -2.0)\\n  )) * 1.5);\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/Geiss - Thumb Drum.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.16936,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.899719,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":2.593743,"zoom":1.00496,"warp":0.278033,"sx":0.999666,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":0,"mv_y":48,"mv_dx":-0.941273,"mv_dy":0.426319,"mv_l":5,"mv_r":0.315997,"mv_g":0.078173,"mv_b":0.941976,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"rg = 0;","frame_eqs_eel":"wave_r = wave_r + 0.350*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.350*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.350*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.52*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.52*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\nq3 = (cx*2-1) + 0.52*( 0.60*sin(0.174*-time) + 0.40*sin(0.364*time) );\\nq4 = (cy*2-1) + 0.52*( 0.60*sin(0.234*time) + 0.40*sin(0.271*-time) );\\ndecay = decay - 0.01*equal(frame%5,0);\\n\\n// this is a great way to respond to beats:\\n// once you get one, let it decay at a constant rate!!\\nrg = max(rg*0.95, 0.3 + 0.5*min(2,max(0,mid_att-1)*1.3));\\nq9 = rg;","pixel_eqs_eel":"du = x*2-1 - q1;\\ndv = y*2-1 - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = 0.008/(dist+0.4);\\ndx = mult*sin(ang2-1.5);\\ndy = mult*cos(ang2-1.5);\\ndu = x*2-1 - q3;\\ndv = y*2-1 - q4;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = 0.008/(dist+0.4);\\ndx = dx + mult*sin(ang2+1.5);\\ndy = dy + mult*cos(ang2+1.5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = mix (uv_orig, uv, vec2(q9));\\n  ret_1 = texture (sampler_main, tmpvar_2).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur1, tmpvar_2).xyz * scale1) + bias1)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (0.3 + (0.4 * vec3(dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))));\\n  ret = tmpvar_1.xyz;\\n }"}')},"./presets/converted/Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"echo_orient":1,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.9,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":1.331,"zoom":1.004,"warp":0.19788,"sx":0.99967,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":0,"mv_y":48,"mv_dx":-0.941,"mv_dy":0.426,"mv_l":5,"mv_r":0.316,"mv_g":0.078,"mv_b":0.942,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.2*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.2*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.2*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.6*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.6*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );","pixel_eqs_eel":"du = (x*2-1) - q1;\\ndv = (y*2-1) - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv) + time*0.15;\\nmult = 0.65*sin(dist*0.05);\\ndx = mult*sin(ang2*2-1.5);\\ndy = mult*cos(ang2*2-1.5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  vec3 ret_2;\\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\\n  float tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.14;\\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\\n  tmpvar_6.y = (tmpvar_5 - ((\\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\\n   + \\n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\\n  ) + (\\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\\n   * 0.1)).x);\\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\\n  vec2 x_7;\\n  x_7 = (ret_2.xy - 0.5);\\n  ret_2 = (ret_2 * clamp ((\\n    sqrt(dot (x_7, x_7))\\n   * 5.0), 0.0, 1.0));\\n  ret_2 = ret_2.xxy;\\n  ret_2 = (ret_2 + 1.15);\\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \\n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  ), pow (hue_shader.yxz, ret_2)));\\n  ret_2 = (ret_2 * ret_2);\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_2;\\n  ret = tmpvar_8.xyz;\\n }"}')},"./presets/converted/Goody - The Wild Vort.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.4,"decay":1,"echo_zoom":0.997,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.28,"wave_smoothing":0.9,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":2.599,"warpscale":0.01,"zoomexp":0.99817,"zoom":0.86978,"warp":0.01,"sy":1.0017,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.04,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0.2},"shapes":[{"baseVals":{"enabled":1,"sides":20,"additive":1,"textured":1,"rad":1.99867,"tex_zoom":0.49486,"g":1,"b":1,"a":0.75,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"textured":1,"y":0.85,"rad":0.4404,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"textured":1,"x":0.8,"rad":0.44044,"tex_zoom":0.99991,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":40,"additive":1,"thickoutline":1,"textured":1,"y":0.51,"rad":0.36457,"tex_ang":1.88496,"tex_zoom":1.00182,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"bass_mod=max(x+abs(bass_att),x+sin(time));\\n\\ny=.5+.5*sin(time);\\nx=bass_mod*pow(y,2);\\n\\na=if(above(x,y),0,a);\\na2=a;\\nborder_a=.1*a;\\n\\ntex_zoom=bass+mid;\\n\\nr=bass*.5;\\ng=mid*.6;\\nb=treb*.7;"}],"waves":[{"baseVals":{"thick":1,"smoothing":1,"a":0,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.85*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*bass),x);\\n\\nr=bass*.75;\\ng=mid*.3;\\nb=treb*.25;"},{"baseVals":{"thick":1,"smoothing":1,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.5*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*mid),x);\\n\\nr=bass*.3;\\ng=mid*.75;\\nb=treb*.2;"},{"baseVals":{"thick":1,"smoothing":1,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.25*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*treb),x);\\n\\nr=bass*.2;\\ng=mid*.3;\\nb=treb*.75;"},{"baseVals":{"thick":1,"additive":1,"smoothing":1,"a":0.05,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5-(pow(sin(time),y)+(.55-y));\\nx=if(above(x,y),y+sin(time)+(1-y),x);\\n\\nvol=(bass+mid+treb)*.333;\\n\\nr=bass*.5;\\ng=mid*.5;\\nb=treb*.5;"}],"init_eqs_eel":"decay=0.1;","frame_eqs_eel":"sx=1;\\nsy=1;\\n\\nredsine=.5+.15*bass*sin(time*3);\\ngreensine=.5+.15*mid*sin(time*2);\\nbluesine=.5+.15*treb*sin(time);\\n\\nredif=.9*if(above(bass,1.2),redsine,if(above(redif,.95),0,redif*.98));\\ngreenif=.8*if(above(mid,1.2),greensine,if(above(greenif,.95),0,greenif*.8));\\nblueif=.8*if(above(treb,1.2),bluesine,if(above(blueif,.95),0,blueif*.8));\\n\\nib_r=redif;\\nib_g=greenif;\\nib_b=blueif;","pixel_eqs_eel":"ang2=sin(ang*3+time+(.05*sin(time*above(mid_att,1.2))));\\n\\nrot=1.2*(ang2);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - texture (sampler_main, uv).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, (\\n    (vec2(-1.003, 1.003) * (uv - 0.5))\\n   + 0.5)).xyz, vec3(0.5, 0.5, 0.5)) * 2.4);\\n  ret_1 = (ret_1 * ret_1);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/Halfbreak - Funny Madness.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":0.99,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken_center":1,"darken":1,"invert":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":2.853,"zoomexp":3.6,"zoom":1.02109,"rot":-0.16,"warp":0.309,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"sides":39,"additive":1,"num_inst":126,"rad":0.06989,"tex_ang":0.62832,"a":0,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"sides":41,"additive":1,"num_inst":239,"rad":0.06989,"tex_ang":0.62832,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"sides":43,"additive":1,"num_inst":32,"rad":0.06989,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"sides":14,"rad":0.15964,"tex_ang":0.62832,"a":0,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.400*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\nwave_g = wave_g + 0.400*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\nwave_b = wave_b + 0.400*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\nq8 = oldq8+if(above(bass+bass_att,1.8),q8+0.0005*pow((bass+bass_att-1),9),0);\\noldq8 = q8;\\nmonitor = q8;\\nzoom = zoom + 0.023*( 0.60*sin(0.339*q8) + 0.40*sin(0.276*q8) );\\nrot = rot + 0.030*( 0.60*sin(0.381*q8) + 0.40*sin(0.579*q8) );\\n//decay = decay - 0.02*equal(frame%40,0);\\nmv_r = wave_r;\\nmv_b = wave_b;\\nmv_g = wave_g;\\nmv_x = 1.25;\\nmv_y = 1.25;\\nmv_dx = 0.1*sin(1.1*time);\\nmv_dy = 0.1*cos(1.112*time);","pixel_eqs_eel":"rot=rot+1/(10*(rad+0.2+0.1*sin(q8)));","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  float blur_2;\\n  float crisp_3;\\n  vec3 ret_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_blur1, uv);\\n  ret_4 = (tmpvar_5.xyz + ((\\n    (tmpvar_6.xyz * scale1)\\n   + bias1) * 3.0));\\n  uv2_1 = (((uv - 0.5) * 0.8) + 0.5);\\n  crisp_3 = texture (sampler_main, uv2_1).y;\\n  blur_2 = ((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1).y;\\n  ret_4 = (ret_4 * (1.0 - (blur_2 * 1.15)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = max (ret_4, vec3(crisp_3));\\n  uv2_1 = uv;\\n  crisp_3 = tmpvar_5.x;\\n  blur_2 = ((tmpvar_6.xyz * scale1) + bias1).x;\\n  ret_4 = (tmpvar_7 * (1.0 - (blur_2 * 1.15)));\\n  vec3 tmpvar_8;\\n  tmpvar_8 = max (ret_4, tmpvar_5.xxx);\\n  ret_4 = tmpvar_8;\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = tmpvar_8;\\n  ret = tmpvar_9.xyz;\\n }"}')},"./presets/converted/Halfbreak - Light of Breakers.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0,"wave_mystery":0.6,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.6,"b3x":0.4,"b1ed":0},"shapes":[{"baseVals":{"sides":8,"additive":1,"num_inst":256,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"additive":1,"num_inst":256,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"n = (instance);\\nFLen = reg00;\\nSLen = reg00/2;\\n\\nz0 = 10;\\ny0 = gmegabuf(2000+n+FLen)/z0;\\nx0 = gmegabuf(2000+n)/z0;\\n\\na0 = (gmegabuf(n+10000));\\n\\nk1 = instance/num_inst-.5;\\nx = .5 + x0 + sin(k1*8*sin(q12*.07)) * sin(q11*.13)*q3*.7; \\ny = .5 + q32*(y0 + sin(k1*8*sin(q14*.1)) * sin(q13*.2)*q3*.7); \\n\\narg = q2/8;\\nhigh = exp(-500*pow(arg+.5-instance/num_inst,2));\\nhigh += exp(-500*pow(-arg+.5-instance/num_inst,2));\\n\\nexc = sqrt((pow(x-.5,2)+pow(y-.5,2)));\\nrad0 = above(z0,0)*min (.1, a0/60)+.005;\\nrad0 = rad0 * (1+2*exc) * (1+high);\\n\\np1 = .5 + sin(q12)/2;\\np2 = .5 + sin(q13*1.4)/2;\\n//p1 = rand(1)-.5;\\n//p2 = rand(1)-.5;\\nexc = ((pow(x-p1,2)+pow(y-p2,2)));\\nrad = min(rad0 * (1 + .004*q3/abs(exc)),1) ;\\n\\na = min(a0*8+.4,1);\\n\\nk1 = instance/num_inst*5 + high;\\nw = 1-exp(-treb_att/2-.5);\\ng = w + (1-w)*sin(k1);\\nr = w + (1-w)*sin(k1-6.28/3);\\nb = w + (1-w)*sin(k1-6.28*2/3);\\n\\na2 = a/4;\\ng2 = g*0; b2 = b*0; r2 = r*0;"},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"k1 = instance/num_inst;\\nx = .5 + .3*sin(instance*k1*413);\\ny = .5 + .3 * sin(instance*k1*113);\\n\\nrad = .1 + .4*sin(k1*333);\\n\\nr =  .5*sin(k1*234);\\nb =  .5*sin(k1*534);\\ng =  .5*sin(k1*34);"},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"spectrum":1,"additive":1,"scaling":7.52386,"smoothing":0,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"FLen = reg00;\\n\\nn = int(sample*FLen);\\nvol = (value1+value2) * (1+ .1 / (sample+.03));\\n\\nchg = min(max(vol- gmegabuf(n),-1),1);\\ndec = if (chg>0, 1-chg*0.3, 1+chg*0.2);\\n\\nchg = q1 -q2;\\ndec = .94 - abs(chg) * if (chg> 0, .2,.1);\\n\\ndec = min(max(dec,0),1);\\ngmegabuf(n) = gmegabuf(n)*dec + vol*(1-dec);\\n\\ndec = q2/4;\\n//dec = .90;\\ndec = max(min(dec,1),.1);\\n\\ngmegabuf(n) = gmegabuf(n)*dec + gmegabuf(n+(q2<.8))*(1-dec);\\ngmegabuf(n+10000) = gmegabuf(n+10000)*.2 + .8* vol/3;\\na = .0;\\nx = sample;\\ny = .2 + gmegabuf(n+0)*.23;"},{"baseVals":{"samples":256,"usedots":1,"scaling":0.89152,"smoothing":0.82,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":32,"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0;\\nloop (50000,\\ngmegabuf(n) = 0;\\nmegabuf(n) = 0;\\nn = n+1;\\n);\\n\\nsw1 = rand(8);\\nsw2 = rand(8);\\nsw3 = rand(8);\\nsw4 = rand(8);","frame_eqs_eel":"flen = 512; //Wave Punkte\\nreg00 = FLen;\\nSLen = FLen/2;\\ndec_m = pow(.94, 30/fps);\\n\\n//Volume\\nn = 0; vol = 0;\\nloop (SLen,\\n  vol = vol + pow(gmegabuf(n),2)/FLen;  \\n  n = n+1;\\n);\\nvol = sqrt(vol)/2;\\nvol_ = vol_*dec_m + (1-dec_m)* (vol);\\n\\n//switches\\nlev1 = lev1 * dec_m + (1-dec_m) * gmegabuf(1);\\nlev2 = lev2 * dec_m + (1-dec_m) * gmegabuf(20);\\nlev3 = lev3 * dec_m + (1-dec_m) * gmegabuf(50);\\nlev4 = lev4 * dec_m + (1-dec_m) * gmegabuf(100);\\nsw1 = sw1 + (lev1-gmegabuf(1)>0)/fps;\\nsw2 = sw2 + (lev2-gmegabuf(20)>0)/fps;\\nsw3 = sw3 + (lev3-gmegabuf(50)>0)/fps;\\nsw4 = sw4 + (lev4-gmegabuf(100)>0)/fps;\\n\\ndif = (1+sin(sw3/4))*16+2;\\nofs = sin(sw2/3)*8;\\nn = 0; k1 = frame*0; \\nloop (SLen,\\n      m1 = (n)%SLen;\\n      m2 = (n+ofs)%SLen;\\n\\n      k = (m1+dif)%SLen;\\n      i = (SLen+m2-dif)%SLen;\\n\\n      in1 = (gmegabuf(m1)-gmegabuf(k))/pow(vol_+.03,.8)*1.2;\\n      in2 = (gmegabuf(m2)-gmegabuf(i))/pow(vol_+.03,.8)*1.2;\\n\\n      dec = if (pow(gmegabuf(2000+n),2) + pow(gmegabuf(2000+FLen+n),2)> in1*in1+in2*in2,.8,.94) ;\\n      dec = pow (dec, 30/fps); \\n\\n      gmegabuf(2000+n) =       gmegabuf(2000+n)*dec      +(1-dec)* in1;\\n      gmegabuf(2000+FLen+n) =  gmegabuf(2000+FLen+n)*dec +(1-dec)* in2;\\n      n=n+1;\\n);\\n\\nq1 = (bass+treb+mid)/3;\\nq2 = (bass_att+treb_att+mid_att)/3;\\nq3 = vol_;\\nq11 = sw1;\\nq12 = sw2;\\nq13 = sw3;\\nq14 = sw4;\\n\\nrot = 0; zoom = .98; warp = .3; rot = 0;\\n\\nq32 = aspecty;\\nmonitor = dif;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  uv_1 = uv;\\n  vec2 zz_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (uv - vec2(0.5, 0.5));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (0.016 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy))).xyz;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (0.8 * sin((tmpvar_3 * 8.0)));\\n  float tmpvar_6;\\n  tmpvar_6 = clamp ((0.01 / sqrt(\\n    dot (tmpvar_5, tmpvar_5)\\n  )), 0.0, 1.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((-(tmpvar_3) * texsize.xy) * q26);\\n  zz_2 = tmpvar_7;\\n  if ((q25 == 1.0)) {\\n    zz_2 = (tmpvar_7 * (abs(tmpvar_3.y) / abs(tmpvar_3.x)));\\n  } else {\\n    if ((q25 == 2.0)) {\\n      zz_2 = (zz_2 * (abs(tmpvar_3.y) - abs(tmpvar_3.x)));\\n    };\\n  };\\n  uv_1 = (uv + ((\\n    clamp ((sin(zz_2) / cos(zz_2)), vec2(-20.0, -20.0), vec2(20.0, 20.0))\\n   * texsize.zw) * 4.0));\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = (((\\n    (0.95 * (texture (sampler_main, uv_1) + tmpvar_6).xyz)\\n   + tmpvar_4) - 0.02) - (0.06 * (\\n    (texture (sampler_blur2, uv_1).xyz * scale2)\\n   + bias2).x));\\n  ret = tmpvar_8.xyz;\\n }","comp":"vec3 xlat_mutableblur;\\nvec3 xlat_mutableret1;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 uv2_2;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (0.02 * q27);\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv_1 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, (\\n    (uv_1 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * 0.0007962743) - (uv_1.y * 0.9999997));\\n  uv2_2.y = ((uv_1.x * 0.9999997) + (uv_1.y * 0.0007962743));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * -0.9999987) - (uv_1.y * 0.001592548));\\n  uv2_2.y = ((uv_1.x * 0.001592548) + (uv_1.y * -0.9999987));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * -0.00238894) - (uv_1.y * -0.9999971));\\n  uv2_2.y = ((uv_1.x * -0.9999971) + (uv_1.y * -0.00238894));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));\\n  uv2_2.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (xlat_mutableret1 * 1.5);\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":2,"wave_a":0.001,"warpanimspeed":2.13,"warpscale":2.498,"zoomexp":0.67288,"zoom":1.025,"warp":0.36146,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_r":0.8,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = x*0.6;\\ny*0.9 + 0.05 + bass*0.08;\\n\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.22 + x);\\ng = 0.5 + 0.4*sin(time*1.307 + y);\\nb = 0.5 + 0.4*sin(time*1.959 + x/y);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y + bass*0.01;\\n//y = y*0.5 + 0.25;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.22 + x);\\ng = 0.5 + 0.4*sin(time*1.307 + y);\\nb = 0.5 + 0.4*sin(time*1.959 + x/y);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = x*0.6;\\ny = y*0.9 - 0.05 + bass*0.08;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.789 + y);\\ng = 0.5 + 0.4*sin(time*1.478 + x);\\nb = 0.5 + 0.4*sin(time*1.125 + y/x);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y*0.9 - 0.05 + bass*0.08;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.789 + y);\\ng = 0.5 + 0.4*sin(time*1.478 + x);\\nb = 0.5 + 0.4*sin(time*1.125 + y/x);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;\\n//warp = 0;\\nr = r*0.9 + (bass-treb)*0.5;\\nrot = r*0.02;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (1.0 - q4);\\n  tmpvar_2.y = q8;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (tmpvar_2 + ((uv - tmpvar_2) * 0.992));\\n  ret_1 = (mix (mix (vec3(0.0, 0.0, 0.2), vec3(0.3, 0.0, 1.0), texture (sampler_fw_main, tmpvar_3).yyy), vec3(1.0, 1.0, 0.0), vec3(max (\\n    (((texture (sampler_blur1, tmpvar_3).xyz * scale1) + bias1).z * 1.5)\\n  , texture (sampler_main, \\n    (tmpvar_2 + ((uv - tmpvar_2) * 0.996))\\n  ).z))) * (1.0 - (\\n    ((texture (sampler_blur1, tmpvar_3).xyz * scale1) + bias1)\\n  .x * 2.0)));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = mix (ret_1, vec3(1.0, 0.1, 0.4), texture (sampler_fw_main, uv).xxx);\\n  ret_1 = tmpvar_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = tmpvar_4;\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/LuxXx - Play v3 (the war within all of us).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.78,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":100,"wave_scale":28.599,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"ob_size":0,"ob_b":0.2,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_a":1,"mv_l":1.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0,"b1x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.40031,"r":0.5,"g":0.5,"r2":0.5,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\n\\nrad=rad*sounds*0.6;\\n\\nr=r+sin(bass)*g;\\ng=g+sin(mid)*g;\\n\\n\\nx=x+0.207*cos(time*bass*0.1);\\ny=y+0.207*sin(time*bass*0.1);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"r2":1,"a2":0.3,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ng2=g2+0.09*sin((treb+mid)*1.23);\\ng=g+0.09*cos((bass+mid)*1.37);\\n\\nsounds=(bass+mid+treb)/3;\\n\\nrad=rad*(treb+mid)/3;\\n\\nx=x+0.300*sin(time*bass);\\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"r2":0.5,"g2":0.5,"b2":1,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\nr2=r2+(0.25*sin(time*6.28))-bass;\\ng2=g2+(0.25*sin(time*6.28))-bass;\\n\\nrad=rad;\\nx=x+0.217*cos(time*2.3)+sounds*0.1;\\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r=r+0.5*sin(treb*1.13);\\ng=g+0.5*sin(bass*1.33);\\nb=b+0.5*sin(mid*1.23);","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.8, 30/fps);\\ndec_slow = pow (0.9, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%5;\\nmonitor = index2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nsb = sb*dec_med + q21*(1-dec_med);\\nq29 = sb;\\n\\nk1 =  is_beat*bnot(index)*bnot(index2);\\np1 =  (index2-2);\\n\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nq5 = cos(p3*3.14/2);\\n\\nrott =  rott +  .003*30/fps*p3;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nmovx = movx + .002*30/fps;\\nq28 = movx;\\n\\nq15 = (1+sin(time/23))*.15;\\nq29 = 4*(.5+sin(time/17));\\nq30 = 5/(1.2+sin(time/50)); \\nq31 = sin(time/38)/3;\\nq32 = 2+sin(time/18);\\n\\nwarp = .06;\\nzoom = .998;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  uv_1 = (uv + (vec2(0.0, 0.01) * dot (\\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  , vec3(0.32, 0.49, 0.29))));\\n  uv6_2 = (0.4 * sin((\\n    (uv_1 * 8.0)\\n   + \\n    (rand_frame * 6.0)\\n  .xy)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (((\\n    (texture (sampler_main, uv_1).xyz - (((texture (sampler_blur2, \\n      fract(uv_1)\\n    ).xyz * scale2) + bias2) * 0.03))\\n   + \\n    (0.1 * (vec3((0.1 / sqrt(\\n      dot (uv6_2, uv6_2)\\n    ))) * ((1.0 + roam_cos) / 2.0).xyz))\\n  ) * 0.99) - 0.02);\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableblur;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  float ang2_4;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = cos(q30);\\n  float tmpvar_6;\\n  tmpvar_6 = sin(q30);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_5) - (uv_1.y * tmpvar_6));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_6) + (uv_1.y * tmpvar_5));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract(q29));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (2.093333 + q30);\\n  float tmpvar_7;\\n  tmpvar_7 = cos(ang2_4);\\n  float tmpvar_8;\\n  tmpvar_8 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_7) - (uv_1.y * tmpvar_8));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_8) + (uv_1.y * tmpvar_7));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((0.3333333 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (4.186667 + q30);\\n  float tmpvar_9;\\n  tmpvar_9 = cos(ang2_4);\\n  float tmpvar_10;\\n  tmpvar_10 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_9) - (uv_1.y * tmpvar_10));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_10) + (uv_1.y * tmpvar_9));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((0.6666667 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (6.28 + q30);\\n  float tmpvar_11;\\n  tmpvar_11 = cos(ang2_4);\\n  float tmpvar_12;\\n  tmpvar_12 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_11) - (uv_1.y * tmpvar_12));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_12) + (uv_1.y * tmpvar_11));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((1.0 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = (xlat_mutableret1 - 0.1);\\n  ret = tmpvar_13.xyz;\\n }"}')},"./presets/converted/Martin - acid wiring.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":0.527429,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":0.442,"warpscale":0.498,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":0.05,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/3;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3);\\n\\n\\n\\ncent = sqrt((x-.5)*(x-.5)+(y-.5)*(y-.5));\\n\\nrad = .1*cent;\\na = .8;"},{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"x":0.26,"y":0.2,"rad":0.393173,"tex_zoom":1.392831,"r":0,"g":0.55,"b":0.5,"a":0.9,"g2":0.4,"b2":0.4,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"trig = q24;\\n\\ntextured = 1;\\n\\nx0 = x0*bnot(trig) + trig*(.2+ rand(100)/200); \\ny0 = y0*bnot(trig) + trig*(.2+ rand(100)/200); \\n\\n\\nx0 = x0 + .03*q1*(3+q26)/fps;\\ny0 = y0 + .03*q2*(3+q26)/fps;\\n\\nx0 = x0 - int(x0);\\ny0 = y0 - int(y0);\\n\\ntex_ang = time;\\n//tex_zoom = q1;\\nang = time*q2;\\nx = x0; y = y0;\\nrad0 = rad0*bnot(trig) + trig*rand(100)/200;\\nrad = rad0;\\n\\n\\nr0 = r0*bnot(trig) + trig * rand(10)/10;\\nb0 = b0*bnot(trig) + trig * rand(10)/10;\\ng0 = g0*bnot(trig) + trig * rand(10)/10;\\n\\nborder_r = r0; border_g = g0; border_b = b0;\\n\\nr = r0; b = b0; g = g0;"},{"baseVals":{"additive":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(50)/50;\\ny = .5 - 0*rand(15)/200;\\n\\nr = .4;\\ng = .6;\\nb = 1;\\nr2 = r;\\ng2 = g;\\nb2 = b;\\n\\na = min(q21/2 ,.9);\\nrad = a * (.1+abs(x-.5))/2 ;"},{"baseVals":{"thickoutline":1,"textured":1,"x":0.26,"y":0.76,"rad":0.39478,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"a2":0.8,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tex_zoom = q27/2;"}],"waves":[{"baseVals":{"samples":282,"sep":20,"thick":1,"additive":1,"scaling":3.915805,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nx = sample;\\ny = value1 * rand(50)/100 * abs(sample-.5)+ .49;\\n\\na = q26/4 * (.2 + abs(sample-.5)); "},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15; "},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"dirx = 1;","frame_eqs_eel":"dec_med = pow (0.6, 30/fps);\\ndec_slow = pow (0.9, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\nava = ava*dec_slow + q26*(1-dec_slow);\\n\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/2;\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nq27 = 8-index;\\nq28 = .5 + sin(time/7)/10;\\n\\nrm = min(q26-1.5*ava,2);\\nmov = is_beat*rm + (1-is_beat)*mov;\\n\\nmovez = movez + .4/fps*mov;\\nq30 = movez;\\n//**************************\\n\\nampl = q26/8;\\n\\nmovex = movex + .2/fps*sin(rott);\\nmovey = movey + .2/fps*cos(rott);\\n\\nq18 = movex; q19 = movey;\\ntrel = trel + 1/fps + q24;\\nq17 = 2*sin(trel/4);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (((q28 * 2.0) * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-16.0, -16.0), vec2(16.0, 16.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 12.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.04)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers2;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_3;\\n  float dist_4;\\n  float ang2_5;\\n  vec2 uv2_6;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  dist_4 = 1.0;\\n  inten_3 = 1.0;\\n  xlat_mutableret1 = vec3(0.0, 0.0, 0.0);\\n  for (float n_2 = 0.0; n_2 <= 4.0; n_2 += 1.0) {\\n    vec2 uv3_7;\\n    ang2_5 = ((6.28 * n_2) / 4.0);\\n    float tmpvar_8;\\n    tmpvar_8 = cos(ang2_5);\\n    float tmpvar_9;\\n    tmpvar_9 = sin(ang2_5);\\n    uv2_6.x = ((uv_1.x * tmpvar_8) - (uv_1.y * tmpvar_9));\\n    uv2_6.y = ((uv_1.x * tmpvar_9) + (uv_1.y * tmpvar_8));\\n    uv2_6 = (uv2_6 * aspect.yx);\\n    dist_4 = (1.0 - fract((\\n      (0.25 * n_2)\\n     + q30)));\\n    inten_3 = ((sqrt(dist_4) * (1.0 - dist_4)) * 4.0);\\n    vec2 tmpvar_10;\\n    tmpvar_10.x = tmpvar_8;\\n    tmpvar_10.y = tmpvar_9;\\n    uv3_7 = (fract((\\n      ((3.0 * uv2_6) * dist_4)\\n     + \\n      (0.3 * q27)\\n    )) + (q17 * tmpvar_10));\\n    xlat_mutableneu = (texture (sampler_main, uv3_7).xyz - ((texture (sampler_blur2, \\n      ((uv3_7 * 1.02) * q1)\\n    ).xyz * scale2) + bias2));\\n    xlat_mutableneu = (xlat_mutableneu * vec3(greaterThanEqual (xlat_mutableneu, vec3(0.0, 0.0, 0.0))));\\n    xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_3));\\n  };\\n  xlat_mutablers2 = ((0.4 * cos(\\n    ((uv_1 * 13.0) + time)\\n  )) - dot (xlat_mutableret1, vec3(0.32, 0.49, 0.29)));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = (xlat_mutableret1 + ((\\n    ((0.05 / sqrt(dot (xlat_mutablers2, xlat_mutablers2))) * q26)\\n   / 4.0) * hue_shader));\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/Martin - charisma.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_dots":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.33064,"wave_scale":0.897961,"wave_smoothing":0.108,"wave_mystery":0.1,"modwavealphastart":0.72,"modwavealphaend":1.28,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.5,"wave_b":0.5,"wave_y":0.54,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":24.799994,"mv_dy":0.16,"mv_l":1.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":3,"rad":0.312746,"tex_zoom":0.179142,"r":0.82,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"xy=0.5+rand_frame;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":352,"usedots":1,"additive":1,"scaling":0.038558,"smoothing":0.2,"g":0},"init_eqs_eel":"","frame_eqs_eel":"q1=bass_att;","point_eqs_eel":"r = abs (sin (frame /38));\\ng = 0.5*abs (cos (frame /45));\\nb = 0.5*abs (sin (frame / 133));\\na = 0.3;\\nt02 = t02 + q1/10;\\nratio = sin (frame/49);\\n\\nampl = 0.01+0.4*sqr(sin ((frame ) / 18)* cos (frame / 123));\\n\\nx1 = (r-0.5)/15 +0.5 + ampl* sin (sample*6.28);\\ny1 = (b-0.5)/15+0.5 + ampl* cos (sample*6.28);\\n\\nx =  x1+1*0.2*(ampl+ratio )*sin ( sample*6.28 * ratio*7.3);\\ny =  y1+1*0.2*(ampl+ratio )*cos ( sample*6.28*6);\\n"},{"baseVals":{"samples":15,"scaling":2.063781,"smoothing":0.8,"r":0.8,"g":0,"b":0.6,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":112,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"clear = 0.5;","frame_eqs_eel":"dec_med = pow (0.96, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3*3.1416/4;\\n\\nrot1 = rot1 + q26;\\nq25 = .01*rot1;\\n\\nq27 = 8-index;\\nq28 = index3;\\n\\ndx1 = dec_med*dx1 + (1-dec_med)*bnot(index2);\\nq29 = dx1;\\nmonitor = q29;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = 1.5*cos(time/9);\\nq6 = .5*sin(time/7);\\n\\nclear = clear *dec_med + 1-dec_med;\\nq32 = clear;\\n\\nmov = bnot(q24)*movex + (rand(100)/100-50)*q2;\\nmovex = movex + .2/fps *q2;\\nq18 = movex;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv6_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (rand_frame * 64.0).x;\\n  uv6_1 = (0.5 * cos((\\n    ((tmpvar_2 * mat2(0.7, -0.7, 0.7, 0.7)) * 17.0)\\n   + \\n    (rand_frame * 6.0)\\n  .xy)));\\n  float x_4;\\n  x_4 = (uv6_1.x + uv6_1.y);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ((0.147 * (\\n    (texture (sampler_main, (uv + clamp ((\\n      (sin(tmpvar_3) / cos(tmpvar_3))\\n     * \\n      normalize(tmpvar_2)\\n    ), vec2(-8.0, -8.0), vec2(8.0, 8.0)))).xyz + (0.15 * (vec3((0.01 / \\n      sqrt((x_4 * x_4))\\n    )) * roam_cos.xyz)))\\n   - 0.02)) + ((0.85 * \\n    (texture (sampler_main, uv_orig).xyz - 0.002)\\n  ) * q32));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  vec3 ret_4;\\n  uv_1 = (uv - 0.5);\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 2.0);\\n  dist_3 = (1.0 - fract(tmpvar_5));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.y = 0.4;\\n  tmpvar_6.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_6);\\n  vec2 tmpvar_7;\\n  tmpvar_7.y = 0.0;\\n  tmpvar_7.x = texsize.z;\\n  vec2 tmpvar_8;\\n  tmpvar_8.y = 0.0;\\n  tmpvar_8.x = texsize.z;\\n  xlat_mutabledz.x = (inten_2 * dot ((texture (sampler_main, \\n    (xlat_mutableuv3 + tmpvar_7)\\n  ).xyz - texture (sampler_main, \\n    (xlat_mutableuv3 - tmpvar_8)\\n  ).xyz), vec3(0.32, 0.49, 0.29)));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = 0.0;\\n  tmpvar_9.y = texsize.w;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = 0.0;\\n  tmpvar_10.y = texsize.w;\\n  xlat_mutabledz.y = (inten_2 * dot ((texture (sampler_main, \\n    (xlat_mutableuv3 + tmpvar_9)\\n  ).xyz - texture (sampler_main, \\n    (xlat_mutableuv3 - tmpvar_10)\\n  ).xyz), vec3(0.32, 0.49, 0.29)));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_11;\\n  tmpvar_11.y = 0.4;\\n  tmpvar_11.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_11);\\n  vec2 tmpvar_12;\\n  tmpvar_12.y = 0.0;\\n  tmpvar_12.x = texsize.z;\\n  vec2 tmpvar_13;\\n  tmpvar_13.y = 0.0;\\n  tmpvar_13.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_12)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_13)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = 0.0;\\n  tmpvar_14.y = texsize.w;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = 0.0;\\n  tmpvar_15.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_14)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_15)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_16;\\n  tmpvar_16.y = 0.4;\\n  tmpvar_16.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_16);\\n  vec2 tmpvar_17;\\n  tmpvar_17.y = 0.0;\\n  tmpvar_17.x = texsize.z;\\n  vec2 tmpvar_18;\\n  tmpvar_18.y = 0.0;\\n  tmpvar_18.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_17)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_18)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = 0.0;\\n  tmpvar_19.y = texsize.w;\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = 0.0;\\n  tmpvar_20.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_19)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_20)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_21;\\n  tmpvar_21.y = 0.4;\\n  tmpvar_21.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_21);\\n  vec2 tmpvar_22;\\n  tmpvar_22.y = 0.0;\\n  tmpvar_22.x = texsize.z;\\n  vec2 tmpvar_23;\\n  tmpvar_23.y = 0.0;\\n  tmpvar_23.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_22)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_23)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = 0.0;\\n  tmpvar_24.y = texsize.w;\\n  vec2 tmpvar_25;\\n  tmpvar_25.x = 0.0;\\n  tmpvar_25.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_24)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_25)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  uv_1 = (uv_1 + xlat_mutabledz);\\n  vec2 tmpvar_26;\\n  tmpvar_26.x = q5;\\n  tmpvar_26.y = q6;\\n  xlat_mutableuv4 = (uv_1 - (0.4 * tmpvar_26));\\n  float tmpvar_27;\\n  tmpvar_27 = (0.1 * clamp ((1.0/(\\n    (abs(uv_1.y) + 0.1)\\n  )), 0.0, 12.0));\\n  vec2 tmpvar_28;\\n  tmpvar_28.x = (uv_1.x * tmpvar_27);\\n  tmpvar_28.y = tmpvar_27;\\n  vec3 tmpvar_29;\\n  tmpvar_29.xy = vec2(0.0, 0.0);\\n  tmpvar_29.z = clamp ((1.0 - (3.0 * uv_1.y)), 0.0, 1.0);\\n  ret_4 = (vec3(0.0, 0.1, 0.1) + (0.1 * tmpvar_29));\\n  ret_4 = (ret_4 + (vec3(dot (texture (sampler_noise_hq, \\n    (tmpvar_28 + (0.1 * time))\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) * (\\n    (clamp ((1.0 - (12.0 * uv_1.y)), 0.0, 1.0) * 0.1)\\n   / \\n    (0.05 + sqrt(dot (xlat_mutableuv4, xlat_mutableuv4)))\\n  )));\\n  ret_4 = (ret_4 + ((0.4 * xlat_mutableret1) + (xlat_mutableret1 * q22)));\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = ret_4;\\n  ret = tmpvar_30.xyz;\\n }"}')},"./presets/converted/Martin - liquid arrows.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.780001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":5.552,"wave_smoothing":0.504,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0,"wave_b":0,"ob_size":0.06,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1x":0.6999,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"y":0.9,"rad":0.15493,"tex_zoom":0.77977,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"textured":1,"rad":0.986,"tex_ang":3.14159,"tex_zoom":0.99979,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"enabled":1,"sides":5,"additive":1,"x":0.9,"rad":0.22613,"g":0.6,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.05 + rand(900)/1000;\\ny = 0.05 + rand(900)/1000;\\nang = rand(320)/100;\\n "},{"baseVals":{"sides":36,"additive":1,"rad":0.18717,"r":0,"g":0.12,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"spectrum":1,"usedots":1,"additive":1,"scaling":0.5033,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"index4 = rand(2);\\nindex3 = rand(4);","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%4;\\nindex4 = (index4 + is_beat*bnot(index)*bnot(index2)*bnot(index3))%2;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nready = is_beat * bnot(ready) + bnot(is_beat2)*ready;\\nis_beat2 = ready * above (time, t0+.2);\\nq19 = is_beat2;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = index+1;\\nq28 = index2+1;\\nq29 = index3*4+1;\\nq30 = index4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nsp0 = dec_slow*sp0 + (q24+.05)*(1-dec_slow);\\ngo = go * dec_med + (1-dec_med)*(1-bnot(index2+index3));\\nmovez = movez + .015*30/fps * go ;\\nq31 = movez;\\nq32 = .5 + .02*sin(time/5);\\n\\nq5 = index4%2;\\n\\nzoom = 1.0; rot = 0;\\n\\ndx = .05*max(sin(time/9.7)-.95,0);\\ndy = .002*(1-go);\\nrot = 50*(dx-dy);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.03);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (cos((tmpvar_1.y * q1)) * sin(-(tmpvar_1.y)));\\n  tmpvar_2.y = (sin(tmpvar_1.x) * cos((tmpvar_1.y * q2)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, (uv - \\n    ((tmpvar_2 * texsize.zw) * 18.0)\\n  )).xyz * 0.99) - 0.01);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_3.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) + 1.8)\\n  )) - (2.0 * tmpvar_3));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (0.8 * ((0.3 * \\n    dot (tmpvar_2, vec3(0.32, 0.49, 0.29))\\n  ) + (\\n    (22.0 * clamp ((0.01 / sqrt(\\n      dot (uv1_1, uv1_1)\\n    )), 0.0, 1.0))\\n   * \\n    (tmpvar_2 + 0.1)\\n  )));\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"wave_mode":4,"additivewave":1,"wave_dots":1,"modwavealphabyvolume":1,"wave_a":0.331,"wave_scale":0.898,"wave_smoothing":0.108,"wave_mystery":0.1,"modwavealphastart":0.72,"modwavealphaend":1.28,"zoom":1.3345,"wave_r":0,"wave_g":0.5,"wave_b":0.5,"wave_y":0.54,"mv_x":24.8,"mv_dy":0.16,"mv_l":1.5,"mv_a":0},"shapes":[{"baseVals":{"sides":3,"rad":0.31275,"tex_zoom":0.17914,"r":0.82,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"xy=0.5+rand_frame;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":352,"usedots":1,"additive":1,"scaling":0.03856,"smoothing":0.2,"g":0},"init_eqs_eel":"","frame_eqs_eel":"q1=bass_att;","point_eqs_eel":"r = abs (sin (frame /38));\\ng = 0.5*abs (cos (frame /45));\\nb = 0.5*abs (sin (frame / 133));\\na = 0.3;\\nt02 = t02 + q1/10;\\nratio = sin (frame/49);\\n\\nampl = 0.01+0.4*sqr(sin ((frame ) / 18)* cos (frame / 123));\\n\\nx1 = (r-0.5)/15 +0.5 + ampl* sin (sample*6.28);\\ny1 = (b-0.5)/15+0.5 + ampl* cos (sample*6.28);\\n\\nx =  x1+1*0.2*(ampl+ratio )*sin ( sample*6.28 * ratio*7.3);\\ny =  y1+1*0.2*(ampl+ratio )*cos ( sample*6.28*6);\\n"},{"baseVals":{"samples":15,"scaling":2.06378,"smoothing":0.8,"r":0.8,"g":0,"b":0.6,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":112,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dx=0;\\noldshift=shift;\\nnormalframez=normalframez+1;\\nshift=above(bass_att,1)*above(treb_att,0.9);\\ncrash=abs(oldshift-shift);\\nnex=equal(rshift,0)*1+equal(rshift,1)*2;\\nrshift=if(crash,nex,rshift);\\nmonitor=rshift;\\nwave_r=int(rand(200))/200;\\nwave_g=int(rand(200))/200;\\nwave_b=int(rand(200))/200;\\nwarp=0;\\nq1=above(bass_att,1.3);\\nzoom1=zoom+0.15-0.3*(normalframez%2);\\nzoom=if(shift,zoom1,1);\\nrot=rot-0.1+rshift*0.1;","pixel_eqs_eel":"dy=-below(y,0.4)*0.007+above(y,0.6)*0.007;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, (uv_orig + \\n    ((uv - uv_orig) * dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))\\n  )).xyz * 0.99) - 0.002);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz * 2.0);\\n  ret_1 = (ret_1 * (1.0 - ret_1));\\n  ret_1 = (((1.0 - \\n    pow (clamp (ret_1, 0.0, 1.0), vec3(0.5, 0.5, 0.5))\\n  ) * 1.5) - 0.75);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/MilkDrop2077.R002.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"decay":0.975,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":2,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":100,"wave_scale":27.455,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpscale":1.772,"zoomexp":1.001,"zoom":1.007,"warp":0,"mv_y":8.64,"mv_l":1.455,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"x":0.455,"rad":0.43233,"r":0.5,"g":0.5,"r2":0.57,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\n\\nrad=rad*sounds*0.6;\\n\\nr=r+sin(bass)*g;\\ng=g+sin(mid)*g;\\n\\n\\nx=x+0.207*cos(time*bass*0.1);\\ny=y+0.2029*sin(time*bass*0.09);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"tex_zoom":0.91,"r2":1,"a2":0.318,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ng2=g2+0.09*sin((treb+mid)*1.23);\\ng=g+0.09*cos((bass+mid)*1.37);\\n\\nsounds=(bass+mid+treb)/3;\\n\\nrad=rad*(treb+mid)/3;\\n\\nx=x+0.300*sin(time*bass);\\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"r2":0.5,"g2":0.445,"b2":0.94,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\nr2=r2+(0.25*sin(time*6.28))-bass;\\ng2=g2+(0.25*sin(time*6.28))-bass;\\n\\nrad=rad;\\nx=x+0.243*cos(time*2.3)+sounds*0.09;\\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"x":0.475,"border_g":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"smoothing":0.435,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r=r+0.5*sin(treb*1.13);\\ng=g+0.5*sin(bass*1.33);\\nb=b+0.5*sin(mid*1.23);","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"smoothing":0.51,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":0.91,"smoothing":0.45,"b":0.91,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":1.08,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_x = wave_x + 0.2*( 0.60*sin(2.121*time) + 0.5*sin(1.621*time) );\\nwave_y = wave_y + 0.2*( 0.60*sin(1.742*time) + 0.5*sin(2.322*time) );\\nwave_r = wave_r + 0.200*( 0.60*sin(0.823*time) + 0.40*sin(0.916*time) );\\nwave_g = wave_g + 0.500*( 0.60*sin(0.900*time) + 0.40*sin(1.023*time) );\\nwave_b = wave_b + 0.500*( 0.60*sin(0.808*time) + 0.40*sin(0.949*time) );","pixel_eqs_eel":"zoom = zoom + 0.01 * ( sin(2*cos(3*(sqrt(2)-rad)*ang)) + 1 );","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec2 d_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  d_2 = -(tmpvar_4);\\n  float tmpvar_8;\\n  tmpvar_8 = (d_2 * 4.0).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_5.x;\\n  tmpvar_10.y = tmpvar_6.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));\\n  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - tmpvar_7.y)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_5.x;\\n  tmpvar_12.y = tmpvar_6.x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.z;\\n  tmpvar_13.y = tmpvar_6.z;\\n  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));\\n  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_3.x = (ret_3.x + ((\\n    (ret_3.x - tmpvar_7.x)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = tmpvar_5.z;\\n  tmpvar_14.y = tmpvar_6.z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_5.y;\\n  tmpvar_15.y = tmpvar_6.y;\\n  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));\\n  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_3.z = (ret_3.z + ((\\n    (ret_3.z - tmpvar_7.z)\\n   * 0.042) + -0.0075));\\n  vec4 tmpvar_16;\\n  tmpvar_16 = texture (sampler_noisevol_hq, (((vec3(0.04, 0.02, 0.02) * my_uv_1.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(2.3, 2.3, 1.8)) * q29)));\\n  if (((ret_3.x > (q21 * q13)) && (ret_3.x <= (q24 * q11)))) {\\n    ret_3.y = (ret_3.y - (tmpvar_16.x * 0.5));\\n  };\\n  if (((ret_3.y > (q22 * q11)) && (ret_3.y <= (q25 * q12)))) {\\n    ret_3.z = (ret_3.z - (tmpvar_16.y * 0.5));\\n  };\\n  if (((ret_3.z > (q23 * q12)) && (ret_3.z <= (q26 * q13)))) {\\n    ret_3.x = (ret_3.x - (tmpvar_16.z * 0.5));\\n  };\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_3;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (((vec3(2.8, 2.8, 1.2) * tmpvar_2.x) + (vec3(2.0, 0.4, 2.0) * tmpvar_2.y)) + (vec3(0.1, 1.3, 1.2) * tmpvar_2.z));\\n  ret_1 = (ret_1 * 0.37);\\n  ret_1 = ((ret_1 * ret_1) * (1.0 + (\\n    clamp (((cos(\\n      (((dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) * 17.0) + 3.0) + (uv.x * 30.0))\\n    ) * 3.0) - 2.7), 0.0, 1.0)\\n   * 4.0)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/MilkDrop2077.R033.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":2.7,"decay":0.715,"wrap":0,"solarize":1,"wave_a":0.001,"modwavealphastart":0.848,"warpanimspeed":2.472,"warpscale":3.209,"zoomexp":1.0018,"zoom":1.01,"cx":0.465,"dy":0.00001,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"wave_x":0,"wave_y":0,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_y":9.72,"mv_r":1.19,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":20,"num_inst":410,"rad":0.0082,"r":0,"b":1,"a":1.09,"g2":0,"a2":0.1,"border_b":0.87,"border_a":0.006},"init_eqs_eel":"","frame_eqs_eel":"q1 = time/5;\\nq2 = time/6;\\nrad = 0.005+bass/100;\\nq5 = bass_att/70;\\nb2 = treb*0.79-bass/2;\\nr = instance/num_inst;\\ng = abs(treb_att/5-bass);\\n//b = abs(treb_att/5-bass);\\nsize = 0.3+bass_att/300;\\n\\nnc = sqrt(num_inst);\\nxs=sin(7.662*(instance%nc)/nc)*sin(3.705*int(instance/nc)/nc);\\nys=cos(6.28*(instance%nc)/nc)*sin(3.14*int(instance/nc)/nc);\\nzs=cos(3.14*int(instance/nc)/nc);\\n\\n//modulate to allow rotation\\ny1 = ys*cos(q1)-zs*sin(q1);\\nz1 = ys*sin(q1)+zs*cos(q1);\\nx1 = z1*sin(q2)+xs*cos(q2);\\nz2 = z1*cos(q2)-xs*sin(q2);\\nx2 = x1*cos(q3)-y1*sin(q3);\\ny2 = y1*cos(q3)+x1*sin(q3);\\n\\n//translate shape\\nx3 = x2+q4;\\ny3 = y2;\\nz3 = z2+q5;\\n\\nx = 0.5 + size*(x3/(1+z3*size));\\ny = 0.42 + size*(y3/(1+z3*size));\\na=below(z3,0);"},{"baseVals":{"rad":0.102,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"x":0.53,"rad":0.091,"tex_zoom":0.76,"r":1.16,"a":1.05,"g2":0.86,"border_r":0.87,"border_g":0.89,"border_b":1.22,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"y":0.49,"rad":0.089,"tex_zoom":0.78,"a":0.95,"g2":0.81,"border_a":0.114,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"r":0.8,"g":1.05,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"a":0.93,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":1.1,"r":1.15,"g":0.92,"b":1.22,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":0.84,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1=sin(.5*time);\\nq2=sin(.2*time);\\nq3=sin(0.34*time);\\nq4=abs(sin(40*time));\\n\\nbt=bt+bass/fps;\\nbt=bt*above(100,bt);\\nq5=sin(bt);\\nq6=bt;\\n\\nq11=int(rand(200)); q11=q11*equal(q11,1);\\nq12=int(rand(100)); q12=q12*equal(q12,1);\\nq13=int(rand(150)); q13=q13*equal(q13,1);\\n\\nrot=rot-0.048*sin(bass_att*0.08)*sin(0.37*time);\\n\\ndy=.002*sin(time*.623)+.002*cos(time*.31);\\ndx=.002*cos(time*.442)+.002*sin(time*.52);","pixel_eqs_eel":"//zoom=10.1242-0.038*above(rad,0.12);\\n//zoom=zoom+0.042*above(rad,0.131);\\n//zoom=zoom-.05*above(rad,.2);\\n//zoom=zoom+.05*above(rad,.21);\\n//zoom=zoom-0.039*above(rad,0.33);\\n//zoom=zoom+.05*above(rad,.31);\\n//zoom=zoom-0.059*above(rad,0.34);\\n//zoom=zoom+.05*above(rad,.41);\\n//zoom=zoom-.05*above(rad,.49);\\n//zoom=zoom+.05*above(rad,.50);\\n//zoom=zoom-.05*above(rad,.6);\\n//zoom=zoom+.05*above(rad,.61);\\n//zoom=zoom-0.055*above(rad,0.61);\\n//zoom=zoom+0.047*above(rad,0.575);\\n//zoom=zoom-0.049*above(rad,0.8);\\n//zoom=zoom+.05*above(rad,.805);\\n//zoom=zoom-.05*above(rad,.9);\\n//zoom=zoom+0.051*above(rad,1.046);\\n\\n\\nzoom=zoom+.15*x*.05*sin(rad*time*2);\\nzoom=zoom+0.142*(1-x)*0.058*sin(rad*time*2);","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.469, 0.469));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 300.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, ((tmpvar_1 + vec2(1.0, 2.0)) + tmpvar_2)).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 50.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":"float xlat_mutablesmask;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  float dist_1;\\n  float stars_2;\\n  vec3 ret_3;\\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.109 * time);\\n  float tmpvar_5;\\n  tmpvar_5 = (0.24 * rad);\\n  dist_1 = ((1.0 - fract(\\n    (0.2425 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = q1;\\n  tmpvar_6.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_6);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = max (0.0, clamp ((\\n    (1.0 - dist_1)\\n   * \\n    ((0.1 / sqrt(dot (tmpvar_7, tmpvar_7))) * xlat_mutablesmask)\\n  ), 0.0, 1.0));\\n  dist_1 = ((1.0 - fract(\\n    (0.485 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q1;\\n  tmpvar_8.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_8);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_9, tmpvar_9)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_1 = ((1.0 - fract(\\n    (0.7275 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q1;\\n  tmpvar_10.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_10);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_11;\\n  tmpvar_11 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_11, tmpvar_11)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_1 = ((1.0 - fract(\\n    (0.97 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q1;\\n  tmpvar_12.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_12);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_13;\\n  tmpvar_13 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_13, tmpvar_13)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_14;\\n  tmpvar_14 = max ((texture (sampler_main, uv).xyz * 2.0), ((\\n    (texture (sampler_blur2, uv).xyz * scale2)\\n   + bias2) * 2.0));\\n  ret_3 = (ret_3 + clamp ((stars_2 * stars_2), 0.0, 1.0));\\n  ret_3 = (ret_3 * clamp ((1.0 - \\n    (2.0 * dot (tmpvar_14, vec3(0.32, 0.49, 0.29)))\\n  ), 0.0, 1.0));\\n  ret_3 = (ret_3 + tmpvar_14);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }"}')},"./presets/converted/ORB - Waaa.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"decay":1,"echo_zoom":1,"echo_orient":3,"wave_mode":1,"wrap":0,"darken_center":1,"wave_a":0.001,"zoom":0.97,"rot":-6.27999,"warp":0.00052,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.49849,"g":1,"b":1,"a":0.7,"r2":1,"g2":0,"b2":1,"a2":0.7,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.35);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\nang = q2;\\ntex_capture = above(q3,2);"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.74218,"g":1,"b":1,"a":0.6,"r2":1,"g2":0,"b2":1,"a2":0.6,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.678);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\nang = -q2*1.05;\\ntex_capture = above(q3,2);"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":1.00035,"g":1,"b":1,"a":0.5,"r2":1,"g2":0,"b2":1,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.789);\\n\\nang = q2*0.899;\\ntex_capture = above(q3,2);"},{"baseVals":{"textured":1,"rad":3.25446,"g":1,"b":1,"a":0.3,"r2":1,"b2":1,"a2":0.4,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r = 0.5 + 0.5*sin(q2*0.45);\\ng = 0.5 + 0.5*sin(q2*0.578);\\nb = 0.5 + 0.5*sin(q2*0.689);\\n\\nr2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\ntex_capture = above(q3,2);"}],"waves":[{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.11;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.15;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.13;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.16;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.16;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.16;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"sep":1,"spectrum":1,"usedots":1,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = abs(cos(q1*0.1))*3.14159;\\nv = abs(cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.5 + 0.0000001*cos(s))*cos(ss);\\nys = (0.5 + 0.0000001*cos(s))*sin(ss);\\nzs = 0.5*sin(s);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.14;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.15;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd + 2;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.66 + y + y);"}],"init_eqs_eel":"","frame_eqs_eel":"basstime = basstime + bass*0.03;\\nq1 = basstime*4;\\n\\n//start in most active range\\nbasstime = if(below(basstime,1000),1000,basstime);\\n//basstime = if(above(basstime,495),450,basstime);\\n\\nbasstime = basstime + bass_att*0.03;\\nvol = pow(bass+mid+treb,2);\\nbasssum = vol;\\n\\nstickybit = time%2;\\n\\n//avg vol\\n//buffer 1\\nvolAvg = volAvg + vol*equal(stickybit,1);\\n//number of samples 1 or framerate\\nsample1 = sample1 + equal(stickybit,1);\\n//buffer 2\\nvolAvg2 = volAvg2 + vol*equal(stickybit,0);\\n//number of samples 2\\nsample2 = sample2 + equal(stickybit,0);\\n\\n//transision\\nedge = bnot(equal(bit2,stickybit));\\n\\nvolAvg = volAvg - volAvg*edge*stickybit;\\nvolAvg2 = volAvg2 - volAvg2*edge*equal(stickybit,0);\\n\\nsample1 = sample1  - sample1*edge*stickybit;\\nsample2 = sample2  - sample2*edge*equal(stickybit,0);\\n\\n//test vol against avg buffer lvl\\ndiff = if(equal(stickybit,1), (basssum/(volAvg2/sample2)) , 0);\\ndiff = if(equal(stickybit,0), (basssum/(volAvg/sample1)), diff);\\n\\nq3 = diff;\\n\\nbit2 = time%2;\\n\\ndifftime = difftime + diff*0.03;\\nq2 = difftime;\\n\\n//fix a strange error\\ndifftime = if(above(difftime,2000),0, difftime);\\n\\nmonitor = abs(cos(time))*3.14;\\n\\n\\nmv_a = above(diff,10);","pixel_eqs_eel":"zoom = 1 + 0.05*q3*rad;\\n\\ndecay_r = 0.2*rad*sin(q2*0.35) + 0.85 + 0.1*sin(q2);\\ndecay_g = 0.2*rad*sin(q2*0.5) + 0.85 + 0.1*sin(0.7*q2);\\ndecay_b = 0.2*rad*sin(q2*0.4) + 0.85 + 0.1*sin(0.8*q2);\\n\\nrot = 0;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv).xyz * (0.8 + (q3 * 0.1)));\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 2.0);\\n  ret = tmpvar_1.xyz;\\n }"}')},"./presets/converted/Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":0.965,"echo_zoom":1.483827,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_brighten":0,"wrap":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":1.285751,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":1.470245,"zoomexp":4.778023,"zoom":0.998162,"warp":0.01,"sx":1.001828,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_r":1,"ob_g":0.5,"ob_b":0.5,"ob_a":1,"ib_size":0.5,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":4.800001,"mv_dx":0.4,"mv_l":1,"mv_r":0,"mv_g":0.5,"mv_a":0.1},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"x":1,"y":0.59,"rad":0.559231,"ang":3.39292,"tex_zoom":100,"r":0,"g":1,"b":1,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x=sin(time/10)*0.1+0.5+(treb_att*0.1);"},{"baseVals":{"sides":13,"additive":1,"x":0.9,"y":0.84,"rad":0.364567,"ang":3.078761,"tex_zoom":4.141463,"r":0.25,"g":0.05,"a":0.2,"g2":0,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//additive=above(sin(time*50),.95);"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"x":0.3,"y":0.7,"rad":1.089252,"ang":0.816814,"tex_ang":3.141592,"tex_zoom":0.504215,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//tex_ang=(sin(time/4)*0.5+0.5)*6.28;"},{"baseVals":{"enabled":1,"sides":3,"textured":1,"rad":0.284278,"ang":3.141593,"tex_ang":4.900885,"tex_zoom":2.987755,"g":1,"b":1,"r2":0.95,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"ang=time/10;\\ntex_zoom=3.4+(bass*0.03);\\nvar=above(bass_att,0.7);\\na=var;\\na2=var;\\nborder_a=var;\\n\\n\\n//This preset fluctuates between 53.2 and 55.44 fps on my box.  Texture size_2048 Meshsize_36*24\\n//On a SuperScan Pro 800 Hitachi\\n//On a Radion_9600\\n//1280*1024_Screen_Resolution\\n//;) hello! I am ATHEN ANDANDA!"}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0,"a":0.06},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xspout=.5;\\nyspout=-.01;\\n\\npphase=9999*sample*sample*.0001;\\npphase2=.1+((sample*3349*sample)%100)*.01;\\npheight=((sample*9893)%100)*.002;\\nyheight=((sample*1231*sample)%100)*.01;\\n\\nr=((sample*5454)%100)*.01*abs(sin(time*.25));\\ng=((sample*9954)%100)*.01;\\n\\nxoffset1=(cos((time*pphase2)+pphase)*pheight);\\nxoffset2=-1*(cos((time*pphase2)+pphase)*pheight);\\n\\nlrorient=if(below(cos((time*pphase2)+pphase),cos(((time-.1)*pphase2)+pphase)),0,1);\\n\\npx=if(equal(lrorient,0),xspout-pheight+xoffset1,xspout+pheight-xoffset2);\\n\\npy=yspout+(abs(sin((time*pphase2)+pphase))*yheight);\\n\\nx=px;\\ny=py;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"pphase=(sample*5671*cos(time*.0001));\\npheight=((sample*7654)%100)*.005*sin(time*.2);\\n\\n//xspout=.5;\\nxspout=if(below(abs(sin(time*.2)),.005),.3+(rand(40)*.01),xspout);\\n//yspout=.5;\\nyspout=if(below(abs(sin(time*.2)),.005),.3+(rand(40)*.01),yspout);\\n\\npx=xspout+(cos(time+pphase)*pheight);\\npy=yspout+(sin(time+pphase)*pheight);\\n\\nx=px;\\ny=py;\\na=abs(sin(time*.2)*.3+(treb_att*.1));\\n\\nr=treb*2;"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs*4;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=(flip*0.1-0.05)*(sample);\\nzp=0;\\n\\n//spin;\\nang=tm*20 + sin(tm*76 + time*4)*0.4;\\nsa=sin(ang);ca=cos(ang);\\nxr=xp*sa + yp*ca;\\nyr=xp*ca - yp*sa;\\nzr=zp;\\n\\nxp=xr;\\nyp=yr + 0.05 + (sin(tm)*0.5 + 0.5)*0.2 + 0.05;\\nzp=zr;\\n\\n//wrist movement;\\nang=sin(tm*2);\\n\\nxq=xp;\\nsa=sin(ang);ca=cos(ang);\\nyq=yp*sa + zp*ca;\\nzq=yp*ca - zp*sa;\\n\\n\\nang=tm*8;\\nsa=sin(ang);ca=cos(ang);\\nxp=xq*sa + yq*ca;\\nyp=xq*ca - yq*sa;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*2.5;\\nxq=xp;\\nsa=sin(ang);ca=cos(ang);\\nyq=yp*sa + zp*ca;\\nzq=yp*ca - zp*sa;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sa + yq*ca;\\nyp=xq*ca - yq*sa;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*1)*1.75 - 1.05;\\nsa=sin(ang);ca=cos(ang);\\nxq=xp*sa + zp*ca;\\nyq=yp;\\nzq=xp*ca - zp*sa;\\n\\n//upper arm up down;\\nang=cos(tm);\\nxp=xq;\\nsa=sin(ang);ca=cos(ang);\\nyp=yq*ca - zq*sa;\\nzp=yq*sa + zq*ca;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+1.5;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=(1-sample);\\n"},{"baseVals":{"usedots":1,"thick":1,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=q1;\\n\\nt7=.0;\\nt8=.45;\\n\\nddx=.25*cos(5.7119*t1)+2.5963*t1*sin(5.7119*t1);\\nddy=.3125*sin(5.7119*t1)-3.2453*t1*cos(5.7119*t1);\\nddtan=atan2(ddy,ddx);\\nt2=-ddtan;\\n\\nval1=((-.5*cos(5.7119*t1))*cos(t2)-(-.625*sin(5.7119*t1))*sin(t2));\\nval2=((-.5*cos(5.7119*t1))*sin(t2)+(-.625*sin(5.7119*t1))*cos(t2));\\n\\nt6=-sign(t1);\\nt7=t7-val1;\\nt8=t8-val2;\\n\\nt3=q2;","point_eqs_eel":"sample=pow(sample,.85);\\n\\nc1=6.2831*t1/(1.1-sample);\\nc=cos(c1);\\ns=sin(c1);\\nc2=sqrt(1-sample);\\n\\nox=t7-.5*c2*c;\\noy=t8-.625*c2*s;\\n\\nx=t7+((ox-t7)*cos(t2)-(oy-t8)*sin(t2));\\ny=t8+((ox-t7)*sin(t2)+(oy-t8)*cos(t2));\\n\\ninv=1/sqr(1.1-sample);\\nfdx=-.25*pow(1-sample,-.5)*c-c2*s*3.1415*t1*inv;\\nfdy=-.3125*c2*s+3.9268*c2*c*t1*inv;\\ninvMag=1/sqrt(sqr(fdx)+sqr(fdy));\\nfdx=fdx*invMag;\\nfdy=fdy*invMag;\\n\\nrdx=fdx*cos(1.5707+t2)-fdy*sin(1.5707+t2);\\nrdy=fdx*sin(1.5707+t2)+fdx*cos(1.5707+t2);\\ntt=rand(100)/100;\\nx=x+rdx*(.15*tt)*(1-sample);\\ny=y+rdy*(.15*tt)*(1-sample);\\n\\nx=x*.55;\\ny=(y-.5)*.55+.5;\\n\\nr=sample;\\ng=1-sample;\\nb=1;\\na=below(sample,.995);\\n\\n\\ny=y+t3;"}],"init_eqs_eel":"","frame_eqs_eel":"decay=.999;\\nwrap=sin(time*10);\\nmv_dx=bass;\\nib_a=.005;\\n\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\n\\nmtime=mtime+vol*0.01*(55/fps);\\n\\nq1=time*0.5;","pixel_eqs_eel":"zoom=1.005-(rad/100);\\nrot=rad/600;\\nsy=-1;","warp":"","comp":""}')},"./presets/converted/Rovastar + Loadus + Geiss - FractalDrop (Triple Mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_a":0.1,"wave_scale":3.815,"wave_smoothing":0.9,"modwavealphastart":0,"modwavealphaend":1.1,"zoom":1.0099,"warp":0.04177,"wave_r":0.65,"wave_g":0.65,"ob_size":0.007,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"x":0.37,"rad":6.81129,"ang":3.64425,"r":0,"a":0.5,"g2":0,"a2":0.5,"border_a":1},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"ang = q1*(0.303 + 0.01*t1);\\nr = min(1,max(0,0+ 0.1*sin(time*0.417 + 1)));\\ng = min(1,max(0,0 + 0.1*sin(time*0.391 + 2)));\\nb = min(1,max(0,0 + 0.1*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.02*sin(time*0.657 + 3)));\\ng2 = min(1,max(0,g2 + 0.02*sin(time*0.737 + 5)));\\nb2 = min(1,max(0,b2 + 0.02*sin(time*0.884 + 6)));\\nadditive =0.5+0.15*(bass+bass_att);"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.37,"rad":0.89796,"ang":3.64425,"g":1,"b":1,"a":0.5,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.07*sin(q1*0.15+3);\\ny = y + 0.03*sin(q1*0.19+1);\\ntex_ang = q1*(0.01 + 0.0001*t1);\\nr = min(1,max(0,r + 0.01*sin(time*0.0417 + 1)));\\ng = min(1,max(0,g + 0.01*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.01*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.01*sin(time*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.01*sin(time*0.0437 + 5)));\\nb2 = min(1,max(0,b2 + 0.01*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.67,"y":0.43,"rad":0.51386,"ang":4.20974,"g":1,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*sin(q1*0.017);\\ny = y + 0.09*sin(q1*0.013);\\ntex_ang = q1*(0.02 + 0.0001*t1);\\nrad = rad * (0.9 + 0.2*t2);\\nr = min(1,max(0,r + 0.01*sin(time*0.417 + 1)));\\ng = min(1,max(0,g + 0.01*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.01*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.01*sin(time*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.01*sin(time*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.01*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.22298,"r":0.6,"g":0.8,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = x + 0.08*sin(q1*0.25);\\ny = y + 0.1*sin(q1*0.5+2);\\nang = time;"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"movement = movement + 0.1*max(0,bass+bass_att-2) + 0.15*pow(bass,3) + 0.005;\\nq1 = movement;\\nmonitor =q1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.5));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 12.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.08, 0.08, 0.08));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv3_2;\\n  vec2 uv2_3;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  uv2_3.x = ((uv_1.x * -0.497265) - (uv_1.y * 0.8675987));\\n  uv2_3.y = ((uv_1.x * 0.8675987) + (uv_1.y * -0.497265));\\n  uv3_2.x = ((uv_1.x * -0.5000263) - (uv_1.y * -0.8660102));\\n  uv3_2.y = ((uv_1.x * -0.8660102) + (uv_1.y * -0.5000263));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = max (max (texture (sampler_main, (uv_1 + 0.5)).xyz, texture (sampler_main, (uv2_3 + 0.5)).xyz), texture (sampler_main, (uv3_2 + 0.5)).xyz);\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/Rovastar - Oozing Resistance.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1.006596,"echo_alpha":0.5,"additivewave":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":4.099998,"wave_scale":0.01,"wave_smoothing":0.63,"wave_mystery":-0.4,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999513,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_r":0.01,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"ob_r = 0.5+0.5*sin(2*time);\\nob_g = 0.5+0.5*sin(1.23*time);\\nob_b = 0.5+0.5*sin(time*1.321);\\nwave_a =0;\\nq8 =oldq8+ 0.003*(pow(1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 = q8;\\nwarp=0;","pixel_eqs_eel":"rot = 0.1*(rad+cos((5+5*sin(q8*1.211)*x)-0.5) -sin(((5+5*sin(q8*0.973))*y)-0.5));\\ndx = 0.005*(cos((5+5*sin(q8*1.311)*x)-0.5) -sin(((5+5*sin(q8*0.9431))*y)-0.5));\\ndy = 0.005*(cos((5+5*sin(q8*1.021)*x)-0.5) -sin(((5+5*sin(q8*0.987))*y)-0.5));\\nzoom =1- 0.005*(rad+cos((5+5*sin(q8*0.943)*x)-0.5) -sin(((5+5*sin(q8*1.0961))*y)-0.5));","warp":"","comp":""}')},"./presets/converted/ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"gammaadj":2.7,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wrap":0,"darken":1,"wave_a":0.865,"wave_scale":3.75,"wave_smoothing":0,"modwavealphastart":0.4,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.32545,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":9.6,"mv_l":5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0.3},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"x":0.37,"rad":100,"ang":3.64425,"r":0,"a":0.1,"g2":0,"a2":0.13,"border_a":1},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"tex_ang = time*(0.3 + 0.1*t1);\\nrad = rad * (0.9 + 0.2*t2);\\nr = min(1,max(0,r + 0.2*sin(time*0.417 + 1)));\\ng = min(1,max(0,g + 0.2*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.2*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.2*sin(time*0.657 + 3)));\\ng2 = min(1,max(0,g2 + 0.2*sin(time*0.737 + 5)));\\nb2 = min(1,max(0,b2 + 0.2*sin(time*0.884 + 6)));\\n//a1 = (bass_att);\\na1 = 0.3 + 0.1 * sin(treb_att * .55);\\nmv_l = 3 + 1 * (treb_att * .25);\\n"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.37,"rad":0.89796,"ang":3.64425,"r":0,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*sin(mid_att*0.15+3);\\ny = y + 0.03*sin(mid_att*0.19+1);\\ntex_ang = bass_att*(0.1 + 0.1*treb_att);\\nrad = rad * (0.9 + 0.6*treb_att);\\n\\n\\n\\nx = x + sin(treb_att * .005);\\ny = y + sin(mid_att * .013);\\na = 0 + (treb * .1);"},{"baseVals":{"enabled":1,"sides":13,"additive":1,"textured":1,"x":0.77,"y":0.43,"rad":0.51386,"ang":4.20974,"g":1,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*(bass_att*0.07);\\ny = y + 0.03*(bass_att*0.03);\\ntex_ang = mid_att*(0.8 + 0.1*t1);\\nrad = rad * (0.9 + 0.2*mid_att);\\nr = min(1,max(0,r + 0.1*(bass_att*0.417 + 1)));\\ng = min(1,max(0,g + 0.1*(mid_att*0.391 + 2)));\\nb = min(1,max(0,b + 0.1*(treb_att*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(mid_att*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(treb_att*0.484 + 6)));\\nsides = treb_att;\\n\\nx = x + sin(mid_att * .019);\\ny = y + sin(treb_att * .015);\\nnum_inst = sin(mid_att * .25);\\n\\nr = 0.5 + 0.5*sin(frame*2.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 1.188);"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"textured":1,"y":0.7,"rad":1.33692,"r":0,"g":0.8,"b":1,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = x + 0.2*sin(treb_att*0.25);\\ny = y + 0.1*sin(treb_att*0.5+2);\\nrot = mid_att * .45;\\n\\nr = min(1,max(0,r + 0.1*(bass_att*0.417 + 1)));\\ng = min(1,max(0,g + 0.1*(mid_att*0.391 + 2)));\\nb = min(1,max(0,b + 0.1*(treb_att*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(mid_att*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(treb_att*0.484 + 6)));\\nang = sin(treb_att);\\n\\nx = x + sin(mid_att * .016);\\ny = x + sin(treb_att * .015);\\nnum_inst = sin(treb_att * .35);\\n\\nr = 0.5 + 0.5*sin(frame*2.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 1.188);\\n\\n\\nrad = rad + (treb * .001);"}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"additive":1,"scaling":9.86086},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"additive":1,"scaling":27.42973},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*sin(mid_att*0.232 + 4)));\\n//r2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\n//g2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\n//b2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\n\\n\\na1 = treb_att * .25;\\na2 = mid_att * .15;\\na3 = treb_att * .25;\\n\\n\\nr = sin(treb_att);\\nb = sin(treb_att);\\ng = sin(treb_att);","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":6.62306,"r":0.5,"g":0.5,"b":0.5},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*(mid_att*0.232 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\na1 = treb_att * .25;\\na2 = mid_att * .15;\\na3 = treb_att * .25;\\n","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"samples":142,"thick":1,"scaling":8.9269,"r":0.6,"g":0},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*(mid_att*0.232 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\n\\n\\nr = 255;\\nb = 255;\\ng = 255;","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"}],"init_eqs_eel":"","frame_eqs_eel":"//Variables controling the glitch effect////////////////////////////////////////\\ndecayrate = 0.09;   //How fast the glitch effect decays back to original image\\ntrebresp = 2.8;    //Level of treb needed for effect to take place\\n////////////////////////////////////////////////////////////////////////////////\\n\\n\\ncdecay = pow(decayrate, 30/fps);\\ncount = above(treb, trebresp)*1 + (1-above(treb, 3))*count;\\ncount = count - above(count, cdecay)*cdecay;\\nq29=count;\\nmonitor = q29;\\n\\n\\n\\ndecay = 0;\\n\\ndt = 0.02;\\n\\nh = h + v*dt;\\n\\nv = v*0.986 + a*dt;\\na = -(h - 0.5)*0.4 + sqrt(- min(0,(w1v+w2v)*0.1)) - .175;\\n\\nmonitor = w2;\\n\\n\\nw1 = w1 + w1v*dt;\\nw1v = w1v*0.98 + w1a*dt;\\nw1a = -(w1)*20 - w2a*0.1   + av*30;\\n\\nw2 = w2 + w2v*dt;\\nw2v = w2v*0.98 + w2a*dt;\\nw2a = -(w2-w1)*20;\\n\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmi = min(min(bb,mm),tt);\\nma = max(max(bb,mm),tt);\\nav = (bb+mm+tt-mi-ma);\\nq5 = av;\\navn = (av-mi)/(ma-mi);\\nav = abs(avo-avn);\\navo = avn;\\n\\nq1 = h*0.8 + 0.12;\\nq2 = (w1);\\nq3 = (w2 + w1);\\nq4 = 0.1+ avo*0.1;\\n\\n\\n\\nwave_r = 0.5 + 0.5*sin(frame*2.5);\\nwave_b = 0.5 + 0.5*sin(frame*0.5 + 1.094);\\nwave_g = 0.5 + 0.5*sin(frame*0.5 + 1.188);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv * texsize.xy) * 0.08);\\n  uv_1 = (uv - ((\\n    (sin(tmpvar_3) / cos(tmpvar_3))\\n   * texsize.zw) * (treb * 3.0)));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (texture (sampler_main, uv_1).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  ret_2 = ((mix (tmpvar_4, \\n    (1.0 - tmpvar_4.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , \\n    (treb * 90.0)\\n  )));\\n  ret_2 = (ret_2 + (ret_2 * (vol * 0.001)));\\n  ret_2 = (ret_2 + (ret_2 * (treb * 0.025)));\\n  ret_2 = (ret_2 + 0.001);\\n  uv_1 = (uv_1 + ((treb_att * 0.001) * texture (sampler_main, uv_1)).xy);\\n  ret_2 = (ret_2 + ((\\n    (texture (sampler_blur3, uv_1).xyz * scale3)\\n   + bias3) * 0.05));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 crisp_2;\\n  vec2 uv3_3;\\n  vec2 uv2_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (uv - 0.5);\\n  tmpvar_6 = (tmpvar_7 * aspect.xy);\\n  float tmpvar_8;\\n  tmpvar_8 = (0.1 / (sqrt(\\n    dot (tmpvar_6, tmpvar_6)\\n  ) + 0.05));\\n  vec2 tmpvar_9;\\n  float tmpvar_10;\\n  tmpvar_10 = (ang / 3.14);\\n  tmpvar_9.x = tmpvar_10;\\n  tmpvar_9.y = (tmpvar_8 * 1.5);\\n  uv2_4.y = (tmpvar_9.y + (0.1 * time));\\n  uv2_4.x = (tmpvar_10 + (0.02 * time));\\n  uv3_3.y = (tmpvar_8 + q30);\\n  uv3_3.x = (tmpvar_10 + (time / 32.0));\\n  crisp_2 = ((texture (sampler_main, fract(uv2_4)).xyz + (2.0 * texture (sampler_main, \\n    fract(uv3_3)\\n  ).xyz)) + ((2.0 * \\n    ((texture (sampler_blur2, fract(uv2_4)).xyz * scale2) + bias2)\\n  ) + (2.0 * \\n    ((texture (sampler_blur2, fract(uv3_3)).xyz * scale2) + bias2)\\n  )));\\n  crisp_2 = ((3.0 * crisp_2) * rad);\\n  float tmpvar_11;\\n  tmpvar_11 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);\\n  ret_5 = ((crisp_2 + (\\n    ((vec3(1.0, 0.0, 1.0) * uv.y) * pow ((1.0 - rad), 8.0))\\n   * tmpvar_11)) + (tmpvar_11 * texture (sampler_main, fract(uv)).xyz));\\n  uv_1 = ((tmpvar_7 * aspect.xy) + 0.5);\\n  vec2 tmpvar_12;\\n  tmpvar_12 = (1.0 - uv_1);\\n  vec3 tmpvar_13;\\n  tmpvar_13 = (texture (sampler_main, uv_1).xyz + (2.0 * (\\n    (texture (sampler_blur2, uv_1).xyz * scale2)\\n   + bias2)));\\n  vec3 tmpvar_14;\\n  tmpvar_14 = (texture (sampler_main, tmpvar_12).xyz + (2.0 * (\\n    (texture (sampler_blur2, tmpvar_12).xyz * scale2)\\n   + bias2)));\\n  vec3 tmpvar_15;\\n  tmpvar_15 = mix (ret_5, mix ((tmpvar_13 * tmpvar_14), (tmpvar_13 + tmpvar_14), vec3((q29 * 0.16))), vec3((q29 * 0.5)));\\n  vec3 tmpvar_16;\\n  tmpvar_16 = mix (tmpvar_15, (1.0 - tmpvar_15), ((q29 * tmpvar_15) * (rad * \\n    (2.0 - q29)\\n  )));\\n  ret_5 = (tmpvar_16 * (tmpvar_16 + (treb * 0.001)));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_5;\\n  ret = tmpvar_17.xyz;\\n }"}')},"./presets/converted/TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"echo_zoom":1,"wave_mode":1,"wave_thick":1,"wrap":0,"invert":1,"wave_scale":0.5,"wave_smoothing":0.45,"warpanimspeed":2.217,"warpscale":100,"zoomexp":100,"zoom":1.01,"warp":1.25946,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":1,"ib_r":1,"ib_g":1,"ib_b":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1 = 0.0003*(pow(1.2+1*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6));\\nmonitor = q1;\\nwave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);\\nob_r = ob_r + 1*sin(time*2.26);\\nob_g = ob_g + 1*sin(time*2.46);\\nob_b = ob_b + 1*sin(time*2.66);","pixel_eqs_eel":"zoom = zoom + 0.125*sin(q1);\\nrot = rot + 0.25*sin(fps*100)*q1/2;\\nzoom = zoom - 0.05*sin(rad);\\nrot = rot + 0.05*sin(fps*5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = fract(uv);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 12.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((2.0 * \\n    ((texture (sampler_blur3, (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  ) - (2.0 * \\n    ((texture (sampler_blur3, (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  )) * 0.5);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((2.0 * \\n    ((texture (sampler_blur3, (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  ) - (2.0 * \\n    ((texture (sampler_blur3, (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  )) * 0.5);\\n  ret_1.x = ((texture (sampler_fc_main, tmpvar_2).x - (\\n    (((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3) - texture (sampler_fc_main, tmpvar_2).xyz)\\n  .x * 0.1)) - 0.035);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_5.x;\\n  tmpvar_7.y = tmpvar_6.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.y;\\n  tmpvar_8.y = tmpvar_6.y;\\n  ret_1.y = (((texture (sampler_fc_main, \\n    (((uv_orig + (\\n      ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\\n     * 4.0)) - ((tmpvar_7 * texsize.zw) * 4.0)) + ((tmpvar_8 * texsize.zw) * 8.0))\\n  ).y + \\n    ((texture (sampler_noise_lq, tmpvar_3).xyz - 0.5) * 0.1)\\n  ) - 0.012) + (texture (sampler_pc_main, uv_orig).z * 0.2)).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_6.x;\\n  tmpvar_9.y = -(tmpvar_5.x);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = ((uv_orig + (\\n    ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\\n   * 2.0)) + ((tmpvar_9 * texsize.zw) * 64.0));\\n  ret_1.z = (((\\n    (texture (sampler_fc_main, tmpvar_10).z + ((texture (sampler_fc_main, tmpvar_10).z - (\\n      (texture (sampler_blur2, tmpvar_10).xyz * scale2)\\n     + bias2).z) * 0.2))\\n   + \\n    (texture (sampler_noise_lq, tmpvar_3).xyz * 0.1)\\n  ) - (\\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\\n   + bias3).x) - (clamp (\\n    (1.0 - ((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2).x)\\n  , 0.0, 1.0) * 0.04)).x;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_1;\\n  ret = tmpvar_11.xyz;\\n }","comp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  xlat_mutabled = (texsize.zw * 1.5);\\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = xlat_mutabledx.y;\\n  tmpvar_2.y = xlat_mutabledy.y;\\n  vec2 x_3;\\n  x_3 = (tmpvar_2 * 8.0);\\n  ret_1 = (((texture (sampler_main, uv).x * \\n    (1.0 - sqrt(dot (x_3, x_3)))\\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\\n  ret_1 = tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = tmpvar_6;\\n  ret = tmpvar_7.xyz;\\n }"}')},"./presets/converted/TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.3,"decay":1,"echo_zoom":1.75,"echo_alpha":0.15,"echo_orient":3,"wave_mode":1,"wave_dots":1,"darken":1,"wave_scale":0.5,"wave_smoothing":0.9,"warp":0.01,"mv_l":5},"shapes":[{"baseVals":{"enabled":1,"sides":100,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r = r + 1*sin(time*0.339);\\ng = g + 1*sin(time*0.369);\\nb = b + 1*sin(time*0.399);\\nr2 = r2 + 1*sin(time*0.113);\\ng2 = g2 + 1*sin(time*0.123);\\nb2 = b2 + 1*sin(time*0.133);\\nrad = q1/3;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1 = 0.0003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6));\\nmv_a = q1;\\nmv_x = mv_x + 1*sin(time);\\nmv_y = mv_y + 1*cos(time);\\nmv_dx = mv_dx + 1.25*sin(fps*8);\\nmv_dy = mv_dy + 1.35*sin(fps*8);\\nmv_r = mv_r + 1*sin(time*0.565);\\nmv_g = mv_g + 1*sin(time*0.615);\\nmv_b = mv_b + 1*sin(time*0.665);\\nwave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);","pixel_eqs_eel":"zoom = zoom + 0.0125*q1;\\nrot = rot + 0.025*sin(fps*10)*q1;\\nwarp = 0;","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = ((640.0 * texsize.z) * ((2.0 * \\n    ((texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2) + bias2)\\n  ) - (2.0 * \\n    ((texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2) + bias2)\\n  )));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = ((512.0 * texsize.w) * ((2.0 * \\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2) + bias2)\\n  ) - (2.0 * \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2) + bias2)\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.y;\\n  tmpvar_5.y = tmpvar_4.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.x;\\n  tmpvar_6.y = tmpvar_4.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = -(tmpvar_3.y);\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv - ((\\n    ((tmpvar_5 * 0.3) + (tmpvar_6 * 0.1))\\n   + \\n    (tmpvar_7 * 0.01)\\n  ) * 0.01));\\n  ret_2.x = texture (sampler_fw_main, (tmpvar_8 - floor(tmpvar_8))).x;\\n  ret_2.x = (ret_2.x + ((\\n    (2.0 * ret_2.x)\\n   - \\n    (2.0 * ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1).x)\\n  ) * 0.25));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = -(tmpvar_3.y);\\n  my_uv_1 = ((uv - (tmpvar_9 * 0.01)) + (tmpvar_10 * 0.001));\\n  ret_2.y = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((2.0 * ret_2.y) - (2.0 * ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y))\\n   * 0.025) + 0.01));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }","comp":"vec2 xlat_mutablefactorA;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 dz_2;\\n  vec3 dy_3;\\n  vec3 dx_4;\\n  vec2 d_5;\\n  vec3 ret_6;\\n  xlat_mutablefactorA = (uv - vec2(0.5, 0.5));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = -((xlat_mutablefactorA.y * -1024.0));\\n  tmpvar_7.y = (xlat_mutablefactorA.x * -1024.0);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_7.x;\\n  tmpvar_8.y = -(tmpvar_7.y);\\n  uv_1 = (vec2(-100.0, 100.0) * (tmpvar_8 / (\\n    (tmpvar_7.x * tmpvar_7.x)\\n   + \\n    (tmpvar_7.y * tmpvar_7.y)\\n  )).yx);\\n  uv_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((mix ((0.5 + \\n        (((0.5 + (\\n          (uv - 0.5)\\n         * vec2(1.1, 0.81))) - 0.5) * 2.0)\\n      ), (uv_1 + 0.5), vec2(0.5, 0.5)) * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.98));\\n  vec2 tmpvar_9;\\n  vec2 tmpvar_10;\\n  tmpvar_10 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_9.x = (texture (sampler_main, (uv_1 + tmpvar_10)).xyz - texture (sampler_main, (uv_1 - tmpvar_10)).xyz).y;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_9.y = (texture (sampler_main, (uv_1 + tmpvar_11)).xyz - texture (sampler_main, (uv_1 - tmpvar_11)).xyz).y;\\n  d_5 = (texsize.zw * 2.0);\\n  dx_4 = (((2.0 * \\n    ((texture (sampler_blur1, (uv_1 + (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_1 - (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  dy_3 = (((2.0 * \\n    ((texture (sampler_blur1, (uv_1 + (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_1 - (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dx_4.y;\\n  tmpvar_12.y = dy_3.y;\\n  dz_2 = ((tmpvar_9 * 3.0) + tmpvar_12);\\n  ret_6 = (vec3(((\\n    pow ((sqrt(dot (dz_2, dz_2)) * 0.8), 0.7)\\n   + \\n    (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2).y * 0.4)\\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = dx_4.x;\\n  tmpvar_13.y = dy_3.x;\\n  vec3 tmpvar_14;\\n  tmpvar_14 = mix (mix (ret_6, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \\n    (uv_1 + ((tmpvar_13 * texsize.zw) * 18.0))\\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv_1).zzz);\\n  ret_6 = tmpvar_14;\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = tmpvar_14;\\n  ret = tmpvar_15.xyz;\\n }"}')},"./presets/converted/Unchained - Rewop.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":0.94,"echo_zoom":0.9998,"echo_alpha":0.4999,"echo_orient":3,"wave_mode":1,"additivewave":1,"wave_dots":1,"wave_brighten":0,"wave_a":1.254574,"wave_scale":0.45029,"wave_smoothing":0,"zoomexp":1.008151,"zoom":0.659411,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_r":1,"ob_a":1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.9,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0,"mv_g":0.7,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp=0;\\nle=1+.5+2*sin(bass_att);\\nbpulse=band(above(le,bth),above(le-bth,bblock));\\nbblock=le-bth;\\nbth=if(above(le,bth),le+114/(le+10)-7.407,\\nbth+bth*.07/(bth-12)+below(bth,2.7)*.1*(2.7-bth));\\nbth=if(above(bth,6),6,bth);\\nbres=bpulse*sin(pulse+le*.5) + bnot(bpulse)*bres;\\n\\nle=1+.5+2*sin(treb_att);\\ntpulse=band(above(le,tth),above(le-tth,tblock));\\ntblock=le-tth;\\ntth=if(above(le,tth),le+114/(le+10)-7.407,\\ntth+tth*.07/(tth-12)+below(tth,2.7)*.1*(2.7-tth));\\ntth=if(above(tth,6),6,tth);\\ntres=tpulse*sin(pulse+le*.5) + bnot(tpulse)*tres;\\n\\nle=1+.5+2*sin(mid_att);\\nmpulse=band(above(le,mth),above(le-mth,mblock));\\nmblock=le-mth;\\nmth=if(above(le,mth),le+114/(le+10)-7.407,\\nmth+mth*.07/(mth-12)+below(mth,2.7)*.1*(2.7-mth));\\nmth=if(above(mth,6),6,mth);\\nmres=mpulse*sin(pulse+le*.5) + bnot(mpulse)*mres;\\n\\n\\n\\npulse=if(above(abs(pulse),3.14),-3.14,pulse+(bth+mth+tth)*.003);\\nq1=bres;\\nq2=tres;\\nq3=mres;\\nq4=sin(pulse);\\n\\nmod_state=(above(q1,0)+above(q2,0)+above(q3,0))*(1+above(q4,0));\\nccl=ccl+tpulse+mpulse-bpulse;\\nq5=cos(pulse*(.5+.1*mod_state));\\nq6=sin(pulse*(.5+pow(.25,mod_state)));\\nq7=mod_state;\\nq8=ccl;\\nob_r=.5+.5*cos(q1+q7);\\nob_g=.5+.5*cos(q2*3.14+q7);\\nob_b=.5+.5*cos(q3*2+sin(time*.0816));\\nib_size=.025+.02*q2;\\nob_size=.03+.02*q3-.002*q7;\\nwave_r=.5+.5*sin(q1*q7+time*2.183);\\nwave_g=.5+.5*sin(q2*3+time*1.211);\\nwave_b=.5+.5*sin(q3+time*1.541);\\n\\nob_a=.8+.2*q2;\\nzoom=zoom+.01*q4;","pixel_eqs_eel":"grid=pow(sin(rad*q6*q2+x*y*q6*q3)*2,1+q7%5)%2;\\nrot=bnot(grid)+grid*q4;\\nsx=sx+sin((q2+.5)*x)*.003;\\nsy=sy+sin((q1+3.4)*y)*.003;\\nzoom=zoom+.11*cos(rad*3.14)*q4;","warp":"","comp":""}')},"./presets/converted/Unchained - Unified Drag 2.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1,"decay":0.96,"echo_zoom":2.216266,"echo_alpha":0.78,"wave_mode":5,"additivewave":1,"wave_dots":1,"wave_brighten":0,"brighten":1,"wave_a":1.254574,"wave_scale":0.931011,"wave_smoothing":0,"zoomexp":1.0081,"fshader":0.4,"zoom":0.820774,"cx":0.4999,"warp":0.01,"sx":0.999998,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_r":1,"ob_a":1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.9,"mv_x":0,"mv_y":0,"mv_l":0.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp=0;\\nle=1+.5+2*sin(bass_att);\\nbpulse=band(above(le,bth),above(le-bth,bblock));\\nbblock=le-bth;\\nbth=if(above(le,bth),le+114/(le+10)-7.407,\\nbth+bth*.07/(bth-12)+below(bth,2.7)*.1*(2.7-bth));\\nbth=if(above(bth,6),6,bth);\\nbres=bpulse*sin(pulse+le*.5) + bnot(bpulse)*bres;\\n\\nle=1+.5+2*sin(treb_att);\\ntpulse=band(above(le,tth),above(le-tth,tblock));\\ntblock=le-tth;\\ntth=if(above(le,tth),le+114/(le+10)-7.407,\\ntth+tth*.07/(tth-12)+below(tth,2.7)*.1*(2.7-tth));\\ntth=if(above(tth,6),6,tth);\\ntres=tpulse*sin(pulse+le*.5) + bnot(tpulse)*tres;\\n\\nle=1+.5+2*sin(mid_att);\\nmpulse=band(above(le,mth),above(le-mth,mblock));\\nmblock=le-mth;\\nmth=if(above(le,mth),le+114/(le+10)-7.407,\\nmth+mth*.07/(mth-12)+below(mth,2.7)*.1*(2.7-mth));\\nmth=if(above(mth,6),6,mth);\\nmres=mpulse*sin(pulse+le*.5) + bnot(mpulse)*mres;\\n\\n\\n\\npulse=if(above(abs(pulse),3.14),-3.14,pulse+(bth+mth+tth)*.003);\\nq1=bres;\\nq2=tres;\\nq3=mres;\\nq4=sin(pulse);\\n\\nmod_state=(above(q1,0)+above(q2,0)+above(q3,0))*(1+above(q4,0));\\nccl=ccl+tpulse+mpulse-bpulse;\\nq5=cos(pulse*(.5+.1*mod_state));\\nq6=sin(pulse*(.5+pow(.25,mod_state)));\\nq7=mod_state;\\nq8=ccl;\\nob_r=.5+.5*cos(q1+q7);\\nob_g=.5+.5*cos(q2*3.14+q7);\\nob_b=.5+.5*cos(q3*2+sin(time*.0816));\\nib_size=.025+.02*q2;\\nob_size=.03+.02*q3-.002*q7;\\nwave_r=.5+.5*sin(q1*q7+time*2.183);\\nwave_g=.5+.5*sin(q2*3+time*1.211);\\nwave_b=.5+.5*sin(q3+time*1.541);\\n\\nob_a=.8+.2*q2;\\nrot=1;\\ncx=cx+.05*q4;\\ncy=cy+.05*q5;\\nzoom=.95+.05*q6;","pixel_eqs_eel":"snee=bnot(above(sin(ang)-x,.5)*above(q2,0)+above(y-cos(ang),.5)*above(q1,0));\\nsnur=bnot(below(x,.5)*above(q3,0)+below(y,.5)*below(q7,4));\\ngrid=sin(sigmoid(sin(y*6.28*q2),sin(x*6.28*q6))*(10+q7));\\nzoom=zoom+.02*cos(rad*2+rad*q2)*sign(snee)-.04*sin(rad*3.14*q3-3.14*cos(rad*3.14*snur-3.14*q6));\\nsx=if(below(x,.5)*below(y,.5),sx+.2*q4*snur,1+.1*q2*grid);\\nsy=if(below(x,.5)*below(y,.5),sy+.2*q5*snee,1+.1*q2*grid);","warp":"","comp":""}')},"./presets/converted/Zylot - Paint Spill (Music Reactive Paint Mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"wave_mode":2,"wrap":0,"wave_a":0.001,"wave_scale":5.819,"wave_mystery":-0.38,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"rad":0.16446,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = if(above(bass,2.5),1,0);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"y = sample;\\nx = (value1+value2)*.003;\\na = (value1+value2)*.1;\\nr = .5+.3*sin(sample*10+time);\\ng = .5+.3*cos(sample*10-time*1.334);\\nb = .5+.3*sin(sample*10+time*.998);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\nwave_r = wave_r + .4*sin(time*.333)+bass_att*.2;\\nwave_g = wave_g + .4*sin(time*.555)+treb_att*.2;\\nwave_b = wave_b + .4*sin(time*.444)+mid_att*.2;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 muv_1;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (2.0 * bass_att);\\n  muv_1.x = (uv.x - ((\\n    ((0.01 * cos((\\n      (uv.x * (5.0 + tmpvar_3))\\n     + time))) + (0.01 * cos((\\n      (uv.y * (5.0 + tmpvar_3))\\n     + time))))\\n   * 0.5) * treb_att));\\n  float tmpvar_4;\\n  tmpvar_4 = (2.0 * mid_att);\\n  muv_1.y = (uv.y + ((\\n    ((0.01 * sin((\\n      (uv.x * (5.0 + tmpvar_4))\\n     + time))) - (0.01 * cos((\\n      (uv.y * (5.0 + tmpvar_4))\\n     + time))))\\n   * 0.5) * bass_att));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = ((texture (sampler_blur2, muv_1).xyz * scale2) + bias2);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_main, muv_1);\\n  ret_2.x = (tmpvar_6.x + (tmpvar_5.x * (bass_att * 0.05)));\\n  ret_2.y = (tmpvar_6.y + (tmpvar_5.y * (treb_att * 0.05)));\\n  ret_2.z = (tmpvar_6.z + (tmpvar_5.z * (mid_att * 0.05)));\\n  if ((ret_2.x > 0.9)) {\\n    ret_2.x = 0.0;\\n  };\\n  if ((ret_2.y > 0.9)) {\\n    ret_2.y = 0.0;\\n  };\\n  if ((ret_2.z > 0.9)) {\\n    ret_2.z = 0.0;\\n  };\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = ret_2;\\n  ret = tmpvar_7.xyz;\\n }","comp":" shader_body { \\n  vec3 ret1_1;\\n  vec2 uv1_2;\\n  vec3 ret_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_main, uv);\\n  ret_3 = (tmpvar_4.xyz * (0.6 + (0.3 * \\n    sin(((uv.x * 10.0) + time))\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_5.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_2 = ((0.5 * cos(\\n    (((uv - 0.5) * 1.5) + 1.6)\\n  )) - (3.0 * tmpvar_5));\\n  ret1_1 = ((0.3 * dot (tmpvar_4.xyz, vec3(0.32, 0.49, 0.29))) + ((\\n    clamp ((0.01 / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\\n   * \\n    mix (vec3(dot (((texture (sampler_blur2, uv).xyz * scale2) + bias2), vec3(0.32, 0.49, 0.29))), ret_3, pow (ret_3, vec3((0.05 + (mid_att * 0.03)))))\\n  ) * (\\n    (4.0 + bass)\\n   + \\n    (mid + treb_att)\\n  )));\\n  ret_3 = ret1_1;\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret1_1;\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/Zylot - Star Ornament.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1,"decay":0.997,"echo_zoom":0.996629,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001185,"wave_scale":0.01,"wave_smoothing":0.27,"wave_mystery":-0.38,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999514,"warp":0.01,"ob_size":0,"ob_r":0.01,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"rad":0.34,"ang":0.53,"r":0.56,"g":0.36,"r2":0.9,"a2":0.5,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nangle = 0;","frame_eqs_eel":"ang = angle;\\nbassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nangle = angle + bassspin;\\n\\nr = bass*.3;\\ng = treb*.3;\\nb = mid*.3;\\nr2 = .8+.2*sin(time*1.2);\\ng2 = .8+.2*sin(time*.9777);\\nb2 = .8+.2*sin(time*.7005);\\n\\nborder_a = 1*above(bass+treb+mid,5);\\n\\nx = .5 + q1;\\ny = .5 + q2;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.108073,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = .25;\\nypos = .25;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 + .13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"},{"baseVals":{"enabled":1,"sides":29,"additive":1,"textured":1,"rad":0.105693,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = 2.3;\\nypos = 2.3;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 +.13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.091434,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = 4.5;\\nypos = 4.5;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 + .13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"}],"waves":[{"baseVals":{"scaling":0.010576,"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = sqrt(sample*mid*.05);\\ny = .5 + (.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = sqrt(sample*mid*.05);\\ny = .5 + -(.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = 1 - sqrt(sample*mid*.05);\\ny = .5 + (.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = 1 - sqrt(sample*mid*.05);\\ny = .5 + -(.1+t1)*cos(sample*20);"}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\ndecay = .92;\\n\\nvol = (bass+mid+att)/6;\\nxamptarg = if(equal(frame%15,0),min(0.5*vol*bass_att,0.5),xamptarg);\\nxamp = xamp + 0.5*(xamptarg-xamp);\\nxdir = if(above(abs(xpos),xamp),-sign(xpos),if(below(abs(xspeed),0.1),2*above(xpos,0)-1,xdir));\\nxaccel = xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\\nxspeed = xspeed + xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\\nxpos = xpos + 0.001*xspeed;\\nyamptarg = if(equal(frame%15,0),min(0.3*vol*treb_att,0.5),yamptarg);\\nyamp = yamp + 0.5*(yamptarg-yamp);\\nydir = if(above(abs(ypos),yamp),-sign(ypos),if(below(abs(yspeed),0.1),2*above(ypos,0)-1,ydir));\\nyaccel = ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\\nyspeed = yspeed + ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\\nypos = ypos + 0.001*yspeed;\\n\\nq1 = ypos;\\nq2 = xpos;","pixel_eqs_eel":"zoom = zoom + (q1*q2)*2;\\nrot = 10+(rad*treb*.1);","warp":"","comp":""}')},"./presets/converted/Zylot - True Visionary (Final Mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1,"decay":0.997,"echo_zoom":0.997,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0.27,"wave_mystery":-0.38,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.99951,"warp":0.01,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":3,"rad":0.34,"ang":0.53,"r":0.56,"g":0.36,"r2":0.9,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang + time;"},{"baseVals":{"sides":3,"rad":0.41,"r":0,"g":0.8,"b":0.7,"g2":0.4,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang - time*.333;"},{"baseVals":{"sides":3,"rad":0.21,"r":0.84,"r2":1,"g2":0.58,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang + time*4;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = .5 + (bass*.2)*sin(sample*2*(time*10*treb));\\ny = .5 + (bass*.2)*cos(sample*2*(time*10*treb));\\nr = 1 + .5*sin(sample*.10+(time*10*bass));\\ng = 1 + .5*sin(sample*2+(time*50*treb));\\nb = 1 + .5*sin(sample*5+(time*20*mid));\\na = r;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\ndecay = .92;","pixel_eqs_eel":"zoom = zoom + (.03*(bass_att*bass_att))*rad;\\nrot = rot + rad*(-2.5&(cos(time)*5))*.01;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = texture (sampler_main, uv).xyz;\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_1 = ((0.5 * cos(\\n    (((uv - 0.5) * 1.5) + 1.6)\\n  )) - (3.0 * tmpvar_4));\\n  ret_2 = (0.8 * ((0.3 * \\n    dot (tmpvar_3, vec3(0.32, 0.49, 0.29))\\n  ) + (\\n    (clamp ((0.01 / sqrt(\\n      dot (uv1_1, uv1_1)\\n    )), 0.0, 1.0) * tmpvar_3)\\n   * \\n    ((4.0 + bass) + (mid + treb_att))\\n  )));\\n  ret_2 = (ret_2 * 0.77);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1,"echo_orient":1,"wave_mode":5,"wave_brighten":0,"wrap":0,"wave_a":100,"wave_scale":0.721,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"fshader":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.5 + 0.5*sin(6*time);\\nwave_g = 0.5 + 0.5*sin(4.1*time);\\nwave_b = -1 + (1-wave_r + 1-wave_g);\\nwarp = 0;","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\n\\n\\nxs = above(sin(12*dx_r*bass),0)*(dy_r*sin(2*rad)) + \\nbelow(sin(12*dx_r*bass),0)*(cos(time)*dx_r*sin(0.6*rad));\\n\\nzoom = zoom + abs(12*xs);\\nrot = rot + 5*xs*cos(1-xs*rad*12*dx_r);\\ndx = dx + dx_r;\\ndy = dy + dy_r;","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 * hue_shader);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.5, 1.0, 0.1));\\n  ret_1 = tmpvar_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = tmpvar_2;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/_Geiss - Artifact 01.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.998,"echo_zoom":1.421,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"darken_center":1,"wave_a":1.193,"wave_scale":1.489,"wave_smoothing":0,"modwavealphastart":0.87,"modwavealphaend":1.09,"warpscale":3.138,"zoom":1.003,"warp":0.09218,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_x":0.6,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.3650*( 0.60*sin(4.437*time) + 0.40*sin(3.970*time) );\\nwave_g = wave_g + 0.3650*( 0.60*sin(4.344*time) + 0.40*sin(3.841*time) );\\nwave_b = wave_b + 0.3650*( 0.60*sin(4.251*time) + 0.40*sin(3.055*time) );\\nrot = rot + 0.02*( 0.60*sin(0.181*time) + 0.09*sin(-0.279*time) );\\nzoom = zoom + 0.025*( 0.60*sin(0.3131*time+2) + 0.4*sin(-0.479*time+4) );\\n//cx = cx + 0.10*( 0.60*sin(0.374*time) + 0.10*sin(0.294*time) );\\n//cy = cy + 0.10*( 0.60*sin(0.393*time) + 0.10*sin(0.223*time) );\\n//dx = dx + 0.0040*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\n//dy = dy + 0.0040*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\n\\n//wave_x = 0.1 + rand(80)*0.01;\\n//wave_y = 0.1 + rand(80)*0.01;\\nt2 = time*6;\\nwave_x = 0.5 + 0.2*( 0.60*sin(0.374*t2) + 0.40*sin(0.294*t2) );\\nwave_y = 0.5 + 0.2*( 0.60*sin(0.393*t2) + 0.40*sin(0.223*t2) );","pixel_eqs_eel":"dx = 0;\\ndy = 0;\\ndx = dx + cos(y*29.37 - time*1.9) * 1.0/pixelsx * 2;\\ndy = dy + cos(x*33.21 - time*1.7) * 1.0/pixelsy * 2;\\ndx = dx + cos(y*77.55 - time*2.1) * 1.0/pixelsx * 1.5;\\ndy = dy + cos(x*78.32 - time*2.4) * 1.0/pixelsy * 1.5;","warp":" shader_body { \\n  vec2 dxy_1;\\n  dxy_1.x = cos(((154.56 * uv_orig.y) - time));\\n  dxy_1.y = cos(((154.56 * uv_orig.x) - time));\\n  float tmpvar_2;\\n  tmpvar_2 = (time * 5.0);\\n  dxy_1.x = (dxy_1.x + cos((\\n    (412.16 * uv_orig.y)\\n   - tmpvar_2)));\\n  dxy_1.y = (dxy_1.y + cos((\\n    (412.16 * uv_orig.x)\\n   - tmpvar_2)));\\n  dxy_1.y = (dxy_1.y + 0.15);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (max (texture (sampler_fw_main, (uv + \\n    (dxy_1 * texsize.zw)\\n  )).xyz, (texture (sampler_main, uv_orig).xyz * 0.8)) - 0.004);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * 0.8) + ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.7));\\n  ret = tmpvar_1.xyz;\\n }"}')},"./presets/converted/_Geiss - Desert Rose 2.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"wave_mode":2,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_a":0.274,"wave_scale":2.827,"wave_smoothing":0.09,"modwavealphastart":0.83,"modwavealphaend":1.31,"warpscale":3.138,"zoom":0.993,"warp":0.00054,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.2));\\n  ret_1 = (ret_1 - 0.02);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 1.15);\\n  ret = tmpvar_1.xyz;\\n }"}')},"./presets/converted/_Geiss - untitled.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"additivewave":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0.63,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":30.965,"warpscale":2.572,"zoom":1.00901,"warp":0.00054,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":12.8,"mv_y":9.6,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"additive":1,"rad":0.49138,"r":0,"g":1,"b":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.5+q4;y=.5+q5;\\na=bass_att+mid_att+treb_att;\\na=a*0.25;\\na=a*a*1.5;"},{"baseVals":{"sides":24,"rad":0.01842,"tex_zoom":0.81954,"g":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tex_ang=0.01;\\nx=.5-q4;\\ny=.5-q5;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\nzoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\nzoom = zoom + max(0,bass_att-1.1)*0.2;\\nwarp = warp + max(0,treb-1.1)*0.5;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.6));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 12.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec3 N_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1.0, 0.0) * texsize.zw);\\n  N_1.x = ((texture (sampler_main, (uv_orig + tmpvar_3)).xyz - texture (sampler_main, (uv_orig - tmpvar_3)).xyz).x * 0.8);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  N_1.y = ((texture (sampler_main, (uv_orig + tmpvar_4)).xyz - texture (sampler_main, (uv_orig - tmpvar_4)).xyz).x * 0.8);\\n  N_1.x = (N_1.x + ((\\n    ((texture (sampler_blur1, (uv_orig + tmpvar_3)).xyz * scale1) + bias1)\\n   - \\n    ((texture (sampler_blur1, (uv_orig - tmpvar_3)).xyz * scale1) + bias1)\\n  ).x * 0.2));\\n  N_1.y = (N_1.y + ((\\n    ((texture (sampler_blur1, (uv_orig + tmpvar_4)).xyz * scale1) + bias1)\\n   - \\n    ((texture (sampler_blur1, (uv_orig - tmpvar_4)).xyz * scale1) + bias1)\\n  ).x * 0.2));\\n  N_1.z = -0.077;\\n  vec3 tmpvar_5;\\n  tmpvar_5 = normalize(N_1);\\n  N_1 = tmpvar_5;\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = -0.8;\\n  tmpvar_6.x = q9;\\n  tmpvar_6.y = q10;\\n  vec3 tmpvar_7;\\n  tmpvar_7.z = 0.0;\\n  tmpvar_7.xy = ((uv_orig * 2.0) - 1.0);\\n  vec3 tmpvar_8;\\n  tmpvar_8 = normalize((tmpvar_6 - tmpvar_7));\\n  vec3 tmpvar_9;\\n  tmpvar_9 = normalize((tmpvar_7 - vec3(0.0, 0.0, 1.0)));\\n  ret_2 = (vec3(clamp (dot (tmpvar_5, tmpvar_8), 0.0, 1.0)) * vec3(1.2, 0.9, 0.7));\\n  ret_2 = (ret_2 * normalize((\\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\\n   + bias3).yzx));\\n  ret_2 = (ret_2 + (pow (\\n    clamp (dot (normalize((tmpvar_9 + \\n      ((2.0 * tmpvar_5) * dot (tmpvar_9, tmpvar_5))\\n    )), tmpvar_8), 0.0, 1.0)\\n  , 32.0) * 0.5));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }"}')},"./presets/converted/_Mig_049.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.535239,"wave_smoothing":0,"wave_mystery":-0.48,"modwavealphastart":1,"modwavealphaend":1.1,"warpscale":3.138,"fshader":1,"zoom":1.023,"warp":0.122616,"wave_g":0.65,"wave_b":0,"mv_x":6.4,"mv_y":48,"mv_dx":0.5,"mv_dy":0.5,"mv_l":5,"mv_r":0.013716,"mv_g":0.872347,"mv_b":0.522466,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":0.746302,"tex_zoom":0.942039,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(time)*.5+.5;\\nval=3;\\na2=val*.33;\\na=val*.33;\\nrad=cos(time*.3)*.4+0.65;\\nx=sin(time*.25)*.25+.5;\\ny=cos(time*.45)*.25+.5;\\n\\n\\n"},{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":0.746302,"tex_zoom":0.942039,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang=cos(time*.3)*.5+.5;\\nval=3;\\na2=val*.33;\\na=val*.33;\\nrad=sin(time*.3)*.4+0.65;\\nx=cos(time*.25)*.25+.5;\\ny=sin(time*.45)*.25+.5;\\n\\n\\n"},{"baseVals":{"enabled":1,"thickoutline":1,"rad":0.364564,"r":0,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nh2=h2+(above(treb,1.32)*0.8)*.9;\\nvr=sin(h2*.8)*.5+.5;\\nvg=sin(h2*.5)*.5+.5;\\nvb=sin(h2*.1)*.5+.5;\\n\\ng=vg;\\nr=vr;\\nb=vb;\\ng2=g;\\nr2=r;\\nb2=b;\\ndist=(frame%100)*.01;\\nmaat=maat+(above(bass_att,1.5));\\nmaat=below(maat,16)*maat;\\nx=if(below(maat,8),if(below(maat,4),dist,1-dist),x);\\ny=if(above(maat,8),if(above(maat,4),dist,1-dist),y);"},{"baseVals":{"thickoutline":1,"textured":1,"rad":0.364564,"r":0,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\nh2=h2+(above(treb,1.32)*0.8)*.9;\\nvr=sin(h2*.8)*.5+.5;\\nvg=sin(h2*.5)*.5+.5;\\nvb=sin(h2*.1)*.5+.5;\\n\\ng=vg;\\nr=vr;\\nb=vb;\\ng2=g;\\nr2=r;\\nb2=b;\\ndist=(frame%100)*.01;\\nmaat=maat+(above(bass_att,1.5));\\nmaat=below(maat,16)*maat;\\ny=if(below(maat,8),if(below(maat,4),dist,1-dist),y);\\nx=if(above(maat,8),if(above(maat,4),dist,1-dist),x);"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 1;//0.85 + 0.35*sin(0.437*time+1) + 0.55*sin(0.197*time+4);\\nwave_g = 0;//0.85 + 0.35*sin(0.544*time+2) + 0.55*sin(0.143*time+5);\\nwave_b = 0;//0.85 + 0.35*sin(0.751*time+3) + 0.55*sin(0.117*time+6);\\nwave_r = sqrt(wave_r);\\nwave_g = sqrt(wave_g);\\nwave_b = sqrt(wave_b);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\\n   * 0.03))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_2;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/_Mig_085.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.7,"echo_zoom":1.16936,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.011726,"wave_smoothing":0.9,"zoom":0.999902,"warp":0.01,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0.0065,"ib_size":0.26,"mv_x":0,"mv_y":43.199997,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"textured":1,"rad":1.06779,"ang":0.753982,"tex_zoom":0.779769,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(q1*0.15);\\nx=sin(q1*0.5) * 0.05 + 0.5;\\ny=cos(q1*0.63)* 0.05 + 0.5"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"additive":1,"rad":0.038091,"g":1,"b":1,"g2":0.6,"b2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm=q1;\\n\\nxp=0;\\nyp=0.1;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n\\n"}],"waves":[{"baseVals":{"enabled":1,"r":0.1,"b":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"r":0.2,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"r":0.1,"b":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=-xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"r":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=-xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"}],"init_eqs_eel":"","frame_eqs_eel":"movement = movement + 0.01*(bass+bass_att) + 0.001*pow(bass+1,3);\\nq1 = movement;\\nmonitor =q1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (normalize((uv - uv_orig)) * texsize.zw);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 0.0;\\n  tmpvar_3.xyz = ret_1;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 0.0;\\n  tmpvar_4.xyz = max (tmpvar_3, (texture (sampler_main, (uv - tmpvar_2)) * 0.9)).xyz;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 0.0;\\n  tmpvar_5.xyz = max (tmpvar_4, (texture (sampler_main, (uv + tmpvar_2)) * 0.97)).xyz;\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 0.0;\\n  tmpvar_6.xyz = max (tmpvar_5, (texture (sampler_main, (uv + \\n    (tmpvar_2 * 2.0)\\n  )) * 0.97)).xyz;\\n  ret_1 = (max (tmpvar_6, (texture (sampler_main, \\n    (uv + (tmpvar_2 * 3.0))\\n  ) * 0.9)).xyz * 0.92);\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = ret_1;\\n  ret = tmpvar_7.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_2;\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":3,"wave_mode":1,"wave_thick":1,"wrap":0,"darken_center":1,"wave_a":0.3,"wave_scale":0.881,"wave_smoothing":0.5,"wave_mystery":-1,"warpscale":2.853,"zoomexp":3.6,"zoom":1.02109,"rot":-0.16,"warp":0.309,"wave_r":0.6,"wave_g":0.6,"wave_b":0.6,"wave_y":0.47,"mv_l":1.75},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.400*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\nwave_g = wave_g + 0.400*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\nwave_b = wave_b + 0.400*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\nq8 = oldq8+if(above(bass+bass_att,1.8),q8+0.0005*pow((bass+bass_att-1),9),0);\\noldq8 = q8;\\nmonitor = q8;\\nzoom = zoom + 0.023*( 0.60*sin(0.339*q8) + 0.40*sin(0.276*q8) );\\nrot = rot + 0.030*( 0.60*sin(0.381*q8) + 0.40*sin(0.579*q8) );\\n//decay = decay - 0.02*equal(frame%40,0);\\nmv_r = wave_r;\\nmv_b = wave_b;\\nmv_g = wave_g;\\nmv_x = 1.25;\\nmv_y = 1.25;\\nmv_dx = 0.1*sin(1.1*time);\\nmv_dy = 0.1*cos(1.112*time);","pixel_eqs_eel":"rot=rot+1/(10*(rad+0.2+0.1*sin(q8)));","warp":"","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = (tmpvar_1.xyz * (1.0 + (\\n    (abs((fract(\\n      (tmpvar_1.xyz * 8.0)\\n    ) - 0.5)) - 0.25)\\n   * 0.4)));\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/cope + flexi - colorful marble (ghost mix).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_orient":1,"additivewave":1,"wave_a":0.002,"wave_scale":2.713,"wave_smoothing":0,"modwavealphastart":1.2,"modwavealphaend":1.2,"warpscale":1.331,"zoom":0.9995,"warp":0.009,"wave_r":0.44,"wave_g":0.4,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":3,"additive":1,"num_inst":347,"rad":0.20065,"ang":0.75398,"tex_ang":3.14159,"tex_zoom":0.99979,"r":0,"g2":0,"border_g":0.5,"border_b":0.15,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//lorenz-attractor calc\\nxx1 = if(equal(instance,0),q11,xx1);\\nyy1 = if(equal(instance,0),q12,yy1);\\nzz1 = if(equal(instance,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\ndd = sqrt(dx1*dx1+dy1*dy1+dz1*dz1);\\nxx1 = xx1 + q17*dx1/dd;\\nyy1 = yy1 + q17*dy1/dd;\\nzz1 = zz1 + q17*dz1/dd;\\n\\n\\n// 3D object model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // camera distance\\nzoom = 0.66;\\n\\n// solid angles\\nw3 = -q3;\\nw2 = q4;\\nw1 = q5;\\n\\n// 3D rotation\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nrad = rad/d;\\nang = ang-instance/num_inst*asin(1)*8;"},{"baseVals":{"enabled":1,"sides":52,"rad":0.72136,"tex_zoom":0.7874,"r":0,"a":0.05,"g2":0,"border_a":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":""},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.2667,"tex_zoom":0.7874,"r":0,"g":0.1,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*4;\\nmy_z = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*4;\\nmy_y = t*(sin(wh)*sin(wv)*l)*4;\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.05012,"tex_zoom":0.7874,"r":0,"g":0.02,"b":0.11,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"}],"waves":[{"baseVals":{"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.21,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"","point_eqs_eel":"// lorenz-attractor calc\\nxx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\n// 3D model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // distance of the camera (on the z-axis) to the origin\\nzoom = 0.4;\\n\\n// solid angles\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\n// rotations\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\nmy_x = xx1*0.02;\\nmy_y = yy1*0.02;\\nmy_z = zz1*0.02;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 2;\\ny1= 2;\\nz1 = 2;","frame_eqs_eel":"// raytraced sphere code\\n\\nd = 20; // distance of the sphere, the farther you\'re away the more you\'ll see on the horizon\\nz = 4; // distance of the pane where the scene is projected on, wider distance = smaller apex angle of the camera, very small distances = fish eyes view\\n\\nzz = 1 + bass_att*0; // linear zoom\\n\\npi = asin(1)*2;\\npi2inv = 0.5/pi;\\nmaskangle = asin( 1/d);\\nq32 = maskangle; // hit = (cameras angle < mask_angle)\\nq31 = d;\\nq30 = z;\\nq29 = pi2inv;\\nq28 = pi;\\nq27 = 1/zz;\\n\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0152;\\nn1 = n1 + j2*0.0152;\\nn2 = n2 + j3*0.0152;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol;\\nq3=vol;\\nmtime = mtime+vol*0.01;\\nq1=mtime;\\n\\nzoom = zoom + 0.015*vol;\\n\\nw1 = n*0.01;    // solid angles to rotate the sphere in its origin\\nw2 = n1*0.01;\\nw3 = n2*0.01;\\n\\nq20 = cos(w1);\\nq21 = sin(w1);\\nq22 = cos(w2);\\nq23 = sin(w2);\\nq24 = cos(w3);\\nq25 = sin(w3);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise2_1;\\n  vec3 rc_2;\\n  vec3 p_3;\\n  vec2 polar_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = ((q27 * (uv - 0.5)) * aspect.xy);\\n  float tmpvar_7;\\n  tmpvar_7 = sqrt(dot (tmpvar_6, tmpvar_6));\\n  float tmpvar_8;\\n  float tmpvar_9;\\n  tmpvar_9 = (min (abs(\\n    (tmpvar_7 / q30)\\n  ), 1.0) / max (abs(\\n    (tmpvar_7 / q30)\\n  ), 1.0));\\n  float tmpvar_10;\\n  tmpvar_10 = (tmpvar_9 * tmpvar_9);\\n  tmpvar_10 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_10) + 0.05368138) * tmpvar_10) - 0.1173503)\\n     * tmpvar_10) + 0.1938925) * tmpvar_10) - 0.3326756)\\n   * tmpvar_10) + 0.9999793) * tmpvar_9);\\n  tmpvar_10 = (tmpvar_10 + (float(\\n    (abs((tmpvar_7 / q30)) > 1.0)\\n  ) * (\\n    (tmpvar_10 * -2.0)\\n   + 1.570796)));\\n  tmpvar_8 = (tmpvar_10 * sign((tmpvar_7 / q30)));\\n  if ((abs(q30) > (1e-08 * abs(tmpvar_7)))) {\\n    if ((q30 < 0.0)) {\\n      if ((tmpvar_7 >= 0.0)) {\\n        tmpvar_8 += 3.141593;\\n      } else {\\n        tmpvar_8 = (tmpvar_8 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_8 = (sign(tmpvar_7) * 1.570796);\\n  };\\n  bool tmpvar_11;\\n  tmpvar_11 = (q32 >= tmpvar_8);\\n  float tmpvar_12;\\n  float tmpvar_13;\\n  tmpvar_13 = (min (abs(\\n    (tmpvar_6.x / tmpvar_6.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_6.x / tmpvar_6.y)\\n  ), 1.0));\\n  float tmpvar_14;\\n  tmpvar_14 = (tmpvar_13 * tmpvar_13);\\n  tmpvar_14 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_14) + 0.05368138) * tmpvar_14) - 0.1173503)\\n     * tmpvar_14) + 0.1938925) * tmpvar_14) - 0.3326756)\\n   * tmpvar_14) + 0.9999793) * tmpvar_13);\\n  tmpvar_14 = (tmpvar_14 + (float(\\n    (abs((tmpvar_6.x / tmpvar_6.y)) > 1.0)\\n  ) * (\\n    (tmpvar_14 * -2.0)\\n   + 1.570796)));\\n  tmpvar_12 = (tmpvar_14 * sign((tmpvar_6.x / tmpvar_6.y)));\\n  if ((abs(tmpvar_6.y) > (1e-08 * abs(tmpvar_6.x)))) {\\n    if ((tmpvar_6.y < 0.0)) {\\n      if ((tmpvar_6.x >= 0.0)) {\\n        tmpvar_12 += 3.141593;\\n      } else {\\n        tmpvar_12 = (tmpvar_12 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_12 = (sign(tmpvar_6.x) * 1.570796);\\n  };\\n  float x_15;\\n  x_15 = (q31 * sin(tmpvar_8));\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = tmpvar_12;\\n  tmpvar_16.y = ((q28 - tmpvar_8) + (sign(x_15) * (1.570796 - \\n    (sqrt((1.0 - abs(x_15))) * (1.570796 + (abs(x_15) * (-0.2146018 + \\n      (abs(x_15) * (0.08656672 + (abs(x_15) * -0.03102955)))\\n    ))))\\n  )));\\n  polar_4 = tmpvar_16;\\n  vec3 tmpvar_17;\\n  tmpvar_17.x = (sin(tmpvar_12) * sin(tmpvar_16.y));\\n  tmpvar_17.y = (cos(tmpvar_12) * sin(tmpvar_16.y));\\n  tmpvar_17.z = cos(tmpvar_16.y);\\n  vec2 tmpvar_18;\\n  tmpvar_18.x = ((tmpvar_17.z * q20) - (tmpvar_17.y * q21));\\n  tmpvar_18.y = ((tmpvar_17.z * q21) + (tmpvar_17.y * q20));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = ((tmpvar_18.x * q22) - (tmpvar_17.x * q23));\\n  tmpvar_19.y = ((tmpvar_18.x * q23) + (tmpvar_17.x * q22));\\n  p_3.z = tmpvar_19.x;\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = ((tmpvar_18.y * q24) - (tmpvar_19.y * q25));\\n  tmpvar_20.y = ((tmpvar_18.y * q25) + (tmpvar_19.y * q24));\\n  p_3.xy = tmpvar_20.yx;\\n  float tmpvar_21;\\n  float tmpvar_22;\\n  tmpvar_22 = (min (abs(\\n    (tmpvar_19.x / tmpvar_20.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_19.x / tmpvar_20.y)\\n  ), 1.0));\\n  float tmpvar_23;\\n  tmpvar_23 = (tmpvar_22 * tmpvar_22);\\n  tmpvar_23 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_23) + 0.05368138) * tmpvar_23) - 0.1173503)\\n     * tmpvar_23) + 0.1938925) * tmpvar_23) - 0.3326756)\\n   * tmpvar_23) + 0.9999793) * tmpvar_22);\\n  tmpvar_23 = (tmpvar_23 + (float(\\n    (abs((tmpvar_19.x / tmpvar_20.y)) > 1.0)\\n  ) * (\\n    (tmpvar_23 * -2.0)\\n   + 1.570796)));\\n  tmpvar_21 = (tmpvar_23 * sign((tmpvar_19.x / tmpvar_20.y)));\\n  if ((abs(tmpvar_20.y) > (1e-08 * abs(tmpvar_19.x)))) {\\n    if ((tmpvar_20.y < 0.0)) {\\n      if ((tmpvar_19.x >= 0.0)) {\\n        tmpvar_21 += 3.141593;\\n      } else {\\n        tmpvar_21 = (tmpvar_21 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_21 = (sign(tmpvar_19.x) * 1.570796);\\n  };\\n  float tmpvar_24;\\n  tmpvar_24 = sqrt(dot (p_3.xz, p_3.xz));\\n  float tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (min (abs(\\n    (tmpvar_20.x / tmpvar_24)\\n  ), 1.0) / max (abs(\\n    (tmpvar_20.x / tmpvar_24)\\n  ), 1.0));\\n  float tmpvar_27;\\n  tmpvar_27 = (tmpvar_26 * tmpvar_26);\\n  tmpvar_27 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_27) + 0.05368138) * tmpvar_27) - 0.1173503)\\n     * tmpvar_27) + 0.1938925) * tmpvar_27) - 0.3326756)\\n   * tmpvar_27) + 0.9999793) * tmpvar_26);\\n  tmpvar_27 = (tmpvar_27 + (float(\\n    (abs((tmpvar_20.x / tmpvar_24)) > 1.0)\\n  ) * (\\n    (tmpvar_27 * -2.0)\\n   + 1.570796)));\\n  tmpvar_25 = (tmpvar_27 * sign((tmpvar_20.x / tmpvar_24)));\\n  if ((abs(tmpvar_24) > (1e-08 * abs(tmpvar_20.x)))) {\\n    if ((tmpvar_24 < 0.0)) {\\n      if ((tmpvar_20.x >= 0.0)) {\\n        tmpvar_25 += 3.141593;\\n      } else {\\n        tmpvar_25 = (tmpvar_25 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_25 = (sign(tmpvar_20.x) * 1.570796);\\n  };\\n  vec2 tmpvar_28;\\n  tmpvar_28.x = tmpvar_21;\\n  tmpvar_28.y = tmpvar_25;\\n  polar_4 = (((tmpvar_28 * q29) * vec2(1.0, 2.0)) + vec2(0.0, 0.5));\\n  vec3 tmpvar_29;\\n  tmpvar_29.xy = polar_4;\\n  tmpvar_29.z = (time * 0.15);\\n  rc_2 = (texture (sampler_noisevol_hq, tmpvar_29).xyz + (texture (sampler_noisevol_hq, (2.0 * tmpvar_29)) * 0.5).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (4.0 * tmpvar_29)) * 0.25).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (8.0 * tmpvar_29)) * 0.125).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (16.0 * tmpvar_29)) * 0.0625).xyz);\\n  rc_2 = ((rc_2 * rc_2) * (rc_2 * 2.0));\\n  rc_2 = (rc_2 * (q3 * 0.5));\\n  vec4 tmpvar_30;\\n  tmpvar_30 = texture (sampler_fc_main, (0.5 + (uv - 0.5)));\\n  noise2_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + mix ((rc_2 * 2.0), vec3(2.0, 2.0, 2.0), vec3(rad)));\\n  vec3 a_31;\\n  a_31 = (1.0 - tmpvar_30.xyz);\\n  ret_5 = (tmpvar_30.xyz + (vec3(0.3, 0.25, 0.2) * dot (\\n    ((a_31.yzx * noise2_1.zxy) - (a_31.zxy * noise2_1.yzx))\\n  , vec3(0.32, 0.49, 0.29))));\\n  ret_5 = (ret_5 - (0.1 * rad));\\n  ret_5 = (ret_5 + ((0.1 * texture (sampler_noisevol_hq, \\n    ((p_3 + (time * 0.1)) * 0.7)\\n  )) * float(tmpvar_11)).xyz);\\n  vec4 tmpvar_32;\\n  tmpvar_32.w = 1.0;\\n  tmpvar_32.xyz = ret_5;\\n  ret = tmpvar_32.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz - ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.5));\\n  ret_1 = (ret_1 * 2.0);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/cope + martin - mother-of-pearl.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.14,"decay":1,"echo_zoom":1,"wave_mode":6,"wave_thick":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":1.17,"wave_scale":0.797,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoomexp":0.9995,"zoom":0.9998,"rot":0.02,"dy":-0.008,"warp":0.01,"sx":1.0098,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_x":0.9,"ob_size":0.005,"ob_a":0.8,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":44.8,"mv_y":38.4,"mv_l":5,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":33,"y":0,"rad":0.11039,"ang":3.4054,"r":0,"g2":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//ang = ang + time*2;\\n\\n//x = x + 0.4*sin(time);\\n//y = y + 0.4*sin(-time*1.4);"},{"baseVals":{"sides":34,"y":0.45,"rad":1.62175,"r":0,"a":0.05,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":54,"x":0,"y":0.6,"rad":0.13478,"r":0.7,"g":0.6,"b":0.7,"r2":0.6,"g2":0.6,"b2":0.6,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//r = r + 0.3*(0.6*sin(time*1.87) + 0.4*sin(1.98*time));\\n//b = b + 0.3*(0.6*sin(time*1.3434) + 0.4*sin(1.78*time));\\n//g = g + 0.3*(0.6*sin(time*1.9887) + 0.4*sin(1.6*time));\\nr=0;\\nb=0;\\ng=0;\\nr2=r;\\nb2=b;\\ng2=g;"},{"baseVals":{"x":0,"y":0.2,"rad":0.20068,"r":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"r":0.2,"g":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.3*sin(vol*50);\\nwave_b = wave_b + 0.3*sin(vol*20);\\nwave_g = wave_g + 0.5*sin(vol*35);\\n\\n\\nq8=wave_r;\\nq7=wave_b;\\nq6=wave_g;\\n\\nwr = 0.5+0.4*(0.6*sin(time*1.1) + 0.4*sin(0.8*time));\\nwb = 0.5+0.4*(0.6*sin(time*1.6) + 0.4*sin(0.5*time));\\nwg = 0.5+0.4*(0.6*sin(time*1.34) + 0.4*sin(0.4*time));\\n\\nmonitor=wg;\\nq10=wr;\\nq11=wb;\\nq12=wg;\\nq18 = 0.007*sin(time*0.1);\\nq17 = -0.007*sin(time*0.254);\\nq2=bass_thresh;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\nq3=vol;\\n\\nwarp=0;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise3_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur1, uv).xyz * scale1) + bias1));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (0.5 + ((\\n    (uv - vec2(0.0, 1.0))\\n   - 0.5) * (1.0 + \\n    (tmpvar_2.y * 0.03)\\n  )));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (tmpvar_3.x + pow (tmpvar_2.x, 0.0));\\n  tmpvar_4.y = (tmpvar_3.y + pow (tmpvar_2.x, 0.005));\\n  noise3_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz * fract(q15));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (noise3_1 * (vec3(1.0, 1.0, 1.0) - vec3(fract(\\n    (q3 * 0.5)\\n  ))));\\n  noise3_1 = tmpvar_5;\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_main, fract(tmpvar_4));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = q10;\\n  tmpvar_7.y = q11;\\n  tmpvar_7.z = q12;\\n  vec3 tmpvar_8;\\n  tmpvar_8 = mix (tmpvar_5, tmpvar_7, tmpvar_6.xxx);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = (tmpvar_6.xyz + clamp ((\\n    (tmpvar_6.yzx * tmpvar_8.zxy)\\n   - \\n    (tmpvar_6.zxy * tmpvar_8.yzx)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/fiShbRaiN + Flexi - witchcraft 2.0.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.28,"decay":0.8,"echo_zoom":1,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"brighten":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"zoomexp":3.04777,"zoom":1.0173,"warp":0.01605,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":5,"additive":1,"num_inst":2,"x":0.49,"rad":0.11589,"tex_zoom":4.36077,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(1000)/1000;\\ny = rand(1000)/1000;\\nang = rand(150)/100;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"g":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"r":0,"g":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"r":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"g":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %2;\\n\\n\\nd_x = if(is_beat, (rand(2000)-1000)*0.001 , d_x);\\nd_y = if(is_beat, (rand(2000)-1000)*0.001 , d_y);\\nr = if(is_beat, (rand(2000)-1000)*0.001 , r);\\nz = if(is_beat, rand(1000)*0.001 , z);\\nzoom = 1.03 + z*0.06;\\nrot = r*0.06;\\ndx = d_x*0.01;\\ndy = d_y*0.01;\\nq1 = 1;\\n\\nq23 = rand(1000)/1000;\\nq24 = rand(1000)/1000;\\nq25 = (rand(1000)/1000)*6.28;\\nq26 = q25 - 3.14;\\nq27 = (rand(1000)/12000)+0.04;\\n\\nq28 = rand(1000)/1000;\\nq29 = rand(1000)/1000;\\nq30 = (rand(1000)/1000)*6.28;\\nq31 = q30 - 3.14;\\nq32 = (rand(1000)/14000)+0.04;\\n\\ndb = db*0.98 + bass*0.2;\\nbb = bb + db*0.1;\\n\\ndt = dt*0.98 + treb*0.2;\\ntt = tt + dt*0.1;\\n\\ndm = dm*0.98 + mid*0.2;\\nmm = mm + dm*0.1;\\n\\n\\nw = (bb-tt)*0.1;\\nq11 = sin(w);\\nq12 = cos(w);\\nq13 = 0.5 + sin((bb-mm)*0.1)*0.25; // cx\\nq14 = 0.5 + sin((tt-mm)*0.1)*0.25; // cy\\nq15 = 4;\\nq16 = 0.06;\\nq17 = sin(-w);\\nq18 = cos(-w);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.x;\\n  tmpvar_5.y = tmpvar_4.x;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = mix (uv_orig, uv, vec2(0.1, 0.1));\\n  tmpvar_6 = (tmpvar_7 + ((tmpvar_5 * texsize.zw) * 2.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_3.y;\\n  tmpvar_8.y = tmpvar_4.y;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (mix (uv_orig, uv, vec2(0.3, 0.3)) + ((tmpvar_8 * texsize.zw) * 2.0));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.z;\\n  tmpvar_10.y = tmpvar_4.z;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_7 + ((tmpvar_10 * texsize.zw) * 2.0));\\n  ret_1.x = (texture (sampler_main, tmpvar_6).x - ((texture (sampler_main, tmpvar_6).xyz - \\n    ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\\n  ).x * 0.01));\\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \\n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\\n  ).y * 0.01));\\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  ).z * 0.01));\\n  ret_1 = (ret_1 + (-0.004 + (\\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)).xyz - 0.5)\\n   * 0.1)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \\n    (tmpvar_5 * 0.2)\\n  )).yyy) * ((\\n    (-(tmpvar_3.y) + tmpvar_4.y)\\n   + 1.0) + (\\n    (-(tmpvar_3.z) + tmpvar_4.z)\\n   * 2.0)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = mix (mix (ret_1, vec3(0.3, 0.0, 0.8), vec3((\\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\\n  .x * 1.4))), vec3(1.0, 0.9, 0.4), texture (sampler_main, uv).zzz);\\n  ret_1 = tmpvar_7;\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = tmpvar_7;\\n  ret = tmpvar_8.xyz;\\n }"}')},"./presets/converted/flexi + amandio c - organic [random mashup].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"wrap":0,"darken_center":1,"brighten":1,"darken":1,"wave_a":0.001,"warpanimspeed":0.141,"warpscale":14.497,"zoom":0.99951,"warp":0.75055,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":6,"rad":0.17809,"ang":0.26,"tex_zoom":0.39711,"g":0.7,"b":0.6,"r2":0.4,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nb=.6+.3*q3;\\ng=.7+.2*q3;\\nr= .7;\\n\\ng2=.3*g;\\nr2=.3*r;\\nb2=.3*b;"},{"baseVals":{"enabled":1,"sides":6,"additive":1,"rad":0.17809,"ang":0.26,"tex_zoom":0.99999,"g":1,"b":0.4,"a":0.5,"r2":0.2,"g2":0,"b2":0.3,"a2":0.6,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nb=.6+.3*q3;\\ng=.7+.2*q3;\\nr= .7;\\n\\ng2=.3*g;\\nr2=.3*r;\\nb2=.3*b;"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"rad":0.17633,"ang":0.26,"tex_zoom":1.19615,"r2":1,"b2":1,"a2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"x=.22*rand(6);\\ny=.18+.16*(2*time%5);\\n\\ng=1.5*q3;\\nr=1.3*q4;\\nb=1.7*q5;\\n\\ntex_ang=-q1;\\ntex_zoom=2+sin(q1);"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"rad":0.16284,"ang":0.26,"r2":0.8,"g2":0.8,"b2":0.8,"a2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nr=.3*q3;\\nb=.2*q2;\\ng=.1*q1;\\n\\ntex_ang=q1;\\ntex_zoom=2+1.2*sin(1.5*q1);"}],"waves":[{"baseVals":{"samples":395,"usedots":1,"r":0.15,"g":0.15,"b":0.15,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"scaling":0.01,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 0.5;\\nx2 = 0.51;\\n\\ny2 = 1;\\ny1 = 0.7;\\n\\nx3 = 0.8;\\ny3 = 0.5;\\n\\nx4 = 0.2;\\ny4 = 0.5;\\n\\n\\nax1 = 0;\\nay1 = 0;\\nax2 = 0;\\nay2 = 0;\\nax3 = 0;\\nay3 = 0;\\n\\nvx1 = 0.000;\\nvx2 = 0.000;","frame_eqs_eel":"sx=1+.01*(8*bass%8)*equal(time%(int(24-2*bass)),0);\\nsy=1+.01*(8*mid%8) *equal(time%(12+int(24-2*bass)),0);\\n\\nzoom = 0.99;\\n//warp = 0;\\nwave_a = 0;\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nr = 0.12+ max(bass_att,treb_att)*0.004;\\nbounce = below(y1,r);\\ny1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.94 + (r-y1)*0.1, vy1-0.00006*60/fps);\\nbounce = below(x1,r);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.94 + (r-x1)*0.1, vx1);\\nbounce = above(x1,1-r);vx1 = if(bounce, - abs(vx1)*0.94 + (1-r-x1)*0.04, vx1);\\nbounce = below(y2,r);y2 = y2 + vy2;vy2 = if(bounce,abs(vy2)*0.94+(r-y2)*.1, vy2-0.00006*60/fps);\\nbounce = below(x2,r);x2 = x2+ vx2;vx2 = if(bounce, abs(vx2)*0.94 + (r-x2)*0.1, vx2);\\nbounce = above(x2,1-r);vx2 = if(bounce, - abs(vx2)*0.94 + (1-r-x2)*0.1, vx2);\\nbounce = below(y3,r);y3 = y3 + vy3;vy3 = if(bounce,abs(vy3)*0.94+(r-y3)*.1, vy3-0.00006*60/fps);\\nbounce = below(x3,r);x3 = x3+ vx3;vx3 = if(bounce, abs(vx3)*0.94 + (r-x3)*0.1, vx3);\\nbounce = above(x3,1-r);vx3 = if(bounce, - abs(vx3)*0.94 + (1-r-x3)*0.1, vx3);\\nbounce = below(y4,r);y4 = y4 + vy4;vy4 = if(bounce,abs(vy4)*0.94+(r-y4)*.1, vy4-0.00006*60/fps);\\nbounce = below(x4,r);x4 = x4+ vx4;vx4 = if(bounce, abs(vx4)*0.94 + (r-x4)*0.1, vx4);\\nbounce = above(x4,1-r);vx4 = if(bounce, - abs(vx4)*0.94 + (1-r-x4)*0.1, vx4);\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x2,y3-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx2,vy2);w2 = atan2(vx3,vy3);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x1+vx1-x4-vx4) + sqr(y1+vy1-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x1,y4-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx1,vy1);w2 = atan2(vx4,vy4);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x2+vx2-x4-vx4) + sqr(y2+vy2-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x2,y4-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx2,vy2);w2 = atan2(vx4,vy4);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x3+vx3-x4-vx4) + sqr(y3+vy3-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x3,y4-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx3,vy3);w2 = atan2(vx4,vy4);\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = x1;\\nq4 = y1;\\nq5 = r;\\nq6 = x2;\\nq7 = y2;\\nq8 = r;\\nq9 = x3;\\nq10 = y3;\\nq11 = r;\\nq12 = x4;\\nq13 = y4;\\nq14 = r;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_4.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\\n    (tmpvar_4 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_1.y = (ret_1.y + ((\\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.014));\\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  tmpvar_5.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  ret_1.x = ((texture (sampler_main, (uv - \\n    ((tmpvar_5 * texsize.zw) * 4.0)\\n  )).x - (ret_1.y * 0.01)) + 0.004);\\n  ret_1.x = (ret_1.x + ((\\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\\n   * 0.01) + (ret_1.z * 0.14)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q3;\\n  tmpvar_1.y = q4;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q6;\\n  tmpvar_2.y = q7;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q9;\\n  tmpvar_3.y = q10;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q12;\\n  tmpvar_4.y = q13;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 1.2);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_9;\\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - (1.0 - tmpvar_1));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_11;\\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - (1.0 - tmpvar_2));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_13;\\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - (1.0 - tmpvar_3));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_15;\\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - (1.0 - tmpvar_4));\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = (mix (texture (sampler_main, uv).xyz, max (\\n    max ((vec3((1.0 - pow (\\n      sqrt(dot (x_9, x_9))\\n    , 0.2))) * vec3(2.0, 1.0, -1.0)), (vec3((1.0 - pow (\\n      sqrt(dot (x_11, x_11))\\n    , 0.2))) * vec3(2.0, -1.0, 1.0)))\\n  , \\n    max ((vec3((1.0 - pow (\\n      sqrt(dot (x_13, x_13))\\n    , 0.2))) * vec3(-1.0, 1.0, 2.0)), (vec3((1.0 - pow (\\n      sqrt(dot (x_15, x_15))\\n    , 0.2))) * vec3(1.0, -1.0, 2.0)))\\n  ), vec3(0.5, 0.5, 0.5)) * 1.25);\\n  ret = tmpvar_16.xyz;\\n }"}')},"./presets/converted/flexi + amandio c - organic12-3d-2.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;\\n\\n\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nh1 = (bb-mn)/(mx-mn);\\nh2 = (mm-mn)/(mx-mn);\\nh3 = (tt-mn)/(mx-mn);\\n\\nv = 0.1333/fps;\\nbm = bm + (h1-h2)*v;\\nmt = mt + (h2-h3)*v;\\nbt = bt + (h1-h3)*v;\\n\\nw = bm*2;\\nq3 = sin(w);\\nq9 = cos(w);\\n\\n\\nq17 = bm;\\nq18 = mt;\\nq19 = bt;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (1.0123 - q14);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pc_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - ((tmpvar_6.z + \\n      (0.003921569 * tmpvar_6.y)\\n    ) + (q10 * 0.7))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.2)) {\\n    vec3 tmpvar_8;\\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\\n    vec2 uvi_9;\\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\\n    vec2 pix_10;\\n    vec4 nb2_11;\\n    vec4 nb_12;\\n    vec2 x_13;\\n    x_13 = (uvi_9 - 0.5);\\n    pix_10 = (texsize.zw * (1.0 + (\\n      sqrt(dot (x_13, x_13))\\n     * 8.0)));\\n    float tmpvar_14;\\n    tmpvar_14 = (q10 * 0.7);\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\\n    nb_12.x = (1.0 - ((tmpvar_15.z + \\n      (0.003921569 * tmpvar_15.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\\n    nb_12.y = (1.0 - ((tmpvar_16.z + \\n      (0.003921569 * tmpvar_16.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\\n    nb_12.z = (1.0 - ((tmpvar_17.z + \\n      (0.003921569 * tmpvar_17.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\\n    nb_12.w = (1.0 - ((tmpvar_18.z + \\n      (0.003921569 * tmpvar_18.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_19;\\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \\n      (0.003921569 * tmpvar_19.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_20;\\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \\n      (0.003921569 * tmpvar_20.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_21;\\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \\n      (0.003921569 * tmpvar_21.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_22;\\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \\n      (0.003921569 * tmpvar_22.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_23;\\n    tmpvar_23 = min (nb_12, nb2_11);\\n    nb_12.zw = tmpvar_23.zw;\\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\\n  };\\n  vec4 tmpvar_24;\\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_25;\\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\\n   + \\n    (q10 * 0.7)\\n  )));\\n  xlat_mutabledist = tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\\n  vec3 tmpvar_27;\\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\\n  tmpvar_27.z = tmpvar_26;\\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  float li_28;\\n  vec3 zz0_29;\\n  vec3 zz_30;\\n  zz0_29 = (xlat_mutableuv2 + q8);\\n  li_28 = 0.0;\\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\\n  float tmpvar_31;\\n  tmpvar_31 = dot (zz_30, zz_30);\\n  if ((tmpvar_31 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_31 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_31);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_32;\\n  tmpvar_32 = dot (zz_30, zz_30);\\n  if ((tmpvar_32 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_32 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_32);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_33;\\n  tmpvar_33 = dot (zz_30, zz_30);\\n  if ((tmpvar_33 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_33 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_33);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_34;\\n  tmpvar_34 = dot (zz_30, zz_30);\\n  if ((tmpvar_34 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_34 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_34);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_35;\\n  tmpvar_35 = dot (zz_30, zz_30);\\n  if ((tmpvar_35 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_35 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_35);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_36;\\n  tmpvar_36 = dot (zz_30, zz_30);\\n  if ((tmpvar_36 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_36 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_36);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_37;\\n  tmpvar_37 = dot (zz_30, zz_30);\\n  if ((tmpvar_37 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_37 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_37);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_38;\\n  tmpvar_38 = dot (zz_30, zz_30);\\n  if ((tmpvar_38 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_38 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_38);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  vec4 tmpvar_39;\\n  tmpvar_39.xyz = zz_30;\\n  tmpvar_39.w = li_28;\\n  float tmpvar_40;\\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\\n  vec4 tmpvar_41;\\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_42;\\n  float tmpvar_43;\\n  tmpvar_43 = (q10 * 0.7);\\n  tmpvar_42 = ((log(\\n    (1.0 + (tmpvar_40 / 24.0))\\n  ) * 0.02) * (1.0 - (1.0 - \\n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\\n  )));\\n  float tmpvar_44;\\n  vec4 tmpvar_45;\\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \\n    (0.003921569 * tmpvar_45.y)\\n  ) + tmpvar_43));\\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n    , vec3(\\n      (q14 * 4.0)\\n    )).x));\\n    float x_46;\\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\\n    float ip_47;\\n    ip_47 = float(int(x_46));\\n    vec2 tmpvar_48;\\n    tmpvar_48.x = (x_46 - ip_47);\\n    tmpvar_48.y = (ip_47 / 255.0);\\n    ret_4.yz = tmpvar_48;\\n  } else {\\n    vec3 tmpvar_49;\\n    tmpvar_49.y = 0.0;\\n    tmpvar_49.x = sustain;\\n    tmpvar_49.z = (1.0 - tmpvar_42);\\n    vec3 tmpvar_50;\\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\\n    tmpvar_50.z = (q14 / 6.0);\\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\\n  };\\n  vec4 tmpvar_51;\\n  tmpvar_51.w = 1.0;\\n  tmpvar_51.xyz = ret_4;\\n  ret = tmpvar_51.xyz;\\n }","comp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  xlat_mutabled = (texsize.zw * 1.5);\\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = xlat_mutabledx.y;\\n  tmpvar_2.y = xlat_mutabledy.y;\\n  vec2 x_3;\\n  x_3 = (tmpvar_2 * 8.0);\\n  ret_1 = (((texture (sampler_main, uv).x * \\n    (1.0 - sqrt(dot (x_3, x_3)))\\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\\n  ret_1 = tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = tmpvar_6;\\n  ret = tmpvar_7.xyz;\\n }"}')},"./presets/converted/flexi + fishbrain - neon mindblob grafitti.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.955,"echo_zoom":0.997,"echo_alpha":0.5,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.49,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":16.016,"zoomexp":11.56276,"fshader":1,"zoom":1.05971,"warp":0.13126,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":126,"rad":0.0303,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":128,"rad":0.03,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":32,"rad":0.0297,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":16,"rad":0.0303,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0005*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1; q2 = x2; q3 = x3; q4 = x4;\\nq5 = y1; q6 = y2; q7 = y3; q8 = y4;\\nq9 =1/ aspectX;\\nq10 = 1/aspectY;\\n\\nzoom = 1;\\nr = r*0.96 +(x1-0.5);\\nrot = (r*0.1);\\n\\nq12 = atan2(vx4,vy4);\\nq11 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"dir = -q12*1 + asin(1)*1;\\n\\nb1 = 0.1; // distance\\nm1 = q11*25;//-0.6 + q5*200; // size\\nt1 = 0.05; // velocity\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx   +cos(dir+1.5708)*b1;\\ny1 = yy -sin(dir+1.5708)*b1;\\n\\nx2 = xx   -cos(dir+1.5708)*b1;\\ny2 = yy +sin(dir+1.5708)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nsi1 = 1- 1/(1+pow(2,-d1*1000));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi2 = 1- 1/(1+pow(2,-d2*1000));\\n\\nsi3 = -pow(q5,3)*00;\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2 + si3*cos(dir)*t1)*2;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2 - si3*sin(dir)*t1)*2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \\n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\\n  ) - 0.008) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.1)).x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_3.x;\\n  tmpvar_7.y = tmpvar_4.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.x;\\n  tmpvar_9.y = tmpvar_4.x;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.y;\\n  tmpvar_10.y = tmpvar_4.y;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_3.z;\\n  tmpvar_11.y = tmpvar_4.z;\\n  ret_1.y = texture (sampler_fc_main, (((uv - \\n    ((tmpvar_9 * texsize.zw) * 8.0)\\n  ) + (\\n    (tmpvar_10 * texsize.zw)\\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\\n  ret_1.y = (ret_1.y - (0.004 + (\\n    clamp (ret_1.z, 0.0, 1.0)\\n   * 0.012)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_7).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec3 tmpvar_10;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_10;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":1.413,"wave_scale":0.418,"wave_smoothing":0,"wave_mystery":-0.66,"modwavealphastart":2,"modwavealphaend":2,"warpanimspeed":0.626,"warpscale":1.331,"zoomexp":1.00001,"zoom":0.99951,"warp":0.08925,"wave_r":0,"wave_g":0,"wave_x":0.24,"wave_y":0.44,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"r2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q6;\\nang = an*0.5;\\nx = q4;\\ny = q5;\\nrad = q3*sqrt(2);\\n\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"r2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q9;\\nang = an*0.5;\\nx = q7;\\ny = q8;\\nrad = q3*sqrt(2);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"b":1,"r2":1,"g2":0,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q12;\\nang = an*0.5;\\nx = q10;\\ny = q11;\\nrad = q3*sqrt(2);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"additive":1,"num_inst":4,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"an = an + 0.5*q16/num_inst;\\nw = asin(1)*4*instance/num_inst + an;\\nx = q6 + sin(w)*q5*0.5;\\ny = q7 + cos(w)*q5*0.5;\\nrad = q5*0.25;\\n\\n\\n//x = 0.5 + (x-0.5)/q2;\\n//y = 0.5 + (y-0.5)/q1;\\n"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// the velocity vector\\n\\nx = q3 + sample*sin(q14)*q13*40;\\ny = q4 + sample*cos(q14)*q13*40;\\n\\n// tangential velocity of rotation\\n//x = q3 + sample*q16*40;\\n//y = q4 - q5/2;\\n\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// tangential property of velocity vector\\n\\nx = q3 + sample*sin(q10)*cos(q14-q10)*q13*40;\\ny = q4 + sample*cos(q10)*cos(q14-q10)*q13*40;\\n\\n// vx\\n//x = q3 + sample*q11*40;\\n//y = q4;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// orthogonal property of velocity vector\\n\\nx = q3 + sample*sin(q10+asin(1))*cos(q14-q10-asin(1))*q13*40;\\ny = q4 + sample*cos(q10+asin(1))*cos(q14-q10-asin(1))*q13*40;\\n\\n// vy\\n//x = q3;\\n//y = q4 + sample*q12*40;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"}],"init_eqs_eel":"x1 = 0.5;\\ny1 = 0.6;\\n\\nx2 = 0.5;\\ny2 = 0.4;\\n\\nx3 = 0.5;\\ny3 = 0.2;\\n\\nvr1 = 0.0001;\\nvr2 = 0.0;\\nvr3 = 0.0;\\n\\nvx1 = 0;\\nvx2 = 0;\\nvx3 = 0;","frame_eqs_eel":"zoom = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\nr = 0.03+ (bass_att+treb_att)*0.004;\\nmonitor = aspecty;\\nvr = sin(vr1)*r;\\nbounce = below(y1,r-(aspectx-1)*0.5);y1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.96 + (r-y1-(aspectx-1)*0.5)*0.1, vy1-0.0003*60/fps);\\nvx1 = if(bounce, vx1 + (vr-vx1)*0.15, vx1);vr = if(bounce, vr + (vx1-vr)*0.85 , vr);vr1 = asin(vr/r);\\nbounce = above(x1,1-r+(aspecty-1)*0.5);vx1 = if(bounce, - abs(vx1)*0.96 + (1-r-x1+(aspecty-1)*0.5)*0.1, vx1);\\nvy1 = if(bounce, vy1 + (vr-vy1)*0.15, vy1);vr = if(bounce, vr + (vy1-vr)*0.85 , vr);vr1 = asin(vr/r);\\nbounce = below(x1,r-(aspecty-1)*0.5);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.96 + (r-x1-(aspecty-1)*0.5)*0.1, vx1);\\nvy1 = if(bounce, vy1 + (-vr-vy1)*0.15, vy1);vr = if(bounce, vr - (vy1+vr)*0.85 , vr);vr1 = asin(vr/r);\\n\\nvr = sin(vr2)*r;\\nbounce = below(y2,r-(aspectx-1)*0.5);y2 = y2+vy2;vy2 = if(bounce, abs(vy2)*0.96 + (r-y2-(aspectx-1)*0.5)*0.1, vy2-0.0003*60/fps);\\nvx2 = if(bounce, vx2 + (vr-vx2)*0.15, vx2);vr = if(bounce, vr + (vx2-vr)*0.85 , vr);vr2 = asin(vr/r);\\nbounce = above(x2,1-r+(aspecty-1)*0.5);vx2 = if(bounce, - abs(vx2)*0.96 + (1-r-x2+(aspecty-1)*0.5)*0.1, vx2);\\nvy2 = if(bounce, vy2 + (vr-vy2)*0.15, vy2);vr = if(bounce, vr + (vy2-vr)*0.85 , vr);vr2 = asin(vr/r);\\nbounce = below(x2,r-(aspecty-1)*0.5);x2 = x2+vx2;vx2 = if(bounce, abs(vx2)*0.96 + (r-x2-(aspecty-1)*0.5)*0.1, vx2);\\nvy2 = if(bounce, vy2 + (-vr-vy2)*0.15, vy2);vr = if(bounce, vr - (vy2+vr)*0.85 , vr);vr2 = asin(vr/r);\\n\\nvr = sin(vr3)*r;\\nbounce = below(y3,r-(aspectx-1)*0.5);y3 = y3+vy3;vy3 = if(bounce, abs(vy3)*0.96 + (r-y3-(aspectx-1)*0.5)*0.1, vy3-0.0003*60/fps);\\nvx3 = if(bounce, vx3 + (vr-vx3)*0.15, vx3);vr = if(bounce, vr + (vx3-vr)*0.85 , vr);vr3 = asin(vr/r);\\nbounce = above(x3,1-r+(aspecty-1)*0.5);vx3 = if(bounce, - abs(vx3)*0.96 + (1-r-x3+(aspecty-1)*0.5)*0.1, vx3);\\nvy3 = if(bounce, vy3 + (vr-vy3)*0.15, vy3);vr = if(bounce, vr + (vy3-vr)*0.85 , vr);vr3 = asin(vr/r);\\nbounce = below(x3,r-(aspecty-1)*0.5);x3 = x3+vx3;vx3 = if(bounce, abs(vx3)*0.96 + (r-x3-(aspecty-1)*0.5)*0.1, vx3);\\nvy3 = if(bounce, vy3 + (-vr-vy3)*0.15, vy3);vr = if(bounce, vr - (vy3+vr)*0.85 , vr);vr3 = asin(vr/r);\\n\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)),sqrt( sqr(x1-x2) + sqr(y1-y2)));\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvr = sin(vr1)*r; v2r=sin(vr2)*r;\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr1 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr2 = asin(v2r/r);\\n\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)),sqrt( sqr(x1-x3) + sqr(y1-y3)));\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvr = sin(vr1)*r; v2r=sin(vr3)*r;\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr1 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr3 = asin(v2r/r);\\n\\nbounce = below( sqrt( sqr(x3+vx3-x2-vx2) + sqr(y3+vy3-y2-vy2)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)),sqrt( sqr(x2-x3) + sqr(y2-y3)));\\nref_ang = atan2(x2-x3,y2-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx3,vy3);w2 = atan2(vx2,vy2);\\nvr = sin(vr3)*r; v2r=sin(vr2)*r;\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr3 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr2 = asin(v2r/r);\\n\\n\\n\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = r*2;\\n\\nq4  = x1;  q5 = y1;  q6 = vr1;\\nq7  = x2;  q8 = y2;  q9 = vr2;\\nq10 = x3; q11 = y3; q12 = vr3;\\n\\nq13 = atan2( (x1+x2+x3)/3 - 0.5, (y1+y2+y3)/3-0.5);\\nq14 = sigmoid(sqrt( sqr((x1+x2+x3)/3 - 0.5) + sqr((y1+y2+y3)/3-0.5) ),2)*0.2;","pixel_eqs_eel":"du = (x*2-1) - (q4+q7+q10-1.5)*2/3;\\ndv = (y*2-1) + (q5+q8+q11-1.5)*2/3;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = sin(dist*0.05)*0.4*q14;\\ndx = mult*sin(ang2*2+q13)*aspectx;\\ndy = mult*cos(ang2*2+q13)*aspecty;","warp":" shader_body { \\n  float n_1;\\n  vec3 ret_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_pw_main, uv);\\n  ret_2 = tmpvar_3.xyz;\\n  n_1 = (clamp ((texture (sampler_pw_main, \\n    (uv + texsize.zw)\\n  ).x * 999.0), 0.0, 1.0) + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(1.0, 0.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(1.0, -1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(0.0, 1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(0.0, -1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(-1.0, 1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(-1.0, 0.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv - texsize.zw)\\n  ).x * 999.0), 0.0, 1.0));\\n  if ((n_1 < 1.9)) {\\n    ret_2 = (tmpvar_3.xyz - 0.4);\\n  };\\n  if ((n_1 > 3.1)) {\\n    ret_2 = (ret_2 - 0.4);\\n  };\\n  bool tmpvar_4;\\n  if ((ret_2.x < 0.1)) {\\n    tmpvar_4 = (abs((n_1 - 3.0)) < 0.5);\\n  } else {\\n    tmpvar_4 = bool(0);\\n  };\\n  if (tmpvar_4) {\\n    ret_2 = (ret_2 + 0.4);\\n  };\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec3 ret2_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 8.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1)).y;\\n  tmpvar_4.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1)).y;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + (tmpvar_4 * 0.55));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_blur3, uv);\\n  ret_2 = (vec3((0.25 * dot (\\n    clamp ((2.0 * ((tmpvar_6.xyz * scale3) + bias3)), 0.0, 1.0)\\n  , vec3(0.32, 0.49, 0.29)))) - (0.8 * dot (\\n    clamp (((20.0 * (\\n      (0.6 * ((texture (sampler_blur2, uv).xyz * scale2) + bias2))\\n     - 0.01)) - 2.0), 0.0, 1.0)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  ret_2 = (ret_2 + dot (clamp (\\n    ((30.0 * ((texture (sampler_main, uv).xyz + \\n      (((tmpvar_7.xyz * scale1) + bias1) * 0.15)\\n    ) - 0.01)) - 2.0)\\n  , 0.0, 1.0), vec3(0.32, 0.49, 0.29)));\\n  ret_2 = (ret_2 + 1.0);\\n  vec3 tmpvar_8;\\n  tmpvar_8 = mix (ret_2, (ret_2 * (\\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\\n   - \\n    ((texture (sampler_blur1, tmpvar_5).xyz * scale1) + bias1)\\n  )), pow (hue_shader, ret_2));\\n  ret2_1 = (vec3((-0.5 * dot (\\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\\n  , vec3(0.32, 0.49, 0.29)))) + (0.8 * (\\n    (texture (sampler_blur1, tmpvar_5).xyz * scale1)\\n   + bias1)));\\n  ret2_1 = (ret2_1 - (0.9 * texture (sampler_main, tmpvar_5).xyz));\\n  ret2_1 = (ret2_1 - 1.5);\\n  vec3 tmpvar_9;\\n  tmpvar_9 = mix (ret2_1, (ret2_1 * (\\n    ((tmpvar_6.xyz * scale3) + bias3)\\n   - \\n    ((tmpvar_7.xyz * scale1) + bias1)\\n  )), pow (hue_shader.zxy, tmpvar_8));\\n  ret2_1 = tmpvar_9;\\n  vec3 tmpvar_10;\\n  tmpvar_10 = abs((tmpvar_8 - tmpvar_9));\\n  ret_2 = (tmpvar_10 * tmpvar_10);\\n  ret_2 = (ret_2 * 1.15);\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/flexi - bouncing balls [double mindblob neon mix].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":1.413,"wave_scale":0.418,"wave_smoothing":0,"wave_mystery":-0.66,"modwavealphastart":2,"modwavealphaend":2,"warpanimspeed":0.626,"warpscale":8.642,"zoomexp":7.10084,"zoom":0.99951,"warp":0.09014,"wave_r":0,"wave_g":0,"wave_x":0.24,"wave_y":0.44,"ob_size":0,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":48,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q3;\\ny = q4;\\nrad = q5;\\n\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"sides":48,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q6;\\ny = q7;\\nrad = q8;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q9;\\ny = q10;\\nrad = q11;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"additive":1,"thickoutline":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q12;\\ny = q13;\\nrad = q14;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10, ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t4)*t3*20;\\ny = t2 + sample*cos(t4)*t3*20;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10, ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t5)*t3*20*cos(t4-t5);\\ny = t2 + sample*cos(t5)*t3*20*cos(t4-t5);\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10 + asin(1), ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t5)*t3*20*cos(t4-t5);\\ny = t2 + sample*cos(t5)*t3*20*cos(t4-t5);\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"}],"init_eqs_eel":"x1 = 0.5;\\nx2 = 0.51;\\n\\ny2 = 0.9;\\ny1 = 0.7;\\n\\nx3 = 0.8;\\ny3 = 0.5;\\n\\nx4 = 0.2;\\ny4 = 0.5;\\n\\n\\nax1 = 0;\\nay1 = 0;\\nax2 = 0;\\nay2 = 0;\\nax3 = 0;\\nay3 = 0;\\n\\nvx1 = 0.000;\\nvx2 = 0.000;","frame_eqs_eel":"zoom = 1.002;\\nwarp = 0.2;\\nwave_a = 0;\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nr = 0.04+ max(bass_att,treb_att)*0.008;\\nbounce = below(y1,r);y1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.94 + (r-y1)*0.1, vy1-0.0003*60/fps);\\nbounce = below(x1,r);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.94 + (r-x1)*0.1, vx1);\\nbounce = above(x1,1-r);vx1 = if(bounce, - abs(vx1)*0.94 + (1-r-x1)*0.04, vx1);\\nbounce = below(y2,r);y2 = y2 + vy2;vy2 = if(bounce,abs(vy2)*0.94+(r-y2)*.1, vy2-0.0003*60/fps);\\nbounce = below(x2,r);x2 = x2+ vx2;vx2 = if(bounce, abs(vx2)*0.94 + (r-x2)*0.1, vx2);\\nbounce = above(x2,1-r);vx2 = if(bounce, - abs(vx2)*0.94 + (1-r-x2)*0.1, vx2);\\nbounce = below(y3,r);y3 = y3 + vy3;vy3 = if(bounce,abs(vy3)*0.94+(r-y3)*.1, vy3-0.0003*60/fps);\\nbounce = below(x3,r);x3 = x3+ vx3;vx3 = if(bounce, abs(vx3)*0.94 + (r-x3)*0.1, vx3);\\nbounce = above(x3,1-r);vx3 = if(bounce, - abs(vx3)*0.94 + (1-r-x3)*0.1, vx3);\\nbounce = below(y4,r);y4 = y4 + vy4;vy4 = if(bounce,abs(vy4)*0.94+(r-y4)*.1, vy4-0.0003*60/fps);\\nbounce = below(x4,r);x4 = x4+ vx4;vx4 = if(bounce, abs(vx4)*0.94 + (r-x4)*0.1, vx4);\\nbounce = above(x4,1-r);vx4 = if(bounce, - abs(vx4)*0.94 + (1-r-x4)*0.1, vx4);\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x2,y3-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx2,vy2);w2 = atan2(vx3,vy3);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x1+vx1-x4-vx4) + sqr(y1+vy1-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x1,y4-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx1,vy1);w2 = atan2(vx4,vy4);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x2+vx2-x4-vx4) + sqr(y2+vy2-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x2,y4-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx2,vy2);w2 = atan2(vx4,vy4);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x3+vx3-x4-vx4) + sqr(y3+vy3-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x3,y4-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx3,vy3);w2 = atan2(vx4,vy4);\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = x1;\\nq4 = y1;\\nq5 = r*2;\\nq6 = x2;\\nq7 = y2;\\nq8 = r*2;\\nq9 = x3;\\nq10 = y3;\\nq11 = r*2;\\nq12 = x4;\\nq13 = y4;\\nq14 = r*2;\\nq15 = atan2(vx4,vy4);\\nq16 = sqrt(vx4*vx4+vy4*vy4);\\nq17 = atan2(vx3,vy3);\\nq18 = sqrt(vx3*vx3+vy3*vy3);","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q2;\\ny = 0.5 + (y-0.5)*q1;\\n\\n\\ndir = -q15 + asin(1);\\nb1 = 0.075;\\nm1 = q16*25;\\nxx = q12;\\nyy = 1-q13;\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*3*q1;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*3*q2;\\n\\ndir = -q17 + asin(1);\\nm1 = q18*25;\\nxx = q9;\\nyy = 1-q10;\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\ndx = dx + (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*3*q1;\\ndy = dy + (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*3*q2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \\n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\\n  ) - 0.008) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.1)).x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_3.x;\\n  tmpvar_7.y = tmpvar_4.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.x;\\n  tmpvar_9.y = tmpvar_4.x;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.y;\\n  tmpvar_10.y = tmpvar_4.y;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_3.z;\\n  tmpvar_11.y = tmpvar_4.z;\\n  ret_1.y = texture (sampler_fc_main, (((uv - \\n    ((tmpvar_9 * texsize.zw) * 8.0)\\n  ) + (\\n    (tmpvar_10 * texsize.zw)\\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\\n  ret_1.y = (ret_1.y - (0.004 + (\\n    clamp (ret_1.z, 0.0, 1.0)\\n   * 0.04)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_7).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec3 tmpvar_10;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_10;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/flexi - mom, why the sky looks different today.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wave_a":0.004,"wave_scale":0.267,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpscale":16.016,"zoomexp":11.56276,"zoom":1.05971,"warp":0.13126,"wave_y":0.04,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"g":0.99,"b":1,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.80013,"ang":4.64954,"tex_zoom":1.24471,"g":1,"b":1,"r2":1,"b2":1,"a2":0.77,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"scaling":2.0231,"smoothing":0,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.0231,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"q11 = 0.5/asin(1);","frame_eqs_eel":"zoom = 1;\\nv = v*0.9 + (bass-treb)*0.04;\\nt = t+ v*0.01;\\nq12 = time*0.1 + t;\\nq13 = 0.25 + (bass_att-treb_att)*0.01;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec2 d_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  d_2 = -(tmpvar_4);\\n  float tmpvar_8;\\n  tmpvar_8 = (d_2 * 4.0).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_5.x;\\n  tmpvar_10.y = tmpvar_6.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));\\n  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - tmpvar_7.y)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_5.x;\\n  tmpvar_12.y = tmpvar_6.x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.z;\\n  tmpvar_13.y = tmpvar_6.z;\\n  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));\\n  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_3.x = (ret_3.x + ((\\n    (ret_3.x - tmpvar_7.x)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = tmpvar_5.z;\\n  tmpvar_14.y = tmpvar_6.z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_5.y;\\n  tmpvar_15.y = tmpvar_6.y;\\n  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));\\n  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_3.z = (ret_3.z + ((\\n    (ret_3.z - tmpvar_7.z)\\n   * 0.042) + -0.0075));\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = ret_3;\\n  ret = tmpvar_16.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  uv_1 = uv;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = -(q12);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = ((uv - 0.5) * aspect.wz);\\n  float tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (min (abs(\\n    (tmpvar_4.x / tmpvar_4.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_4.x / tmpvar_4.y)\\n  ), 1.0));\\n  float tmpvar_7;\\n  tmpvar_7 = (tmpvar_6 * tmpvar_6);\\n  tmpvar_7 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_7) + 0.05368138) * tmpvar_7) - 0.1173503)\\n     * tmpvar_7) + 0.1938925) * tmpvar_7) - 0.3326756)\\n   * tmpvar_7) + 0.9999793) * tmpvar_6);\\n  tmpvar_7 = (tmpvar_7 + (float(\\n    (abs((tmpvar_4.x / tmpvar_4.y)) > 1.0)\\n  ) * (\\n    (tmpvar_7 * -2.0)\\n   + 1.570796)));\\n  tmpvar_5 = (tmpvar_7 * sign((tmpvar_4.x / tmpvar_4.y)));\\n  if ((abs(tmpvar_4.y) > (1e-08 * abs(tmpvar_4.x)))) {\\n    if ((tmpvar_4.y < 0.0)) {\\n      if ((tmpvar_4.x >= 0.0)) {\\n        tmpvar_5 += 3.141593;\\n      } else {\\n        tmpvar_5 = (tmpvar_5 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_5 = (sign(tmpvar_4.x) * 1.570796);\\n  };\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = ((tmpvar_5 * q11) - tmpvar_3);\\n  tmpvar_8.y = (((q13 * \\n    log(sqrt(dot (tmpvar_4, tmpvar_4)))\\n  ) + (tmpvar_5 * q11)) + tmpvar_3);\\n  uv_1 = (0.5 + (0.5 - abs(\\n    ((fract((tmpvar_8 * 0.5)) * 2.0) - 1.0)\\n  )));\\n  vec4 tmpvar_9;\\n  tmpvar_9 = texture (sampler_main, uv_1);\\n  ret_2 = (vec3(dot (tmpvar_9.xyz, vec3(0.32, 0.49, 0.29))) * mix (vec3(1.0, 1.0, 1.0), vec3(0.2, 0.5, 1.0), tmpvar_9.xxx));\\n  ret_2 = (ret_2 * 2.0);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }"}')},"./presets/converted/flexi - patternton, district of media, capitol of the united abstractions of fractopia.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.242,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.88,"warpscale":9.181,"zoomexp":0.65309,"zoom":0.87866,"warp":0.04914,"wave_y":0.04,"ob_size":0.05,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"y":0.04,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0,"g2":0,"b2":0.01,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.49,"rad":1.32907,"tex_zoom":0.49831,"g":1,"b":1,"a":0.99,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"r = 1; g = 0; b = 1;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.6 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom = 1;\\n//warp = 0;\\nscale = 1;\\nangle = time*.1;\\ntranslation_x = 0;\\ntranslation_y = 0.12;\\n\\na_r = cos(angle)*scale;\\na_i = sin(angle)*scale;\\nb_r = translation_x;\\nb_i = translation_y;\\n\\n//complex inverted\\nscale = 1.6;\\nangle = 0;\\ntranslation_u = 0;\\ntranslation_v = 0;\\n\\n// c\\nq15 = cos(angle)*scale;\\nq16 = sin(angle)*scale;\\n\\n// d\\nq17 = translation_u;\\nq18 = translation_v;\\n\\n// c^(-1)\\nc_inv_r = q15/(q15*q15+q16*q16);\\nc_inv_i = q16/(q15*q15+q16*q16);\\n\\n// a*c^(-1)\\nq11 = (a_r*c_inv_r - a_i*c_inv_i);\\nq12 = (a_r*c_inv_i - a_i*c_inv_r);\\n\\n// (bc-ad)\\nbcad_r = (b_r*q15 - b_i*q16)-(a_r*q17-a_i*q18);\\nbcad_i = (b_r*q16 - b_i*q15)-(a_r*q18-a_i*q17);\\n\\n// mu*c^(-1)\\nq13 = bcad_r*c_inv_r - bcad_i*c_inv_i;\\nq14 = bcad_r*c_inv_i - bcad_i*c_inv_r;","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_5));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.95));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));\\n  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));\\n  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (\\n    (tmpvar_10 * 0.8)\\n  , 0.3)));\\n  vec3 tmpvar_12;\\n  tmpvar_12 = mix (mix (mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(\\n    ((clamp ((texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y), 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))\\n  )), vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75)));\\n  ret_2 = tmpvar_12;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = tmpvar_12;\\n  ret = tmpvar_13.xyz;\\n }"}')},"./presets/converted/flexi - swing out on the spiral.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"q11 = 0.5/asin(1);","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*3;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 25;\\ngrav = 1.1;\\nresist = 1;\\nbounce = 0.85;\\ndt = 0.0002*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\n\\nzoom = 1;\\nwarp = 0;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nt = t + 0.1/fps;\\nt = if(above(t,2),t-2,t);\\nq12 = -t;\\nmonitor = t;\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\n\\ndir = -q6*1 + asin(1)*0;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.08;\\nv = -15*q5;\\ndx = v*sin(dir)*(r-d)*(1-sigmoid(d-r,200))*q2;\\ndy = v*cos(dir)*(r-d)*(1-sigmoid(d-r,200))*q1;","warp":" shader_body { \\n  vec3 tmpvar_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1 = vec3((((tmpvar_2.x + tmpvar_2.y) + tmpvar_2.z) * 0.33333));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, clamp (\\n    (uv - ((vec2(0.0, 0.0168) * (tmpvar_1 - 0.35).xy) * (tmpvar_1 - 0.4).xy))\\n  , 0.0, 1.0)).xyz - 0.001) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy)\\n  ) - 0.5) * 0.04).xyz);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv - 0.5).yx * aspect.zw);\\n  float tmpvar_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (min (abs(\\n    (tmpvar_1.x / tmpvar_1.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_1.x / tmpvar_1.y)\\n  ), 1.0));\\n  float tmpvar_4;\\n  tmpvar_4 = (tmpvar_3 * tmpvar_3);\\n  tmpvar_4 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_4) + 0.05368138) * tmpvar_4) - 0.1173503)\\n     * tmpvar_4) + 0.1938925) * tmpvar_4) - 0.3326756)\\n   * tmpvar_4) + 0.9999793) * tmpvar_3);\\n  tmpvar_4 = (tmpvar_4 + (float(\\n    (abs((tmpvar_1.x / tmpvar_1.y)) > 1.0)\\n  ) * (\\n    (tmpvar_4 * -2.0)\\n   + 1.570796)));\\n  tmpvar_2 = (tmpvar_4 * sign((tmpvar_1.x / tmpvar_1.y)));\\n  if ((abs(tmpvar_1.y) > (1e-08 * abs(tmpvar_1.x)))) {\\n    if ((tmpvar_1.y < 0.0)) {\\n      if ((tmpvar_1.x >= 0.0)) {\\n        tmpvar_2 += 3.141593;\\n      } else {\\n        tmpvar_2 = (tmpvar_2 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_2 = (sign(tmpvar_1.x) * 1.570796);\\n  };\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (tmpvar_2 * q11);\\n  tmpvar_5.y = (((0.5 * \\n    log(sqrt(dot (tmpvar_1, tmpvar_1)))\\n  ) - (tmpvar_2 * q11)) + q12);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = pow (texture (sampler_main, (0.5 + (\\n    (0.5 - abs(((\\n      fract((tmpvar_5 * 0.5))\\n     * 2.0) - 1.0)))\\n   * vec2(0.96, 1.0)))).xyz, vec3(0.618034, 0.618034, 0.618034));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/flexi - what is the matrix.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.242,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.397,"warpscale":15.099,"zoomexp":0.65309,"zoom":0.87866,"warp":0.04027,"wave_y":0.04,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"y":0.04,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0,"g2":0,"b2":0.01,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.49,"rad":1.32907,"tex_zoom":0.49831,"g":1,"b":1,"a":0.99,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"r = 1; g = 0; b = 1;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.6 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom = 0.998;\\n//warp = 0;\\nscale = 1;\\nangle = time*.02;\\ntranslation_x = 0;\\ntranslation_y = 0.12;\\n\\na_r = cos(angle)*scale;\\na_i = sin(angle)*scale;\\nb_r = translation_x;\\nb_i = translation_y;\\n\\n//complex inverted\\nscale = 1;\\nangle = sin(time*0.1337)*0.3*0;\\ntranslation_u = 0;\\ntranslation_v = -0.2;\\n\\n// c\\nq15 = cos(angle)*scale;\\nq16 = sin(angle)*scale;\\n\\n// d\\nq17 = translation_u;\\nq18 = translation_v;\\n\\n// c^(-1)\\nc_inv_r = q15/(q15*q15+q16*q16);\\nc_inv_i = q16/(q15*q15+q16*q16);\\n\\n// a*c^(-1)\\nq11 = (a_r*c_inv_r - a_i*c_inv_i);\\nq12 = (a_r*c_inv_i - a_i*c_inv_r);\\n\\n// (bc-ad)\\nbcad_r = (b_r*q15 - b_i*q16)-(a_r*q17-a_i*q18);\\nbcad_i = (b_r*q16 - b_i*q15)-(a_r*q18-a_i*q17);\\n\\n// mu*c^(-1)\\nq13 = bcad_r*c_inv_r - bcad_i*c_inv_i;\\nq14 = bcad_r*c_inv_i - bcad_i*c_inv_r;","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  ret_2.z = (texture (sampler_fc_main, (0.5 + (\\n    (uv - 0.5)\\n   * 0.992))).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(0.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_4;\\n  tmpvar_4 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_4));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_4));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.99));\\n  vec3 tmpvar_11;\\n  tmpvar_11 = mix (mix (mix (\\n    mix (mix ((mix (ret_2, vec3(0.2, 0.6, 1.0), vec3(\\n      (texture (sampler_pc_main, moebius_1).y * 2.0)\\n    )) * (vec3(1.0, 1.0, 1.0) - vec3(\\n      ((((texture (sampler_blur1, \\n        (0.5 + (tmpvar_6 * 0.5))\\n      ).xyz * scale1) + bias1).y * 2.0) * tmpvar_10)\\n    ))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, moebius_1).xxx), vec3(4.0, 1.0, 0.0), vec3(clamp (((texture (sampler_pc_main, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).y * 2.0) * (\\n      (tmpvar_10 * tmpvar_10)\\n     * tmpvar_10)), 0.0, 1.0)))\\n  , vec3(0.1, 0.0, 0.0), vec3(\\n    clamp ((((texture (sampler_blur1, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).xyz * scale1) + bias1).x * 12.0), 0.0, 1.0)\\n  )), (vec3(0.5, 0.8, 1.0) * texture (sampler_pc_main, uv).z), vec3((\\n    clamp ((((texture (sampler_blur1, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).xyz * scale1) + bias1).x * 4.0), 0.0, 1.0)\\n   * 1.4))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, (0.5 + (tmpvar_6 * 0.2))).xxx);\\n  ret_2 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.7,"decay":1,"echo_zoom":1.002,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"fshader":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":0.2,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/100;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/75;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"bass_tick = above(bass_att,bass_tick)*2 + (1-above(bass_att,bass_tick))*\\n((bass_tick-1.3)*0.96+1.3);\\ntreb_tick = above(treb_att,treb_tick)*2 + (1-above(treb_att,treb_tick))*\\n((treb_tick-1.3)*0.96+1.3);\\nmid_tick = above(mid_att,mid_tick)*2 + (1-above(mid_att,mid_tick))*\\n((mid_tick-1.3)*0.96+1.3);\\nbass_shift = equal(bass_tick,2)*0.95*sin(time*5) + (1-equal(bass_tick,2))*bass_shift;\\ntreb_shift = equal(treb_tick,2)*0.95*sin(time*5) + (1-equal(treb_tick,2))*treb_shift;\\nmid_shift = equal(mid_tick,2)*0.95*sin(time*5) + (1-equal(mid_tick,2))*mid_shift;\\n\\n//wave_x = wave_x + 0.12*sin(time);\\n//wave_y =wave_y + 0.12*cos(time);\\nwave_r = wave_r + bass_shift;\\nwave_g = wave_g + mid_shift;\\nwave_b = wave_b + treb_shift;\\nq1 = bass_shift;\\nq2= mid_shift;\\nq3 = treb_shift;\\nzoom = zoom + abs(0.05*(treb/2*cos(bass_att*treb_shift)*bass_shift));\\nq4=sin(time);\\nq5=tan(time);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\n\\nrot = rot - 0.25*abs(((bass_att*q3)+0.55*q1)*(0.5*sin(time)-cos(0.5-2*(2.5*rad))));\\nrot = rot - 0.5*if (above(bass_att,((q1*q2*q3)/3)),(sin(12*rad))*(6.5*rad)*2*dy-r,dx_r);\\nzoom = zoom + equal(zoom,0)*dy_r;\\nrot = rot + 0.25*(q1/6+(q2*q1));\\ncx = cx - 0.25*(cos(time)-0.5*sin(time*1.2));\\ncy = cy - 0.25*(sin(time)+0.5*cos(1.22*time));\\ndx = dx + dx_r;\\ndy = dy + dy_r;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  ret_2 = ((1.25 * (\\n    (texture (sampler_blur3, uv).xyz * scale3)\\n   + bias3)) - (0.25 * (\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1)));\\n  vec3 theta_3;\\n  theta_3 = (1.33 * ((texture (sampler_blur1, \\n    clamp (ret_2.xy, 0.0, 1.0)\\n  ).xyz * scale1) + bias1));\\n  uv_1 = (uv * (1.0 + (0.15 * \\n    (sin(theta_3) / cos(theta_3))\\n  )).xy);\\n  vec3 theta_4;\\n  theta_4 = (1.33 * ((texture (sampler_blur1, \\n    clamp (ret_2.xy, 0.0, 1.0)\\n  ).xyz * scale1) + bias1));\\n  uv_1 = (uv_1 - (0.075 * (\\n    sin(theta_4)\\n   / \\n    cos(theta_4)\\n  )).xy);\\n  float tmpvar_5;\\n  tmpvar_5 = dot (texsize.zw, texsize.zw);\\n  ret_2 = (max (max (texture (sampler_main, uv_1).xyz, texture (sampler_main, \\n    (((uv_1 - 0.5) * (1.0 - (8.0 * \\n      sqrt(tmpvar_5)\\n    ))) + 0.5)\\n  ).xyz), texture (sampler_main, (\\n    ((uv_1 - 0.5) * (1.0 + (8.0 * sqrt(tmpvar_5))))\\n   + 0.5)).xyz) - 0.024);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret3_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  ) - (texture (sampler_main, tmpvar_4).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, tmpvar_4).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  )));\\n  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));\\n  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));\\n  ret3_2 = (ret3_2 * 3.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));\\n  ret3_2 = tmpvar_6;\\n  uv_1 = (uv * 2.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor((fract(\\n    (uv_1 * 0.5)\\n  ) * 2.0));\\n  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(\\n    (1.0 - uv_1)\\n  )));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = rad;\\n  tmpvar_8.y = uv_1.y;\\n  uv_1 = tmpvar_8;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);\\n  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((\\n    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)\\n   - 0.13), 0.0, 1.0));\\n  vec3 tmpvar_10;\\n  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (\\n    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)\\n  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));\\n  ret_3 = (tmpvar_10 * tmpvar_10);\\n  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));\\n  ret_3 = (ret_3 * 3.0);\\n  vec3 tmpvar_11;\\n  tmpvar_11 = max (tmpvar_6, (0.8 * vec3((0.5 * \\n    dot (ret_3, vec3(0.32, 0.49, 0.29))\\n  ))));\\n  ret_3 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/high-altitude basket unraveling - singh grooves nitrogen argon nz+.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.995,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":1,"wave_mode":6,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":2.103,"wave_smoothing":0.54,"wave_mystery":0.38,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpscale":1.331,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_a":1,"ib_size":0.005,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":64,"thickoutline":1,"textured":1,"rad":0.53526,"tex_zoom":1.35028,"g":1,"b":1,"a":0.4,"r2":1,"b2":1,"a2":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":14,"num_inst":78,"x":0.6,"rad":0.02217,"tex_zoom":60.80383,"g":1,"b":1,"a":0.9,"g2":0,"a2":1,"border_g":0.59,"border_a":1},"init_eqs_eel":"t1 = int(rand(10))/10;\\nt2 = .2 + int(rand(8))/10;","frame_eqs_eel":"speed = .02;\\ntrel = int(time*speed)- time*speed+1;\\nk1 = instance/num_inst; \\nk1 = k1 - int(k1);\\ndist = 1.4-k1; //################# soll 1 sein\\n//dist = dist - int(dist);\\n\\n\\nfov = .1;\\narg = dist-.02*time;\\nposx = fov/dist * (sin(arg*13) + .2*sin(dist*332));\\nposy = fov/dist * (cos(arg*36)+ .2*sin(dist*332));\\n\\nxl = .5 + posx;\\nyl = .5 + posy;\\n\\ntime2 = time/4 + cos(instance) ;\\nxw = .5 + .5 * (sin(arg*14) + .02*cos(arg*1131)) ;\\nyw = time2 - int(time2);\\n\\nx = if(bnot(q19),xl,xw);\\ny = if(bnot(q19),yl,yw);\\n\\nang = time * sin(k1*44)*12;\\na = t1; border_a = 0; a2 = t2;\\nrad = .01/dist;\\n\\nr = .5 + .3* sin(instance+arg); \\nb = .5 + .3* sin(instance-2+arg); \\ng = .5 + .3* sin(instance*2+arg);\\n\\n"},{"baseVals":{"sides":63,"x":0.503,"y":0.67,"rad":0.05033,"tex_zoom":0.49981,"r":0,"g":1,"b":1,"g2":0,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"y":0.51,"rad":0.19869,"tex_ang":1.00531,"tex_zoom":0.49981,"g":0.4,"a":0.7,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":128,"thick":1,"additive":1,"scaling":0.89152,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":100,"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"q8=0;","frame_eqs_eel":"chng=sin(time*.5);\\ncthr=.9999;\\nmq21=if(above(chng,cthr),rand(3),mq21);\\nmq22=if(above(chng,cthr),rand(3),mq22);\\nmq23=if(above(chng,cthr),rand(3),mq23);\\nmq24=if(above(chng,cthr),rand(2),mq24);\\nmq25=if(above(chng,cthr),rand(2),mq25);\\nmq26=if(above(chng,cthr),rand(2),mq26);\\nmq27=if(above(chng,cthr),rand(1),mq27);\\nmq28=if(above(chng,cthr),rand(1),mq28);\\nmq29=if(above(chng,cthr),rand(1)*.3,mq29);\\nmq31=if(above(chng,cthr),rand(1)*.3,mq31);\\nmonitor=chng;\\nq21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;\\nq27=mq27;q28=mq28;q29=mq29;q31=mq31;\\n\\nmonitor=mq1;\\nvol=bass+treb+mid;\\natime=atime+vol;\\nq11=.4+sin(atime*.006        )*.4;\\nq12=.4+cos(atime*.00613828348)*.4;\\nq13=.4+sin(atime*.00598593455)*.4;\\nmonitor=q13;\\n\\nwarp=0;\\nq8 =oldq8+ 0.0003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 = q8;\\nwave_r = 0.5+0.5*sin(1.123*q8);\\nwave_g = 0.5+0.5*sin(q8*1.576);\\nwave_b = 0.5+0.5*cos(q8*1.465);\\nib_a =0.2*bass;","pixel_eqs_eel":"dx=dx+0.008*sin((y*2-1)*meshx)+0.008*sin((y*2-1)*meshx*1.3333);\\ndy=dy+0.008*cos((x*2-1)*meshx*1.3333)+0.008*cos((x*2-1)*meshx);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = tmpvar_2.xyz;\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\\n  if (((tmpvar_2.x > (q21 * q13)) && (tmpvar_2.x <= (q24 * q11)))) {\\n    ret_1.y = (tmpvar_2.y - (tmpvar_3.x * 0.5));\\n  };\\n  if (((ret_1.y > (q22 * q11)) && (ret_1.y <= (q25 * q12)))) {\\n    ret_1.z = (tmpvar_2.z - (tmpvar_3.y * 0.5));\\n  };\\n  if (((ret_1.z > (q23 * q12)) && (ret_1.z <= (q26 * q13)))) {\\n    ret_1.x = (tmpvar_2.x - (tmpvar_3.z * 0.5));\\n  };\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.2));\\n  ret_1 = (ret_1 - 0.02);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_main, uv_1);\\n  ret_2 = tmpvar_3.xyz;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (\\n    (q28 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));\\n  if (((tmpvar_3.x > (q26 * q13)) && (tmpvar_3.x <= (q23 * q11)))) {\\n    ret_2.z = (tmpvar_3.z - (tmpvar_4.x * 0.5));\\n  };\\n  if (((tmpvar_3.y > (q25 * q11)) && (tmpvar_3.y <= (q22 * q12)))) {\\n    ret_2.x = (tmpvar_3.x - (tmpvar_4.y * 0.5));\\n  };\\n  if (((ret_2.z > (q24 * q12)) && (ret_2.z <= (q21 * q13)))) {\\n    ret_2.y = (tmpvar_3.y - (tmpvar_4.z * 0.5));\\n  };\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - ret_2)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.9995,"warp":0.009,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/100;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/75;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"x1 = 2;\\ny1= 2;\\nz1 = 2;","frame_eqs_eel":"// raytraced sphere code\\n\\nd = 20; // distance of the sphere, the farther you\'re away the more you\'ll see on the horizon\\nz = 4; // distance of the pane where the scene is projected on, wider distance = smaller apex angle of the camera, very small distances = fish eyes view\\n\\nzz = 1 + bass_att*0; // linear zoom\\n\\npi = asin(1)*2;\\npi2inv = 0.5/pi;\\nmaskangle = asin( 1/d);\\nq32 = maskangle; // hit = (cameras angle < mask_angle)\\nq31 = d;\\nq30 = z;\\nq29 = pi2inv;\\nq28 = pi;\\nq27 = 1/zz;\\n\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0152;\\nn1 = n1 + j2*0.0152;\\nn2 = n2 + j3*0.0152;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol;\\nq3=vol;\\nmtime = mtime+vol*0.01;\\nq1=mtime;\\n\\nzoom = zoom + 0.015*vol;\\n\\nw1 = n*0.01;    // solid angles to rotate the sphere in its origin\\nw2 = n1*0.01;\\nw3 = n2*0.01;\\n\\nq20 = cos(w1);\\nq21 = sin(w1);\\nq22 = cos(w2);\\nq23 = sin(w2);\\nq24 = cos(w3);\\nq25 = sin(w3);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((texture (sampler_main, (\\n    mix (uv_orig, uv, vec2(((dot (texture (sampler_main, \\n      mix (uv_orig, uv, vec2(4.0, 4.0))\\n    ).xyz, vec3(0.32, 0.49, 0.29)) - dot (\\n      ((texture (sampler_blur2, mix (uv_orig, uv, vec2(-12.0, -12.0))).xyz * scale2) + bias2)\\n    , vec3(0.32, 0.49, 0.29))) * 12.0)))\\n   + \\n    (((texture (sampler_noise_lq, tmpvar_1) - 0.5).xy * texsize.zw) * 0.5)\\n  )).xyz + (\\n    (texture (sampler_noise_lq, tmpvar_1) - 0.5)\\n   * 0.006).xyz) + -0.0006);\\n  ret = tmpvar_2.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret2_2;\\n  vec2 uv2_3;\\n  vec3 ret_4;\\n  uv2_3.y = uv.y;\\n  uv2_3.x = (1.0 - uv.x);\\n  uv2_3 = (0.5 + ((uv2_3 - 0.5) * 0.98));\\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_8;\\n  tmpvar_8.z = 0.0;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_9;\\n  tmpvar_9 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\\n    ((uv_1.xyy + (tmpvar_8 * 0.5)) * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  uv_1 = (uv_1 - (tmpvar_10 * 0.04));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = dot (((\\n    (texture (sampler_blur1, (uv2_3 + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (uv2_3 - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_11.y = dot (((\\n    (texture (sampler_blur1, (uv2_3 + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (uv2_3 - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  uv2_3 = (uv2_3 - (tmpvar_11 * 0.04));\\n  ret_4 = (abs((\\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  ret2_2 = (abs((\\n    ((texture (sampler_main, uv2_3).xyz + ((texture (sampler_blur1, uv2_3).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv2_3).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv2_3).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  ret2_2 = (0.5 - pow (ret2_2, vec3(0.5, 0.5, 0.5)));\\n  ret_4 = (pow (ret_4, vec3(0.5, 0.5, 0.5)) - (0.3 - ret2_2));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_4;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/martin - The Bridge of Khazad-Dum.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":33,"additive":1,"num_inst":81,"rad":0.04896,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/8;\\nk1 = instance/num_inst;\\nk2 = k1 + trel - int(k1+trel);\\n\\ny0 = k2+.01 ;\\n\\nxwidth = .1*(cos(6*k1)+3); //breite\\nxofs = .1*cos(k2*6+trel)*y0;\\nx = .5 + .4*xwidth*(.2+y0)*sin(k1*1383*xwidth) + xofs;\\n//xwidth in der letzten Klammer : Test\\n\\ny = y0;\\n\\nbright = 1-sqr(y0); \\na = max(bright,0); a2 = 0;\\nrad = .4*y0+.1 - .0*sin(k1*954);\\n\\nr = .0; g = 0; b = .0;\\nr2 = 0; g2 = 0; b2= .48; //## rot mit ampl. mod !\\nadditive = 1; ///sonst andere farben im warp-s gestoert"},{"baseVals":{"enabled":1,"sides":12,"additive":1,"num_inst":571,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"mov1 = q1;\\nRotMode = q3;\\nburst = q10;\\ncopies = q14;\\ncopy = (instance%copies)/copies;\\nk1 = int(instance/copies)*copies/num_inst;\\nk1 = int(k1*burst)/burst+k1/burst;\\n\\nmov1 = mov1 + k1 -copy*q2;//dt\\nmov1 = mov1 - int(mov1);\\n\\nRotMode = RotMode - copy*q4;\\nrota = mov1 * RotMode*q5*2 ;\\nmov1 = mov1*(1-RotMode) + RotMode*(.5+.025*k1);\\n\\nmov1 = pow(mov1,.9); //Schneller bei t=0;\\n\\nTht = sin(k1*k1*123.2)*(.2 + RotMode*.0);\\nPhi = k1*1613.3+rota;\\nv0 = (1.0 + .3*cos(k1*13234.7))*q5;\\n\\nz0 = q18/q5; //proximity\\n\\nt0 = .4;\\nspur = (mov1-t0) * above(mov1-t0,0)*q15 ;\\npy = spur*sin(copy*6.28);\\npx = spur*cos(copy*6.28);\\n\\nfov = z0*2; //kein vol hier, sonst y-skal daneben\\nox = (mov1-q19)*v0*sin(Tht) * cos(Phi); //### -.5 bis .5\\noy = mov1*v0*(1-mov1)*cos(2*Tht) -.25;\\noz = mov1*v0*sin(Tht)*sin(Phi); \\n\\nox = ox +  (k1-.5)*q17 +px; \\noy = oy -py;\\noz = oz +py*3;\\n\\n//flim = below(((ox+oy+oz)*800)%32,q13-.1); //ctrl\\n//flim = q13/(((ox+oy+oz)*600)%16+1); //ctrl\\nrad = .025*z0/(oz+z0)*(1-mov1*.5);\\n\\nx = .5 + fov*ox/(oz+z0);\\ny = .5 + fov*oy/(oz+z0);\\nvis = above(mov1,q11)*below(mov1,q12)*above(oz,-z0);\\n\\na = vis*.7/sqrt(copies)*(1+above(spur,0));\\na2 = 0.;\\ng = flim;"},{"baseVals":{"enabled":1,"sides":13,"additive":1,"num_inst":212,"x":0.65,"y":0.38,"rad":1.26467,"tex_zoom":0.73678,"g":1,"a":0.3,"r2":1,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//q25 = time/4;\\n//trel = 2* (q25/2-int(q25/2));\\ntrel = q25;\\ncopies = 1;\\ncopy = (instance%copies)/copies;\\nk1 = int(instance/copies)*copies/num_inst;\\nk2 = k1 + .5;\\ntrel = trel ;\\nt0 = .5; //do not change\\n\\nphase = above(trel,t0);\\nmov1 = bnot(phase)* (t0-trel + .01*k1);\\nmov2 = phase * (trel-t0); //####\\n//mov2 = pow(mov2,.8);\\nstray = 1.2-phase;\\n\\nTht = 3.14*sin(1234.2*k1+time*bnot(phase)) * stray ;\\nPhi = 3245.1*k1;\\n\\nsize0 = .02;\\nox = mov1*q27 + sin(Tht)*cos(phi)* (size0+mov2*(2+k1));\\noy = mov1*12 + cos(Tht)* (size0+4*mov2*k2)*(1-mov2*k2)/2;\\noz = mov1*8 + sin(Tht)*sin(phi)* (size0+mov2*2*(2+k1));\\n\\nz0 = 1;\\nrad = .03 / (oz+z0)/(1+trel*rand(100)/50);\\n\\nx = .5 + ox/(oz+z0);\\ny = q29+.2+ oy/(oz+z0);\\n\\na = .1*bnot(phase)+phase*max(0,1-mov2*0)*above(oz+z0,0)*.8; "},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"num_inst":31,"x":0.75,"y":0.6,"rad":0.01,"tex_zoom":0.3357,"g":1,"a":0.5,"r2":1,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":75,"sep":20,"usedots":1,"additive":1,"scaling":7.858,"smoothing":0.1,"g":0,"b":0,"a":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"t0a = time; t0 = time+.5;\\nspb_ = .5; ;\\nvolb = .5; volx = .5;\\nvol_= 1; index = 0; mov1 = 0;","frame_eqs_eel":"dec_med = pow (0.85, 30/fps); dec_slow = pow (0.95, 30/fps);\\nvol = (bass+med+treb)/1.5; vol_ = vol_*dec_slow + (1-dec_slow)*vol;\\n\\nis_beat = above(vol, .1+vol_+2*peak) * above (time, t0+spb_*.45);\\nt0a  = if(is_beat,t0,t0a); t0 = if(is_beat,time,t0);\\npeak = if(is_beat,vol,peak*dec_med);\\nindex = (index + is_beat) %128;\\nspb_ = if(is_beat,spb_ *.9 +.1*min(t0-t0a + .01,2), spb_);\\n\\nq20 = vol_;\\nq21 = above(vol,2.7*vol_);\\nq22 = max(0,peak-.0)+.01;\\nhpeak = hpeak*dec_med + (1-dec_med)*q21;\\nq23 = hpeak * (1+rand(8));\\nq24 = is_beat;\\nvolb = bnot(q24)*volb + q24*vol_; //# vol oder vol_ ?\\nvolx = volx + .2/fps*max(min(volb-volx,1),-1)*bnot(RotMode);\\n\\n// *********** CENTRAL TIMELINE **************\\nrotmode = max(min(sin(mov1/2.4-1.5)*4-3,1),0); //####\\nstop = if(bnot(stop),bnot(index%24),below(lo,1))*bnot(rotmode);\\n//tmp = status%16;\\nspread = if (below(lo,1),spread,rand(2)*rand(12)/20);\\ncopies = if (below(lo,1),copies,3+rand(2)*rand(8));\\nspur  = if (below(lo,1),spur, above(copies,5)*.1);\\nbursts = if (below(lo,1),bursts,1+rand(2)*rand(6));\\nxbase = if (below(lo,1),xbase,rand(2)*(rand(10)/10-.5));\\nvs0 = if (is_beat * bnot(index%77),rand(5)/4-.7,vs0);\\nvshift =  vshift + 3/fps*max(min((vs0-vshift),.04),-.04);\\n//*********** SMOOTH MOVEMENTS q1 - q8 for SHAPE2 ********\\n//FONTAENE\\nspeed = .15/fps/spb_;\\ntmp = mov1; mov1 = mov1+speed; q2 = mov1-tmp; q1 = mov1;\\n\\n//ROTATION\\n//evtl q5 mit rotmode fixieren statt volx blockieren\\ntmp = RotMode; q3 = RotMode; q4 = RotMode-tmp;\\n\\n//VOLUME\\ntmp = volx; q5 = volx; q6 = q5-tmp; //nicht aendern waehrend Rotation\\n\\n//********* SWITCHES SHAPE2 *************\\nq10 = bursts; //num bursts\\nlo = if(stop,lo+speed,0); //ident. wie bei mov 1!!\\nhi = if(above(lo,1),0,hi+speed); //ident. wie bei mov 1!!\\nq11 = lo; //fade out\\nq12 = hi;\\nq13 = sqrt(q22)*0; //blink effect, ca. 0..16\\nq14 = copies; //copies - noch implementieren\\nq15 = spur*(1-RotMode); //Ampl. multiple spurs; nur mit >8 copies !\\nq16 = 0; //reserved for spur start\\nq17 = spread * (1-rotmode); //hor. spread, max. ca. 0.4\\nq18 = 1/min(max(sin(mov1/2)*10,1),4); //proximity - smaller values: closer;\\nq19 = xbase;\\n//********* CONTROL PARAMETERS SHAPE3 *************\\nxtime = if (stop*q21*above(xtime,2),0,xtime+.2/fps); //impact\\nq25 = xtime;\\nq26 = if (below(xtime,.55),pow(32,-sqr(xtime-.55)*512),pow(2,-sqr(xtime-.55)*3));\\nq27 = sin(time/29)*4; //x-direction impact\\n\\n//********* GENERAL CONTROL PARAMETERS ***************\\nwind = wind+.5/fps * (volx-1.5);\\nq28 = wind;//wind direction - warp shader\\nq29 = vshift ;// in warp+comp+impact shape\\nq30 = max(sin(mov1/2.2)*sin(time/7),0)+q26;// front cloud dens. - comp.\\nq31 = q5*2-2 + sin(time/17); //back cloud lighting - comp shader\\nq32 = 3+2*sin(time/27); //back cloud density - comp shader\\n\\nmonitor = vshift;;","pixel_eqs_eel":"zoom = 1;\\ndy = -.00;\\nwarp =.0;","warp":"mat2 ofs;\\nfloat xlat_mutablegreen;\\nfloat xlat_mutablek1;\\nfloat xlat_mutablered;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablewave;\\nfloat xlat_mutablezv;\\n shader_body { \\n  mat2 tmpvar_1;\\n  tmpvar_1[uint(0)].x = texsize.z;\\n  tmpvar_1[uint(0)].y = 0.0;\\n  tmpvar_1[1u].x = 0.0;\\n  tmpvar_1[1u].y = texsize.w;\\n  ofs = (tmpvar_1 * 4.0);\\n  float delta_2;\\n  float ky_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (uv.x - 0.5);\\n  tmpvar_4.y = ((uv.y - 0.5) + q29);\\n  vec2 v_5;\\n  v_5.x = ofs[0].x;\\n  v_5.y = ofs[1].x;\\n  vec2 v_6;\\n  v_6.x = ofs[0].x;\\n  v_6.y = ofs[1].x;\\n  vec2 v_7;\\n  v_7.x = ofs[0].y;\\n  v_7.y = ofs[1].y;\\n  vec2 v_8;\\n  v_8.x = ofs[0].y;\\n  v_8.y = ofs[1].y;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).x;\\n  tmpvar_9.y = (texture (sampler_main, (uv + v_7)) - texture (sampler_main, (uv - v_8))).x;\\n  xlat_mutablered = (0.5 * texture (sampler_main, (uv - (0.004 * tmpvar_9))).x);\\n  xlat_mutablered = (xlat_mutablered + (0.5 * texture (sampler_main, uv).x));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = (0.0078125 * (float(\\n    int((tmpvar_4.y * 128.0))\\n  ) + abs(\\n    (fract((tmpvar_4.y * 128.0)) - 0.5)\\n  )));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_10 * 4.0);\\n  ky_3 = clamp ((-0.5 - tmpvar_11.y), 0.0, 1.0);\\n  xlat_mutablek1 = (abs((\\n    fract((tmpvar_11.x * 2.0))\\n   - 0.5)) * 8.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - sign(xlat_mutablek1));\\n  delta_2 = (0.1 + (rand_preset * 0.05)).x;\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (4.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (8.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (12.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (16.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  float tmpvar_12;\\n  tmpvar_12 = clamp (xlat_mutablek1, -1.6, 1.6);\\n  xlat_mutablek1 = tmpvar_12;\\n  xlat_mutablegreen = (cos((tmpvar_12 * 2.0)) - 0.1);\\n  xlat_mutablewave = ((sin(\\n    ((q1 * 8.0) - (uv.x * 6.0))\\n  ) / 2.0) * q3);\\n  xlat_mutablewave = ((xlat_mutablewave * float(\\n    (xlat_mutablewave >= 0.0)\\n  )) + (q30 * 0.02));\\n  xlat_mutablered = (xlat_mutablered + ((\\n    (xlat_mutablewave / abs(sin((\\n      (1.0/(tmpvar_12))\\n     + \\n      (q1 / 8.0)\\n    ))))\\n   * xlat_mutablegreen) * ky_3));\\n  xlat_mutablezv = ((time * 0.08) + (0.2 * sin(\\n    ((uv * 16.0) + time)\\n  ))).x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = q28;\\n  tmpvar_13.y = (0.2 * time);\\n  xlat_mutableuv2 = ((tmpvar_4 * 2.0) + tmpvar_13);\\n  vec3 tmpvar_14;\\n  tmpvar_14.xy = xlat_mutableuv2;\\n  tmpvar_14.z = xlat_mutablezv;\\n  vec3 tmpvar_15;\\n  tmpvar_15.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\\n  tmpvar_15.z = (xlat_mutablezv * 2.0);\\n  vec3 tmpvar_16;\\n  tmpvar_16.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\\n  tmpvar_16.z = (xlat_mutablezv * 3.0);\\n  vec3 tmpvar_17;\\n  tmpvar_17.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\\n  tmpvar_17.z = (xlat_mutablezv * 7.0);\\n  xlat_mutableuv2 = (tmpvar_4 + ((\\n    ((texture (sampler_noisevol_hq, tmpvar_14).z + (texture (sampler_noisevol_hq, tmpvar_15).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_16).z / 4.0))\\n   + \\n    (texture (sampler_noisevol_hq, tmpvar_17).z / 8.0)\\n  ) * 0.1));\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = xlat_mutablered;\\n  tmpvar_18.y = xlat_mutablegreen;\\n  tmpvar_18.z = ((1.0 + xlat_mutableuv2.y) * sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)));\\n  vec4 tmpvar_19;\\n  tmpvar_19.w = 1.0;\\n  tmpvar_19.xyz = ((tmpvar_18 * 0.8) - 0.005);\\n  ret = tmpvar_19.xyz;\\n }","comp":"float trel;\\nfloat vshift;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nfloat xlat_mutablesmoke;\\nfloat xlat_mutablesmoke2;\\nvec2 xlat_mutableuv_l;\\nfloat xlat_mutablew;\\nfloat xlat_mutablez;\\n shader_body { \\n  trel = (time / 2.0);\\n  vshift = (0.5 - q29);\\n  vec2 tmpvar_1;\\n  tmpvar_1.x = rand_preset.x;\\n  tmpvar_1.y = ((-0.1 - (rand_preset.y / 2.0)) + vshift);\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = (0.005 * time);\\n  xlat_mutableuv_l = (uv + tmpvar_2);\\n  vec2 tmpvar_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  tmpvar_3 = sin(((\\n    (tmpvar_4 * aspect.xy)\\n   + 0.5) - (tmpvar_1 * aspect.xy)));\\n  vec2 tmpvar_5;\\n  tmpvar_5 = fract(uv);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = vec3((texture (sampler_fc_main, tmpvar_5).x + (2.0 * (\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2).x)));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = tmpvar_6.x;\\n  tmpvar_7.y = pow (tmpvar_6.x, 2.1);\\n  tmpvar_7.z = pow (tmpvar_6.x, 4.0);\\n  xlat_mutablew = ((uv.y - (\\n    ((dot (texture (sampler_noise_hq, vec2((xlat_mutableuv_l.x / 6.0))), vec4(0.32, 0.49, 0.29, 0.0)) + uv.x) - 0.5)\\n   / 4.0)) - vshift);\\n  xlat_mutablez = (0.2 / xlat_mutablew);\\n  float tmpvar_8;\\n  tmpvar_8 = clamp ((-0.2 - (\\n    (8.0 * q5)\\n   * xlat_mutablew)), 0.0, 1.0);\\n  xlat_mutablers0.x = (((uv.x - 0.5) * (1.0 + \\n    abs(xlat_mutablez)\\n  )) * 2.0);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  xlat_mutablers0 = (xlat_mutablers0 * ((4.0 * \\n    float((xlat_mutablez <= 0.0))\\n  ) + 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = 0.0;\\n  tmpvar_9.y = (1.5 + xlat_mutablew);\\n  vec2 x_10;\\n  x_10 = (xlat_mutablers0 - tmpvar_9);\\n  float tmpvar_11;\\n  tmpvar_11 = ((q26 / sqrt(\\n    dot (x_10, x_10)\\n  )) / 4.0);\\n  xlat_mutablers0 = (xlat_mutablers0 * (1.0 + (tmpvar_11 * tmpvar_11)));\\n  xlat_mutablers.x = (xlat_mutablers0 * 2.0).x;\\n  xlat_mutablers.y = (xlat_mutablers0.y + (trel * 0.5));\\n  float tmpvar_12;\\n  tmpvar_12 = (texture (sampler_main, uv).y * tmpvar_8);\\n  vec3 tmpvar_13;\\n  tmpvar_13.xy = (xlat_mutablers * 2.0);\\n  tmpvar_13.z = (0.2 * trel);\\n  float tmpvar_14;\\n  tmpvar_14 = dot (((\\n    ((2.0 * clamp ((texture (sampler_noisevol_hq, \\n      (tmpvar_13 * float((xlat_mutablez >= 0.0)))\\n    ) - 0.2), 0.0, 1.0)).xyz * clamp ((texture (sampler_noise_hq, (xlat_mutablers / 16.0)) - 0.5), 0.0, 1.0).x)\\n   / \\n    sqrt(abs(xlat_mutablez))\\n  ) + tmpvar_11), vec3(0.32, 0.49, 0.29));\\n  vec3 tmpvar_15;\\n  tmpvar_15.x = tmpvar_14;\\n  tmpvar_15.y = pow (tmpvar_14, 2.1);\\n  tmpvar_15.z = pow (tmpvar_14, 6.0);\\n  xlat_mutableret1 = (((\\n    ((uv.y * (1.0 + q23)) + (0.1 / sqrt(dot (tmpvar_3, tmpvar_3))))\\n   * vec3(0.1, 0.1, 0.2)) * tmpvar_8) + (clamp (tmpvar_15, 0.0, 1.0) * (1.0 - \\n    clamp ((-1.0 - (12.0 * xlat_mutablew)), 0.0, 1.0)\\n  )));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \\n    (tmpvar_12 * 8.0)\\n  ), 0.0, 1.0));\\n  vec4 tmpvar_16;\\n  tmpvar_16 = texture (sampler_main, fract((tmpvar_4 + 0.5)));\\n  xlat_mutablesmoke = (tmpvar_16.z * (tmpvar_16.z * q5));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \\n    ((xlat_mutablesmoke * q32) * tmpvar_8)\\n  ), 0.0, 1.0));\\n  xlat_mutablesmoke2 = (texture (sampler_main, ((tmpvar_4 / 2.0) + 0.5)).z * q30);\\n  xlat_mutableret1 = (xlat_mutableret1 + (clamp (tmpvar_7, 0.0, 1.0) - (\\n    ((xlat_mutablez * clamp ((xlat_mutablesmoke + \\n      (xlat_mutablew * q31)\\n    ), 0.0, 1.0)) * vec3(1.0, 0.4, 0.1))\\n   * tmpvar_8)));\\n  float tmpvar_17;\\n  tmpvar_17 = clamp (((\\n    (tmpvar_12 * xlat_mutablez)\\n   * xlat_mutablez) / 16.0), 0.0, 1.0);\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = tmpvar_17;\\n  tmpvar_18.y = pow (tmpvar_17, 2.1);\\n  tmpvar_18.z = pow (tmpvar_17, 6.0);\\n  xlat_mutableret1 = (xlat_mutableret1 + clamp (tmpvar_18, 0.0, 1.0));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((\\n    (((dot (texture (sampler_noise_mq, vec2(\\n      ((xlat_mutableuv_l.x / 4.0) + (0.02 * trel))\\n    )), vec4(0.32, 0.49, 0.29, 0.0)) / 6.0) - uv.y) + 0.8)\\n   * 32.0), 0.0, 1.0));\\n  vec3 tmpvar_19;\\n  tmpvar_19.x = xlat_mutablesmoke2;\\n  tmpvar_19.y = pow (xlat_mutablesmoke2, 2.1);\\n  tmpvar_19.z = pow (xlat_mutablesmoke2, 6.0);\\n  xlat_mutableret1 = ((xlat_mutableret1 * clamp (\\n    (1.0 - xlat_mutablesmoke2)\\n  , 0.0, 1.0)) + clamp (tmpvar_19, 0.0, 1.0));\\n  vec4 tmpvar_20;\\n  tmpvar_20.w = 1.0;\\n  tmpvar_20.xyz = (1.0 - exp((\\n    -(xlat_mutableret1)\\n   * 2.0)));\\n  ret = tmpvar_20.xyz;\\n }"}')},"./presets/converted/martin - angel flight.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.39158,"wave_scale":0.01,"wave_smoothing":0.504,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.7,"wave_g":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.3,"rad":0.379365,"tex_ang":0.628319,"tex_zoom":4.141529,"r":0.3,"g":0.7,"b":1,"r2":1,"b2":1,"a2":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q1/6 + .5;\\ny = q2/6 + .5;"},{"baseVals":{"sides":5,"textured":1,"rad":0.986,"tex_ang":3.14159,"tex_zoom":0.99979,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"enabled":1,"sides":5,"additive":1,"x":0.9,"rad":0.22613,"g":0.6,"g2":0,"b2":0.4,"a2":0.3,"border_a":0},"init_eqs_eel":"t_rel = 5*time;\\nt1 = int(t_rel);","frame_eqs_eel":"dx =  rand(1000)/1000-.5;\\ndy =  rand(1000)/1000-.5;\\n\\nx = .5 + dx*(1-q22/4);\\ny = .5 + dy*(1-q22/4);\\n\\nang = time;\\n\\na = 1;\\nrad = .1*q24+0.08 +q22/40;"},{"baseVals":{"additive":1,"textured":1,"x":0.51,"rad":0.249779,"tex_ang":0.125664,"tex_zoom":5.536972,"r":0.6,"g":0.3,"b":0.4,"a":0.6,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = max(q22-2,0);"}],"waves":[{"baseVals":{"enabled":1,"samples":256,"spectrum":1,"usedots":1,"scaling":0.5033,"g":0.6,"b":0.4},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"\\nt_abs = sample;\\nt_rel = sample-time/1;\\nampl = time;\\n\\nox = ampl*10*sin (t_abs*68);\\noy = ampl*10*cos (t_abs*28);\\noz = ampl*10*cos (t_abs*128);\\n\\n\\nr = 1;\\ng = .5 ;\\nb = 1 ;\\na=q26/18;\\n\\nxang = t1 ;\\nyang = t1*2;\\nzang = t1;\\nfov = 0.12;\\n\\n\\n// Rotation um x,y,z\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\n\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 6;\\nx = ox*fov/oz +0.5;\\n//x = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;"},{"baseVals":{"enabled":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"a = max(sin(time/8)-.5,0);\\nr = .4; g = .2; b = .7;\\n\\nx = sample + .01*cos(sample*243+time);\\ny = .5+.5*sin(time/13) + .02*sin(sample*143);\\na = .7 ;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_slow * p2+ (1-dec_slow)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = 8-index;\\nq28 = .5 + sin(time/7)/10;\\nq29 = index4;\\n\\nmv_a = 0.2;\\nt_rel = time/3;\\nwave_a = max(sin(time/8)-.5,0);\\nwave_a = 0;\\nwave_x = .5+.5*sin(time/13);\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nmovez = movez + .01 * 30/fps ;\\nq29 = movez;\\n\\n\\nzoom = 1;\\nrot = .0;\\ndx = .003","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (((uv - vec2(0.5, 0.5)) * texsize.xy) * 0.03);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((0.99 * texture (sampler_main, (uv + \\n    (((clamp (\\n      (sin(tmpvar_1) / cos(tmpvar_1))\\n    , vec2(-12.0, -12.0), vec2(12.0, 12.0)) * cos(\\n      (tmpvar_1.yx * tmpvar_1.yx)\\n    )) * texsize.zw) * 12.0)\\n  )).xyz) - 0.01);\\n  ret = tmpvar_2.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  dist_3 = (1.0 - fract((0.25 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, fract(\\n    (((2.0 * uv_1) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  xlat_mutableuv2.x = -(uv_1.y);\\n  xlat_mutableuv2.y = uv_1.x;\\n  dist_3 = (1.0 - fract((0.5 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.75 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * uv_1) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  xlat_mutableuv2.x = -(uv_1.y);\\n  xlat_mutableuv2.y = uv_1.x;\\n  dist_3 = (1.0 - fract((1.0 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (xlat_mutableret1 * 3.0);\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/martin - another kind of groove.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.952379,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.391579,"wave_scale":1.575857,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.79,"ob_size":0,"ob_a":0.8,"ib_size":0.26,"mv_x":31.999998,"mv_y":24.000004,"mv_l":0.05,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"rad":0.545996,"ang":2.199115,"tex_ang":0.502655,"tex_zoom":2.02311,"g":1,"b":0.9,"a":0.6,"r2":0.8,"g2":0.8,"b2":0.8,"a2":0.6,"border_b":0,"border_a":0.7},"init_eqs_eel":"","frame_eqs_eel":"tex_ang =  1 + sin(time/9);\\nrad = q29;\\ntex_zoom = (2 + sin(time/17));\\nadditive = q22/6;\\ntextured = 1-bnot(q23)*q24;"},{"baseVals":{"sides":34,"thickoutline":1,"rad":0.728634,"tex_zoom":0.9355,"r":0.5,"g":0.55,"b":0.5,"a":0.0999,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"x":0.503,"rad":0.01,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = .5 + rand(10)/25;\\ny = .5 + rand(10)/25;\\nang = rand(6);\\nr = rand(4)/3;\\ng = rand(4)/3;\\nb = rand(4)/3;\\nr2 = b;\\ng2 = r;\\nb2 = g;\\na = min(q21/2 ,.9);\\nrad = a/9 ;\\n\\na = .5;a2 = .8;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":142,"sep":120,"usedots":1,"additive":1,"scaling":0.01,"smoothing":0.82,"a":0.6,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nt_abs = sample;\\nt_rel = sample-time/8;\\n\\nox =  sin (sample*110) ;\\noy =  cos (sample*110);\\n\\noz = 4+1/(t_rel - int(t_rel));\\n\\nr = .3;\\ng = 0.7;\\nb = 1;\\n\\na = .8;\\n\\nxang = 0;\\nyang = 0;\\nzang = 0;\\nfov = .5;\\n\\n\\n// Rotation um x,y,z\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\n\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\nx = ox*fov/oz +0.45;\\ny = oy*fov/oz + 0.45;"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = max(peak,4);\\nq23 = index;\\nq24 = is_beat;\\nq26 = max(bass + mid + treb,3);\\n\\ngo = go*dec_slow + (1-dec_slow) * equal(index2,2);\\n\\nmovez = movez + .1*(1+.3*q26)*30/fps * go;\\nq30 = movez;\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3*3.1416/2;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nstr = str * dec_slow + (1-dec_slow) * index3;\\nq27 = 4 - str;\\n\\ngrid = grid*(dec_med) + (1-dec_med)* equal(index2,2)*bnot(index);\\nmv_a = grid * .6;\\n\\nrot1 = dec_med * rot1 + (1-dec_med) * bnot(index2) ;\\nq28 = rot1 ;\\n\\ncopy = copy * dec_slow + (1-dec_slow)*index3;\\nq29 = .3*copy;","pixel_eqs_eel":"dx = 0.02*q28;\\nrot = .04*q2;\\nzoom = .96 + .1*sin(time/7);\\n//zoom = 1.04;","warp":" shader_body { \\n  vec2 zz_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qa.xy;\\n  tmpvar_2[1u] = _qa.zw;\\n  zz_1 = (((\\n    (uv - vec2(0.5, 0.5))\\n   * texsize.xy) * 0.01) * tmpvar_2);\\n  zz_1 = -(zz_1.yx);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, (uv + \\n    (((clamp (\\n      (sin(zz_1.yx) / cos(zz_1.yx))\\n    , vec2(-8.0, -8.0), vec2(8.0, 8.0)) * cos(\\n      (4.0 * zz_1)\\n    )) * texsize.zw) * 16.0)\\n  )).xyz * 0.99) - 0.01);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv3_1;\\n  vec2 uv2_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.1 / (sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  ) + 0.1));\\n  vec2 tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (ang / 3.14);\\n  tmpvar_5.x = tmpvar_6;\\n  tmpvar_5.y = (q27 * tmpvar_4);\\n  uv2_2.y = (tmpvar_5.y + (0.1 * q30));\\n  uv2_2.x = (tmpvar_6 + (0.2 * time));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_6;\\n  tmpvar_7.y = (4.0 * tmpvar_4);\\n  uv3_1.y = (tmpvar_7.y - (0.2 * q30));\\n  uv3_1.x = tmpvar_7.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = fract(uv3_1);\\n  uv3_1 = tmpvar_8;\\n  float tmpvar_9;\\n  tmpvar_9 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = (((\\n    (3.0 * max (((2.0 * texture (sampler_main, uv2_2).xyz) + texture (sampler_main, tmpvar_8).xyz), ((2.0 * \\n      ((texture (sampler_blur2, fract(uv2_2)).xyz * scale2) + bias2)\\n    ) + (\\n      (texture (sampler_blur2, fract(tmpvar_8)).xyz * scale2)\\n     + bias2))))\\n   * rad) + (\\n    ((uv.y * pow ((1.0 - rad), 8.0)) * roam_cos)\\n  .xyz * tmpvar_9)) + ((tmpvar_9 * 2.0) * (\\n    (texture (sampler_blur1, fract(uv)).xyz * scale1)\\n   + bias1)));\\n  ret = tmpvar_10.xyz;\\n }"}')},"./presets/converted/martin - bombyx mori.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":0.236,"wave_smoothing":0,"wave_mystery":-0.64,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_b":0.6,"ob_size":0.005,"ob_a":0.8,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":18,"num_inst":4,"x":0.83,"rad":0.14349,"tex_ang":3.76991,"tex_zoom":5.27784,"r":0,"g":1,"b":1,"a":0.5,"r2":1,"g2":0.2,"b2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"d = .3+(frame%8)/8*.2;\\n//d = .3;\\nk1 = instance/num_inst*6.28;\\nd = .3 + q22/8 ;\\n\\nx = .5 + d*cos(k1);\\ny = .5 + d*sin(k1);\\n\\na = min(1, .2+ .8*q22/2*((q27)%2));\\na2 = 0;\\nr = .6 + .4*sin(time/4+1.56);\\nb = .6 + .4*sin(time/4+3.14);\\ng = .6 + .4*sin(time/4);\\n\\nr0 = r0 * bnot(q24) + (.5+.5*sin(time))*q24;\\ng0 = g0 * bnot(q24) + (.5+.5*sin(time*1.7))*q24;\\nb0 = (2-r0-g0)/2;\\n\\nr = r0;\\nb = b0;\\ng = g0;\\n\\nr2 = 1-g;\\ng2 = 1-b;\\nb2 = 1-r;"},{"baseVals":{"sides":32,"num_inst":4,"rad":0.16218,"tex_zoom":1.8315,"g":1,"b":1,"a":0.9,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q24/2; a2 = 0;\\na = min(1, .2+ .8*q22/2*((q27)%2));\\n\\nr = rand(10)/10;\\ng = rand(10)/10;\\nb = rand(10)/10;\\n\\nrad = .06*q22;\\n\\n\\n\\n\\nd = .3+(frame%8)/8*.2;\\nd = .3 + q22/12;\\n\\nx = .5 + d*cos(6.28*instance/num_inst);\\ny = .5 + d*sin(6.28*instance/num_inst);\\na = min(1, .2+ .8*q22/2*((q27)%2));\\nb = 1; g = 1;"},{"baseVals":{"sides":63,"textured":1,"rad":8.85459,"tex_zoom":0.03204,"g":1,"b":1,"a":0.4,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"x":0.4,"rad":0.14741,"tex_zoom":1.59918,"g":0.4,"r2":1,"g2":0.6,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q24*.3;"}],"waves":[{"baseVals":{"enabled":1,"samples":128,"scaling":0.89152,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = t1 * bnot(q24) + (.5+.5*sin(time))*q24;\\nt2 = t2 * bnot(q24) + (.5+.5*sin(time*1.7))*q24;","point_eqs_eel":"x = sample ;\\ny = .5;\\n\\na = q22*((q27+1)%2);\\n//a = 1;\\na = q24*((q27+1)%2)/2+.0;\\n\\nr = t1; b = t2; g = (2-r0-g0)/2;\\n;"},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ra = .8;\\nrb = .5;\\npib = 6.28318530718;\\n\\n\\ntic = min(time-tin,.1);\\ntin = if(equal(sample,0),time,tin);\\n\\nmod = 1.5 + .5*sin(time*.15);\\nmed = 1.5 + .5*sin(time*.134);\\nmed = 5;\\namod = 3;\\n\\nvr = rand(10001)*.0001;\\nrb = rb + rand(10001)*.0001*.1;\\n\\na = vr;\\n\\nsa = vr*pib*.5;\\nsp = sa*mod + q1*1.3;\\nsam = sa*med - q1*.219;\\n\\nox = ra*sin(sam*pib);\\noy = ra*cos(sam*pib);\\nox = ox + rb*-cos(sp)*sin(sam*pib);\\noz = rb*-sin(sp);\\noy = oy + rb*-cos(sp)*cos(sam*pib);\\n\\n\\nxang = time*.132;\\nxang = q2;\\nyang = time*.153;\\nyang = q3;\\nzang = time*.110;\\nzang = q4;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n"}],"init_eqs_eel":"speed_=1;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.96, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, 0.2+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %12;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq24 = is_beat;\\nvol = (bass_att + mid_att + treb_att)/2;\\nvol_ = dec_med * vol_ + (1-dec_med)* vol;\\nvol__ = dec_med * vol__ + (1-dec_med)* vol_;\\nq27 = index + 1;\\nq28 = index2 + 2;\\n\\nk1 =  is_beat*equal(index%4,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%8);\\nvx = vx*bnot(trig) + trig* (rand(100)/100-.5);\\nvy = vy*bnot(trig) + trig* (rand(100)/100-.5);\\nvz = vz*bnot(trig) + trig* (rand(100)/100-.5);\\n\\nspeed = min(vol_-vol__+.5,1);\\nspeed = max(speed,-.5);\\nspeed_ = bnot(trig)*speed_ + trig*speed;\\nspg = dec_med*spg + (1-dec_med)*speed_;\\nmovz = movz + 1/fps*(speed_+0*vol_/6);\\nq9 = movz;\\nq12 = min(q22,6)*2;\\n\\n//puls = puls*dec_med + (1-dec_med)*q22;\\n\\nq13 = 2* sin(movz/3-time/11);\\n\\ntrig = bnot(index%4) * q24;\\ndir = bnot(trig)*dir + trig*(rand(10)-5);\\ntrel = trel + .1/fps*dir;\\nq5 = cos(trel-movz);\\nq6 = sin(trel/2-movz);\\nq7 = -q6;\\nq8 = q5;\\n\\nang0 = ang0*dec_med + vz*(1-dec_med);\\nq17 = ang0*2;\\nq30 = .2*sin(time/8);\\n\\nq31 = .5 + .5*sin(time/3.3);\\n\\nzoom = 1;\\nrot = .0;\\ndx = .00;\\nmonitor = q28;","pixel_eqs_eel":"","warp":"vec3 xlat_mutablemus;\\n shader_body { \\n  vec2 d_1;\\n  vec2 uv6_2;\\n  vec2 uv1_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  uv1_3 = tmpvar_4;\\n  uv6_2 = tmpvar_4;\\n  float x_5;\\n  x_5 = (abs(tmpvar_4.x) - abs(tmpvar_4.y));\\n  float tmpvar_6;\\n  tmpvar_6 = (12.0 * sqrt((x_5 * x_5)));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = normalize(tmpvar_4);\\n  d_1 = tmpvar_7;\\n  float tmpvar_8;\\n  tmpvar_8 = (float(mod (q28, 2.0)));\\n  if ((tmpvar_8 == 0.0)) {\\n    d_1 = ((q1 * tmpvar_7) - (q2 / tmpvar_7));\\n  };\\n  uv1_3 = (tmpvar_4 + ((-0.06 * \\n    dot (((texture (sampler_blur1, uv).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  ) * normalize(tmpvar_4)));\\n  uv1_3 = (uv1_3 - (clamp (\\n    ((sin(tmpvar_6) / cos(tmpvar_6)) * d_1)\\n  , vec2(-4.0, -4.0), vec2(4.0, 4.0)) / 60.0));\\n  uv6_2 = (0.4 * cos((\\n    (uv1_3 * 2.0)\\n   * q28)));\\n  xlat_mutablemus = (clamp (vec3((0.0006 / \\n    (sqrt(dot (uv6_2, uv6_2)) - (0.002 * (q27 + (8.0 * q28))))\\n  )), 0.0, 1.0) * q31);\\n  xlat_mutablemus = (xlat_mutablemus * (1.0 + roam_cos).xyz);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((0.4 * (\\n    ((texture (sampler_main, ((uv1_3 * \\n      (0.8 + (0.2 * tmpvar_6))\\n    ) + 0.5)).xyz + xlat_mutablemus) * 0.95)\\n   - 0.025)) + (0.6 * texture (sampler_main, uv_orig)).xyz);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret2;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 ofs_2;\\n  vec3 ret1_3;\\n  vec2 uv5_4;\\n  uv_1 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = q5;\\n  tmpvar_5.y = q6;\\n  uv_1 = (uv_1 + (tmpvar_5 / 4.0));\\n  uv5_4 = uv_1;\\n  mat2 tmpvar_6;\\n  tmpvar_6[uint(0)] = _qb.xy;\\n  tmpvar_6[1u] = _qb.zw;\\n  uv_1 = (uv_1 * tmpvar_6);\\n  float tmpvar_7;\\n  float tmpvar_8;\\n  tmpvar_8 = (min (abs(\\n    (uv5_4.y / uv5_4.x)\\n  ), 1.0) / max (abs(\\n    (uv5_4.y / uv5_4.x)\\n  ), 1.0));\\n  float tmpvar_9;\\n  tmpvar_9 = (tmpvar_8 * tmpvar_8);\\n  tmpvar_9 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_9) + 0.05368138) * tmpvar_9) - 0.1173503)\\n     * tmpvar_9) + 0.1938925) * tmpvar_9) - 0.3326756)\\n   * tmpvar_9) + 0.9999793) * tmpvar_8);\\n  tmpvar_9 = (tmpvar_9 + (float(\\n    (abs((uv5_4.y / uv5_4.x)) > 1.0)\\n  ) * (\\n    (tmpvar_9 * -2.0)\\n   + 1.570796)));\\n  tmpvar_7 = (tmpvar_9 * sign((uv5_4.y / uv5_4.x)));\\n  if ((abs(uv5_4.x) > (1e-08 * abs(uv5_4.y)))) {\\n    if ((uv5_4.x < 0.0)) {\\n      if ((uv5_4.y >= 0.0)) {\\n        tmpvar_7 += 3.141593;\\n      } else {\\n        tmpvar_7 = (tmpvar_7 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_7 = (sign(uv5_4.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = (((tmpvar_7 / 3.1416) * 6.0) * q28);\\n  float tmpvar_10;\\n  tmpvar_10 = (1.5 / sqrt(dot (uv_1, uv_1)));\\n  xlat_mutablers0.y = tmpvar_10;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (xlat_mutablers0.x + (q9 * 4.0));\\n  tmpvar_11.y = (tmpvar_10 + ((q9 * q28) * 4.0));\\n  xlat_mutablerss = (tmpvar_11 / 12.0);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q5;\\n  tmpvar_12.y = q6;\\n  ofs_2 = (0.1 * tmpvar_12.yx);\\n  float tmpvar_13;\\n  float tmpvar_14;\\n  tmpvar_14 = -(q9);\\n  tmpvar_13 = fract(tmpvar_14);\\n  mat2 tmpvar_15;\\n  tmpvar_15[uint(0)].x = 1.0;\\n  tmpvar_15[uint(0)].y = -0.0;\\n  tmpvar_15[1u].x = 0.0;\\n  tmpvar_15[1u].y = 1.0;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_13)\\n   * tmpvar_15)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * (1.0 - \\n    (tmpvar_13 * tmpvar_13)\\n  )));\\n  float tmpvar_16;\\n  tmpvar_16 = fract((tmpvar_14 + 0.3333333));\\n  mat2 tmpvar_17;\\n  tmpvar_17[uint(0)].x = -0.4990803;\\n  tmpvar_17[uint(0)].y = -0.8665558;\\n  tmpvar_17[1u].x = 0.8665558;\\n  tmpvar_17[1u].y = -0.4990803;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_16)\\n   * tmpvar_17)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_16 * tmpvar_16)\\n  )));\\n  float tmpvar_18;\\n  tmpvar_18 = fract((tmpvar_14 + 0.6666667));\\n  mat2 tmpvar_19;\\n  tmpvar_19[uint(0)].x = -0.5018377;\\n  tmpvar_19[uint(0)].y = 0.8649619;\\n  tmpvar_19[1u].x = -0.8649619;\\n  tmpvar_19[1u].y = -0.5018377;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_18)\\n   * tmpvar_19)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_18 * tmpvar_18)\\n  )));\\n  float tmpvar_20;\\n  tmpvar_20 = fract((tmpvar_14 + 1.0));\\n  mat2 tmpvar_21;\\n  tmpvar_21[uint(0)].x = 0.9999949;\\n  tmpvar_21[uint(0)].y = 0.003185092;\\n  tmpvar_21[1u].x = -0.003185092;\\n  tmpvar_21[1u].y = 0.9999949;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_20)\\n   * tmpvar_21)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_20 * tmpvar_20)\\n  )));\\n  vec2 tmpvar_22;\\n  tmpvar_22.x = (ret1_3.x + ret1_3.z);\\n  tmpvar_22.y = (ret1_3.x - ret1_3.y);\\n  xlat_mutableret2 = (((\\n    (texture (sampler_blur1, fract((xlat_mutablerss + (tmpvar_22 / 2.0)))).xyz * scale1)\\n   + bias1) / tmpvar_10) * 12.0);\\n  vec4 tmpvar_23;\\n  tmpvar_23.w = 1.0;\\n  tmpvar_23.xyz = ((ret1_3 + (\\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\\n   * roam_sin).xyz) + (sqrt(xlat_mutableret2.zxy) * clamp (\\n    (1.0 - (ret1_3 * 4.0))\\n  , 0.0, 1.0)));\\n  ret = tmpvar_23.xyz;\\n }"}')},"./presets/converted/martin - castle in the air.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .2; //MyZoom\\nq8 =  rand(200)/100-1; //fractal modifier\\n//q8 = -0; //#\\nq16 = 1.2; //Tele\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq17 = 2.6; //fractal density factor ffac\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(10)-5;   PosY = rand(10)-5;   PosZ = rand(10)-5; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *q17 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *q17 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *q17 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.03*30/fps_;\\ndec_m = 1-.1*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.1/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.4/fps_; \\nRotZ = if (travel > 2,.5,0);\\nvol = vol*dec_m + (1-dec_m)*(bass_att +mid_att + treb_att)/4;\\nq1 = vol/2+.3;\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.1-dist_)*(dist_ < .1);\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds/2;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v1 = 0.00;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *q17 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *q17 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *q17 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\n\\nwarp = 0.0; zoom = 1; \\ndx = -v2/q16; dy = v3/q16; rot = v1;\\nvx = vx -v2/q16; vy = vy +v3/q16; vz = vz + v1;\\nq11 = vx;  q12 = vy;\\nmovz = movz + ds;\\nq13 = movz;\\nmonitor = q13;","pixel_eqs_eel":"","warp":"float sustain;\\nfloat ffac;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablelimit;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.98 - q14);\\n  ffac = q17;\\n  vec2 uv_3;\\n  uv_3 = (((uv - 0.5) * (1.0 - \\n    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))\\n  )) + 0.5);\\n  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);\\n  vec4 tmpvar_4;\\n  tmpvar_4 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = tmpvar_4.xyz;\\n  if ((tmpvar_4.y > (0.4 * rad))) {\\n    vec3 tmpvar_6;\\n    tmpvar_6 = (tmpvar_4.xyz - vec3(0.5, 0.5, 0.5));\\n    vec4 nb2_7;\\n    vec4 nb_8;\\n    vec2 tmpvar_9;\\n    tmpvar_9 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.x = (1.0 - (tmpvar_9.y + (0.015625 * \\n      (tmpvar_9.x - 0.5)\\n    )));\\n    vec2 tmpvar_10;\\n    tmpvar_10 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.y = (1.0 - (tmpvar_10.y + (0.015625 * \\n      (tmpvar_10.x - 0.5)\\n    )));\\n    vec2 tmpvar_11;\\n    tmpvar_11 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.z = (1.0 - (tmpvar_11.y + (0.015625 * \\n      (tmpvar_11.x - 0.5)\\n    )));\\n    vec2 tmpvar_12;\\n    tmpvar_12 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.w = (1.0 - (tmpvar_12.y + (0.015625 * \\n      (tmpvar_12.x - 0.5)\\n    )));\\n    vec2 tmpvar_13;\\n    tmpvar_13 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.x = (1.0 - (tmpvar_13.y + (0.015625 * \\n      (tmpvar_13.x - 0.5)\\n    )));\\n    vec2 tmpvar_14;\\n    tmpvar_14 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.y = (1.0 - (tmpvar_14.y + (0.015625 * \\n      (tmpvar_14.x - 0.5)\\n    )));\\n    vec2 tmpvar_15;\\n    tmpvar_15 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.z = (1.0 - (tmpvar_15.y + (0.015625 * \\n      (tmpvar_15.x - 0.5)\\n    )));\\n    vec2 tmpvar_16;\\n    tmpvar_16 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.w = (1.0 - (tmpvar_16.y + (0.015625 * \\n      (tmpvar_16.x - 0.5)\\n    )));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = min (nb_8, nb2_7);\\n    nb_8.zw = tmpvar_17.zw;\\n    nb_8.xy = min (tmpvar_17.xy, tmpvar_17.zw);\\n    xlat_mutabledist = (min (nb_8.x, nb_8.y) + ((0.006 * tmpvar_6.x) * abs(tmpvar_6.y)));\\n  } else {\\n    xlat_mutabledist = tmpvar_5.x;\\n  };\\n  vec2 tmpvar_18;\\n  tmpvar_18 = (0.0078125 * floor((\\n    (128.0 * texture (sampler_pc_main, uv_3).yz)\\n   + vec2(0.5, 0.5))));\\n  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - \\n    (tmpvar_18.y + (0.015625 * (tmpvar_18.x - 0.5)))\\n  )) - (q10 * 0.8));\\n  xlat_mutablelimit = (15.0 + (10.0 * xlat_mutabledist));\\n  vec3 tmpvar_19;\\n  tmpvar_19.xy = (xlat_mutableuv1 * xlat_mutabledist);\\n  tmpvar_19.z = xlat_mutabledist;\\n  xlat_mutableuv2 = (((tmpvar_19 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  int iterations_21;\\n  vec3 zz0_22;\\n  vec3 zz_23;\\n  zz_23 = xlat_mutableuv2;\\n  zz0_22 = (xlat_mutableuv2 + q8);\\n  iterations_21 = int((8.0 - float(\\n    (xlat_mutabledist > 0.8)\\n  )));\\n  for (int n_20 = 0; n_20 <= iterations_21; n_20++) {\\n    zz_23 = ((2.0 * clamp (zz_23, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_23);\\n    zz_23 = (zz_23 * (clamp (\\n      max ((0.25 / dot (zz_23, zz_23)), 0.25)\\n    , 0.0, 1.0) * 4.0));\\n    zz_23 = ((ffac * zz_23) + zz0_22);\\n  };\\n  xlat_mutablestruc = (sqrt(dot (zz_23.xz, zz_23.xz)) / xlat_mutablelimit);\\n  vec2 tmpvar_24;\\n  tmpvar_24 = (0.0078125 * floor((\\n    (128.0 * vec2((1.0 - xlat_mutabledist)))\\n   + vec2(0.5, 0.5))));\\n  vec2 tmpvar_25;\\n  tmpvar_25.x = ((64.0 * (\\n    (1.0 - xlat_mutabledist)\\n   - tmpvar_24.x)) + 0.5);\\n  tmpvar_25.y = tmpvar_24.x;\\n  vec3 tmpvar_26;\\n  float tmpvar_27;\\n  tmpvar_27 = (q14 * 2.0);\\n  tmpvar_26.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n  , vec3(tmpvar_27)).x));\\n  tmpvar_26.yz = tmpvar_25;\\n  vec3 tmpvar_28;\\n  tmpvar_28.y = 1.0;\\n  tmpvar_28.x = sustain;\\n  tmpvar_28.z = 1.0;\\n  vec3 tmpvar_29;\\n  tmpvar_29.y = 0.0;\\n  tmpvar_29.x = 0.003921569;\\n  tmpvar_29.z = (0.01568628 * (0.2 + rad));\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = mix (tmpvar_26, ((\\n    mix (texture (sampler_main, uv_3).xyz, ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1), vec3(tmpvar_27))\\n   * tmpvar_28) - tmpvar_29), vec3(clamp ((\\n    sqrt(dot (zz_23, zz_23))\\n   - xlat_mutablelimit), 0.0, 1.0)));\\n  ret = tmpvar_30.xyz;\\n }","comp":"float xlat_mutableinten;\\nfloat xlat_mutabletmp;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablez;\\n shader_body { \\n  float t_rel_2;\\n  vec3 ret1_3;\\n  float struc_4;\\n  xlat_mutableuv1 = ((uv * aspect.xy) - vec2(0.5, 0.5));\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  float tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  tmpvar_6 = mix (min ((1.0 - tmpvar_5.z), (1.0 - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  .z)), (1.0 - (\\n    (tmpvar_7.xyz * scale1)\\n   + bias1).z), 0.5);\\n  struc_4 = ((mix (tmpvar_5.xyz, \\n    ((tmpvar_7.xyz * scale1) + bias1)\\n  , vec3(tmpvar_6)).x * (1.0 - tmpvar_6)) * tmpvar_6);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q11;\\n  tmpvar_8.y = q12;\\n  xlat_mutableuv2 = ((xlat_mutableuv1 * 0.2) - (tmpvar_8 * 0.2));\\n  vec2 uvi_9;\\n  uvi_9 = (xlat_mutableuv2 * 4.0);\\n  float zv_10;\\n  zv_10 = (0.008 * time);\\n  xlat_mutabletmp = clamp (dot ((texture (sampler_noise_hq, \\n    (xlat_mutableuv2 + (0.03 * ((\\n      (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\\n        (uvi_9 * 2.0)\\n       + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\\n     + \\n      (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + (2.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\\n    ) + (\\n      dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + (4.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0))\\n     / 8.0))))\\n  ) - 0.4), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\\n  float tmpvar_11;\\n  tmpvar_11 = clamp ((pow (xlat_mutabletmp, 1.2) * sign(xlat_mutabletmp)), 0.0, 1.0);\\n  xlat_mutabletmp = tmpvar_11;\\n  vec3 tmpvar_12;\\n  tmpvar_12.xy = vec2(0.1, 0.1);\\n  tmpvar_12.z = (1.2 - uv.y);\\n  ret1_3 = ((tmpvar_12 + 0.07) + ((\\n    clamp (((tmpvar_6 * 2.0) - 1.5), 0.0, 1.0)\\n   * tmpvar_11) * 4.0));\\n  t_rel_2 = (q13 * 6.0);\\n  for (int n_1 = 1; n_1 <= 3; n_1++) {\\n    xlat_mutablez = (1.0 - fract((\\n      (float(n_1) / 3.0)\\n     - \\n      (fract(-(t_rel_2)) / 3.0)\\n    )));\\n    xlat_mutableinten = (((1.0 - xlat_mutablez) * xlat_mutablez) * 2.0);\\n    vec2 tmpvar_13;\\n    tmpvar_13.x = q11;\\n    tmpvar_13.y = q12;\\n    xlat_mutableuv2 = (((xlat_mutablez * xlat_mutableuv1) / 4.0) - (tmpvar_13 / 6.0));\\n    vec2 uvi_14;\\n    uvi_14 = (xlat_mutableuv2 * 4.0);\\n    float zv_15;\\n    zv_15 = (0.008 * time);\\n    xlat_mutabletmp = clamp (dot ((\\n      (texture (sampler_noise_hq, (xlat_mutableuv2 + (0.03 * (\\n        ((dot (texture (sampler_noise_hq, uvi_14), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, \\n          ((uvi_14 * 2.0) + zv_15)\\n        ), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0)) + (dot (texture (sampler_noise_hq, (\\n          (uvi_14 * 4.0)\\n         + \\n          (2.0 * zv_15)\\n        )), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0))\\n       + \\n        (dot (texture (sampler_noise_hq, ((uvi_14 * 8.0) + (4.0 * zv_15))), vec4(0.32, 0.49, 0.29, 0.0)) / 8.0)\\n      )))) - (xlat_mutablez * 0.5))\\n     - 0.3), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\\n    xlat_mutabletmp = (((\\n      clamp ((xlat_mutabletmp * sign(xlat_mutabletmp)), 0.0, 1.0)\\n     * xlat_mutableinten) * q1) * 2.0);\\n    ret1_3 = (((ret1_3 + \\n      ((vec3(4.0, 3.0, 0.8) * q1) * struc_4)\\n    ) * clamp (\\n      (1.0 - xlat_mutabletmp)\\n    , 0.0, 1.0)) + xlat_mutabletmp);\\n  };\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = (1.0 - exp((-1.6 * ret1_3)));\\n  ret = tmpvar_16.xyz;\\n }"}')},"./presets/converted/martin - chain breaker.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0,"wave_mystery":0.6,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.6,"b3x":0.4,"b1ed":0},"shapes":[{"baseVals":{"sides":8,"additive":1,"num_inst":256,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"additive":1,"num_inst":256,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"n = (instance);\\nFLen = reg00;\\nSLen = reg00/2;\\n\\nz0 = 10;\\ny0 = gmegabuf(2000+n+FLen)/z0;\\nx0 = gmegabuf(2000+n)/z0;\\n\\na0 = (gmegabuf(n+10000));\\n\\nk1 = instance/num_inst-.5;\\nx = .5 + x0 + sin(k1*8*sin(q12*.07)) * sin(q11*.13)*q3*.7; \\ny = .5 + q32*(y0 + sin(k1*8*sin(q14*.1)) * sin(q13*.2)*q3*.7); \\n\\narg = q2/8;\\nhigh = exp(-500*pow(arg+.5-instance/num_inst,2));\\nhigh += exp(-500*pow(-arg+.5-instance/num_inst,2));\\n\\nexc = sqrt((pow(x-.5,2)+pow(y-.5,2)));\\nrad0 = above(z0,0)*min (.1, a0/60)+.005;\\nrad0 = rad0 * (1+2*exc) * (1+high);\\n\\np1 = .5 + sin(q12)/2;\\np2 = .5 + sin(q13*1.4)/2;\\n//p1 = rand(1)-.5;\\n//p2 = rand(1)-.5;\\nexc = ((pow(x-p1,2)+pow(y-p2,2)));\\nrad = min(rad0 * (1 + .004*q3/abs(exc)),1) ;\\n\\na = min(a0*8+.4,1);\\n\\nk1 = instance/num_inst*5 + high;\\nw = 1-exp(-treb_att/2-.5);\\ng = w + (1-w)*sin(k1);\\nr = w + (1-w)*sin(k1-6.28/3);\\nb = w + (1-w)*sin(k1-6.28*2/3);\\n\\na2 = a/4;\\ng2 = g*0; b2 = b*0; r2 = r*0;"},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"k1 = instance/num_inst;\\nx = .5 + .3*sin(instance*k1*413);\\ny = .5 + .3 * sin(instance*k1*113);\\n\\nrad = .1 + .4*sin(k1*333);\\n\\nr =  .5*sin(k1*234);\\nb =  .5*sin(k1*534);\\ng =  .5*sin(k1*34);"},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"spectrum":1,"additive":1,"scaling":7.52386,"smoothing":0,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"FLen = reg00;\\n\\nn = int(sample*FLen);\\nvol = (value1+value2) * (1+ .1 / (sample+.03));\\n\\nchg = min(max(vol- gmegabuf(n),-1),1);\\ndec = if (chg>0, 1-chg*0.3, 1+chg*0.2);\\n\\nchg = q1 -q2;\\ndec = .94 - abs(chg) * if (chg> 0, .2,.1);\\n\\ndec = min(max(dec,0),1);\\ngmegabuf(n) = gmegabuf(n)*dec + vol*(1-dec);\\n\\ndec = q2/4;\\n//dec = .90;\\ndec = max(min(dec,1),.1);\\n\\ngmegabuf(n) = gmegabuf(n)*dec + gmegabuf(n+(q2<.8))*(1-dec);\\ngmegabuf(n+10000) = gmegabuf(n+10000)*.2 + .8* vol/3;\\na = .0;\\nx = sample;\\ny = .2 + gmegabuf(n+0)*.23;"},{"baseVals":{"samples":256,"usedots":1,"scaling":0.89152,"smoothing":0.82,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":32,"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0;\\nloop (50000,\\ngmegabuf(n) = 0;\\nmegabuf(n) = 0;\\nn = n+1;\\n);\\n\\nsw1 = rand(8);\\nsw2 = rand(8);\\nsw3 = rand(8);\\nsw4 = rand(8);","frame_eqs_eel":"flen = 512; //Wave Punkte\\nreg00 = FLen;\\nSLen = FLen/2;\\ndec_m = pow(.94, 30/fps);\\n\\n//Volume\\nn = 0; vol = 0;\\nloop (SLen,\\n  vol = vol + pow(gmegabuf(n),2)/FLen;  \\n  n = n+1;\\n);\\nvol = sqrt(vol)/2;\\nvol_ = vol_*dec_m + (1-dec_m)* (vol);\\n\\n//switches\\nlev1 = lev1 * dec_m + (1-dec_m) * gmegabuf(1);\\nlev2 = lev2 * dec_m + (1-dec_m) * gmegabuf(20);\\nlev3 = lev3 * dec_m + (1-dec_m) * gmegabuf(50);\\nlev4 = lev4 * dec_m + (1-dec_m) * gmegabuf(100);\\nsw1 = sw1 + (lev1-gmegabuf(1)>0)/fps;\\nsw2 = sw2 + (lev2-gmegabuf(20)>0)/fps;\\nsw3 = sw3 + (lev3-gmegabuf(50)>0)/fps;\\nsw4 = sw4 + (lev4-gmegabuf(100)>0)/fps;\\n\\ndif = (1+sin(sw3/4))*16+2;\\nofs = sin(sw2/3)*8;\\nn = 0; k1 = frame*0; \\nloop (SLen,\\n      m1 = (n)%SLen;\\n      m2 = (n+ofs)%SLen;\\n\\n      k = (m1+dif)%SLen;\\n      i = (SLen+m2-dif)%SLen;\\n\\n      in1 = (gmegabuf(m1)-gmegabuf(k))/pow(vol_+.03,.8)*1.2;\\n      in2 = (gmegabuf(m2)-gmegabuf(i))/pow(vol_+.03,.8)*1.2;\\n\\n      dec = if (pow(gmegabuf(2000+n),2) + pow(gmegabuf(2000+FLen+n),2)> in1*in1+in2*in2,.8,.94) ;\\n      dec = pow (dec, 30/fps); \\n\\n      gmegabuf(2000+n) =       gmegabuf(2000+n)*dec      +(1-dec)* in1;\\n      gmegabuf(2000+FLen+n) =  gmegabuf(2000+FLen+n)*dec +(1-dec)* in2;\\n      n=n+1;\\n);\\n\\nq1 = (bass+treb+mid)/3;\\nq2 = (bass_att+treb_att+mid_att)/3;\\nq3 = vol_;\\nq11 = sw1;\\nq12 = sw2;\\nq13 = sw3;\\nq14 = sw4;\\n\\nrot = 0; zoom = .98; warp = .3; rot = 0;\\n\\nq32 = aspecty;\\nmonitor = dif;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * clamp (\\n    (q1 - 0.8)\\n  , 0.0, 1.0)) * 0.92);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur2, uv).xyz * scale2) + bias2));\\n  ret_1 = (ret_1 + ((0.8 * \\n    (hue_shader - 0.8)\\n  ) * (1.0 - uv.y)));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/martin - disco mix 4.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":20.944651,"wave_smoothing":0,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"y":0.47,"rad":0.24057,"tex_zoom":0.14057,"g":0.3,"b":0.5,"g2":0,"b2":0.3,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nx = .5; y = .5;\\na = q24; \\na2 = q24;\\n//a = 1;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"rad":0.05134,"tex_zoom":0.12288,"r":0.3,"g":0.2,"b":0.2,"a":0.7,"g2":0,"border_r":0,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r = .5 + .3 * sin(time);\\ng = .5 + .3 * sin(time/1.5);\\nb = .5 + .3 * sin(time/3.7);\\n\\nr2 = 0; b2 = 0; g2 = 0;\\n\\na = .05; a2 = 0;"},{"baseVals":{"x":0.503,"rad":0.01,"tex_zoom":0.609857,"r":0,"a":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ndy = .1 * sin(time*14);;\\ndx = q1*dy;\\n\\nx = .5 + dx;\\ny = .5 + dy;\\n\\na = q25; a2 = q25;\\nrad = q21/110;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":100,"thick":1,"scaling":0.045052,"smoothing":0.1,"a":0.6},"init_eqs_eel":"","frame_eqs_eel":"t2 = .45 + rand(10)/100;","point_eqs_eel":"k1 = bnot((sample*100+time)%2);\\n\\ndy = .015*above(sin(sample*11),0) \\n    +.008*above(sin(time+sample*74),0)\\n    +.008*above(sin(time+sample*128),0);\\n \\ndx = .01*above(sin(sample*27),0) + \\n      +.01*above(sin(time+sample*134),0);\\n\\nx = .2*(sample-.5) + .5 + dx;\\ny = t2 + dy;\\n\\na = q24 * k1 * bnot(q27%4);\\n\\nr = .6; g = 0; b = .6;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.02,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"xk = 0;","frame_eqs_eel":"dec_med = pow (0.8, 30/fps);\\ndec_slow = pow (0.95, 30/fps);\\ndec_xlow = pow (0.995, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index + 1;\\n\\npeakx = above(q22,1.5*maxp);\\nmaxp = max(maxp, q22);\\nmaxp = maxp*dec_xlow;\\n\\nk1 =  is_beat*equal(index%3,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%4);\\ndir = dir + trig * q26*(rand(100)/100-.5)/2 + peakx;\\ndir_ = dir_ * dec_slow + dir*(1-dec_slow);\\ndir__ = dir__ * dec_slow + dir_*(1-dec_slow);\\n\\nq5 = cos(dir__); \\nq6 = sin(dir__);\\n\\nspeed = speed * bnot(trig) + trig*q26*5/fps ;\\nspeed_= speed_* dec_slow + speed*(1-dec_slow);\\n\\nmovx = movx + speed_*q6;\\nmovy = movy + speed_*q5;\\n\\n//movx = movx + speed;\\n//movy = movy + speed;\\n\\n\\nq7 = movx;\\nq8 = movy;\\n\\ntilt = dir - dir__;\\ntilt_ = dec_slow*tilt_ + (1-dec_slow)*tilt;\\n\\n\\nmonitor = maxp;\\nq9 = cos(tilt_*speed_);\\nq10 = sin(tilt_*speed_);\\n\\nq12 = time;","pixel_eqs_eel":"zoom = 1.3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = ((2.0 * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.02)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\n shader_body { \\n  vec2 uv1_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q9;\\n  tmpvar_2[uint(0)].y = -(q10);\\n  tmpvar_2[1u].x = q10;\\n  tmpvar_2[1u].y = q9;\\n  uv1_1 = (((uv_orig - 0.5) * aspect.xy) * tmpvar_2);\\n  uv1_1 = (uv1_1 * aspect.yx);\\n  float tmpvar_3;\\n  tmpvar_3 = (3.0 / abs(uv1_1.y));\\n  xlat_mutablers.x = (uv1_1.x * tmpvar_3);\\n  xlat_mutablers.y = (tmpvar_3 / 2.0);\\n  mat2 tmpvar_4;\\n  tmpvar_4[uint(0)].x = q5;\\n  tmpvar_4[uint(0)].y = -(q6);\\n  tmpvar_4[1u].x = q6;\\n  tmpvar_4[1u].y = q5;\\n  xlat_mutablers = (tmpvar_4 * xlat_mutablers);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = q7;\\n  tmpvar_5.y = q8;\\n  xlat_mutablers = (xlat_mutablers + tmpvar_5);\\n  xlat_mutableret1 = ((texture (sampler_blur1, fract(\\n    (xlat_mutablers / 12.0)\\n  )).xyz * scale1) + bias1);\\n  vec2 tmpvar_6;\\n  tmpvar_6.y = 0.0;\\n  tmpvar_6.x = q5;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (((xlat_mutableret1 * 32.0) / tmpvar_3) + ((\\n    ((q22 * sqrt(tmpvar_3)) / 4.0)\\n   * \\n    sin(((uv1_1 - q12) * q27))\\n  .x) * texture (sampler_main, (\\n    (((4.0 * xlat_mutableret1) / tmpvar_3).xy + ((uv1_1 / 2.0) / (0.5 + abs(uv1_1.y))))\\n   + tmpvar_6)).xyz));\\n  ret = tmpvar_7.xyz;\\n }"}')},"./presets/converted/martin - extreme heat.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.474,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0,"ob_a":0.3,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1x":0.8,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":7,"additive":1,"num_inst":1024,"rad":0.04896,"tex_ang":1.00531,"tex_zoom":1.53117,"r":0,"g":1,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"max_age = reg00;\\nn = instance*12;\\n\\nx0 = gmegabuf (n);\\ny0 = gmegabuf (n+1);\\nz0 = gmegabuf (n+2); \\nif (z0 < -100, rad = 0; gmegabuf(n+8) = max_age,\\n  rad0 = pow(1-gmegabuf(n+8)/max_age,0.2)/z0* gmegabuf(n+7) + 0.01;\\n  rad = abs(rad0)*0.032 ;\\n\\n  x = 0.5 + x0/z0;\\n  y = 0.5 + y0/z0;\\n);\\n\\na = 1; a2 = 0.2;\\n\\ng = .8; g2 = .0;\\n//b = (gmegabuf(n+7)>0)*0.04/abs(rad0); b2 = 0;\\nb = (rand(10)>3)*0.2 + 0.2*(z0<0); b2 =0;\\n\\n"},{"baseVals":{"sides":12,"thickoutline":1,"x":0.9,"y":0.7,"rad":0.02958,"tex_zoom":0.9355,"g":0.5,"b":1,"g2":0,"b2":0.4,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = 1;"},{"baseVals":{"sides":44,"textured":1,"rad":1.397,"tex_zoom":0.44799,"a":0.5,"r2":1,"g2":0,"border_r":0.5,"border_g":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"thickoutline":1,"x":0.65,"y":0.8,"rad":0.14595,"tex_zoom":0.3357,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q22;"}],"waves":[{"baseVals":{"enabled":1,"samples":160,"sep":20,"usedots":1,"additive":1,"scaling":7.858,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(100)/100;\\ny =  0.5 - (1-0.7)/q32- 0.15*(rand(100)/100-0.5);\\na = 0.15;\\n\\nr= 0; b=1; g = 0;"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"max_age =  4.5; // Sekunden\\nreg00 = max_age;\\n\\nn = 0;\\nloop (12*1024, gmegabuf(n) = max_age-1 + rand(2); n+=1);\\n\\n\\nq9 = (rand(25)-10)*2;\\nq3 = rand (100)/100;\\nq4 = rand (100)/100;\\n\\n//q2 = q3 = q4 = 0;\\n//record\\n// 0 : xpos\\n// 1 : ypos\\n// 2 : zpos\\n// 3 :vx\\n// 4 :vy\\n// 5 :vz\\n\\n\\n// 8 : age","frame_eqs_eel":"dec_fast = 1 - 0.22*40/fps;\\ndec_med  = 1 - 0.15*40/fps;\\ndec_slow = 1 - 0.04* 40/fps;\\n\\nvol = (bass+med+treb)/3;\\nvol_ = vol_*dec_slow + (1-dec_slow)*vol;\\nbeat = vol;\\nis_beat = above(beat, 1+peak*4) * above (time, t0+.2);\\nt0   = if (is_beat,time,t0);\\npeak = if (is_beat, beat, peak*dec_med);\\n\\nindex = (index + is_beat) %1024;\\nind1 = ind1*dec_med + (1-dec_fast)*index;\\nind2 = ind2*dec_med + (1-dec_fast)*ind1;\\nq27 = ind2;\\nq24 = is_beat;\\n\\n//Partikel\\nran1 = if (is_beat, rand(100)/100-0.5, ran1);\\nran2 = if (is_beat, rand(100)/50+1, ran2);\\nran1_ = dec_med * ran1_ + (1-dec_med)*ran1;\\nhigh = ran2 > 2.9;\\nq5 = ran1_;\\n\\nn = 0;\\npush = max(0,vol-vol_alt)*vol_; air = 0.1*dt; \\ndt = 1/fps;\\nv00 = pow(push,0.25)+0.4; Free = 512; New = 0;\\n\\ny0 = -0.68; yobf = y0+0.1;\\nloop (512,\\n   megabuf (n) = gmegabuf (n);\\n   megabuf (n+1) = gmegabuf (n+1);\\n   megabuf (n+2) = gmegabuf (n+2);\\n  if (gmegabuf(n+8) > max_age,\\n    if (band(push >= dt*10 * !high,New < 200), \\n    Free -= 1; New +=1;\\n    // Init Neues Partikel\\n     Tht = rand (100) / 500 * (1+high*1.5);\\n     Phi   = rand (12);\\n     v0 = v00 * (1 + rand(10)/40);\\n     gmegabuf (n) = ran1*1.7;\\n     gmegabuf (n+1) = y0 + 2.2 * high;\\n     gmegabuf (n+2) = 2;\\n     gmegabuf (n+3) = v0*sin(Tht) * cos(Phi);\\n     gmegabuf (n+4) = v0*cos(4*Tht) * (1-high*1.5);\\n     gmegabuf (n+5) = v0*sin(Tht)*sin(Phi)*1.5*vol;\\n     gmegabuf (n+7) = 0;\\n     gmegabuf (n+8) = rand(100)/100;,0)\\n  ,\\n  //Integration\\n   Free -= 1;\\n   gmegabuf (n)   += gmegabuf(n+3)*dt;\\n   gmegabuf (n+1) += gmegabuf(n+4)*dt;\\n   gmegabuf (n+2) += gmegabuf(n+5)*dt;\\n\\n   gmegabuf (n+3) *= (1-air);\\n   gmegabuf (n+4) *= (1-air);\\n   gmegabuf (n+4) -= 0.8*dt;\\n   gmegabuf (n+5) *= (1-air);\\n   gmegabuf (n+7) = (gmegabuf(n+1)>yobf) * min(1,18*(gmegabuf(n+1)-yobf));\\n   if (band(gmegabuf(n+1)<yobf,gmegabuf(n+4)<0),gmegabuf(8) = max_age,0);\\n//  gmegabuf(n+7)=1;\\n   gmegabuf (n+8) += dt;);\\nn += 12);\\n  \\n//Kopien\\nn = 0;\\nloop (512,\\n  m = 511*12+n;\\n  gmegabuf (m) = (gmegabuf(n) + megabuf(n))/2;  \\n  gmegabuf (m+1) = (gmegabuf(n+1) + megabuf(n+1))/2;  \\n  gmegabuf (m+2) = (gmegabuf(n+2) + megabuf(n+2))/2;  \\n  gmegabuf (m+7) = gmegabuf(n+7);  \\n  gmegabuf (m+8) = gmegabuf(n+8);  \\nn += 12);\\n\\n\\n\\ndec = if (bass>bass1,0.5,0.9);\\nbass1 = bass1*dec + bass*(1-dec);\\nq1 = min(1,max(0,bass1-1.5) * abs(q3-0.5)*3);\\n\\nq10 = max (vol_-0.1,0.1);\\nvol_alt = vol;\\n\\n\\nq32 = aspecty;\\n\\n\\nnew1 = if (new>0,new,new1);\\n\\nmonitor = New1;","pixel_eqs_eel":"dy = -.007*y;\\nwarp =.0;\\nrot = .025*sin(q27+x*7+y*0)*0.2/(abs(y-0.7)+0.1) * q10;// * (1-2*(y>0.7));\\nzoom = 1.003 + 0.2*max(0,y-0.7);","warp":"vec2 ver;\\nfloat xlat_mutablecloud;\\nvec2 xlat_mutabledz;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = 0.0;\\n  tmpvar_2.y = texsize.w;\\n  ver = (tmpvar_2 * 2.0);\\n  vec3 ret_3;\\n  xlat_mutabledz.x = (2.0 * dot (vec3((texture (sampler_main, \\n    (uv + tmpvar_1)\\n  ).z - texture (sampler_main, \\n    (uv - tmpvar_1)\\n  ).z)), vec3(0.32, 0.49, 0.29)));\\n  xlat_mutabledz.y = (2.0 * dot (vec3((texture (sampler_main, \\n    (uv + ver)\\n  ).z - texture (sampler_main, \\n    (uv - ver)\\n  ).z)), vec3(0.32, 0.49, 0.29)));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q3;\\n  tmpvar_4.y = (0.4 + (q4 * 0.4));\\n  xlat_mutableuv1 = (uv_orig - tmpvar_4);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv_orig);\\n  xlat_mutablez = ((0.8 * (xlat_mutableuv1.y - 0.4)) - (mix (tmpvar_5.x, \\n    ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1)\\n  .x, 0.5) * 0.03));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  tmpvar_6.y = xlat_mutablez;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = 0.0;\\n  tmpvar_7.y = (-(time) * 0.014);\\n  xlat_mutableuv2 = (tmpvar_6 + tmpvar_7);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = 0.0;\\n  tmpvar_8.y = (time * 0.004);\\n  vec2 uvi_9;\\n  uvi_9 = ((xlat_mutableuv2 * 1.5) + tmpvar_8);\\n  float zv_10;\\n  zv_10 = (0.002 * time);\\n  xlat_mutablecloud = (1.0 - (1.5 * abs(\\n    (texture (sampler_noise_hq, ((xlat_mutableuv2 + (0.07 * \\n      abs((((\\n        (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\\n          (uvi_9 * 2.0)\\n         + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\\n       + \\n        (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\\n      ) + (\\n        dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0))\\n       / -8.0)) - 1.0))\\n    )) / 2.0)) - 0.5)\\n  ))).x;\\n  xlat_mutablecloud = (xlat_mutablecloud * clamp ((\\n    (texture (sampler_noise_hq, (xlat_mutableuv2 * vec2(2.0, 0.5))).x + 0.5)\\n   - \\n    (3.0 * abs(xlat_mutableuv2.x))\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = 0.0;\\n  tmpvar_11.y = ((-0.01 * time) * (0.125 * float(\\n    int((8.0 * pow (xlat_mutablecloud, 4.0)))\\n  )));\\n  float tmpvar_12;\\n  tmpvar_12 = (texture (sampler_noise_hq, (18.0 * (\\n    (xlat_mutableuv2 + (0.05 * xlat_mutablecloud))\\n   + tmpvar_11))) - 0.75).x;\\n  xlat_mutablecloud = (xlat_mutablecloud * (1.0 + (\\n    (0.2 * tmpvar_12)\\n   * \\n    (xlat_mutablecloud * xlat_mutablecloud)\\n  )));\\n  ret_3.x = ((0.3 * xlat_mutablecloud) + (0.7 * tmpvar_5.xyz)).x;\\n  xlat_mutableuv1 = (uv - vec2(0.0, 0.71));\\n  vec4 tmpvar_13;\\n  tmpvar_13 = texture (sampler_blur1, uv);\\n  float tmpvar_14;\\n  tmpvar_14 = clamp (((12.0 * \\n    (((10.0 * xlat_mutableuv1.y) + ((\\n      (tmpvar_13.xyz * scale1)\\n     + bias1).x / 2.0)) - 1.0)\\n  ) + tmpvar_12), 0.0, 1.0);\\n  xlat_mutableuv1 = (uv - 0.7);\\n  ret_3.z = (((\\n    ((((4.0 * tmpvar_14) * (1.0 - tmpvar_14)) * clamp ((tmpvar_5.x - 0.2), 0.0, 1.0)) + texture (sampler_main, (uv + (xlat_mutabledz * 0.003))).z)\\n   - \\n    (0.03 * sqrt(dot (xlat_mutabledz, xlat_mutabledz)))\\n  ) - (\\n    pow (((tmpvar_13.xyz * scale1) + bias1).z, 8.0)\\n   * 0.2)) - 0.01);\\n  ret_3.y = (texture (sampler_main, mix (uv, uv_orig, vec2(0.5, 0.5))).y * (0.85 - (0.2 * \\n    ((tmpvar_13.xyz * scale1) + bias1)\\n  .y)));\\n  ret_3.x = (ret_3.x + ((texture (sampler_noise_lq, \\n    (2.0 * xlat_mutableuv2)\\n  ) * 0.08) * clamp (\\n    (1.0 - (3.0 * ret_3.x))\\n  , 0.0, 1.0)).x);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }","comp":"float dunk;\\nfloat xlat_mutablenoise;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nfloat xlat_mutablesmask;\\nfloat xlat_mutablesmoke;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  dunk = ((rand_preset.x * 0.3) + 0.1);\\n  vec2 uv_2;\\n  vec3 ret_3;\\n  uv_2 = (uv + (texsize.zw / 2.0));\\n  xlat_mutableuv1 = (uv_2 - vec2(0.0, 0.7));\\n  xlat_mutablesmask = (((10.0 * xlat_mutableuv1.y) + (\\n    ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1)\\n  .x / 2.0)) - 1.0);\\n  float tmpvar_4;\\n  tmpvar_4 = clamp (((2.0 * xlat_mutablesmask) + 0.3), 0.0, 1.0);\\n  xlat_mutablenoise = ((3.0 * (1.0 - tmpvar_4)) * texture (sampler_noise_lq, ((xlat_mutableuv1 * 1.5) + (rand_frame * 0.2).xy)).x);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (((12.0 * xlat_mutablesmask) + (xlat_mutablenoise / 2.0)), 0.0, 1.0);\\n  xlat_mutablez = ((0.35 / xlat_mutableuv1.y) + (xlat_mutablenoise / 2.0));\\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (xlat_mutablers0.x + (time / 4.0));\\n  tmpvar_6.y = (xlat_mutablez + (time * 0.21));\\n  xlat_mutablers = (tmpvar_6 * tmpvar_5);\\n  float t_7;\\n  t_7 = ((texture (sampler_main, uv_2).x - dunk) * (1.0 - (tmpvar_5 * \\n    pow (uv_2.y, 4.0)\\n  )));\\n  float tmpvar_8;\\n  tmpvar_8 = clamp (((1.2 * t_7) - 0.2), 0.0, 1.0);\\n  t_7 = tmpvar_8;\\n  vec3 tmpvar_9;\\n  tmpvar_9.x = tmpvar_8;\\n  tmpvar_9.y = (tmpvar_8 * tmpvar_8);\\n  tmpvar_9.z = pow (tmpvar_8, 8.0);\\n  vec3 tmpvar_10;\\n  tmpvar_10 = clamp ((tmpvar_9 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  float t_11;\\n  t_11 = ((texture (sampler_blur2, (uv_2 + 0.03)).xyz * scale2) + bias2).x;\\n  float tmpvar_12;\\n  tmpvar_12 = clamp (((1.2 * t_11) - 0.2), 0.0, 1.0);\\n  t_11 = tmpvar_12;\\n  vec3 tmpvar_13;\\n  tmpvar_13.x = tmpvar_12;\\n  tmpvar_13.y = (tmpvar_12 * tmpvar_12);\\n  tmpvar_13.z = pow (tmpvar_12, 8.0);\\n  vec3 tmpvar_14;\\n  tmpvar_14 = clamp ((tmpvar_13 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = ((tmpvar_10 * (tmpvar_10 * \\n    (3.0 - (2.0 * tmpvar_10))\\n  )) + ((\\n    (((1.0 - texture (sampler_main, uv_2).x) * (1.0 - tmpvar_5)) * abs((texture (sampler_main, (uv_2 - tmpvar_1)).x - texture (sampler_main, (uv_2 + tmpvar_1)).x)))\\n   * \\n    (tmpvar_14 * (tmpvar_14 * (3.0 - (2.0 * tmpvar_14))))\\n  ) * q9));\\n  xlat_mutablesmoke = ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1).z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = uv_2.x;\\n  tmpvar_15.y = ((0.85 - xlat_mutableuv1.y) + ((\\n    ((texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))) - 1.0)\\n  .x * 0.2) * q10));\\n  float t_16;\\n  t_16 = ((texture (sampler_main, tmpvar_15).x + texture (sampler_main, tmpvar_15).y) - dunk);\\n  float tmpvar_17;\\n  tmpvar_17 = clamp (((1.2 * t_16) - 0.2), 0.0, 1.0);\\n  t_16 = tmpvar_17;\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = tmpvar_17;\\n  tmpvar_18.y = (tmpvar_17 * tmpvar_17);\\n  tmpvar_18.z = pow (tmpvar_17, 8.0);\\n  vec3 tmpvar_19;\\n  tmpvar_19 = clamp ((tmpvar_18 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = (ret_3 + ((\\n    (tmpvar_19 * (tmpvar_19 * (3.0 - (2.0 * tmpvar_19))))\\n   * tmpvar_5) * 0.85));\\n  float tmpvar_20;\\n  tmpvar_20 = ((3.6 * tmpvar_4) * (1.0 - tmpvar_4));\\n  ret_3 = (ret_3 * (clamp (\\n    (1.0 - (xlat_mutablesmoke * (1.0 - tmpvar_20)))\\n  , 0.0, 1.0) * clamp (\\n    (1.0 - (tmpvar_20 * float((rand_preset.x > 0.5))))\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_21;\\n  tmpvar_21.z = 0.0;\\n  tmpvar_21.xy = (((texture (sampler_blur3, uv_2).xyz * scale3) + bias3).xy * vec2(3.0, 5.0));\\n  ret_3 = (ret_3 + ((xlat_mutablesmoke * \\n    dot (tmpvar_21, vec3(0.32, 0.49, 0.29))\\n  ) * vec3(1.0, 0.84, 0.62)));\\n  float tmpvar_22;\\n  tmpvar_22 = clamp (((1.2 * \\n    clamp (texture (sampler_main, uv_2).y, 0.0, 1.0)\\n  ) - 0.2), 0.0, 1.0);\\n  vec3 tmpvar_23;\\n  tmpvar_23.x = tmpvar_22;\\n  tmpvar_23.y = (tmpvar_22 * tmpvar_22);\\n  tmpvar_23.z = pow (tmpvar_22, 8.0);\\n  vec3 tmpvar_24;\\n  tmpvar_24 = clamp ((tmpvar_23 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = (ret_3 + (tmpvar_24 * (tmpvar_24 * \\n    (3.0 - (2.0 * tmpvar_24))\\n  )));\\n  float tmpvar_25;\\n  tmpvar_25 = clamp (0.52, 0.0, 1.0);\\n  vec3 tmpvar_26;\\n  tmpvar_26.x = tmpvar_25;\\n  tmpvar_26.y = (tmpvar_25 * tmpvar_25);\\n  tmpvar_26.z = pow (tmpvar_25, 8.0);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = clamp ((tmpvar_26 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  vec3 tmpvar_28;\\n  tmpvar_28 = mix (clamp (ret_3, 0.0, 1.0), (tmpvar_27 * (tmpvar_27 * \\n    (3.0 - (2.0 * tmpvar_27))\\n  )), vec3((pow (\\n    ((1.0 - uv_2.y) - ((uv_2.x - 0.5) * (q3 - 0.5)))\\n  , 4.0) * q1)));\\n  ret_3 = tmpvar_28;\\n  vec4 tmpvar_29;\\n  tmpvar_29.w = 1.0;\\n  tmpvar_29.xyz = tmpvar_28;\\n  ret = tmpvar_29.xyz;\\n }"}')},"./presets/converted/martin - frosty caves 2.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.698,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":5,"mv_g":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"additive":1,"x":0.803,"rad":0.314,"tex_zoom":1.49332,"g":1,"b":1,"a":0,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":132,"sep":20,"thick":1,"additive":1,"scaling":0.48454,"smoothing":0.1,"g":0,"b":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0; loop (20000, megabuf(n)=0; gmegabuf(n)=0; n +=1; );\\n\\nMINBPM = 30; MAXBPM = 230; num_res = 100;\\nindex = 0;\\nloop (num_res,\\n  n = 12*index;\\n  BPM      = minbpm * pow(maxbpm/minbpm,index/num_res);\\n  gmegabuf(n) = BPM;\\n  index += 1;);\\npi = 3.1416;\\nOCTAVE = (num_res) * log(2) / log (MAXBPM / MINBPM);\\n\\nq7 = .15; //MyZoom\\nq8 =  0.2 + rand(1); //fractal modifier\\nq16 = 1.6; //#fish eye\\nstart = 1; travel = 0; RotZ = 0; t0 = time+3;\\ncran0 = rand(1);\\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(8); ran2 = rand(8); ran3 = rand(8);\\n  PosX = rand(8); PosY = rand(8); PosZ = rand(8); \\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 1+2*((uvx/4+30.5 - int(uvx/4+30.5))-.5);\\n    uvy = 2+2*((uvy/4+30.5 - int(uvy/4+30.5))-.5);\\n    uvz = 3+2*((uvz/4+30.5 - int(uvz/4+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"dt = min (1/fps,0.1);\\ndec_f = 0.8; dec_m = 1 - 4*dt; dec_s = 1 - dt;\\nvol = (bass+mid/2+treb)/3;\\nvol_ = vol_*dec_m + (1-dec_m)*vol;\\ndec = dec_s;\\nvol2 = vol2*dec + (1-dec)*min(3,vol);\\nmaxvol = if (vol>maxvol,vol,maxvol*dec_s);\\n\\nexcite = vol-vol_;\\nindex = 0; maxind1 = 0; mean = 0;\\nloop (num_res, \\n  n = index*12;  omega=gmegabuf(n) * 2*pi/60;\\n  gmegabuf (n+1) *= 1- 0.25*dt; \\n  EC_Steps = int (10*dt*omega)+1; dt1 = dt/EC_Steps;\\n  ex = excite ;\\n  loop (EC_Steps, // Euler-Cauchy \\n    gmegabuf (n+1) += (ex - sqr(omega)*gmegabuf(n+2)) * dt1;\\n    gmegabuf (n+2) += gmegabuf(n+1) * dt1);\\n  beatcos  = gmegabuf(n+1);  beatsin = gmegabuf(n+2)*omega;\\n  quad     = sqrt (pow(beatsin,2) + pow(beatcos,2)) ;\\n   mean += quad/num_res;\\n  gmegabuf (n+3) = gmegabuf(n+3) *dec_m +  quad* (1-dec_m);\\n  if (gmegabuf(n+3) > gmegabuf(maxind1*12+3), maxind1 = index, 0); \\nindex += 1;);\\nquali = gmegabuf(maxind1*12+3)/mean;\\n\\nBPM   = minbpm * pow(maxbpm/minbpm,maxind1/num_res);\\nif (BPM>160, BPM/=2,0);\\ntrel1 += (BPM/60*pi+excite*cosb) * (maxvol>0.7)*dt;\\nq32 = trel1;\\n\\nspeed = (0.15 + dist_*0.25)* (1+avg)/q7*(0.34+vol_*0.34)*(q8+0.8);\\nds = ds * dec_s + (1-dec_s)*speed*.25*dt; \\nRotZ = 0.8*pow (sin(time/12),5);\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX += ds*DirX ; PosY += ds*DirY; PosZ += ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = max(0,.4-dist_);\\nv1 = v1 * dec_m + (1-dec_m)* RotZ * ds;\\ndec = 1-3*dt;\\nv2p = v2p *dec + (1-dec)*(angchg*xslope + p2*0.02)*dt;\\nv3p = v3p *dec + (1-dec)*(angchg*yslope + p3*0.02)*dt ;\\nv2 = v2 *dec + (1-dec)* v2p;\\nv3 = v3 *dec + (1-dec)* v3p;\\np3 = sign(v3);\\np4 = sign(v2);\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n//    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n//    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n//    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx = 1+2*((uvx/4+30.5 - int(uvx/4+30.5))-.5);\\n    uvy = 2+2*((uvy/4+30.5 - int(uvy/4+30.5))-.5);\\n    uvz = 3+2*((uvz/4+30.5 - int(uvz/4+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(8*(megabuf(1)-megabuf(3)),-2),2);\\nyslope = min(max(8*(megabuf(4)-megabuf(2)),-2),2);\\ndist_ = dist_*dec_m + (1-dec_m)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.0; \\nstart = start * .9;\\nreg52 = -v2; reg53 = v3;\\n//forward comp. of Rotation\\nwarp = 0.0; zoom = 1;  \\nrot = v1;\\n\\n//light ctrl\\nsinb = sin(trel1);\\ncosb = cos(trel1);\\n\\nbt1 = sinb*sinb_<0; bt2 = cosb*cosb_<0;\\n\\nif (bt1, b1x = rand(2)-1; b1y = rand(2)-1;,0);\\nif (bt2, b2x = rand(2)-1; b2y = rand(2)-1;,0);\\nsinb_=sinb; cosb_=cosb;\\n\\nbri = vol2*0.012*sqrt(100/bpm)+excite*0.01;\\nmov = sqrt (v3*v3+v2*v2)/dt; \\n\\nq1= b1x*abs(b1x);\\nq2= b1y*abs(b1y);\\n\\nq17 =b2x*0.4;\\nq18= b2y*0.4;\\n\\nlen = pow(q1,2)+ pow(q2,2);\\nq3 = pow(sinb,2)*bri * (1+len*4)* max(0,1-5*mov);\\nq19= pow(cosb,2)*bri*1.2;\\n\\nmonitor = q8;\\n//frei: q9, q11, q12, q13, q15, q29m q30, q31, q32","pixel_eqs_eel":"warp = 0.0; zoom = 1; \\ntx = tan((2*x-1)*0.9);\\nty = tan((2*y-1)*0.9);\\n\\ndx = reg52/q16* (1+0.5*abs(tx)); \\ndy = reg53/q16* (1+0.5*abs(ty)); \\n\\n\\ndx += reg53*ty*(x-0.5)*1; \\ndy += reg52*tx*(y-0.5)*1; \\n\\n//muss experimentell an tele angepasst werden; momentan 1.5 !!!","warp":"float sustain;\\nfloat pix;\\nvec3 mod1;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.97 - q14);\\n  pix = (texsize.z * 2.0);\\n  mod1 = (rand_preset.xyz - 0.5);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - (tmpvar_6.z + (0.003921569 * tmpvar_6.y))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.16)) {\\n    vec4 nb2_8;\\n    vec4 nb_9;\\n    vec4 tmpvar_10;\\n    tmpvar_10 = texture (sampler_pw_main, (uv_3 + vec2(-(pix))));\\n    nb_9.x = (1.0 - (tmpvar_10.z + (0.003921569 * tmpvar_10.y)));\\n    vec4 tmpvar_11;\\n    tmpvar_11 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, -1.0))));\\n    nb_9.y = (1.0 - (tmpvar_11.z + (0.003921569 * tmpvar_11.y)));\\n    vec4 tmpvar_12;\\n    tmpvar_12 = texture (sampler_pw_main, (uv_3 + vec2(pix)));\\n    nb_9.z = (1.0 - (tmpvar_12.z + (0.003921569 * tmpvar_12.y)));\\n    vec4 tmpvar_13;\\n    tmpvar_13 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 1.0))));\\n    nb_9.w = (1.0 - (tmpvar_13.z + (0.003921569 * tmpvar_13.y)));\\n    vec4 tmpvar_14;\\n    tmpvar_14 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, -1.0))));\\n    nb2_8.x = (1.0 - (tmpvar_14.z + (0.003921569 * tmpvar_14.y)));\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, 0.0))));\\n    nb2_8.y = (1.0 - (tmpvar_15.z + (0.003921569 * tmpvar_15.y)));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, 1.0))));\\n    nb2_8.z = (1.0 - (tmpvar_16.z + (0.003921569 * tmpvar_16.y)));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 0.0))));\\n    nb2_8.w = (1.0 - (tmpvar_17.z + (0.003921569 * tmpvar_17.y)));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = min (nb_9, nb2_8);\\n    nb_9.zw = tmpvar_18.zw;\\n    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);\\n    xlat_mutabledist = ((min (nb_9.x, nb_9.y) + (\\n      (0.006 * (tmpvar_7.xyz - 0.5).x)\\n     * tmpvar_7.y)) - (q10 * 0.5));\\n  };\\n  float theta_19;\\n  theta_19 = (xlat_mutabledist * 1.35);\\n  float theta_20;\\n  theta_20 = (xlat_mutabledist * 1.35);\\n  vec3 tmpvar_21;\\n  tmpvar_21.xy = (xlat_mutableuv1 * ((\\n    sin(theta_19)\\n   / \\n    cos(theta_19)\\n  ) / 1.35));\\n  tmpvar_21.z = ((sin(theta_20) / cos(theta_20)) / 1.35);\\n  xlat_mutableuv2 = (((tmpvar_21 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = (((\\n    fract(((xlat_mutableuv2 / 4.0) + 0.5))\\n   - 0.5) * 2.0) + vec3(1.0, 2.0, 3.0));\\n  vec3 zz0_23;\\n  vec3 zz_24;\\n  zz_24 = xlat_mutableuv2;\\n  zz0_23 = (xlat_mutableuv2 + q8);\\n  for (int n_22 = 0; n_22 <= 8; n_22++) {\\n    zz_24 = ((2.0 * clamp (zz_24, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_24);\\n    zz_24 = (zz_24 * max ((1.0/(\\n      dot (zz_24, zz_24)\\n    )), 1.0));\\n    zz_24 = ((2.6 * zz_24) + zz0_23);\\n  };\\n  vec4 tmpvar_25;\\n  tmpvar_25.w = 0.0;\\n  tmpvar_25.xyz = zz_24;\\n  float tmpvar_26;\\n  tmpvar_26 = sqrt(dot (zz_24, zz_24));\\n  vec4 tmpvar_27;\\n  tmpvar_27.w = 0.0;\\n  tmpvar_27.xyz = mod1;\\n  xlat_mutablestruc = ((1.0 - (\\n    (1.4 * dot (tmpvar_25, tmpvar_27))\\n   / 40.0)) - (xlat_mutabledist * 0.3));\\n  if (((tmpvar_26 < 40.0) && (xlat_mutabledist > (0.04 * \\n    (1.0 - rad)\\n  )))) {\\n    ret_4.x = mix (xlat_mutablestruc, texture (sampler_main, uv_3).x, sustain);\\n    float x_28;\\n    x_28 = ((1.0 - xlat_mutabledist) * 255.0);\\n    float ip_29;\\n    ip_29 = float(int(x_28));\\n    vec2 tmpvar_30;\\n    tmpvar_30.x = (x_28 - ip_29);\\n    tmpvar_30.y = (ip_29 / 255.0);\\n    ret_4.yz = tmpvar_30;\\n  } else {\\n    ret_4 = ((texture (sampler_fc_main, uv_3) * sustain) - 0.003921569).xyz;\\n  };\\n  vec4 tmpvar_31;\\n  tmpvar_31.w = 1.0;\\n  tmpvar_31.xyz = ret_4;\\n  ret = tmpvar_31.xyz;\\n }","comp":"float xlat_mutablecross1;\\nvec2 xlat_mutabledz1;\\nfloat xlat_mutablerdist;\\nvec2 xlat_mutableuv0;\\nvec2 xlat_mutableuv4;\\nvec2 xlat_mutableuva;\\nvec2 xlat_mutableuvb;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q1;\\n  tmpvar_1.y = q2;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q17;\\n  tmpvar_2.y = q18;\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  uv_3 = (uv + (texsize.zw / 2.0));\\n  xlat_mutableuv0 = uv_3;\\n  vec2 uvi_5;\\n  uvi_5 = (uv_3 + vec2(0.002, 0.0));\\n  float tmpvar_6;\\n  tmpvar_6 = mix (((texture (sampler_blur1, uvi_5).xyz * scale1) + bias1).x, texture (sampler_main, uvi_5).x, 0.1);\\n  vec2 uvi_7;\\n  uvi_7 = (uv_3 - vec2(0.002, 0.0));\\n  float tmpvar_8;\\n  tmpvar_8 = mix (((texture (sampler_blur1, uvi_7).xyz * scale1) + bias1).x, texture (sampler_main, uvi_7).x, 0.1);\\n  xlat_mutabledz1.x = ((tmpvar_6 * float(\\n    (tmpvar_6 > 0.02)\\n  )) - (tmpvar_8 * float(\\n    (tmpvar_8 > 0.02)\\n  )));\\n  vec2 uvi_9;\\n  uvi_9 = (uv_3 + vec2(0.0, 0.002));\\n  float tmpvar_10;\\n  tmpvar_10 = mix (((texture (sampler_blur1, uvi_9).xyz * scale1) + bias1).x, texture (sampler_main, uvi_9).x, 0.1);\\n  vec2 uvi_11;\\n  uvi_11 = (uv_3 - vec2(0.0, 0.002));\\n  float tmpvar_12;\\n  tmpvar_12 = mix (((texture (sampler_blur1, uvi_11).xyz * scale1) + bias1).x, texture (sampler_main, uvi_11).x, 0.1);\\n  xlat_mutabledz1.y = ((tmpvar_10 * float(\\n    (tmpvar_10 > 0.02)\\n  )) - (tmpvar_12 * float(\\n    (tmpvar_12 > 0.02)\\n  )));\\n  uv_3 = (uv_3 + (xlat_mutabledz1 * 0.26));\\n  xlat_mutablerdist = ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1).z;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 0.0;\\n  tmpvar_13.xyz = texture (sampler_noise_hq, vec2(((xlat_mutablerdist * 0.05) + (time * 0.02)))).xyz;\\n  vec4 tmpvar_14;\\n  tmpvar_14 = mix (tmpvar_13, roam_sin, vec4(0.5, 0.5, 0.5, 0.5));\\n  xlat_mutableuv4 = (uv_3 - 0.4);\\n  xlat_mutableuva = ((xlat_mutableuv4 - tmpvar_1) - ((\\n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n  .x * 0.4) * float(\\n    (xlat_mutablerdist > 0.2)\\n  )));\\n  xlat_mutableuvb = ((xlat_mutableuv4 - tmpvar_2) - ((\\n    (texture (sampler_blur1, uv_3).xyz * scale1)\\n   + bias1).x * 0.4));\\n  float angle_15;\\n  float tmpvar_16;\\n  tmpvar_16 = abs(xlat_mutableuva.x);\\n  if ((xlat_mutableuva.y >= 0.0)) {\\n    angle_15 = (1.0 - ((xlat_mutableuva.y - tmpvar_16) / (xlat_mutableuva.y + tmpvar_16)));\\n  } else {\\n    angle_15 = (3.0 - ((xlat_mutableuva.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuva.y)));\\n  };\\n  float tmpvar_17;\\n  if ((xlat_mutableuva.x < 0.0)) {\\n    tmpvar_17 = -(angle_15);\\n  } else {\\n    tmpvar_17 = angle_15;\\n  };\\n  xlat_mutablecross1 = ((pow (\\n    sin((3.141593 * (tmpvar_17 + (5.1 * q20))))\\n  , 1.5) + (xlat_mutablerdist / 2.0)) + 0.1);\\n  vec3 tmpvar_18;\\n  tmpvar_18 = vec3((((1.0/(\\n    dot (xlat_mutableuva, xlat_mutableuva)\\n  )) / xlat_mutablecross1) * q3));\\n  vec3 tmpvar_19;\\n  tmpvar_19 = vec3(((1.0/(dot (xlat_mutableuvb, xlat_mutableuvb))) * q19));\\n  ret_4 = (clamp ((1.0 - \\n    (2.0 * xlat_mutablerdist)\\n  ), 0.0, 1.0) * ((\\n    (tmpvar_18 * tmpvar_14.xyz)\\n   + \\n    (tmpvar_19 * (1.0 - tmpvar_14.xyz))\\n  ) + 0.1));\\n  ret_4 = (ret_4 + (clamp (\\n    (2.0 * xlat_mutablerdist)\\n  , 0.0, 1.0) * (\\n    (tmpvar_18 * tmpvar_14.zyx)\\n   + \\n    (tmpvar_19 * (1.0 - tmpvar_14.zyx))\\n  )));\\n  ret_4 = (ret_4 + ((\\n    (texture (sampler_blur1, xlat_mutableuv0).xyz * scale1)\\n   + bias1).x * 0.05));\\n  ret_4 = (1.0 - exp(-(ret_4)));\\n  vec4 tmpvar_20;\\n  tmpvar_20.w = 1.0;\\n  tmpvar_20.xyz = ret_4;\\n  ret = tmpvar_20.xyz;\\n }"}')},"./presets/converted/martin - fruit machine.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_dots":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.169162,"wave_smoothing":0,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b2x":0.3,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":53,"rad":0.05408,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.2,"g":0.7,"g2":0,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nx = .5;\\ny = .5;\\na = q24; \\na2 = 0;\\n//a = 1; \\na = 0;\\nrad0 = bnot(q24) * rad0 + rand(10)/50*q24;\\nrad = rad0;\\nb = 0; r = rand(10)/10; g = 1;\\na2 = q24;"},{"baseVals":{"enabled":1,"sides":44,"textured":1,"x":0.7,"rad":0.2173,"tex_zoom":3.277448,"g":1,"b":0.5,"r2":1,"b2":1,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0},"init_eqs_eel":"","frame_eqs_eel":"textured = 1;\\nrot0 = rot0 + 1/fps * q1;\\n\\n\\nposx = (1-q24)*posx + q24*(.3+rand(100)/200);\\nposy = (1-q24)*posy + q24*(.3+rand(100)/200);;\\n\\nrad0  = (1-q24)*rad0 + q24*(.05+rand(100)/300);\\nrad = rad0;\\n\\n\\nx =  posx;\\ny =  posy;\\nang = rot0;"},{"baseVals":{"enabled":1,"sides":63,"x":0.503,"rad":0.038857,"tex_zoom":2.2233,"g":0.1,"r2":1,"b2":1,"a2":0.7,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"textured = 1;\\nrot0 = rot0 + .1/fps * q2;\\n\\n\\nposx = (1-q24)*posx + q24*(.3+rand(100)/200);\\nposy = (1-q24)*posy + q24*(.3+rand(100)/200);;\\n\\nrad0  = (1-q24)*rad0 + q24*(.05+rand(100)/400);\\nrad = rad0;\\n\\n\\nx =  posx+q26;\\ny =  posy;\\nang = rot0;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":120,"usedots":1,"additive":1,"scaling":0.891519,"smoothing":0.82,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%8;\\nk2 = bnot (k1);\\nxi = value1*k2 + xi*(1-k2);\\nyi = value2*(1-k2) + yi*k2;\\n\\ndx = dx*.99 + xi;\\ndy = dy*.99 + yi;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\na = q22/8; \\na = min(a,.4);"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.02,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\n\\nbeat = bass+mid+treb;\\nbeat = beat*beat;\\n\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2*avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att + 3;\\nq27 = index + 1;\\nq28 = index2;\\nq29 = index2;\\nmonitor = q29;\\nk1 =  is_\\nbeat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = cos(time/17);\\nq6 = sin(time/17);\\nq7 = -q2;\\nq8 = q1;\\n\\n\\nds = ds*dec_med + q24*(1-dec_med);\\nq25 = q24;\\n//q25 = above(ds,.5);\\n\\nq10 = q22+3;\\n\\nt_rel = time*8;\\n//q25 = below((t_rel)-int(t_rel),.2);\\n\\n\\np3 = p3*dec_med + (1-dec_med) * (100*index + .0*q26);\\nq30 = p3 ;\\n\\np4 = dec_med*p4 + (1-dec_med)*q27;\\nq31 = p4;\\n\\n\\nzoom = 1.1 + q1*.2;\\nwarp =0;\\nob_size = .01;\\nob_r = .9;\\nob_g = 1;\\nob_b = 0;\\nob_a = .2*sin(time/7);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (sqrt(dot (tmpvar_2, tmpvar_2)) + (rand_frame * 13.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_3) / cos(tmpvar_3)) / normalize(tmpvar_2))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 16.0));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ((q24 * (\\n    ((texture (sampler_main, uv_1).xyz + ((0.1 * vec3(\\n      ((q1 * cos((uv_1.x * 44.0))) - cos((uv_1.y * 82.0)))\\n    )) * (1.0 + texture (sampler_noise_lq, \\n      ((uv_1 / 16.0) + (time / 100.0))\\n    )).xyz)) * 0.98)\\n   - 0.025)) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_4.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv2_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  uv2_1 = (uv - 0.5);\\n  vec2 tmpvar_4;\\n  tmpvar_4.y = 0.0;\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 8.0);\\n  tmpvar_4.x = tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (q27 * 2.0);\\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_4);\\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\\n  xlat_mutableuv3 = ((0.1 * cos(\\n    (22.0 * xlat_mutableuv3)\\n  )) + (18.0 * xlat_mutabledz));\\n  float tmpvar_7;\\n  tmpvar_7 = clamp ((0.02 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  vec4 tmpvar_8;\\n  tmpvar_8 = (1.0 + roam_cos);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_7)) + ((0.45 * \\n    dot (vec3(tmpvar_7), vec3(0.32, 0.49, 0.29))\\n  ) * tmpvar_8).xyz);\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\\n  vec2 tmpvar_9;\\n  tmpvar_9.y = 0.0;\\n  tmpvar_9.x = tmpvar_5;\\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_9);\\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\\n  xlat_mutableuv3 = ((0.1 * cos(\\n    (22.0 * xlat_mutableuv3)\\n  )) + (18.0 * xlat_mutabledz));\\n  float tmpvar_10;\\n  tmpvar_10 = clamp ((0.02 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_10)) + ((0.45 * \\n    dot (vec3(tmpvar_10), vec3(0.32, 0.49, 0.29))\\n  ) * tmpvar_8).xyz);\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = (xlat_mutableret1 + clamp ((\\n    (texture (sampler_main, uv).xyz * 4.0)\\n   * \\n    (0.2 + xlat_mutableret1)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/martin - glass corridor.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"wave_dots":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":1.740724,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.99,"ob_size":0,"ob_r":1,"ob_b":1,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.71,"rad":0.657209,"tex_zoom":0.391734,"g":1,"b":1,"a":0.8,"r2":0.83,"g2":0.93,"b2":0.8,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":1.264578,"tex_ang":1.4451,"tex_zoom":1.493308,"r":0.7,"g":0.4,"a":0.01,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"r2":1,"b2":1,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(10)/10;\\ny = rand(10)/10;\\n\\nr = 0;\\ng = 0;\\nb = 0;\\n\\nr2= .5;\\nb2 = 0;\\ng2 = 0;\\na = 0; a2 = 1;\\nrad = bass_att/30;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":120,"thick":1,"additive":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.5,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%2;\\n\\nxi = value1*k1 + xi*(1-k1);\\nyi = value2*(1-k1) + yi*k1;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\n\\na = bass + mid + treb ;\\na = a/10 * sqrt(xi*xi+yi*yi);"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x0 = .5 + (-1) * q1/1;\\ny0 = .0 - (-1)* .5;\\n\\n//x0 = .5; y0 = .5;\\n\\nk1 = int(100.0*sample);\\nk2 = int(100.0*sample+1);\\nk1 = k1%2;\\nf1 = rand(100)/200-.25;\\nf2 = rand(100)/200-.25;\\n\\nx = x0 + k1* f1;;\\ny = y0 + k1* f2;\\na = k2%2 /4;"},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ra = .8;\\nrb = .5;\\npib = 6.28318530718;\\n\\n\\ntic = min(time-tin,.1);\\ntin = if(equal(sample,0),time,tin);\\n\\nmod = 1.5 + .5*sin(time*.15);\\nmed = 1.5 + .5*sin(time*.134);\\nmed = 5;\\namod = 3;\\n\\nvr = rand(10001)*.0001;\\nrb = rb + rand(10001)*.0001*.1;\\n\\na = vr;\\n\\nsa = vr*pib*.5;\\nsp = sa*mod + q1*1.3;\\nsam = sa*med - q1*.219;\\n\\nox = ra*sin(sam*pib);\\noy = ra*cos(sam*pib);\\nox = ox + rb*-cos(sp)*sin(sam*pib);\\noz = rb*-sin(sp);\\noy = oy + rb*-cos(sp)*cos(sam*pib);\\n\\n\\nxang = time*.132;\\nxang = q2;\\nyang = time*.153;\\nyang = q3;\\nzang = time*.110;\\nzang = q4;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n"}],"init_eqs_eel":"p3 = 0;\\nt_rel = 0;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\nmonitor = index4;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att+1;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3 * 3.14159265359/2;\\n\\n\\nq27 = 8-index;\\nq28 = index2+1;\\n\\n//q28 = sin(time)+1;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nt_rel = t_rel + .02*30/fps*q1*q1;\\n\\nq5 = cos(t_rel);\\nq6 = sin(t_rel);\\nq7 = -q6;\\nq8 = q5;\\n\\nmovez = movez + .02*30/fps / ((1.4-q5)*(1.4-q5));\\nq30 = movez;\\n\\n\\nzoom = 1.0;","pixel_eqs_eel":"dx = 0*q28/8;","warp":"vec3 xlat_mutablenoise;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\n shader_body { \\n  float z_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qb.xy;\\n  tmpvar_2[1u] = _qb.zw;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv * tmpvar_2) - 0.5);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.4 / abs(tmpvar_3.y));\\n  xlat_mutablers.x = (tmpvar_3.x * tmpvar_4);\\n  xlat_mutablers.y = (tmpvar_4 + q30);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_5.xyz * vec3(greaterThanEqual (tmpvar_5.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \\n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\\n  )));\\n  xlat_mutableret1 = xlat_mutablenoise;\\n  z_1 = (1.2 / abs(tmpvar_3.y));\\n  xlat_mutablers.x = (tmpvar_3.x * z_1);\\n  xlat_mutablers.y = (z_1 + q30);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_6.xyz * vec3(greaterThanEqual (tmpvar_6.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  z_1 = (0.4 / abs(tmpvar_3.x));\\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\\n  xlat_mutablers.x = (z_1 + q30);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_7.xyz * vec3(greaterThanEqual (tmpvar_7.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \\n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\\n  )));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  z_1 = (1.2 / abs(tmpvar_3.x));\\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\\n  xlat_mutablers.x = (z_1 + q30);\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_8.xyz * vec3(greaterThanEqual (tmpvar_8.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = xlat_mutableret1;\\n  ret = tmpvar_9.xyz;\\n }","comp":"uniform sampler2D sampler_clouds2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 uv1_2;\\n  uv_1 = (uv * aspect.xy);\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.z;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.w;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (dot (texture (sampler_main, (uv_1 - tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)));\\n  tmpvar_5.y = (dot (texture (sampler_main, (uv_1 - tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)));\\n  uv1_2 = ((0.3 * sin(\\n    ((uv_1 + (0.02 * time)) * 6.0)\\n  )) + (0.2 * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_clouds2, (uv_orig + tmpvar_5));\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (((-2.0 * \\n    (0.1 * texture (sampler_main, uv_1))\\n  .xyz) + (\\n    clamp (((0.004 * q26) / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\\n   * vec3(1.0, 0.8, 0.4))) + (0.4 * (tmpvar_6.xyz + \\n    (dot (tmpvar_6.xyz, vec3(0.32, 0.49, 0.29)) - 0.7)\\n  )));\\n  ret = tmpvar_7.xyz;\\n }"}')},"./presets/converted/martin - mandelbox explorer - high speed demo version.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; );\\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; );\\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2;\\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3);\\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0;\\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0;\\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0;\\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25));\\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_;\\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position\\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ;\\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22;\\nreg33 =reg23; reg34 =reg24; reg35 =reg25;\\nreg36 =reg26; reg37 =reg27; reg38 =reg28;\\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx);\\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32;\\n  reg23 =reg33; reg24 =reg34; reg25 =reg35;\\n  reg26 =reg36; reg27 =reg37; reg28 =reg38;\\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0;\\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0;\\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0;\\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05;\\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.98 - q14);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pc_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - ((tmpvar_6.z + \\n      (0.003921569 * tmpvar_6.y)\\n    ) + (q10 * 0.7))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.2)) {\\n    vec3 tmpvar_8;\\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\\n    vec2 uvi_9;\\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\\n    vec2 pix_10;\\n    vec4 nb2_11;\\n    vec4 nb_12;\\n    vec2 x_13;\\n    x_13 = (uvi_9 - 0.5);\\n    pix_10 = (texsize.zw * (1.0 + (\\n      sqrt(dot (x_13, x_13))\\n     * 8.0)));\\n    float tmpvar_14;\\n    tmpvar_14 = (q10 * 0.7);\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\\n    nb_12.x = (1.0 - ((tmpvar_15.z + \\n      (0.003921569 * tmpvar_15.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\\n    nb_12.y = (1.0 - ((tmpvar_16.z + \\n      (0.003921569 * tmpvar_16.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\\n    nb_12.z = (1.0 - ((tmpvar_17.z + \\n      (0.003921569 * tmpvar_17.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\\n    nb_12.w = (1.0 - ((tmpvar_18.z + \\n      (0.003921569 * tmpvar_18.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_19;\\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \\n      (0.003921569 * tmpvar_19.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_20;\\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \\n      (0.003921569 * tmpvar_20.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_21;\\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \\n      (0.003921569 * tmpvar_21.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_22;\\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \\n      (0.003921569 * tmpvar_22.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_23;\\n    tmpvar_23 = min (nb_12, nb2_11);\\n    nb_12.zw = tmpvar_23.zw;\\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\\n  };\\n  vec4 tmpvar_24;\\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_25;\\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\\n   + \\n    (q10 * 0.7)\\n  )));\\n  xlat_mutabledist = tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\\n  vec3 tmpvar_27;\\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\\n  tmpvar_27.z = tmpvar_26;\\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  float li_28;\\n  vec3 zz0_29;\\n  vec3 zz_30;\\n  zz0_29 = (xlat_mutableuv2 + q8);\\n  li_28 = 0.0;\\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\\n  float tmpvar_31;\\n  tmpvar_31 = dot (zz_30, zz_30);\\n  if ((tmpvar_31 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_31 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_31);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_32;\\n  tmpvar_32 = dot (zz_30, zz_30);\\n  if ((tmpvar_32 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_32 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_32);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_33;\\n  tmpvar_33 = dot (zz_30, zz_30);\\n  if ((tmpvar_33 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_33 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_33);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_34;\\n  tmpvar_34 = dot (zz_30, zz_30);\\n  if ((tmpvar_34 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_34 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_34);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_35;\\n  tmpvar_35 = dot (zz_30, zz_30);\\n  if ((tmpvar_35 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_35 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_35);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_36;\\n  tmpvar_36 = dot (zz_30, zz_30);\\n  if ((tmpvar_36 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_36 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_36);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_37;\\n  tmpvar_37 = dot (zz_30, zz_30);\\n  if ((tmpvar_37 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_37 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_37);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_38;\\n  tmpvar_38 = dot (zz_30, zz_30);\\n  if ((tmpvar_38 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_38 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_38);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  vec4 tmpvar_39;\\n  tmpvar_39.xyz = zz_30;\\n  tmpvar_39.w = li_28;\\n  float tmpvar_40;\\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\\n  vec4 tmpvar_41;\\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_42;\\n  float tmpvar_43;\\n  tmpvar_43 = (q10 * 0.7);\\n  tmpvar_42 = ((log(\\n    (1.0 + (tmpvar_40 / 24.0))\\n  ) * 0.02) * (1.0 - (1.0 - \\n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\\n  )));\\n  float tmpvar_44;\\n  vec4 tmpvar_45;\\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \\n    (0.003921569 * tmpvar_45.y)\\n  ) + tmpvar_43));\\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n    , vec3(\\n      (q14 * 4.0)\\n    )).x));\\n    float x_46;\\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\\n    float ip_47;\\n    ip_47 = float(int(x_46));\\n    vec2 tmpvar_48;\\n    tmpvar_48.x = (x_46 - ip_47);\\n    tmpvar_48.y = (ip_47 / 255.0);\\n    ret_4.yz = tmpvar_48;\\n  } else {\\n    vec3 tmpvar_49;\\n    tmpvar_49.y = 0.0;\\n    tmpvar_49.x = sustain;\\n    tmpvar_49.z = (1.0 - tmpvar_42);\\n    vec3 tmpvar_50;\\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\\n    tmpvar_50.z = (q14 / 6.0);\\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\\n  };\\n  vec4 tmpvar_51;\\n  tmpvar_51.w = 1.0;\\n  tmpvar_51.xyz = ret_4;\\n  ret = tmpvar_51.xyz;\\n }","comp":" shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1.x = q4;\\n  tmpvar_1.y = q5;\\n  tmpvar_1.z = q6;\\n  mat3 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q20;\\n  tmpvar_2[uint(0)].y = q23;\\n  tmpvar_2[uint(0)].z = q26;\\n  tmpvar_2[1u].x = q21;\\n  tmpvar_2[1u].y = q24;\\n  tmpvar_2[1u].z = q27;\\n  tmpvar_2[2u].x = q22;\\n  tmpvar_2[2u].y = q25;\\n  tmpvar_2[2u].z = q28;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q1;\\n  tmpvar_3.y = q2;\\n  vec2 uv_4;\\n  vec3 ret_5;\\n  uv_4 = (((uv - 0.5) * 0.9) + 0.5);\\n  vec3 tmpvar_6;\\n  tmpvar_6.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n  .z)));\\n  tmpvar_6.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  float tmpvar_7;\\n  tmpvar_7 = clamp ((abs(\\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\\n     + bias2).z), 0.1, 0.4))\\n  ) + 0.2), 0.0, 1.0);\\n  float tmpvar_8;\\n  tmpvar_8 = clamp (((1.0 - \\n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\\n  ) - 0.2), 0.0, 1.0);\\n  ret_5 = ((mix (texture (sampler_main, uv_4).xyz, \\n    ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\\n  , vec3(tmpvar_7)).x * (0.2 + \\n    ((1.0 - tmpvar_7) * (1.0 - min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n      ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n    .z))))\\n  )) * (1.0 + (0.5 * \\n    sin((((tmpvar_6 / q7) * tmpvar_2) + tmpvar_1))\\n  )));\\n  vec3 tmpvar_9;\\n  tmpvar_9.xy = vec2(0.0, 1.0);\\n  tmpvar_9.z = (tmpvar_8 * 3.0);\\n  ret_5 = (mix (ret_5, tmpvar_9, vec3(tmpvar_8)) + ((\\n    pow ((1.0 - mix (texture (sampler_main, uv_4).xyz, (\\n      (texture (sampler_blur1, uv_4).xyz * scale1)\\n     + bias1), vec3(0.8, 0.8, 0.8)).z), 3.0)\\n   * \\n    (0.5 + (0.5 * slow_roam_cos))\\n  ) * q19).xyz);\\n  ret_5 = (1.0 - exp((-2.0 * ret_5)));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_5;\\n  ret = tmpvar_10.xyz;\\n }"}')},"./presets/converted/martin - mucus cervix.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.958178,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"ob_r":0.3999,"ob_a":0.2,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/3;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3);\\n\\n\\n\\ncent = sqrt((x-.5)*(x-.5)+(y-.5)*(y-.5));\\n\\nrad = .1*cent;\\na = .8;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.393173,"tex_zoom":0.9355,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"trig = q24;\\n\\n\\nx0 = x0*bnot(trig) + trig*(.5+ rand(100)/200); \\ny0 = y0*bnot(trig) + trig*(.5+ rand(100)/200); \\n\\n\\nx0 = x0 + .1*q1*(3+q26)/fps;\\ny0 = y0 + .1*q2*(3+q26)/fps;\\n\\nx0 = x0 - int(x0);\\ny0 = y0 - int(y0);\\n\\ntex_ang = time;\\ntex_zoom = q1;\\nang = time/100*q2;\\nx = x0; y = y0;\\nrad0 = rad0*bnot(trig) + trig*(.04+rand(100)/1000);\\nrad = rad0;\\n\\n\\nr0 = bnot(trig)*r0 + trig * rand(10)/10;\\ng0 = bnot(trig)*g0 + trig * rand(10)/10;\\nb0 = bnot(trig)*b0 + trig * rand(10)/10;\\n\\nr = r0; b = b0; g = g0;\\nr2 = 0; b2 = 0; g2 = 0;\\na= 1; a2 = .3; "},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(50)/50;\\ny = .5 - 0*rand(15)/200;\\n\\nr = .4;\\ng = .6;\\nb = 1;\\nr2 = r;\\ng2 = g;\\nb2 = b;\\n\\na = min(q21/2 ,.9);\\nrad = a * (.1+abs(x-.5))/2 ;"},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.499805,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = q2+.02\\n;"}],"waves":[{"baseVals":{"samples":282,"sep":20,"thick":1,"additive":1,"scaling":3.915805,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nx = sample;\\ny = value1 * rand(50)/100 * abs(sample-.5)+ .49;\\n\\na = q26/4 * (.2 + abs(sample-.5)); "},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\nmonitor = index4;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\nq11 = min(q22,3);\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = 8-index;\\nq28 = index2;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nzoom = 1.0 + .02*q1;\\nrot = .01*q2;\\ndx = .0*index;\\n\\nwave_a = 0;","pixel_eqs_eel":"","warp":"float xlat_mutabledx;\\nfloat xlat_mutabledy;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutablezz;\\n shader_body { \\n  vec2 uv_1;\\n  vec3 crisp_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.z;\\n  xlat_mutablezz = ((uv * texsize.xy) * 0.01);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (cos((xlat_mutablezz.y * q1)) * sin(-(xlat_mutablezz.y)));\\n  tmpvar_5.y = (sin(xlat_mutablezz.x) * cos((xlat_mutablezz.y * q2)));\\n  uv_1 = (uv - ((tmpvar_5 * texsize.zw) * (8.0 + \\n    (6.0 * q11)\\n  )));\\n  xlat_mutableuv2 = (((uv_1 / 2.0) * q27) / 4.0);\\n  xlat_mutabledx = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_3)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledy = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_4)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_4)).xyz), vec3(0.32, 0.49, 0.29));\\n  float tmpvar_6;\\n  tmpvar_6 = (0.15 + (0.1 * q28));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (xlat_mutableuv2 + (time / 100.0));\\n  xlat_mutabledx = (xlat_mutabledx + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).x - 0.5)));\\n  xlat_mutabledy = (xlat_mutabledy + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).y - 0.5)));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = xlat_mutabledx;\\n  tmpvar_8.y = xlat_mutabledy;\\n  xlat_mutablezz = tmpvar_8;\\n  crisp_2 = (texture (sampler_main, (uv_1 + (tmpvar_8 * 0.04))).xyz + texture (sampler_main, uv_1).xyz);\\n  crisp_2 = (crisp_2 * 0.5);\\n  crisp_2 = (crisp_2 + ((0.05 * \\n    (0.9 + (0.1 * roam_cos))\\n  .xyz) - (\\n    sqrt(dot (tmpvar_8, tmpvar_8))\\n   * 0.3)));\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((crisp_2 * 0.97) - 0.015);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv2_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  uv2_1 = (uv - 0.5);\\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\\n  float tmpvar_4;\\n  tmpvar_4 = (time / 2.0);\\n  xlat_mutableuv3 = ((0.2 * cos(\\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\\n  )) + (99.0 * xlat_mutabledz));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.01 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_5)) + (0.9 * dot (vec3(tmpvar_5), vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\\n  xlat_mutableuv3 = ((0.2 * cos(\\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\\n  )) + (99.0 * xlat_mutabledz));\\n  float tmpvar_6;\\n  tmpvar_6 = clamp ((0.01 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_6)) + (0.9 * dot (vec3(tmpvar_6), vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (xlat_mutableret1 + clamp ((\\n    (16.0 * ((0.5 * texture (sampler_main, (uv + \\n      (0.1 * xlat_mutabledz)\\n    )).xyz) + 0.01))\\n   * \\n    (0.1 + xlat_mutableret1)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_7.xyz;\\n }"}')},"./presets/converted/martin - reflections on black tiles.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":10.437056,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/2+q20;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3 +q28/3);\\n\\na = q26/4+.2; \\n//a = 1;"},{"baseVals":{"thickoutline":1,"x":0.4,"rad":2.366958,"tex_ang":3.455753,"tex_zoom":0.993053,"r":0.5,"b":1,"a":0.2,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a2 =0;a = 0;\\na = q24/2;"},{"baseVals":{"enabled":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(10)/10;\\ny = rand(10)/10;\\n\\nr = rand(4)/3;\\ng = rand(4)/3;\\nb = rand(4)/3;\\n\\n\\nis_beat = above(time, t0+.03);\\nt0 = is_beat*time + (1-is_beat)*t0;\\n\\n \\na = min(q21/2 ,.9) * is_beat;\\nrad = a*a/3 ;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"additive":1,"scaling":0.891519,"smoothing":0.82,"a":0.6},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%8;\\nk2 = bnot (k1);\\nxi = value1*k2 + xi*(1-k2);\\nyi = value2*(1-k2) + yi*k2;\\n\\ndx = dx*.99 + xi;\\ndy = dy*.99 + yi;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\na = q22/8; \\na = min(a,.2);"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"fade = .5;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265358/2;\\nq27 = index + 1;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nzoom = 1.0;\\nrot = -0.00 * index;\\n\\nfade = fade*dec_med + pow(0.996, 30/fps) * (1-dec_med);\\nq32 = fade;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 zz_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qa.xy;\\n  tmpvar_2[1u] = _qa.zw;\\n  zz_1 = (((\\n    (uv - vec2(0.5, 0.5))\\n   * texsize.xy) * (0.015 * q27)) * tmpvar_2);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (((q32 * texture (sampler_main, \\n    (uv + ((clamp (\\n      (sin(zz_1) / cos(zz_1))\\n    , vec2(-20.0, -20.0), vec2(20.0, 20.0)) * texsize.zw) * 8.0))\\n  ).xyz) + (\\n    (0.03 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy)))\\n  .xyz * \\n    (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  )) - 0.02);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((tmpvar_1.xyz + clamp (\\n    (3.0 * (((texture (sampler_blur1, \\n      (uv - (0.01 * tmpvar_1.xyz).xy)\\n    ).xyz * scale1) + bias1) - vec3(0.1, 0.1, 0.2)))\\n  , 0.0, 1.0)) * 1.3);\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/martin - stormy sea (2010 update).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":2.103,"wave_smoothing":0.54,"wave_mystery":0.38,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":16,"thickoutline":1,"textured":1,"num_inst":3,"x":0.73,"rad":0.29466,"tex_zoom":1.87511,"r":0.7,"g":0.7,"b":1,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"trig = q25;\\na = trig*.8; a2 = 0;\\n\\nx0 = x0 *bnot(trig) + trig*rand(100)/100;\\ny0 = y0 *bnot(trig) + trig*rand(100)/100;\\ntex_ang = rand(20);\\nrad = .1+rand(10)/8;\\n\\nx = x0; y = y0;\\nr = .7+.3*sin(time/12);\\nb = .7+.3*sin(time/15);\\ng = .7+.3*sin(time/8);\\nr2 = r; b2 = b; g2 = g;"},{"baseVals":{"enabled":1,"sides":36,"thickoutline":1,"textured":1,"num_inst":4,"x":0.3,"rad":0.05429,"ang":1.25664,"tex_ang":0.37699,"tex_zoom":1.02841,"g":0.7,"b":0.5,"r2":1,"g2":0,"border_g":0.59,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q31; y = q32;\\nrad = .06;\\ntex_ang = time;\\na = q30;"},{"baseVals":{"sides":63,"x":0.123,"y":0,"rad":0.27319,"tex_zoom":0.49981,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":24,"textured":1,"x":0.7,"y":0.51,"rad":0.19869,"tex_ang":1.00531,"tex_zoom":0.49981,"g":1,"b":0.99,"a":0,"g2":0,"a2":1,"border_r":0,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"additive":1,"scaling":0.04505,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":100,"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"t0a = time; t0 = time+.5;\\nspb_ = .5; ;\\nvolb = .5; volx = .5;\\nvol_= 1; index = 0; mov1 = 0;\\nsdev = .1; wamp_ = .1;","frame_eqs_eel":"dec_med = pow (0.8, 30/fps); dec_slow = pow (0.95, 30/fps);\\nvol = (bass+med+treb)/1.5; vol_ = vol_*dec_slow + (1-dec_slow)*vol;\\n\\nis_beat = above(vol, vol_+2*peak) * above (time, t0+spb_*.45);\\nt0a  = if(is_beat,t0,t0a); t0 = if(is_beat,time,t0);\\npeak = if(is_beat,vol,peak*dec_med);\\nindex = (index + is_beat) %128;\\n\\nspb = min(t0-t0a + .01,2);\\nspb_ = if(is_beat,spb_ *.9 +.1*spb, spb_);\\n\\n\\nq20 = vol_;\\nq21 = above(vol,2.7*vol_);\\nq22 = max(0,peak-.0)+.01;\\nhpeak = hpeak*dec_med + (1-dec_med)*q21;\\nq23 = hpeak * (1+rand(8));\\nq24 = is_beat;\\nq25 = q22*(1+rand(8))/8;\\n\\nmindev = min(min(abs(spb-spb_),abs(spb*2-spb_)),abs(spb-spb_*2));\\nsdev = if(is_beat,sdev * .8 + .2*pow(mindev+.02,2),sdev);\\n\\nspeed = 1/fps/spb_;\\ntrel = trel + speed;\\nq10 = trel;\\n\\nwamp =  min(.001/sdev,.15);\\nwamp_ = wamp_*dec_slow + (1-dec_slow)*wamp;\\nq11 = sin(trel/2)*wamp_;\\nq12 = wamp_/2;\\n\\nrota = 2*wamp_*sin(trel/3);\\n//rota = .2*sin(wamp_*32);\\nq5 = cos(rota);\\nq6 = sin(rota);\\nq7 = -q6;\\nq8 = q5;\\n\\nq15 = -sin(trel*.5)*.05;\\nq16 = cos(trel)*wamp_/2;\\n\\nq19 = .1*sin(trel/12);\\n\\n//ODD PLANET MOVEMENT\\ntrig1 = bnot(vis)*bnot(rand(100*fps));\\nvis = if (trig1,1,vis*below(mov1,1));\\nq30 = vis;\\nmov1 = if (vis,mov1+2*speed/fps,-1);\\ndir = if(trig1,rand(100),dir); \\nq31 = .5+.5*cos(dir)*mov1;\\nq32 = .5+.5*sin(dir)*mov1;\\n\\nq29 = (2+sin(time/17)); //reflection water\\n\\nmonitor = wamp;","pixel_eqs_eel":"zoom = 1+.02*rad*q20;\\ndy = -.00;\\nwarp =.1; dx = .0;","warp":"mat2 ofs;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablezv;\\n shader_body { \\n  mat2 tmpvar_1;\\n  tmpvar_1[uint(0)].x = texsize.z;\\n  tmpvar_1[uint(0)].y = 0.0;\\n  tmpvar_1[1u].x = 0.0;\\n  tmpvar_1[1u].y = texsize.w;\\n  ofs = (tmpvar_1 * 4.0);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = ((uv.x - 0.5) + q19);\\n  tmpvar_2.y = (uv.y - 0.5);\\n  vec2 v_3;\\n  v_3.x = ofs[0].x;\\n  v_3.y = ofs[1].x;\\n  vec2 v_4;\\n  v_4.x = ofs[0].x;\\n  v_4.y = ofs[1].x;\\n  vec2 v_5;\\n  v_5.x = ofs[0].y;\\n  v_5.y = ofs[1].y;\\n  vec2 v_6;\\n  v_6.x = ofs[0].y;\\n  v_6.y = ofs[1].y;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = (texture (sampler_main, (uv + v_3)) - texture (sampler_main, (uv - v_4))).z;\\n  tmpvar_7.y = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).z;\\n  xlat_mutablezv = (time * 0.08);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (0.02 * time);\\n  tmpvar_8.y = (-0.05 * time);\\n  xlat_mutableuv2 = ((3.0 * tmpvar_2) + tmpvar_8);\\n  vec3 tmpvar_9;\\n  tmpvar_9.xy = xlat_mutableuv2;\\n  tmpvar_9.z = xlat_mutablezv;\\n  vec3 tmpvar_10;\\n  tmpvar_10.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\\n  tmpvar_10.z = (xlat_mutablezv * 2.0);\\n  vec3 tmpvar_11;\\n  tmpvar_11.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\\n  tmpvar_11.z = (xlat_mutablezv * 3.0);\\n  vec3 tmpvar_12;\\n  tmpvar_12.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\\n  tmpvar_12.z = (xlat_mutablezv * 7.0);\\n  xlat_mutableuv2 = (tmpvar_2 + ((\\n    (((texture (sampler_noisevol_hq, tmpvar_9).z + (texture (sampler_noisevol_hq, tmpvar_10).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_11).z / 4.0)) + (texture (sampler_noisevol_hq, tmpvar_12).z / 8.0))\\n   - 1.0) * 0.1));\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = (((\\n    (((0.2 + (\\n      (((1.0 + bass_att) * 0.01) / sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)))\\n     * \\n      (1.0 + normalize(slow_roam_cos))\\n    .xyz)) + ((rand_preset.z - 0.5) * xlat_mutableuv2.y)) * 0.1)\\n   / 2.0) + (texture (sampler_main, \\n    (uv - (0.02 * tmpvar_7))\\n  ).xyz * 0.9)) - 0.01);\\n  ret = tmpvar_13.xyz;\\n }","comp":"float xlat_mutablerain;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablewater;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 uv_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qb.xy;\\n  tmpvar_2[1u] = _qb.zw;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q15;\\n  tmpvar_3.y = q16;\\n  uv_1 = (((\\n    (((uv - 0.5) * tmpvar_2) * 0.7)\\n   * aspect.xy) + 0.5) + tmpvar_3);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.5;\\n  tmpvar_4.y = ((q11 + 0.6) + (q12 * (\\n    sin(((uv_1.x * 6.0) + q10))\\n   * \\n    cos(((uv_1.y * 8.0) + (time * 0.6)))\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (uv_1.x * 4.0);\\n  tmpvar_5.y = uv_1.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (uv_1.x * 4.0);\\n  tmpvar_6.y = uv_1.y;\\n  xlat_mutablerain = (texture (sampler_noise_lq, ((tmpvar_5 * 0.2) - time)).x + texture (sampler_noise_lq, ((tmpvar_6 * 0.5) - time)).x);\\n  float tmpvar_7;\\n  tmpvar_7 = (time / 4.0);\\n  xlat_mutablerain = (xlat_mutablerain * clamp ((\\n    (q20 / 2.0)\\n   - \\n    abs(sin(((uv.x / 4.0) - tmpvar_7)))\\n  ), 0.0, 1.0));\\n  xlat_mutableuv1 = ((uv_1 - tmpvar_4) + (xlat_mutablerain * 0.01));\\n  vec3 tmpvar_8;\\n  tmpvar_8.x = xlat_mutableuv1.y;\\n  tmpvar_8.y = (xlat_mutableuv1.x * 2.0);\\n  tmpvar_8.z = (time * 0.2);\\n  xlat_mutableuv1 = (xlat_mutableuv1 + ((texture (sampler_noisevol_hq, tmpvar_8) * \\n    (0.5 - abs(xlat_mutableuv1.y))\\n  ).x * 0.05));\\n  float tmpvar_9;\\n  tmpvar_9 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\\n  xlat_mutablez = (0.4 / xlat_mutableuv1.y);\\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = (xlat_mutablers0.x + tmpvar_7);\\n  tmpvar_10.y = (xlat_mutablez + (time * 4.0));\\n  xlat_mutablers = (tmpvar_10 * tmpvar_9);\\n  xlat_mutablewater = (texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))).x;\\n  xlat_mutablewater = (xlat_mutablewater - 1.0);\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (xlat_mutableuv1.x + 0.5);\\n  tmpvar_11.y = abs((0.5 - xlat_mutableuv1.y));\\n  xlat_mutableret1 = (((texture (sampler_main, uv_1).xyz * \\n    (1.0 - tmpvar_9)\\n  ) + (\\n    ((texture (sampler_main, (tmpvar_11 - (0.2 * xlat_mutablewater))).xyz * tmpvar_9) * pow ((1.0/(xlat_mutablez)), 0.2))\\n   * \\n    (2.0 - rand_preset.y)\\n  )) + ((\\n    (((0.25 + rand_preset.y) * (1.0 + (rand_preset.x * xlat_mutablewater))) * tmpvar_9)\\n   / xlat_mutablez) * vec3(0.0, 0.1, 0.1)));\\n  xlat_mutableret1 = (xlat_mutableret1 + (0.06 * xlat_mutablerain));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = (1.0 - exp((\\n    (-(pow (xlat_mutableret1, vec3(1.5, 1.5, 1.5))) * 8.0)\\n   * \\n    (1.0 + (q23 * 4.0))\\n  )));\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/martin - witchcraft reloaded.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0.09,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":12,"num_inst":1024,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"fov = reg03;\\nn = instance*reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*q32*fov + 0.5;\\n\\n\\n//k1 = reg01+t1;\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\nr2 = r/2; g2 = g/2; b2 = b2/2;\\n\\na = instance/1024; a2 = a*.5;\\nrad = min(0.02/z0,.5) * (z0 > 0)*2.5*sqrt(a);\\nrad *= gmegabuf(n+6);\\n\\nt1 -= 1;\\n"},{"baseVals":{"num_inst":128,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g":1,"b":0.6,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"scaling":2.15542,"smoothing":0.2,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1 = 1023;\\nt2 = 0;","point_eqs_eel":"fov = reg03;\\nn = t1 * reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*fov + 0.5;\\n\\n\\na= max(0,t1/1024);\\n\\nk1 = reg01+t1;\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\n\\n\\na = t1/1024 * (z0 >= 0.5)/2;\\n\\nt1 -= 1;\\ngmegabuf (10000 +t2) = abs(value1+value2);\\nt2 += 1;"},{"baseVals":{"enabled":1,"scaling":0.89152,"smoothing":0.82,"r":0,"a":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1 = 512;","point_eqs_eel":"fov = reg03;\\nn = t1 * reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*fov + 0.5;\\n\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\n\\na= t1/1024* (z0 >= 0.5)/2;\\nt1 -= 1;\\n"},{"baseVals":{"samples":32,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"index = 0;\\nloop (100000,\\n  megabuf(index) = 0;\\n  gmegabuf(index) = 0;\\n  index = index + 1;\\n);\\n\\nrecsize = 8;\\nreg00 = recsize;\\n\\npoints = 512*2;\\n\\nreg01 = 0; //benoetigt fuer \\"new\\"\\nzofs = 1 + rand(100)/100*2; reg02 = zofs;\\n\\nfov = .3; reg03 = fov;","frame_eqs_eel":"dec_f = pow (0.3, 30/fps);\\ndec_m = pow (0.85, 30/fps);\\ndec_s = pow (0.95, 30/fps);\\nbeat = (bass + mid+ treb)-(bass_att + mid_att+ treb_att) + (bass+mid+treb);\\nbeat /= 3;\\n\\npeak = peak*dec_m + (1-dec_m)*pow(beat-1,1)*(beat>1)*4;\\nis_beat = above(beat, 1) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index)) %8;\\n\\nif (is_beat,\\n  ran1 = rand(100)/50-1;\\n  ran2 = rand(100)/50-1;\\n  ran3 = rand(100)/50-1;\\n,0);\\nran1_ = dec_m * ran1_ + (1-dec_m) * ran1;\\nran2_ = dec_m * ran2_ + (1-dec_m) * ran2;\\nran3_ = dec_m * ran3_ + (1-dec_m) * ran3;\\nrsum = sqrt(ran1_*ran1_ + ran2_*ran2_ + ran3_*ran3_);\\n\\nif (is_beat * (index==2),\\n  ran4 = (rand(100)/50-1);\\n  ran5 = (rand(100)/50-1);\\n  ran6 = (rand(100)/50-1);\\n,0;);\\nran4_ = dec_m * ran4_ + (1-dec_m) * ran4;\\nran5_ = dec_m * ran5_ + (1-dec_m) * ran5;\\nran6_ = dec_m * ran6_ + (1-dec_m) * ran6;\\n\\nif (is_beat * (index==6),\\n  ran7 = (rand(100)/50-1) ;\\n  ran8 = (rand(100)/50-1) ;\\n  ran9 = (rand(100)/50-1) ;\\n,0;);\\nran7_ = dec_m * ran7_ + (1-dec_m) * ran7;\\nran8_ = dec_m * ran8_ + (1-dec_m) * ran8;\\nran9_ = dec_m * ran9_ + (1-dec_m) * ran9;\\n\\n\\n//Neue Punkte #####################\\npk = sqrt(peak+.1);\\nNew = int(12*(ran4-ran5)*pk-12*(ran3-ran1)/pk); //##spielen\\nnew = max(min (new,20),2);\\nreg01 += new;\\n\\ndec = dec_m;\\n\\n//Neue Punkte oberhalb des Arrays\\nn = recsize*points; m = 0;\\ndt1 = (if (ran1>0,4*pk,4/pk))/fps*new/6;\\nvol = max(ran1+ran2,.2)*pk*2;\\nloop (new,\\n  trel1 = trel1 + dt1;\\n  x0 = x0 * dec + (1-dec)* (sin(trel1+ran3*6)*vol    +ran1);\\n  y0 = y0 * dec + (1-dec)* (sin(trel1+ran2*6)*vol    +ran2);\\n  z0 = z0 * dec + (1-dec)* (sin(trel1+ran1*6)*vol +ran3);\\n\\n  gmegabuf(n)   = x0;\\n  gmegabuf(n+1) = y0;\\n  gmegabuf(n+2) = z0;\\n//Farben\\n  gmegabuf(n+3) = ran1_/rsum/3+.5;\\n  gmegabuf(n+4) = ran2_/rsum/3+.5;\\n  gmegabuf(n+5) = ran3_/rsum/3+.5;\\n//Groesse\\n  gmegabuf(n+6) = gmegabuf(10000+m)*0+1;;\\n  n += recsize; m+=1;);\\n\\n//Nach unten um \\"new\\" points umkopieren\\nn = 0;\\nloop (recsize*points,\\n  gmegabuf (n) = gmegabuf(n+new*recsize) ;\\n  n += 1;);\\n\\nxang = ran4_/fps;\\nyang = ran5_/fps;\\nzang = ran6_/fps;\\nddx = min(max(ddx+yang/fps,-1),1);\\nddy = min(max(ddy+xang/fps,-1),1);\\nq1 = ddx*2;\\nq2 = ddy*2;\\n//Rotieren\\nn = 0;\\nloop (points,\\n  ox = gmegabuf (n);\\n  oy = gmegabuf (n+1);\\n  oz = gmegabuf (n+2);\\n  mx = ox*cos(zang) - oy*sin(zang);\\n  my = ox*sin(zang) + oy*cos(zang);\\n  ox = mx;  oy = my;\\n  mx = ox*cos(yang) + oz*sin(yang);\\n  mz = -ox*sin(yang) + oz*cos(yang);\\n  ox = mx;  oz = mz;\\n  my = oy*cos(xang) - oz*sin(xang);\\n  mz = oy*sin(xang) + oz*cos(xang);\\n  oy = my;  oz = mz;\\n  gmegabuf (n) = ox;\\n  gmegabuf (n+1) = oy;\\n  gmegabuf (n+2) = oz;\\nn += recsize;);\\n\\n\\n//SPIEL\\nk1 = ran7_/fps/2;\\nk2 = ran8_/fps/2;\\nk3 = abs(ran9_)/fps;\\n\\ndec = .4 + .6*ran5_; dec2 = (1-dec);\\nr1 = .5+.3*ran4_;\\nn = 0;\\nloop (points-1,\\n  m = n*recsize;\\n  left  =  ((n-1+points)%points) * recsize;\\n  right =  ((n+1+points)%points) * recsize;\\n  gmegabuf (m) =   dec*gmegabuf(m)   + dec2*(gmegabuf(left)*r1   +gmegabuf(right)*(1-r1) + k1) ;\\n  gmegabuf (m+1) = dec*gmegabuf(m+1) + dec2*(gmegabuf(left+1)*r1 +gmegabuf(right+1)*(1-r1) + k2) ;\\n//  gmegabuf (m+2) = dec*gmegabuf(m+2) + dec2*(gmegabuf(left+2)*r1 +gmegabuf(right+2)*(1-r1) + k3) ;\\n  n += 1;\\n);\\n\\n\\nm = (frame%points);\\nm = max(0,int(1024 + (t0-time)*200));\\nn = m * recsize;\\nq5 = gmegabuf(n)/(gmegabuf(n+2)+zofs)*fov;\\nq6 = -gmegabuf(n+1)/(gmegabuf(n+2)+zofs)*fov;\\n\\nq10=  sqrt(gmegabuf (n+3));\\nq11=  sqrt(gmegabuf(n+4));\\nq12=  sqrt(gmegabuf (n+5));\\n\\n\\nmonitor =   m;\\n\\nq32 = aspecty;","pixel_eqs_eel":"rot = 0; zoom = 1; warp = 0; dy = .00; dx = -.00;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);\\n  ret = tmpvar_1.xyz;\\n }","comp":"float xlat_mutablesmask;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  float flash_1;\\n  float dist_2;\\n  float stars_3;\\n  vec3 ret_4;\\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = (0.1 * time);\\n  float tmpvar_6;\\n  tmpvar_6 = (0.2 * rad);\\n  dist_2 = ((1.0 - fract(\\n    (0.3333333 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = q1;\\n  tmpvar_7.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_7);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_8;\\n  tmpvar_8 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = max (0.0, clamp ((\\n    (1.0 - dist_2)\\n   * \\n    ((0.1 / sqrt(dot (tmpvar_8, tmpvar_8))) * xlat_mutablesmask)\\n  ), 0.0, 1.0));\\n  dist_2 = ((1.0 - fract(\\n    (0.6666667 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = q1;\\n  tmpvar_9.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_9);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = (stars_3 + max (stars_3, clamp (\\n    ((1.0 - dist_2) * ((0.1 / sqrt(\\n      dot (tmpvar_10, tmpvar_10)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_2 = ((1.0 - fract(\\n    (1.0 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = q1;\\n  tmpvar_11.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_11);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_12;\\n  tmpvar_12 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = (stars_3 + max (stars_3, clamp (\\n    ((1.0 - dist_2) * ((0.1 / sqrt(\\n      dot (tmpvar_12, tmpvar_12)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = q5;\\n  tmpvar_13.y = q6;\\n  xlat_mutableuv2 = (xlat_mutableuv1 - tmpvar_13);\\n  float tmpvar_14;\\n  tmpvar_14 = ((0.01 / sqrt(\\n    dot (xlat_mutableuv2, xlat_mutableuv2)\\n  )) * min (3.0, (\\n    ((mid - 0.5) * float((mid > 0.5)))\\n   * 2.0)));\\n  flash_1 = tmpvar_14;\\n  float angle_15;\\n  float tmpvar_16;\\n  tmpvar_16 = abs(xlat_mutableuv2.x);\\n  if ((xlat_mutableuv2.y >= 0.0)) {\\n    angle_15 = (1.0 - ((xlat_mutableuv2.y - tmpvar_16) / (xlat_mutableuv2.y + tmpvar_16)));\\n  } else {\\n    angle_15 = (3.0 - ((xlat_mutableuv2.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuv2.y)));\\n  };\\n  angle_15 = (angle_15 * 0.25);\\n  float tmpvar_17;\\n  if ((xlat_mutableuv2.x < 0.0)) {\\n    tmpvar_17 = -(angle_15);\\n  } else {\\n    tmpvar_17 = angle_15;\\n  };\\n  flash_1 = (tmpvar_14 * (tmpvar_14 / (\\n    abs((fract((\\n      (3.0 * tmpvar_17)\\n     + \\n      (time * 2.0)\\n    )) - 0.5))\\n   + 0.18)));\\n  vec3 tmpvar_18;\\n  tmpvar_18 = max ((texture (sampler_main, uv).xyz * 2.0), ((\\n    (texture (sampler_blur2, uv).xyz * scale2)\\n   + bias2) * 2.0));\\n  vec2 tmpvar_19;\\n  tmpvar_19 = sin(xlat_mutableuv3);\\n  ret_4 = (clamp ((0.025 / \\n    sqrt(dot (tmpvar_19, tmpvar_19))\\n  ), 0.0, 1.0) * vec3(0.4, 0.1, 1.0));\\n  ret_4 = (ret_4 + clamp ((stars_3 * stars_3), 0.0, 1.0));\\n  ret_4 = (ret_4 * clamp ((1.0 - \\n    (2.0 * dot (tmpvar_18, vec3(0.32, 0.49, 0.29)))\\n  ), 0.0, 1.0));\\n  ret_4 = (ret_4 + tmpvar_18);\\n  vec3 tmpvar_20;\\n  tmpvar_20.x = q10;\\n  tmpvar_20.y = q11;\\n  tmpvar_20.z = q12;\\n  ret_4 = (ret_4 + ((2.0 * \\n    clamp (flash_1, 0.0, 1.0)\\n  ) * tmpvar_20));\\n  vec4 tmpvar_21;\\n  tmpvar_21.w = 1.0;\\n  tmpvar_21.xyz = ret_4;\\n  ret = tmpvar_21.xyz;\\n }"}')},"./presets/converted/martin [shadow harlequins shape code] - fata morgana.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":0.133,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":1,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_a":0,"b2x":0.3,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":40,"thickoutline":1,"rad":0.06623,"tex_zoom":1.79845,"r":0,"a":0.1,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"bob = 1.5;\\nro = 0;\\nred = rand(20);","frame_eqs_eel":"vol = 1 + 0.2*((bass_att+treb_att+mid_att)/3);\\nbob = bob*above(bob,0.01) - 0.01 + 1*(1 - above(bob,0.01));\\nbob = 0.4 + 0.4*sin(time*0.8);\\nbob = bob*vol;\\n//rad = bob;\\nborder_1 = 0.4;\\nsides = 30;\\nro = ro + 0.02;\\nang = ro;\\n//rad = 0.6;\\n\\nsp = red*0.025;\\nspi = 0.5 - sp;\\ntm = time*0.1;\\nborder_r = 0.5 + sp*sin(tm*0.6) + spi*cos(tm*1.46);\\nborder_g = 0.5 + sp*sin(tm*1.294) + spi*cos(tm*0.87);\\nborder_b = 0.5 + sp*sin(tm*1.418) + spi*cos(tm*0.76);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":4,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.225*sin(time /instance*0.7);\\ny = 0.5 + 0.3*cos(time /instance*0.7);\\nx = x- 0.4*x*sin(time);\\ny = y- 0.4*y*cos(time);\\n\\n\\n\\nrad = rad*mid_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\\nx = 0.5 + 0.225*sin(time + 2.09);\\ny = 0.5 + 0.3*cos(time + 2.09);\\n\\nrad = rad*bass_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":5,"rad":0.07419,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\\nx = 0.5 + 0.225*sin(time /instance);\\ny = 0.5 + 0.3*cos(time /instance);\\nx = x+ 0.4*x*sin(time);\\ny = y+ 0.4*y*cos(time);\\n\\n\\n//x = x+(0.1*q3)*sin((instance*2.4));\\n//y = y+(0.1*q4)*cos((instance*2.4));\\n\\n\\nrad = rad*treb_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\n\\nps = .9*ps + .1*q22;\\nq23 = ps;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index +1;\\nq28 = index2;\\n\\n\\nk1 =  is_\\nbeat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;","pixel_eqs_eel":"zoom = 1.05;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (uv - vec2(0.5, 0.5));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 0.0;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_blur1, uv);\\n  tmpvar_3.xyz = ((tmpvar_4.xyz * scale1) + bias1);\\n  float tmpvar_5;\\n  tmpvar_5 = (dot (tmpvar_3, roam_sin) * 16.0);\\n  mat2 tmpvar_6;\\n  tmpvar_6[uint(0)].x = cos(tmpvar_5);\\n  tmpvar_6[uint(0)].y = -(sin(tmpvar_5));\\n  tmpvar_6[1u].x = sin(tmpvar_5);\\n  tmpvar_6[1u].y = cos(tmpvar_5);\\n  uv_1 = ((tmpvar_2 + (\\n    (0.2 * dot (((tmpvar_4.xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))\\n   * \\n    (tmpvar_2 * tmpvar_6)\\n  )) - 0.5);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv_1 * texsize.xy) * 0.02);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (cos((tmpvar_7.y * q1)) * sin(-(tmpvar_7.y)));\\n  tmpvar_8.y = (sin(tmpvar_7.x) * cos((tmpvar_7.y * q2)));\\n  uv_1 = (uv_1 - ((tmpvar_8 * texsize.zw) * 12.0));\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((texture (sampler_main, uv_1).xyz * 0.98) - 0.02);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablez;\\n shader_body { \\n  xlat_mutableuv1 = (uv - 0.5);\\n  xlat_mutablez = (0.2 / abs(xlat_mutableuv1.y));\\n  xlat_mutablers.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers.y = ((xlat_mutablez / 2.0) + (time * 4.0));\\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_noise_hq, xlat_mutablers);\\n  xlat_mutableret1 = ((tmpvar_1.xyz * vec3(\\n    greaterThanEqual (tmpvar_1.xyz, vec3(0.0, 0.0, 0.0))\\n  )) - 0.6);\\n  float tmpvar_2;\\n  tmpvar_2 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = fract(((\\n    (xlat_mutableuv1 * (1.0 - abs(xlat_mutableuv1.x)))\\n   - 0.5) - (\\n    (xlat_mutableret1 * 0.05)\\n   * tmpvar_2).xy));\\n  float x_4;\\n  x_4 = (tmpvar_3.y - 0.52);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (texture (sampler_main, tmpvar_3) + ((0.02 / \\n    (0.02 + sqrt((x_4 * x_4)))\\n  ) * slow_roam_sin)).xyz;\\n  xlat_mutableret1 = tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (32.0 * ((\\n    (uv * mat2(0.6, -0.8, 0.8, 0.6))\\n   + \\n    (tmpvar_5 * 0.1)\\n  .xy) + (time / 64.0)));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = abs((fract(tmpvar_6) - 0.5));\\n  vec3 tmpvar_8;\\n  tmpvar_8 = clamp (((0.25 / \\n    sqrt(dot (tmpvar_7, tmpvar_7))\\n  ) * vec3((texture (sampler_pw_noise_lq, \\n    (tmpvar_6 / 256.0)\\n  ).y - 0.9))), 0.0, 1.0);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = (tmpvar_5 + ((\\n    (tmpvar_8.x * tmpvar_8.x)\\n   + \\n    ((rand_preset * (0.5 - uv.y)).xyz * vec3(0.0, 0.0, 1.0))\\n  ) * (1.0 - tmpvar_2)));\\n  ret = tmpvar_9.xyz;\\n }"}')},"./presets/converted/martin, flexi, fishbrain + sto - enterstate [random mashup].json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":3,"wave_thick":1,"wrap":0,"darken":1,"wave_a":100,"wave_scale":0.282,"wave_smoothing":0.9,"wave_mystery":1,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"rad":0.16446,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = if(above(bass,2.5),1,0);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"scaling":0.2248},"init_eqs_eel":"","frame_eqs_eel":"r = bass;\\ng = treb;\\nb = .5;","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"scaling":0.2743},"init_eqs_eel":"","frame_eqs_eel":"r = bass;\\ng = treb;\\nb = .5;","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));\\n"},{"baseVals":{"enabled":1,"thick":1,"scaling":2.0231,"smoothing":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\n//a = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"wave_a = 0;\\nfps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":" shader_body { \\n  float dy_1;\\n  float dx_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = ((uv * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 4.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_6.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_3.y = texture (sampler_fw_main, clamp ((uv + (\\n    (tmpvar_6 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.01));\\n  ret_3.y = (ret_3.y + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.02));\\n  dx_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).z * 0.5);\\n  dy_1 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).z * 0.5);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = dx_2;\\n  tmpvar_7.y = dy_1;\\n  ret_3.z = ((texture (sampler_main, (uv - \\n    ((tmpvar_7 * texsize.zw) * 4.0)\\n  )).z - (ret_3.y * 0.01)) + 0.004);\\n  ret_3.z = (ret_3.z + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.01));\\n  dx_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(1.0, 0.0)))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(-1.0, 0.0)))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  dy_1 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, 1.0)))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, -1.0)))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dx_2;\\n  tmpvar_8.y = dy_1;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (tmpvar_8 * texsize.zw);\\n  vec2 domain_10;\\n  domain_10 = (uv - (tmpvar_9 * 2.5));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 0.0;\\n  tmpvar_11.xyz = max (vec4(0.0, 0.0, 0.0, 0.0), texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(-1.0, 0.0))))).xyz;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 0.0;\\n  tmpvar_12.xyz = max (tmpvar_11, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, -1.0))))).xyz;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 0.0;\\n  tmpvar_13.xyz = max (tmpvar_12, texture (sampler_fc_main, domain_10)).xyz;\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 0.0;\\n  tmpvar_14.xyz = max (tmpvar_13, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, 1.0))))).xyz;\\n  ret_3.x = ((max (tmpvar_14, texture (sampler_fc_main, \\n    (domain_10 + (texsize.zw * vec2(1.0, 0.0)))\\n  )).x + (\\n    (texture (sampler_main, (uv + (tmpvar_9 * 4.0))).x - ((texture (sampler_blur1, (uv + \\n      (tmpvar_9 * 4.0)\\n    )).xyz * scale1) + bias1).x)\\n   * 0.206)) - 0.09);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }","comp":"float xlat_mutablelamp;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv1;\\n shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1.x = q4;\\n  tmpvar_1.y = q5;\\n  tmpvar_1.z = q6;\\n  mat3 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q20;\\n  tmpvar_2[uint(0)].y = q23;\\n  tmpvar_2[uint(0)].z = q26;\\n  tmpvar_2[1u].x = q21;\\n  tmpvar_2[1u].y = q24;\\n  tmpvar_2[1u].z = q27;\\n  tmpvar_2[2u].x = q22;\\n  tmpvar_2[2u].y = q25;\\n  tmpvar_2[2u].z = q28;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q1;\\n  tmpvar_3.y = q2;\\n  vec2 uv_4;\\n  vec3 dots_5;\\n  vec3 ret_6;\\n  vec2 tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv - 0.5);\\n  tmpvar_7 = (0.5 + (tmpvar_8 * vec2(1.1, 0.81)));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.5, 0.5));\\n  uv_4 = (tmpvar_8 * aspect.xy);\\n  float tmpvar_10;\\n  float tmpvar_11;\\n  tmpvar_11 = (min (abs(\\n    (uv_4.y / uv_4.x)\\n  ), 1.0) / max (abs(\\n    (uv_4.y / uv_4.x)\\n  ), 1.0));\\n  float tmpvar_12;\\n  tmpvar_12 = (tmpvar_11 * tmpvar_11);\\n  tmpvar_12 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_12) + 0.05368138) * tmpvar_12) - 0.1173503)\\n     * tmpvar_12) + 0.1938925) * tmpvar_12) - 0.3326756)\\n   * tmpvar_12) + 0.9999793) * tmpvar_11);\\n  tmpvar_12 = (tmpvar_12 + (float(\\n    (abs((uv_4.y / uv_4.x)) > 1.0)\\n  ) * (\\n    (tmpvar_12 * -2.0)\\n   + 1.570796)));\\n  tmpvar_10 = (tmpvar_12 * sign((uv_4.y / uv_4.x)));\\n  if ((abs(uv_4.x) > (1e-08 * abs(uv_4.y)))) {\\n    if ((uv_4.x < 0.0)) {\\n      if ((uv_4.y >= 0.0)) {\\n        tmpvar_10 += 3.141593;\\n      } else {\\n        tmpvar_10 = (tmpvar_10 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_10 = (sign(uv_4.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = ((tmpvar_10 / 3.1416) * 2.0);\\n  xlat_mutablers0.y = (0.02 / sqrt(dot (uv_4, uv_4)));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = xlat_mutablers0.x;\\n  tmpvar_13.y = (xlat_mutablers0.y + time);\\n  xlat_mutablerss = (tmpvar_13 * mat2(0.7, -0.7, 0.7, 0.7));\\n  vec4 tmpvar_14;\\n  tmpvar_14 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \\n    (xlat_mutablerss / 32.0)\\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\\n  vec2 tmpvar_15;\\n  tmpvar_15 = abs((fract(\\n    (xlat_mutablerss * 8.0)\\n  ) - 0.5));\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (xlat_mutablers0.x * 2.0);\\n  tmpvar_16.y = (xlat_mutablers0.y + (time / 2.0));\\n  xlat_mutablerss = (tmpvar_16 * mat2(0.7, -0.7, 0.7, 0.7));\\n  vec4 tmpvar_17;\\n  tmpvar_17 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \\n    (xlat_mutablerss / 32.0)\\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\\n  vec2 tmpvar_18;\\n  tmpvar_18 = abs((fract(\\n    (xlat_mutablerss * 8.0)\\n  ) - 0.5));\\n  xlat_mutablerss = tmpvar_18;\\n  dots_5 = (vec3((clamp (\\n    (0.04 / sqrt(dot (tmpvar_15, tmpvar_15)))\\n  , 0.0, 1.0) * tmpvar_14.x)) + (clamp (\\n    (0.04 / sqrt(dot (tmpvar_18, tmpvar_18)))\\n  , 0.0, 1.0) * tmpvar_17.x));\\n  dots_5 = (dots_5 * clamp ((0.04 / \\n    abs((0.01 / xlat_mutablers0.y))\\n  ), 0.0, 1.0));\\n  dots_5 = (dots_5 * (dots_5 * 2.0));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = -((tmpvar_9.y * -1024.0));\\n  tmpvar_19.y = (tmpvar_9.x * -1024.0);\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = tmpvar_19.x;\\n  tmpvar_20.y = -(tmpvar_19.y);\\n  uv_4 = (vec2(-100.0, 100.0) * (tmpvar_20 / (\\n    (tmpvar_19.x * tmpvar_19.x)\\n   + \\n    (tmpvar_19.y * tmpvar_19.y)\\n  )).yx);\\n  uv_4 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((mix ((0.5 + \\n        ((tmpvar_7 - 0.5) * 2.0)\\n      ), (uv_4 + 0.5), vec2(0.5, 0.5)) * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.98));\\n  uv_4 = (((uv_4 - 0.5) * 0.9) + 0.5);\\n  xlat_mutableuv1 = ((uv_4 - tmpvar_3) * aspect.xy);\\n  float tmpvar_21;\\n  tmpvar_21 = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  vec3 tmpvar_22;\\n  tmpvar_22.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n  .z)));\\n  tmpvar_22.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  float tmpvar_23;\\n  tmpvar_23 = clamp ((abs(\\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\\n     + bias2).z), 0.1, 0.4))\\n  ) + 0.2), 0.0, 1.0);\\n  vec3 tmpvar_24;\\n  tmpvar_24 = mix (texture (sampler_main, uv_4).xyz, ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1), vec3(tmpvar_23));\\n  float tmpvar_25;\\n  tmpvar_25 = clamp (((1.0 - \\n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\\n  ) - 0.2), 0.0, 1.0);\\n  ret_6 = ((tmpvar_24.x * (0.2 + \\n    ((1.0 - tmpvar_23) * (1.0 - tmpvar_21))\\n  )) * (1.0 + (0.5 * \\n    sin((((tmpvar_22 / q7) * tmpvar_2) + tmpvar_1))\\n  )));\\n  vec3 tmpvar_26;\\n  tmpvar_26.xy = vec2(0.0, 1.0);\\n  tmpvar_26.z = (tmpvar_25 * 3.0);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = mix (ret_6, tmpvar_26, vec3(tmpvar_25));\\n  xlat_mutablelamp = (((\\n    clamp ((1.0 - (4.0 * sqrt(\\n      dot (xlat_mutableuv1, xlat_mutableuv1)\\n    ))), 0.0, 1.0)\\n   * tmpvar_24.x) * clamp (\\n    (1.0 - (2.0 * mix (tmpvar_21, (1.0 - \\n      ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\\n    .z), 0.2)))\\n  , 0.0, 1.0)) * 1.8);\\n  ret_6 = (tmpvar_27 + ((1.0 - \\n    dot (tmpvar_27, vec3(0.32, 0.49, 0.29))\\n  ) * xlat_mutablelamp));\\n  ret_6 = (1.0 - exp((-2.0 * ret_6)));\\n  ret_6 = (ret_6 + (dots_5 * (1.0 + ret_6)));\\n  vec4 tmpvar_28;\\n  tmpvar_28.w = 1.0;\\n  tmpvar_28.xyz = ret_6;\\n  ret = tmpvar_28.xyz;\\n }"}')},"./presets/converted/sawtooth grin roam.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.49,"decay":0.5,"echo_zoom":1.002,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":16.016,"zoomexp":11.56276,"fshader":1,"zoom":1.05971,"warp":0.13126,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/30;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/25;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0005*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1; q2 = x2; q3 = x3; q4 = x4;\\nq5 = y1; q6 = y2; q7 = y3; q8 = y4;\\nq9 =1/ aspectX;\\nq10 = 1/aspectY;\\n\\nzoom = 1;\\nr = r*0.96 +(x1-0.5);\\nrot = (r*0.1);\\n\\nq12 = atan2(vx4,vy4);\\nq11 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"dir = -q12 + asin(1);\\n\\nb1 = 0.1;\\nm1 = q11*25;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\n\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*2;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*2;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 3.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 9.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret3_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  ) - (texture (sampler_main, tmpvar_4).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, tmpvar_4).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  )));\\n  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));\\n  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));\\n  ret3_2 = (ret3_2 * 3.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));\\n  ret3_2 = tmpvar_6;\\n  uv_1 = (uv * 2.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor((fract(\\n    (uv_1 * 0.5)\\n  ) * 2.0));\\n  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(\\n    (1.0 - uv_1)\\n  )));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = rad;\\n  tmpvar_8.y = uv_1.y;\\n  uv_1 = tmpvar_8;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);\\n  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((\\n    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)\\n   - 0.13), 0.0, 1.0));\\n  vec3 tmpvar_10;\\n  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (\\n    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)\\n  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));\\n  ret_3 = (tmpvar_10 * tmpvar_10);\\n  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));\\n  ret_3 = (ret_3 * 3.0);\\n  ret_3 = (max (tmpvar_6, (0.8 * vec3(\\n    (0.5 * dot (ret_3, vec3(0.32, 0.49, 0.29)))\\n  ))) - (roam_sin.xyz * roam_cos.zxy));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_3;\\n  ret = tmpvar_11.xyz;\\n }"}')},"./presets/converted/shifter - dark tides bdrv mix 2.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.35,"decay":1,"echo_zoom":2.144269,"echo_alpha":0.31,"echo_orient":3,"wave_mode":7,"wave_brighten":0,"wrap":0,"wave_a":4.1,"wave_scale":5.552,"wave_smoothing":0.504,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999514,"cx":-1,"warp":0.72142,"sy":0.980296,"wave_g":0,"wave_b":0,"ob_size":0.5,"ob_r":1,"ib_size":0.5,"ib_r":1,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"y":0.9,"rad":0.15493,"tex_zoom":0.77977,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"textured":1,"rad":0.98608,"tex_ang":3.14159,"tex_zoom":0.999794,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"sides":100,"textured":1,"x":0.9,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = sin(time) * .4 + .5;\\n\\n"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"spectrum":1,"usedots":1,"additive":1,"scaling":0.5033,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"bl = 3.8;\\nul = 7.9;\\nrate = 11.9;\\ncha = .01;\\n\\ngv = if(above(gv,bl),  if(below(gv,ul),  if(above(fps,rate),gv + cha,gv - cha),  ul-.1),bl+.1);\\n\\n\\n\\nmonitor = gv;\\n\\nwave_a = 0;\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\nra = 10;\\n\\n\\ntreb_avg = tic*(treb_avg*(1/tic - ra) + ra*treb);\\nmid_avg = tic*(mid_avg*(1/tic - ra) + ra*mid);\\nbass_avg = tic*(bass_avg*(1/tic - ra) + ra*bass);\\n\\nrb = 1;\\nvav = tic*(vav*(1/tic - rb) + rb*(bass+treb+mid)*.33333);\\nq1 = treb_avg;\\nq2 = mid_avg;\\nq3 = bass_avg;\\n\\ndb = bass - bass_avg;\\n\\nit = (it + tic)*below(it,1);\\n\\nrb = .5*(1/tic);\\nbvb = tic*(bass*rb + (1/tic-rb)*bvb);\\nbd = bass - bvb;\\n\\nvm = vm - tic + swi;\\nswi = above(bd - vm,0);\\n\\nq4 = 1-swi;\\n\\ncm = if(above(iter,30) + equal(time,0),rand(3) + 1,cm);\\niter = (iter + tic)*(1-above(iter,30));\\nq5 = if(equal(cm,0),3,cm);\\n\\ncma = if(above(itar,5) + equal(time,0),int(vav*5),cma);\\nitar = (itar + tic)*(1-above(itar,5));\\n\\nq6 = int(vav*5);\\n\\n\\ndecay=0.97;\\nzoom=1.01;\\nsx=1;sy=1;","pixel_eqs_eel":"warp = bass;","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = ((texture (sampler_main, uv_orig).xyz * vec3(0.97, 1.0, 0.97)) - vec3(0.03, 0.0, 0.03));\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_blur1, uv_orig);\\n  ret_1.z = (ret_1.z + ((\\n    (tmpvar_2.xyz * scale1)\\n   + bias1).z * 0.45));\\n  ret_1.x = (ret_1.x + ((\\n    ((tmpvar_2.xyz * scale1) + bias1)\\n  .z * 0.05) + (\\n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\\n  .z * 0.05)));\\n  ret_1.z = (ret_1.z - ret_1.x);\\n  ret_1.y = clamp (texture (sampler_pw_main, uv_orig).y, 0.0, 1.0);\\n  ret_1 = (ret_1 * 0.98);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2.z = 0.0;\\n  tmpvar_2.xy = texsize.zw;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (tmpvar_2 * 2.5);\\n  ret_1 = (texture (sampler_main, uv).xyz * 0.5);\\n  ret_1 = (ret_1 + (vec3(3.4, 2.38, 1.02) * (\\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n   - \\n    dot (((texture (sampler_blur1, (uv - tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  )));\\n  ret_1 = (ret_1 + (vec3(0.68, 1.7, 2.38) * (\\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n   - \\n    dot (((texture (sampler_blur1, (uv - tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  )));\\n  ret_1 = (ret_1 * 1.5);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }"}')},"./presets/converted/shifter - escape (sigur ros).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":7,"wave_brighten":0,"wave_a":0.005,"wave_scale":0.167,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpscale":0.107,"zoomexp":4.10046,"warp":0.01,"wave_x":0.95,"wave_y":1,"ob_size":0.005,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":34,"thickoutline":1,"textured":1,"x":0.75,"rad":0.30478,"tex_ang":1.5708,"tex_zoom":0.82773,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = .3;\\ntex_zoom = .28;\\ntex_zoom = 1/rad*tex_zoom;\\n\\nx = .5 + sin(time*.957)*.1;"},{"baseVals":{"sides":74,"thickoutline":1,"textured":1,"x":0.25,"rad":0.45378,"tex_zoom":0.5033,"g":1,"b":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = .3;\\ntex_zoom = .3;\\ntex_zoom = 1/rad*tex_zoom;\\n\\nx = .5 + sin(time)*.15;"},{"baseVals":{"enabled":1,"sides":84,"additive":1,"thickoutline":1,"num_inst":3,"rad":0.01,"tex_zoom":0.5033,"r":0,"b":0.2,"a":0.6,"g2":0,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"ti = q2 + instance*2.45;\\n\\nx = .5 + (.26*sin(ti*.95) + .14*sin(ti*2.80))*1.3;\\n//y = .5 + (.26*cos(ti*1.05) + .14*cos(ti*2.13))*.5;\\ny = .5;\\n\\nym = (q3 + instance*1.33)*.5;\\nym = ym-int(ym);\\n\\ny = y + (ym-.5)*2;\\n\\nrad = bass*bass*.25;\\nrad = q1*(.3+max(0,y)*.5);"},{"baseVals":{"sides":74,"additive":1,"rad":0.16777,"r2":1,"g2":0,"a2":1,"border_b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ti = -time*.3;\\nx = .5 + .3*sin(ti);\\ny = .5 + .3*cos(ti);\\n\\nti = -time*2.3;\\nx = x + .2*sin(ti);\\ny = y + .2*cos(ti);"}],"waves":[{"baseVals":{"enabled":1,"samples":41,"usedots":1,"additive":1,"scaling":0.01,"smoothing":0,"g":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\n//r = rand(1001)*.001;\\ng=above(rand(1001)*.001,.9)*.5;\\nb = 0;\\nr = 0;\\n"},{"baseVals":{"samples":61,"additive":1,"scaling":0.0124,"smoothing":0,"b":0,"enabled":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"","point_eqs_eel":"x = (sample-.5)*.02 + .2;\\ny = .5;\\nr = 1;\\ng = 1;\\nb = 1;"},{"baseVals":{"samples":31,"usedots":1,"thick":1,"scaling":0.01303,"smoothing":0,"enabled":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"t1 = q5;\\nt2 = q4;\\nt3 = q6;","point_eqs_eel":"t8 = -t8;\\nd1 = 0.15 + t8*0.01 - value1*0.1*(t8+1);\\ndir1 = t2;\\ndir2 = t2*0.5 + t1*3/2 - t3*3;\\ndir3 = sample*asin(1)*4 + t3 - t2*5/6 + t1*3/2;\\n\\nx = 0.5 + sin(dir1)*0.1 + sin(dir2)*0.05 + sin(dir3)*d1;\\ny = 0.5 + cos(dir1)*0.1 + cos(dir2)*0.05 + cos(dir3)*d1;\\ny = (y-0.5)*1.2 + 0.5;"},{"baseVals":{"samples":511,"sep":4,"thick":1,"additive":1,"scaling":0.02345,"smoothing":0,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q4*0.75;\\nt2 = q5*0.75;\\nt3 = q6*0.75;\\nt4 = q4*0.75;\\nt5 = q5*0.75;\\nt6 = q6*0.75;\\nt8 = 1;","point_eqs_eel":"\\npi = asin(1);\\nn = 80;\\nt8 = -t8;\\nrd = 0.075+0.02*(t8+1)/2;\\nxx = sin(sample*pi*4)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz)*0.004;\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\n\\n\\n\\nw1 = d*t4;\\nw2 = d*t5;\\nw3 = d*t6;\\n\\ns1 = sin(t1*1+w1);\\ns2 = sin(t2*1+w2);\\ns3 = sin(t3*1+w3);\\nc1 = cos(t1*1+w1);\\nc2 = cos(t2*1+w2);\\nc3 = cos(t3*1+w3);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.5;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*2 - time*0.8;//sample*pi*4-0*time +t4*3;\\nc=2;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = sigmoid(-z,7)+0.;\\n"}],"init_eqs_eel":"","frame_eqs_eel":"zoom = 1;\\ndecay = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\ntic = min(time-tin,.1);\\ntin = time;\\n\\ntb = tb + tic*bass*bass*.1 + tic*.2;\\nq2 = tb;\\n\\nt2 = t2 + tic*bass*bass*.2 + tic*.1;\\nq3 = t2;\\n\\nbav = bav + (bass-bav)*tic*.01;\\n\\nq1 = bass-bav;\\nq1 = pow(q1,2);\\nq1 = bass*bass;\\nq1 = q1*.5;\\n\\nmonitor = bass - bav;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = clamp (((texture (sampler_pw_main, uv_orig).xyz * vec3(1.0, 1.0, 0.97)) - vec3(0.0, 0.0, 0.001)), 0.0, 1.0);\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_pw_main, (uv_orig + ((\\n    (texture (sampler_noise_hq, fract(((\\n      ((uv_orig * texsize.xy) * texsize_noise_lq.zw)\\n     + rand_frame.xy) * 8.0))).xy - 0.5)\\n   * 6.0) * texsize.zw)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = tmpvar_2.xyz;\\n  float tmpvar_4;\\n  vec2 x_5;\\n  x_5 = (ret_1.xy - uv_orig);\\n  tmpvar_4 = sqrt(dot (x_5, x_5));\\n  float tmpvar_6;\\n  vec2 x_7;\\n  x_7 = (tmpvar_2.xy - uv_orig);\\n  tmpvar_6 = sqrt(dot (x_7, x_7));\\n  if ((tmpvar_4 > tmpvar_6)) {\\n    ret_1.xy = tmpvar_3.xy;\\n    ret_1.z = tmpvar_3.z;\\n  };\\n  ret_1.xy = (ret_1.xy * pow (ret_1.z, 0.01));\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_1;\\n  ret = tmpvar_8.xyz;\\n }","comp":" shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv).zzz;\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((pow (\\n    mix (vec3((((texture (sampler_blur1, uv).xyz * scale1) + bias1).z + ((texture (sampler_blur3, uv).xyz * scale3) + bias3).z)), tmpvar_1, tmpvar_1)\\n  , vec3(8.0, 2.0, 0.8)) * 1.25) - 0.25);\\n  ret = tmpvar_2.xyz;\\n }"}')},"./presets/converted/shifter - liquid circuitry - conjugoth.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":2,"wave_brighten":0,"wave_a":1,"wave_scale":0,"wave_smoothing":0.9,"wave_mystery":0.173,"warpscale":0.107,"zoomexp":4.10046,"warp":0.01,"wave_g":0,"wave_b":0,"wave_x":0.448,"wave_y":0.122,"ob_size":0.005,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":1,"mv_y":1,"mv_dx":0.087,"mv_dy":0.343,"mv_l":1.663,"mv_r":0.89,"mv_g":0.03,"mv_b":0.881,"mv_a":0.199,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":1.32775,"tex_zoom":0.57959,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"border_r = border_r + 1.5*sin(q2*1.13);\\nborder_b = border_b + 0.5*sin(q2*1.23);\\nborder_g = border_g + 0.5*sin(q2*1.33);\\n//ang = 0.503 + (bass_att * 0.04);\\nmy_ang = my_ang + (0.005 + (0.001 * bass));\\nang = my_ang;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//begin beat code\\nvolume = 0.3*(bass+mid);\\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\\nlastbeat = lastbeat + equal(lastbeat,0)*time;\\nmeanbass_att = 0.05*(meanbass_att*19 + bass_att);\\npeakbass_att = max(bass_att,peakbass_att);\\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\\n//Adjust responsiveness: To increase responsiveness, set the \\"0.96 and \\"0.996\\" on the next line to slightly lower values. Higher values decrease responsiveness.\\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.96 + (1-above(time - lastbeat, 2*beatrate))*0.996);\\nlastbeat = beat*time + (1-beat)*lastbeat;\\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\\n//end beat code\\n\\nzoom = 1;\\ndecay = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\ntic = min(time-tin,.1);\\ntin = time;\\n\\nq2 = 1;\\n\\nq1=1;\\nvol = vol + ((alt + bass + mid)/3-vol)*tic*1;\\nq5 = vol*vol*vol*2;\\n\\n\\nq8 = sin(time)*.5;\\nq9 = sin(time*.75)*.5;\\n\\nsw = abs(sw - beat);\\nan = an + tic*.5*(1-2*sw);\\n\\n\\nq7 = 1+(pow(q8,2) + pow(q9,2))*1;\\nq10 = sin(an);\\nq11 = cos(an);\\n\\nsp = sp + tic*vol*vol*.5;\\n\\nq12 = sp;\\n\\nmonitor = q12;\\nvol2=bass+treb+mid;\\nmtime=mtime+vol2;\\nq1=3-sin(mtime*.01)*.1;","pixel_eqs_eel":"//zoom = pow(rad,2)+.01;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_noise_lq, ((\\n    ((texsize.xy * texsize_noise_lq.zw).x * uv)\\n   / 2.0) + q23)) + 1.0).xyz;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - 0.3);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (0.3 * tmpvar_3.x);\\n  tmpvar_4.y = tmpvar_3.y;\\n  ret_1 = ((-0.4 * (\\n    ((texture (sampler_blur1, ((uv / 4.0) + (0.4 * tmpvar_4))).xyz * scale1) + bias1)\\n   - \\n    (tmpvar_2 * 0.1)\\n  )) + (texture (sampler_main, (uv + \\n    (tmpvar_3 * 0.01)\\n  .xy)).xyz + (tmpvar_2 * 0.1)));\\n  float tmpvar_5;\\n  tmpvar_5 = (1.0 - ((0.01 * q28) * (q28 * rad)));\\n  ret_1 = (ret_1 * (0.98 * (tmpvar_5 * tmpvar_5)));\\n  ret_1 = (ret_1 - 0.04);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 uv3_1;\\n  vec2 uvm_2;\\n  vec3 ret_3;\\n  uvm_2 = (((\\n    ((uv - 0.5) * q7)\\n   * \\n    (1.0/((((1.0 - \\n      (rad * 0.1)\\n    ) + (q9 * \\n      (uv.x - 0.5)\\n    )) + (q8 * (uv.y - 0.5)))))\\n  ) + 0.5) - 0.5);\\n  uvm_2 = (((\\n    (q10 * uvm_2)\\n   + \\n    ((vec2(1.0, -1.0) * q11) * uvm_2.yx)\\n  ) * aspect.yw) + 0.5);\\n  uvm_2 = (abs((\\n    fract(((uvm_2 + q12) * 0.5))\\n   - 0.5)) * 2.0);\\n  uv3_1 = (((texture (sampler_main, uvm_2).zx - 0.37) * 0.13) + uvm_2);\\n  vec3 tmpvar_4;\\n  tmpvar_4.x = (roam_cos.x * 0.3);\\n  tmpvar_4.y = (roam_cos.z * 0.2);\\n  tmpvar_4.z = (roam_sin.y * 0.4);\\n  ret_3 = (texture (sampler_pw_main, uvm_2).yzx + tmpvar_4);\\n  ret_3 = (pow (mix (vec3(\\n    ((((texture (sampler_blur1, uv3_1).xyz * scale1) + bias1).x + ((texture (sampler_blur3, uv3_1).xyz * scale3) + bias3).z) + (0.1 * roam_cos.y))\\n  ), ret_3, ret_3), vec3(0.3, 2.0, 1.0)) - 0.25);\\n  ret_3 = (ret_3 * ((texture (sampler_blur3, uv3_1).xyz * scale3) + bias3).y);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_3;\\n  ret = tmpvar_5.xyz;\\n }"}')},"./presets/converted/suksma - Hexcollie - Julian Carnival - shimmy dumb grid.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":0.5,"echo_zoom":1.007,"echo_orient":3,"wave_mode":7,"wave_a":0.001,"wave_scale":0.64,"wave_smoothing":0.27,"warpanimspeed":0.01,"warpscale":0.01,"zoom":9.86086,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_y":0.96,"ob_size":0.015,"ob_r":0.84,"ob_g":0.7,"ob_b":1,"ob_a":0.18,"ib_size":0.5,"ib_r":0.98,"ib_g":0.27,"ib_b":0.24,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":32,"rad":0.2,"b":0.4,"a":0.5,"a2":0.2,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.23) + 0.03*cos(time*0.7);\\ny = 0.5 + 0.3*sin(time*1.43) + 0.03*sin(time*0.7);\\nr =0.5 + 0.5*sin(q8*0.613 + 1);\\ng = 0.5 + 0.5*sin(q8*0.763 + 2);\\nb = 0.5 + 0.5*sin(q8*0.771 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.635 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.616+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.538 + 3);"},{"baseVals":{"enabled":1,"sides":32,"rad":0.2,"a":0.5,"a2":0.2},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.104) + 0.03*cos(time*0.7);\\ny = 0.5 + 0.3*sin(time*1.27) + 0.03*sin(time*0.7);\\nr =0.5 + 0.5*sin(q8*0.613 + 1);\\ng = 0.5 + 0.5*sin(q8*0.763 + 2);\\nb = 0.5 + 0.5*sin(q8*0.771 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.635 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.616+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.538 + 3);"},{"baseVals":{"enabled":1,"rad":0.2,"a":0.5,"a2":0.2},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.23) + 0.03*cos(time*0.9);\\ny = 0.5 + 0.3*sin(time*1.18) + 0.03*sin(time*0.9);\\nr =0.5 + 0.5*sin(q8*0.413 + 1);\\ng = 0.5 + 0.5*sin(q8*0.363 + 2);\\nb = 0.5 + 0.5*sin(q8*0.871 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.835 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.686+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.938 + 3);\\nsides = 360;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att*treb_att*mid_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1 = vvb*2;//0.5 + vb - vvb;\\nq2 = vvm*2;//0.5 + vm - vvm;\\nq3 = vvt*2;//0.5 + vt - vvt;\\nv=2;\\nbb = bb - vvb*v;\\nmm = mm - vvm*v;\\ntt = tt - vvt*v;\\nq4 = -bb;\\nq5 = -mm;\\nq6 = -tt;\\nq4=(q1+q2+q3)*5;\\nq5=(q1+q2+q3)*5;\\nq6=(q1+q2+q3)*5;\\nq7=(q1+q2+q3)*1;\\nq8=(q1+q2+q3)*5;\\nq9=(q1+q2+q3)*5;\\nq10=(q1+q2+q3)*5;\\nq11=(q1+q2+q3)*5;\\nq12=(q1+q2+q3)*5;\\nq13=(q1+q2+q3)*5;\\nq14=(q1+q2+q3)*5;\\nq15=(q1+q2+q3)*5;\\nq16=(q1+q2+q3)*5;\\nq17=(q1+q2+q3)*5;\\nq18=(q1+q2+q3)*5;\\nq19=(q1+q2+q3)*5;\\nq20=(q1+q2+q3)*5;\\nq21=(q1+q2+q3)*5;\\nq22=(q1+q2+q3)*5;\\nq23=(q1+q2+q3)*5;\\nq24=(q1+q2+q3)*5;\\nq25=(q1+q2+q3)*5;\\nq26=(q1+q2+q3)*5;\\nq27=(q1+q2+q3)*5;\\nq28=(q1+q2+q3)*5;\\nq29=(q1+q2+q3)*5;\\nq30=(q1+q2+q3)*5;\\nq31=(q1+q2+q3)*5;\\nq32=(q1+q2+q3)*5;\\n\\necho_orient=1 + above(sin(time/2), 0 );\\nwrap=above(sin(time/1), 0 );\\nwarp=0.0;\\nzoom=1.00 + sin(time/1)/30;\\nmv_x=sin(time/10)*12 + 52;\\nmv_y=cos(time/10)*8 + 40;\\nsparkadv=sparkadv-0.03 + below(sparkadv, 1);\\ngamma=1 + bass*bass_att","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_5));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.95));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));\\n  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));\\n  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (\\n    (tmpvar_10 * 0.8)\\n  , 0.3)));\\n  ret_2 = (mix (mix (\\n    mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(((clamp (\\n      (texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y)\\n    , 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))))\\n  , vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75))) - (roam_sin.zyx * roam_cos.ywx));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_2;\\n  ret = tmpvar_12.xyz;\\n }"}')},"./presets/converted/suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"echo_zoom":2.448,"echo_alpha":0.5,"wave_thick":1,"wrap":0,"wave_a":3.645,"wave_scale":1.951,"wave_smoothing":0.5,"wave_mystery":-0.5,"warpscale":2.853,"zoomexp":2.1,"zoom":1.025,"warp":1.29077,"wave_g":0,"wave_b":0,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.13518,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.89*q8);\\ny = 0.4 - 0.05*cos(0.77*q8);\\n\\nr = 0.25+0.25*sin(time*0.7679);\\ng = 0.25+0.25*sin(time*0.8079);\\nb = 0.25+0.25*sin(time*0.7339);\\nr2 = 0.25+0.25*sin(time*0.6979);\\ng2 = 0.25+0.25*sin(time*0.849);\\nb2 = 0.25+0.25*sin(time*0.8079);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.06623,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 - 0.05*sin(0.7089*q8);\\ny = 0.4 + 0.05*cos(0.5077*q8);\\n\\nr = 0.25+0.25*sin(time*0.6479);\\ng = 0.25+0.25*sin(time*0.5079);\\nb = 0.25+0.25*sin(time*0.9339);\\nr2 = 0.25+0.25*sin(time*0.779);\\ng2 = 0.25+0.25*sin(time*0.707);\\nb2 = 0.25+0.25*sin(time*0.747);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.03646,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.679*q8);\\ny = 0.4 - 0.05*cos(0.877*q8);\\n\\nr = 0.25+0.25*sin(time*0.5679);\\ng = 0.25+0.25*sin(time*0.4079);\\nb = 0.25+0.25*sin(time*1.1339);\\nr2 = 0.25+0.25*sin(time*0.9979);\\ng2 = 0.25+0.25*sin(time*0.891);\\nb2 = 0.25+0.25*sin(time*0.713);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.0122,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.916*q8);\\ny = 0.4 - 0.05*cos(0.977*q8);\\n\\nr = 0.25+0.25*sin(time*1.1679);\\ng = 0.25+0.25*sin(time*1.18079);\\nb = 0.25+0.25*sin(time*1.17339);\\nr2 = 0.25+0.25*sin(time*1.16979);\\ng2 = 0.25+0.25*sin(time*1.1849);\\nb2 = 0.25+0.25*sin(time*1.81079);"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1 = vvb*2;//0.5 + vb - vvb;\\nq2 = vvm*2;//0.5 + vm - vvm;\\nq3 = vvt*2;//0.5 + vt - vvt;\\nq4=(q1+q2+q3)*5;\\nq5=(q1+q2+q3)*5;\\nq6=(q1+q2+q3)*5;\\nq7=(q1+q2+q3)*5;\\nq8=(q1+q2+q3)*5;\\nq9=(q1+q2+q3)*5;\\nq10=(q1+q2+q3)*5;\\nq11=(q1+q2+q3)*5;\\nq12=(q1+q2+q3)*5;\\nq13=(q1+q2+q3)*5;\\nq14=(q1+q2+q3)*5;\\nq15=(q1+q2+q3)*5;\\nq16=(q1+q2+q3)*5;\\nq17=(q1+q2+q3)*5;\\nq18=(q1+q2+q3)*5;\\nq19=(q1+q2+q3)*5;\\nq20=(q1+q2+q3)*5;\\nq21=(q1+q2+q3)*5;\\nq22=(q1+q2+q3)*5;\\nq23=(q1+q2+q3)*5;\\nq24=(q1+q2+q3)*5;\\nq25=(q1+q2+q3)*5;\\nq26=(q1+q2+q3)*5;\\nq27=(q1+q2+q3)*5;\\nq28=(q1+q2+q3)*5;\\nq29=(q1+q2+q3)*5;\\nq30=(q1+q2+q3)*5;\\nq31=(q1+q2+q3)*5;\\nq32=(q1+q2+q3)*5;\\n\\n//wave_r = 0.0 + 0.000*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\n//wave_g = 0.0 + 0.000*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\n//wave_b = 0.0 + 0.000*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\n//zoom = zoom + 0.01*( 0.60*sin(0.339*time) + 0.40*sin(0.276*time) );\\n//rot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\n//decay = decay - 0.01*equal(frame%6,0);\\nwarp=0;\\n//zoom =1;\\nrot =0;\\ncx=0.5;\\ncy=0.5;\\nq1 = 0.5 + 0.1*sin(time);\\nq2 = 0.5 - 0.1*cos(time);\\nwave_a =0;\\ndecay=.95;\\nq1=0.5 +0.1*sin(q8);\\nq2=0.5;\\n\\n\\nq8 = oldq8+ 0.003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 =q8;\\nmybass  = mybass + 0.01*(bass + bass_att);\\n\\n//rot =1 + 0.15*sin(mybass*0.1789);\\n//zoom = 1.6 + 0.1*sin(mybass*0.786);\\nzoom = 1.09;\\n//rot =0.12;\\n//cx = 0.4;\\n//cy = 0.4;\\nq1=0.5 +0.00*sin(0.12*q8);\\nq2=0.5 -0.00*cos(0.177*q8);","pixel_eqs_eel":"myx = (x-q1)*1.1;\\nmyy= (y-q2)*1.1;\\nmyrad = (myx*myx) + (myy*myy);\\ndx = (0.5+0.02*sin(q8))*(myy/(myrad+1));\\ndy = -(0.5+0.02*sin(q8*0.897))*(myx/(myrad+1));\\nrd=bass*rad;\\nrot=rd/10;\\n\\nsy=1.02+(rad/10);\\nsx=sy-myrad;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv_orig - 0.5) * vec2(1.81, 1.81));\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = ((tmpvar_1.x * tmpvar_1.x) - (tmpvar_1.y * tmpvar_1.y));\\n  tmpvar_2.y = ((2.0 * tmpvar_1.x) * tmpvar_1.y);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (texture (sampler_fc_main, (tmpvar_2 + vec2(0.448, 0.701))) - 0.004).xyz;\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  vec2 uv2_4;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 2.0);\\n  dist_3 = (1.0 - fract(tmpvar_5));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = q1;\\n  tmpvar_6.y = q2;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = fract(((\\n    ((3.0 * uv_1) * dist_3)\\n   + 0.5) + (tmpvar_6 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_7).xyz - ((texture (sampler_blur1, \\n    (tmpvar_7 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * -0.4990803) - (uv_1.y * 0.8665558));\\n  uv2_4.y = ((uv_1.x * 0.8665558) + (uv_1.y * -0.4990803));\\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q1;\\n  tmpvar_8.y = q2;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_8 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_9).xyz - ((texture (sampler_blur1, \\n    (tmpvar_9 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * -0.5018377) - (uv_1.y * -0.8649619));\\n  uv2_4.y = ((uv_1.x * -0.8649619) + (uv_1.y * -0.5018377));\\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q1;\\n  tmpvar_10.y = q2;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_10 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_11).xyz - ((texture (sampler_blur1, \\n    (tmpvar_11 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));\\n  uv2_4.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));\\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q1;\\n  tmpvar_12.y = q2;\\n  vec2 tmpvar_13;\\n  tmpvar_13 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_12 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_13).xyz - ((texture (sampler_blur1, \\n    (tmpvar_13 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 1.0;\\n  tmpvar_14.xyz = (xlat_mutableret1 * 4.0);\\n  ret = tmpvar_14.xyz;\\n }"}')},"./presets/converted/suksma - ed geining hateops - squeakers.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.7,"decay":1,"echo_zoom":2.221,"echo_alpha":0.6,"wave_mode":3,"additivewave":1,"wave_thick":1,"darken":1,"wave_a":0.001,"wave_scale":0.625,"wave_smoothing":0.9,"modwavealphastart":0.88,"modwavealphaend":1.98,"warpanimspeed":0.01,"warpscale":0.01,"fshader":1,"dx":0.005,"warp":0.01,"sx":0.9999,"sy":1.0018,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.8,"ob_b":0.7,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0.3,"mv_x":0,"mv_y":0,"mv_l":1,"mv_r":0.39,"mv_g":0.44,"mv_b":0.9},"shapes":[{"baseVals":{"sides":16,"thickoutline":1,"textured":1,"rad":0.97235,"ang":0.1884,"tex_ang":0.62832,"tex_zoom":0.77829,"g":1,"b":1,"a":0.9,"r2":1,"b2":1,"a2":0.5,"border_r":0.59,"border_g":0.81,"border_b":0.69,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//DMT=1-below((bass_att+mid_att+treb_att)/3,0.7);\\n//a=DMT;\\n//a2=.5*DMT;\\n//border_a=0.4*DMT;\\n//atime=atime+(above( sin(time),0 )*0.02 );\\n//ang=0.188+((sin(atime/5)*0.5+0.5)*2.39);\\n//x=(sin(atime*0.3)*0.07)+0.5;\\n//y=(cos(atime*0.1)*0.07)+0.5;\\n//rad=((bass+mid+treb)/6)*1.4+0.2;\\n//sides=bass*16"},{"baseVals":{"enabled":1,"sides":5,"thickoutline":1,"rad":0.4149,"tex_ang":0.25133,"tex_zoom":1.136,"r":0.36,"g2":0,"b2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nadv=adv+(bass*bass)/15;\\n\\nr=int(rand(10))*0.1*0.5+0.5;\\ng=r;\\nb=r;\\n\\nx=int(rand(100))*0.01*0.5 + 0.25;\\ny=int(rand(100))*0.01*0.5 + 0.25;\\nrad=int(rand(100))*0.01*0.4+0.1;\\nang=rad"},{"baseVals":{"sides":24,"textured":1,"x":0.2,"y":0.8,"rad":0.59958,"tex_ang":1.25664,"tex_zoom":0.49831,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"textured":1,"x":0.86,"y":0.2,"rad":0.80814,"tex_zoom":0.45112,"g":1,"b":1,"r2":1,"b2":0.9,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"thick":1,"additive":1,"scaling":100,"smoothing":0.9,"r":0,"g":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x=cos(time)*0.1;\\ny=sin(time)*0.1"},{"baseVals":{"scaling":81.95444,"smoothing":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"wave_x=1;","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0","frame_eqs_eel":"chng=sin(time*.5);\\ncthr=.9999;\\nmq21=if(above(chng,cthr),rand(3),mq21);\\nmq22=if(above(chng,cthr),rand(3),mq22);\\nmq23=if(above(chng,cthr),rand(3),mq23);\\nmq24=if(above(chng,cthr),rand(2),mq24);\\nmq25=if(above(chng,cthr),rand(2),mq25);\\nmq26=if(above(chng,cthr),rand(2),mq26);\\nmq27=if(above(chng,cthr),rand(1),mq27);\\nmq28=if(above(chng,cthr),rand(1),mq28);\\nmq29=if(above(chng,cthr),rand(1)*.3,mq29);\\nmq31=if(above(chng,cthr),rand(1)*.3,mq31);\\nmonitor=chng;\\nq21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;\\nq27=mq27;q28=mq28;q29=mq29;q31=mq31;\\n\\nmonitor=mq1;\\nvol=bass+treb+mid;\\natime=atime+vol;\\nq11=.4+sin(atime*.006        )*.4;\\nq12=.4+cos(atime*.00613828348)*.4;\\nq13=.4+sin(atime*.00598593455)*.4;\\nmonitor=q13;\\n\\ndecay=1.0;\\nzoom=1.009;\\ndx=0;dy=0;sx=1.000001;sy=0.999999;\\n\\nmv_r=.360+(((cos(time/5)*0.3)+0.5*0.5)*0.1);\\nmv_g=.390+(((sin(time/7)*0.3)+0.5*0.5)*0.1);\\nmv_b=.500+((sin((time/7)+0.9)+0.5*0.5)*0.1);\\n\\n\\ncx=-1;cy=2;rot=-treb*0.002;\\n\\ncx=sin(time*0.1)*1.5 + 0.5;\\ncy=cos(time*0.2)*1.5 + 0.5","pixel_eqs_eel":"//adv=min( (bass*bass*bass), 1);\\n//warp=1*((( atan(time/3) *0.5+0.5)*3)* (x*rad)*2 )+( (y*ang)*2 )*rad;\\n//warp=warp*adv;\\n\\n//dx=cos(y)*0.005*(rad+2)*treb ;\\n//dy=sin(x)*0.005*(rad+2)*treb\\n\\n//Do people that don\'t do drugs make shit like this??\\n//flexi per vertex\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\ndir = bass;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx1 = if( above(d,0.3),0,  sin(y-cy1)*0.05*dir);\\ny1 = if( above(d,0.3),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\ndir = -mid*2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx2 = if( above(d,0.2),0,  sin(y-cy1)*0.05*dir);\\ny2 = if( above(d,0.2),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\ndir = treb*3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx3 = if( above(d,0.1),0,  sin(y-cy1)*0.05*dir);\\ny3 = if( above(d,0.1),0, -sin(x-cx1)*0.05*dir);\\ndx = dx+x1+x2+x3;\\ndy = dy+y1+y2+y3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);\\n  uv_1 = (mix (uv_orig, uv, vec2((\\n    (dot (texture (sampler_main, mix (uv_orig, uv, vec2(4.0, 4.0))).xyz, vec3(0.32, 0.49, 0.29)) - dot (((texture (sampler_blur1, \\n      mix (uv_orig, uv, vec2(-8.0, -8.0))\\n    ).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))\\n   * 8.0))) + ((\\n    (texture (sampler_noise_lq, tmpvar_3) - 0.5)\\n  .xy * texsize.zw) * 0.3));\\n  ret_2 = ((texture (sampler_main, uv_1).xyz + (\\n    (texture (sampler_noise_lq, tmpvar_3) - 0.5)\\n   * 0.004).xyz) + -0.001);\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\\n  if (((ret_2.x > (q21 * q13)) && (ret_2.x <= (q24 * q11)))) {\\n    ret_2.y = (ret_2.y + (tmpvar_4.x * 0.5));\\n  };\\n  if (((ret_2.y > (q22 * q11)) && (ret_2.y <= (q25 * q12)))) {\\n    ret_2.z = (ret_2.z + (tmpvar_4.y * 0.5));\\n  };\\n  if (((ret_2.z > (q23 * q12)) && (ret_2.z <= (q26 * q13)))) {\\n    ret_2.x = (ret_2.x + (tmpvar_4.z * 0.5));\\n  };\\n  ret_2 = (ret_2 - ((roam_sin.xyz * slow_roam_cos.wzy) * 0.5));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 dz_1;\\n  vec3 dy_2;\\n  vec3 dx_3;\\n  vec2 d_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;\\n  d_4 = (texsize.zw * 2.0);\\n  dx_3 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * d_4))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * d_4))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  dy_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * d_4))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * d_4))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = dx_3.y;\\n  tmpvar_9.y = dy_2.y;\\n  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);\\n  ret_5 = (vec3(((\\n    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)\\n   * 2.0) + (\\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  .y * 2.0))) * vec3(0.2, 0.3, 0.6));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q19;\\n  tmpvar_10.y = q20;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = fract(((0.5 + \\n    (uv - 0.5)\\n  ) + (tmpvar_10 * vec2(-1.0, 1.0))));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dx_3.y;\\n  tmpvar_12.y = dy_2.y;\\n  vec3 tmpvar_13;\\n  tmpvar_13 = ((mix (ret_5, vec3(3.0, 2.0, 1.0), \\n    ((texture (sampler_blur3, (tmpvar_11 - tmpvar_12)).xyz * scale3) + bias3)\\n  .xxx) * (vec3(1.0, 1.0, 1.0) - \\n    ((texture (sampler_blur2, (tmpvar_11 - dz_1)).xyz * scale2) + bias2)\\n  .xxx)) * (vec3(1.0, 1.0, 1.0) - vec3((0.75 * texture (sampler_main, tmpvar_11).x))));\\n  ret_5 = tmpvar_13;\\n  vec4 tmpvar_14;\\n  tmpvar_14 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * dz_1.xyy) * (\\n    (q28 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));\\n  if (((tmpvar_13.x > (q26 * q13)) && (tmpvar_13.x <= (q23 * q11)))) {\\n    ret_5.z = (tmpvar_13.z - (tmpvar_14.x * 0.5));\\n  };\\n  if (((tmpvar_13.y > (q25 * q11)) && (tmpvar_13.y <= (q22 * q12)))) {\\n    ret_5.x = (tmpvar_13.x - (tmpvar_14.y * 0.5));\\n  };\\n  if (((ret_5.z > (q24 * q12)) && (ret_5.z <= (q21 * q13)))) {\\n    ret_5.y = (tmpvar_13.y - (tmpvar_14.z * 0.5));\\n  };\\n  vec3 tmpvar_15;\\n  tmpvar_15 = mix ((ret_5 * (vec3(1.0, 1.0, 1.0) - vec3(\\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).z * 4.0)\\n  ))), vec3(2.0, 2.0, 2.0), texture (sampler_main, uv).zzz);\\n  ret_5 = tmpvar_15;\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = tmpvar_15;\\n  ret = tmpvar_16.xyz;\\n }"}')},"./presets/converted/suksma - heretical crosscut playpen.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.05,"decay":0.99,"echo_zoom":1.008,"echo_alpha":0.5,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.625,"wave_scale":1.187,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"fshader":0.19,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0.5},"shapes":[{"baseVals":{"enabled":1,"sides":9,"thickoutline":1,"textured":1,"rad":0.12566,"ang":3.39292,"tex_ang":0.3768,"tex_zoom":0.32473,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0.03,"border_g":0.67,"border_b":0.79,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x=x+sin(time*0.9)*.13;\\ny=y+sin(time*0.5)*.16;\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"sides":3,"thickoutline":1,"rad":0.12572,"a2":1,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"//: Aderrasi was here too\\nrad = rad -0.2 + 0.2*bass_att;;\\nr = r + 0.25*sin(1.1*time) + 0.2*sin(0.25*time);\\ng = g + 0.25*cos(1.5*time) + 0.22*cos(0.24*time);\\nb = b + 0.25*sin(0.6*time) + 0.27*cos(0.7*time);\\nr2 = 1-abs(r);\\ng2 = 1-abs(g);\\nb2 = 1-abs(b);\\nang = ang + 3*abs(tan(1*time));\\nx = x + 0.14*cos(time) + 0.2*sin(0.42*time);\\ny = y + 0.16*sin(1.2*time) + 0.15*sin(0.8*time) + 0.21*cos(0.45*time);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"ang":0.03,"r":0.21,"g":0.44,"b":0.23,"r2":0.18,"b2":0.11,"a2":1,"border_r":0.15,"border_g":0.4,"border_b":0.48,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"ang = time*2.4;\\nx = 0.5 + 0.22*cos(time*3.3) + 0.14*cos(time*1.2);\\ny = 0.5 + 0.26*sin(time*3.1) + 0.13*sin(time*1.7);\\nr = 0.5 + 0.5*sin(time*1.013 + 5);\\ng = 0.5 + 0.5*sin(time*1.063 + 2);\\nb = 0.5 + 0.5*sin(time*1.054 + 1);\\nr2 = 0.5 + 0.5*sin(time*1.085 + 3);\\ng2 = 0.5 + 0.5*sin(time*1.056+ 1);\\nb2 = 0.5 + 0.5*sin(time*1.038 + 4);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"sides":5,"x":0.51,"y":0.49,"rad":0.09986,"ang":0.06283,"a2":1,"border_r":0.46,"border_g":0.28,"border_b":0.54,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.07*cos(q4*0.5) + 0.31*sin(time*3.5);\\ny = 0.5 + 0.07*sin(q4*0.5) + 0.31*cos(time*3.5);\\nr = 0.5 + 0.5*sin(time*1.013 + 2);\\ng = 0.5 + 0.5*sin(time*0.863 + 3);\\nb = 0.5 + 0.5*sin(time*1.054 + 1);\\nr2 = 0.5 + 0.5*sin(time*1.185 + 3);\\ng2 = 0.5 + 0.5*sin(time*1.356+ 2);\\nb2 = 0.5 + 0.5*sin(time*0.738 + 4);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"vol = 0; p1 = 0;\\nvx = .2; vy = -0.1;\\nkx = 0; ky = 0;","frame_eqs_eel":"dec_med = pow (0.96, 30/fps);\\ndec_slow = pow (0.999, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\nindex3 = (index3 + is_beat*bnot(index) * bnot(index2))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\n\\nvol = bass_att + treb_att;\\nv2 = v2 * dec_med + vol * (1-dec_med) ;\\nq26 = max(atan (vol - v2),0);\\nq27 = index + 1;\\n\\nsw = sw*dec_med + (1-dec_med)*(index2%2);\\nq28 = sw;\\nkiss = kiss*dec_med \\n      +(1-dec_med)*bnot(index2)*below(index,4);\\nq29 = kiss;\\n\\nk1 =  is_beat*bnot(index);\\nk2 =  is_beat*bnot(index);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/2;\\nmonitor = k1;\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = cos(time/4);\\nq6 = -sin(time/4);\\nq7 = -q6;\\nq8 = q5;\\n\\nzoom = 1;\\nrot = -0;\\n\\n\\n//KUGEL-POS\\ndt = .1*30/fps;\\nm = 1; //Masse\\n//Gravitationszentrum\\nx0 = .0; y0 = 0;\\n\\nax = -(xk-x0)/m + sign(vx+.001)*dt*bass/40; \\nay = -(yk-y0)/m + sign(vy+.001)*dt*treb/40;\\nmonitor = index3;\\nvx = vx*dec_slow + ax * dt; \\nvy = vy*dec_slow + ay * dt;\\n\\nxk = xk + vx*dt; \\nyk = yk + vy*dt;\\n\\nq9 = xk; q10 = yk;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, (uv - (\\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((mix (tmpvar_2, \\n    (1.0 - tmpvar_2.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , 18.0)));\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = cos(((uv.y * texsize.y) / 2.0));\\n  tmpvar_2.y = sin(((uv.x * texsize.x) / 2.0));\\n  uv_1 = (uv + ((2.0 * texsize.zw) * tmpvar_2));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (1.4 * pow ((\\n    clamp (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), 0.0, 1.0)\\n   * \\n    (texture (sampler_pc_main, uv_1).xyz - ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3))\\n  ), vec3(0.5, 0.5, 0.5)));\\n  ret = tmpvar_3.xyz;\\n }"}')},"./presets/converted/suksma - uninitialized variabowl (hydroponic chronic).json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"brighten":1,"wave_a":0.401,"wave_scale":3.177,"wave_smoothing":0,"wave_mystery":-0.4,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":2.289,"warpscale":5.472,"zoomexp":0.01,"zoom":0.9901,"warp":1.8566,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.034,"tex_zoom":0.7874,"g":0.45,"g2":0,"border_a":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"\\nrnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.52,"y":0.41,"rad":0.5216,"ang":0.1885,"tex_zoom":0.73458,"g":1,"b":1,"r2":1,"b2":1,"a2":0.75,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.48,"y":0.41,"rad":0.61162,"ang":5.96903,"tex_zoom":0.73458,"g":1,"b":1,"r2":1,"b2":1,"a2":0.75,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07059,"tex_zoom":0.73458,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q1;\\ny = q5;"}],"waves":[{"baseVals":{"additive":1,"r":0.2,"g":0,"b":0,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=time*0.4 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2)*0.75 - 1.05;\\nxq=xp*sin(ang) + zp*cos(ang);\\nyq=yp;\\nzq=xp*cos(ang) - zp*sin(ang);\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nxp=xq;\\nyp=yq*cos(ang) - zq*sin(ang);\\nzp=yq*sin(ang) + zq*cos(ang);\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n//a=(1-sample)*flip;\\n\\n//b=b+pow(1-sample,2)*0.3;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2 + 0.1;"},{"baseVals":{"additive":1,"r":0.2,"g":0,"b":0,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=time*0.4 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2)*0.75 - 1.05;\\nxq=xp*sin(ang) + zp*cos(ang);\\nyq=yp;\\nzq=xp*cos(ang) - zp*sin(ang);\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nxp=xq;\\nyp=yq*cos(ang) - zq*sin(ang);\\nzp=yq*sin(ang) + zq*cos(ang);\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n//a=(1-sample)*flip;\\n\\n\\n//b=b+pow(1-sample,2)*0.3;\\n\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2 + 0.1;\\n"},{"baseVals":{"samples":61,"thick":1,"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"x = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\ny = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;"},{"baseVals":{"samples":61,"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"x = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\ny = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;"}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;\\nq1 =aspectx;\\nq2 = aspecty;\\n\\n\\nb = b + bass*bass*0.85;\\nm = m + mid*mid*0.85;\\nt = t + treb*treb*0.85;\\n\\nq3 = b*0.012;\\nq4 = m*0.012;\\nq5 = t*0.012;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.z;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.w;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  tmpvar_5.y = (texture (sampler_main, (uv - tmpvar_4)).xyz - texture (sampler_main, (uv + tmpvar_4)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    (((uv - 0.5) * 2.0) + 1.7)\\n  )) - (2.0 * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ((-(tmpvar_2) / 4.0) + ((6.0 * vec3(\\n    clamp ((0.03 / sqrt(dot (uv1_1, uv1_1))), 0.0, 1.0)\\n  )) * (-0.08 + tmpvar_2)));\\n  ret = tmpvar_6.xyz;\\n }"}')},"./presets/converted/suksma - vector exp 1 - couldn′t not.json":e=>{e.exports=JSON.parse('{"version":2,"baseVals":{"rating":2,"decay":0.99,"wave_brighten":0,"wave_a":1,"wave_scale":0.01,"wave_mystery":-0.2,"warpanimspeed":3.434,"warpscale":1.295,"zoom":1.025,"warp":0.11284,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_b":1,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":5,"mv_g":0,"mv_b":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"rad":0.53742,"tex_zoom":1.72509,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1   = (vvb+vvm+vvt)*10;\\nq2   = (vvb+vvm+vvt)*10;\\nq3   = (vvb+vvm+vvt)*10;\\nq4   = (vvb+vvm+vvt)*10;\\nq5   = (vvb+vvm+vvt)*10;\\nq6   = (vvb+vvm+vvt)*10;\\nq7   = (vvb+vvm+vvt)*10;\\nq8   = (vvb+vvm+vvt)*10;\\nq9   = (vvb+vvm+vvt)*10;\\nq10  = (vvb+vvm+vvt)*10;\\nq11  = (vvb+vvm+vvt)*10;\\nq12  = (vvb+vvm+vvt)*10;\\nq13  = (vvb+vvm+vvt)*10;\\nq14  = (vvb+vvm+vvt)*10;\\nq15  = (vvb+vvm+vvt)*10;\\nq16  = (vvb+vvm+vvt)*10;\\nq17  = (vvb+vvm+vvt)*10;\\nq18  = (vvb+vvm+vvt)*10;\\nq19  = (vvb+vvm+vvt)*10;\\nq20  = (vvb+vvm+vvt)*10;\\nq21  = (vvb+vvm+vvt)*10;\\nq22  = (vvb+vvm+vvt)*10;\\nq23  = (vvb+vvm+vvt)*10;\\nq24  = (vvb+vvm+vvt)*10;\\nq25  = (vvb+vvm+vvt)*10;\\nq26  = (vvb+vvm+vvt)*10;\\nq27  = (vvb+vvm+vvt)*10;\\nq28  = (vvb+vvm+vvt)*10;\\nq29  = (vvb+vvm+vvt)*10;\\nq30  = (vvb+vvm+vvt)*10;\\nq31  = (vvb+vvm+vvt)*10;\\nq32  = (vvb+vvm+vvt)*10;\\n\\nzoom = .995;\\nwave_a = 0;\\nmv_g = 0.45 + 0.3*sin(time*1.33)+0.25*sin(treb);\\nmv_r = 0.45 + 0.3*sin(time*1.13)+0.25*(0.33*(bass+treb+mid));\\nmv_b = 0.45 + 0.3*sin(time*1.23)+0.25*sin(bass);\\nmv_dx=.1*sin(time*.1);\\nmv_dy=.13*cos(time*.084);\\nmv_x=64-int((sin(time*1.5)+1)*32);\\nmv_y=48-int((cos(time*1.5)+1)*22);\\nmonitor=mv_y;","pixel_eqs_eel":"//flexi per vertex\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\ndir = bass;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx1 = if( above(d,0.3),0,  sin(y-cy1)*0.05*dir);\\ny1 = if( above(d,0.3),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\ndir = -mid*2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx2 = if( above(d,0.2),0,  sin(y-cy1)*0.05*dir);\\ny2 = if( above(d,0.2),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\ndir = treb*3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx3 = if( above(d,0.1),0,  sin(y-cy1)*0.05*dir);\\ny3 = if( above(d,0.1),0, -sin(x-cx1)*0.05*dir);\\ndx = dx+x1+x2+x3;\\ndy = dy+y1+y2+y3;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 3.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 9.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.0;\\n  tmpvar_6.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  tmpvar_6.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\\n    ((uv_1.xyy + (tmpvar_6 * 0.5)) * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\\n  uv_1 = (uv_1 - (tmpvar_8 * 0.04));\\n  ret_2 = (abs((\\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_7, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  vec3 tmpvar_9;\\n  tmpvar_9 = pow (ret_2, vec3(0.5, 0.5, 0.5));\\n  ret_2 = tmpvar_9;\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = tmpvar_9;\\n  ret = tmpvar_10.xyz;\\n }"}')},"./presets/converted/yin - 191 - Temporal singularities.json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":4.990001,"decay":1,"echo_zoom":10.784553,"wave_mode":7,"additivewave":1,"wave_dots":1,"wave_brighten":0,"wrap":0,"wave_a":0.997938,"wave_scale":1.990516,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":0.5,"modwavealphaend":1,"warpscale":0.999998,"zoomexp":0.999985,"fshader":1,"zoom":0.9999,"dy":0.00001,"warp":0.01,"wave_r":0.400001,"wave_g":0.4,"wave_y":1,"ob_size":0,"ob_r":0.300001,"ob_g":1,"ob_b":0.3,"ob_a":0.100001,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.5,"mv_x":8.960042,"mv_y":12.960033,"mv_dx":-0.26,"mv_dy":0.44,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"flip=-1;","frame_eqs_eel":"warp=0;decay=1;\\nvol = (.75*(bass_att+mid_att+treb_att)/3+.25*prevVol);\\nprevAvgBass=avgBass;\\navgBass=avgBass + (bass-AvgBass)*0.01;\\nq4=max(avgBass*1.001-.999*prevAvgBass,0);\\nq4=min(q4,.006);\\n// -------------------------------- Beat Detective 007 ----------------------------------\\nsure=if(equal(sure,0),.6,sure);\\ninterval=if(equal(interval,0),40,interval);\\nlastbeat=if(equal(lastbeat,0),frame-FPS,lastbeat);\\ndbass=(bass-pbass)/FPS;\\nbeat=above(dbass,.6*maxdbass)*above(frame-lastbeat,FPS/3);\\nsure=if(beat*below(abs(frame-(interval+lastbeat)),FPS/5),\\nmin(.095+sure,1),beat*(sure-.095)+(1-beat)*sure*.9996);\\nsure=max(.5,sure);\\ncheat=if(above(frame,lastbeat+interval+ int(FPS/10))*above(sure,.91),1,cheat);\\nbeat=if(cheat,1,beat);\\nsure=if(cheat,.95*sure,sure);\\nmaxdbass=max(maxdbass*.999,dbass);\\nmaxdbass=max(.012,maxdbass);\\nmaxdbass=min(.02,maxdbass);\\ninterval=if(beat, frame-lastbeat,interval);\\nlastbeat=if(beat,frame-cheat*int(FPS/10),lastbeat);\\ncheat=0;\\npbass=bass;\\n// ----------------------------------------------------------------------------------------------\\nlastFlip=if( above(bass/avgBass,2)*above(frame-lastFlip,100)*beat, frame,lastFlip );\\nflip = if(equal(frame,lastFlip),abs(flip)-1, flip);\\nwave_mystery=flip;\\nob_size = below(frame-lastBeat,FPS/8)*.08*(frame-lastBeat)/FPS;\\nf=abs(cos(time/8+.54+sin(time/3+1.075)));\\nob_r=1*f + 1*(1-f);\\nob_g=.3*f + 1*(1-f);\\nob_b=.3*f + .3*(1-f);\\nf=(frame-lastbeat)/interval;\\nf=above(f,.8)*below(f,1)*f; f=max(0,f); f=min(f,1);\\n\\nwave_g=.4+.6*(f);\\nwave_b=.4+.6*(1-f);\\n\\nq1= 3.1416*(wave_mystery+1)/2;\\nq2=.25*cos(time+abs(2*sin(time*2+2.311)*( vol-amt))*sin(time*7.45+.876));\\nq3=-q2;\\n\\namt=amt+ .05*(vol-amt);\\nprevVol=vol;\\nBPM = BPM + .01*(60*FPS/interval - BPM);\\nmonitor = 0*pctg+1*BPM;","pixel_eqs_eel":"x=x-.5;\\ny=-(y-.5);\\nttan1 = tan(q1+1.5708)*(x-q3)-y+q2;\\nttan2 = tan(q1+1.5708);\\nIsLeftYtonosY = above(ttan1*(sign(3.1416-q1)),0);\\n\\ndist = abs(ttan1)/sqrt(ttan2*ttan2 + 1);\\ntotX=.5*cos(q1)*sign(IsLeftYtonosY-.5)*sqr(dist)/(.5-q2);\\ntotY=-.5*sin(q1)*sign(IsLeftYtonosY-.5)*sqr(dist)/(.5-q2);\\n\\ndx=dx+totX;\\ndy=dy+totY;\\nprevRot=q1;\\nzoom = 1-25*q4*sqrt(pow(.5-dist,3))/abs(.5-q2);","warp":"","comp":""}')},"./presets/converted/yin - 393 - Artificial Inspiration (music driven - outward).json":e=>{e.exports=JSON.parse('{"version":1,"baseVals":{"rating":1,"gammaadj":1,"decay":0.898999,"echo_zoom":0.999993,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.411715,"wave_smoothing":0.9,"wave_mystery":-0.18,"fshader":0.3,"zoom":0.999999,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_a":0.92,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":1.773681,"tex_ang":3.141593,"tex_zoom":1.244713,"r":0,"a":0,"r2":1,"b2":1,"a2":0.5},"init_eqs_eel":"","frame_eqs_eel":"/////////// new hue2rgb algorithm ////////////\\nt=time;\\nr2=max(min(-1+.955*acos(cos(t)),1),0);\\ng2=max(min(-1+.955*acos(cos(t+2.0942)),1),0);\\nb2=max(min(-1+.955*acos(cos(t+4.1883)),1),0);\\n//////////////////////////////////////////////\\n\\nr=r2;\\ng=g2;\\nb=b2;\\n\\na2=.25*(1-.5*above(q1,1)*min(q1-1,2));\\na=below(q1,1)*sqrt(q1)*.07*a2;"}],"waves":[{"baseVals":{"enabled":1,"additive":1,"g":0.25,"b":0.12},"init_eqs_eel":"","frame_eqs_eel":"bt=bt+(.5+2*above(bass-pbass,0)*(bass-pbass))/FPS;\\npbass=bass;\\n\\nt1=bt; //mytime\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3+.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\noy=.5+(.3+.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\n\\nang=atan2( (py-oy),(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3-.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\ny2=.5+(.3-.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"g":0.25,"b":0.12},"init_eqs_eel":"","frame_eqs_eel":"bt=bt+(.5+2*above(bass-pbass,0)*(bass-pbass))/FPS;\\npbass=bass;\\n\\nt1=bt; //mytime\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3-.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\noy=.5+(.3-.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\n\\nang=atan2( (py-oy),(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3+.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\ny2=.5+(.3+.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"r":0.12,"g":0.25},"init_eqs_eel":"","frame_eqs_eel":"tt=tt+(.5+2*above(treb-ptreb,0)*(treb-ptreb))/FPS;\\nptreb=treb;\\n\\nt1=tt;\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3+.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\noy=.5+(.3+.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\n\\n\\nang=atan( (py-oy)/(px-ox) );\\n\\nl=tan(ang);\\nx2=.5+(.3-.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\ny2=.5+(.3-.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"r":0.12,"g":0.25},"init_eqs_eel":"","frame_eqs_eel":"tt=tt+(.5+2*above(treb-ptreb,0)*(treb-ptreb))/FPS;\\nptreb=treb;\\n\\nt1=tt;\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3-.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\noy=.5+(.3-.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\n\\n\\nang=atan( (py-oy)/(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3+.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\ny2=.5+(.3+.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"}],"init_eqs_eel":"","frame_eqs_eel":"// -------------------------------- Beat Detective v0.07 ----------------------------------\\nsure=if(equal(sure,0),.6,sure);\\ninterval=if(equal(interval,0),40,interval);\\nlastbeat=if(equal(lastbeat,0),frame-FPS,lastbeat);\\ndbass=(bass-pbass)/FPS;\\nbeat=above(dbass,.6*maxdbass)*above(frame-lastbeat,FPS/3);\\nsure=if(beat*below(abs(frame-(interval+lastbeat)),FPS/5),\\nmin(.095+sure,1),beat*(sure-.095)+(1-beat)*sure*.9996);\\nsure=max(.5,sure);\\ncheat=if(above(frame,lastbeat+interval+ int(FPS/10))*above(sure,.91),1,cheat);\\nbeat=if(cheat,1,beat);\\nsure=if(cheat,.95*sure,sure);\\nmaxdbass=max(maxdbass*.999,dbass);\\nmaxdbass=max(.012,maxdbass);\\nmaxdbass=min(.02,maxdbass);\\ninterval=if(beat, frame-lastbeat,interval);\\nlastbeat=if(beat,frame-cheat*int(FPS/10),lastbeat);\\ncheat=0;\\npbass=bass;\\n// ----------------------------------------------------------------------------------------------\\n\\nwarp=0;\\ngamma=1.1;\\ndt=1/FPS;\\n\\nmytime=mytime+dt;\\ncontvol=min( max(.5, (1-.5*dt)*contvol+.5*dt*(bass+mid+treb)*.333 ) ,2 ) ;\\nq1=contvol;\\nq2=mytime;\\nq8=beat;\\n\\ndecay=.935-above(q1,1.5)*(q1-1.5)*.03;\\nmonitor=q1;","pixel_eqs_eel":"zoom=1+ .1*(rad-.5)*abs(rad-.5);","warp":"","comp":""}')}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}return n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./base.js")})()},e.exports=t()},2238:e=>{var t;window,t=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/@assemblyscript/loader/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"instantiate",(function(){return u})),n.d(t,"instantiateSync",(function(){return _})),n.d(t,"instantiateStreaming",(function(){return p})),n.d(t,"demangle",(function(){return v}));const a="undefined"!=typeof BigUint64Array,r=Symbol(),s=new TextDecoder("utf-16le");function i(e,t){const n=new Uint32Array(e)[t+-4>>>2]>>>1,a=new Uint16Array(e,t,n);return n<=32?String.fromCharCode.apply(String,a):s.decode(a)}function o(e){const t={};function n(e,t){return e?i(e.buffer,t):"<yet unknown>"}const a=e.env=e.env||{};return a.abort=a.abort||function(e,r,s,i){const o=t.memory||a.memory;throw Error(`abort: ${n(o,e)} at ${n(o,r)}:${s}:${i}`)},a.trace=a.trace||function(e,r,...s){const i=t.memory||a.memory;console.log(`trace: ${n(i,e)}${r?" ":""}${s.slice(0,r).join(", ")}`)},a.seed=a.seed||Date.now,e.Math=e.Math||Math,e.Date=e.Date||Date,t}function l(e,t){const n=t.exports,r=n.memory,s=n.table,o=n.__new,l=n.__retain,m=n.__rtti_base||-1;function c(e){const t=function(e){const t=new Uint32Array(r.buffer);if((e>>>=0)>=t[m>>>2])throw Error(`invalid id: ${e}`);return t[(m+4>>>2)+2*e]}(e);if(!(7&t))throw Error(`not an array: ${e}, flags=${t}`);return t}function u(e){const t=new Uint32Array(r.buffer);if((e>>>=0)>=t[m>>>2])throw Error(`invalid id: ${e}`);return t[(m+4>>>2)+2*e+1]}function _(e){return 31-Math.clz32(e>>>6&31)}function p(e,t,n){const a=r.buffer;if(n)switch(e){case 2:return new Float32Array(a);case 3:return new Float64Array(a)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(a);case 1:return new(t?Int16Array:Uint16Array)(a);case 2:return new(t?Int32Array:Uint32Array)(a);case 3:return new(t?BigInt64Array:BigUint64Array)(a)}throw Error(`unsupported align: ${e}`)}function d(e){const t=new Uint32Array(r.buffer),n=c(t[e+-8>>>2]),a=_(n);let s=4&n?e:t[e+4>>>2];const i=2&n?t[e+12>>>2]:t[s+-4>>>2]>>>a;return p(a,2048&n,4096&n).subarray(s>>>=a,s+i)}function b(e,t,n){return new e(h(e,t,n))}function h(e,t,n){const a=r.buffer,s=new Uint32Array(a),i=s[n+4>>>2];return new e(a,i,s[i+-4>>>2]>>>t)}function f(t,n,a){e[`__get${n}`]=b.bind(null,t,a),e[`__get${n}View`]=h.bind(null,t,a)}return e.__newString=function(e){if(null==e)return 0;const t=e.length,n=o(t<<1,1),a=new Uint16Array(r.buffer);for(var s=0,i=n>>>1;s<t;++s)a[i+s]=e.charCodeAt(s);return n},e.__getString=function(e){if(!e)return null;const t=r.buffer;if(1!==new Uint32Array(t)[e+-8>>>2])throw Error(`not a string: ${e}`);return i(t,e)},e.__newArray=function(e,t){const n=c(e),a=_(n),s=t.length,i=o(s<<a,4&n?e:0);let m;if(4&n)m=i;else{const t=o(2&n?16:12,e),c=new Uint32Array(r.buffer);c[t+0>>>2]=l(i),c[t+4>>>2]=i,c[t+8>>>2]=s<<a,2&n&&(c[t+12>>>2]=s),m=t}const u=p(a,2048&n,4096&n);if(16384&n)for(let e=0;e<s;++e)u[(i>>>a)+e]=l(t[e]);else u.set(t,i>>>a);return m},e.__getArrayView=d,e.__getArray=function(e){const t=d(e),n=t.length,a=new Array(n);for(let e=0;e<n;e++)a[e]=t[e];return a},e.__getArrayBuffer=function(e){const t=r.buffer,n=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+n)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((e=>{f(e,e.name,31-Math.clz32(e.BYTES_PER_ELEMENT))})),a&&[BigUint64Array,BigInt64Array].forEach((e=>{f(e,e.name.slice(3),3)})),e.__instanceof=function(e,t){const n=new Uint32Array(r.buffer);let a=n[e+-8>>>2];if(a<=n[m>>>2])do{if(a==t)return!0;a=u(a)}while(a);return!1},e.memory=e.memory||r,e.table=e.table||s,v(n,e)}function m(e){return"undefined"!=typeof Response&&e instanceof Response}function c(e){return e instanceof WebAssembly.Module}async function u(e,t={}){if(m(e=await e))return p(e,t);const n=c(e)?e:await WebAssembly.compile(e),a=o(t),r=await WebAssembly.instantiate(n,t);return{module:n,instance:r,exports:l(a,r)}}function _(e,t={}){const n=c(e)?e:new WebAssembly.Module(e),a=o(t),r=new WebAssembly.Instance(n,t);return{module:n,instance:r,exports:l(a,r)}}async function p(e,t={}){if(!WebAssembly.instantiateStreaming)return u(m(e=await e)?e.arrayBuffer():e,t);const n=o(t),a=await WebAssembly.instantiateStreaming(e,t),r=l(n,a.instance);return{...a,exports:r}}function v(e,t={}){const n=e.__argumentsLength?t=>{e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||(()=>{});for(let a in e){if(!Object.prototype.hasOwnProperty.call(e,a))continue;const s=e[a];let i=a.split("."),o=t;for(;i.length>1;){let e=i.shift();Object.prototype.hasOwnProperty.call(o,e)||(o[e]={}),o=o[e]}let l=i[0],m=l.indexOf("#");if(m>=0){const t=l.substring(0,m),i=o[t];if(void 0===i||!i.prototype){const e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf(){return this[r]}},e.wrap=function(t){return Object.create(e.prototype,{[r]:{value:t,writable:!1}})},i&&Object.getOwnPropertyNames(i).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t)))),o[t]=e}if(l=l.substring(m+1),o=o[t].prototype,/^(get|set):/.test(l)){if(!Object.prototype.hasOwnProperty.call(o,l=l.substring(4))){let t=e[a.replace("set:","get:")],n=e[a.replace("get:","set:")];Object.defineProperty(o,l,{get(){return t(this[r])},set(e){n(this[r],e)},enumerable:!0})}}else"constructor"===l?(o[l]=(...e)=>(n(e.length),s(...e))).original=s:(o[l]=function(...e){return n(e.length),s(this[r],...e)}).original=s}else/^(get|set):/.test(l)?Object.prototype.hasOwnProperty.call(o,l=l.substring(4))||Object.defineProperty(o,l,{get:e[a.replace("set:","get:")],set:e[a.replace("get:","set:")],enumerable:!0}):"function"==typeof s&&s!==n?(o[l]=(...e)=>(n(e.length),s(...e))).original=s:o[l]=s}return t}t.default={instantiate:u,instantiateSync:_,instantiateStreaming:p,demangle:v}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js":function(e,t,n){"use strict";{const e=(e,t)=>{var n="function"==typeof t,a="function"==typeof t,r="function"==typeof t;Object.defineProperty(Math,e,{configurable:n,enumerable:r,writable:a,value:t})};e("DEG_PER_RAD",Math.PI/180),e("RAD_PER_DEG",180/Math.PI);const t=new Float32Array(1);e("scale",(function(e,t,n,a,r){return 0===arguments.length||Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(a)||Number.isNaN(r)?NaN:e===1/0||e===-1/0?e:(e-t)*(r-a)/(n-t)+a})),e("fscale",(function(e,n,a,r,s){return t[0]=Math.scale(e,n,a,r,s),t[0]})),e("clamp",(function(e,t,n){return Math.min(n,Math.max(t,e))})),e("radians",(function(e){return e*Math.DEG_PER_RAD})),e("degrees",(function(e){return e*Math.RAD_PER_DEG}))}},"./node_modules/eel-wasm/dist/build/parser.js":function(e,t,n){(function(e,a){var r=function(){var e=function(e,t,n,a){for(n=n||{},a=e.length;a--;n[e[a]]=t);return n},t=[1,18],n=[1,7],a=[1,19],r=[1,20],s=[1,14],i=[1,15],o=[1,16],l=[1,33],m=[1,31],c=[1,23],u=[1,22],_=[1,24],p=[1,25],v=[1,26],d=[1,27],b=[1,28],h=[1,29],f=[1,30],g=[5,8,15,18,20,28,29,32,33,34,35,36,37,38],x=[5,15,18],y=[5,12,15,17,18,24,25,28,29,30],w=[1,57],A=[5,8,12,15,17,18,24,25,28,29,30],q=[15,18],z=[5,8,15,18,28,29,38],E=[5,8,15,18,28,29,32,33,38],k=[5,8,15,18,28,29,32,33,34,37,38],T=[5,8,15,18,28,29,32,33,34,35,36,37,38],S=[5,8,15,18],I=[5,8,15,18,20,22,28,29,32,33,34,35,36,37,38],P={trace:function(){},yy:{},symbols_:{error:2,SCRIPT:3,expression:4,EOF:5,expressionsOptionalTrailingSemi:6,separator:7,";":8,expressions:9,EXPRESSION_BLOCK:10,IDENTIFIER:11,IDENTIFIER_TOKEN:12,argument:13,arguments:14,",":15,FUNCTION_CALL:16,"(":17,")":18,LOGICAL_EXPRESSION:19,LOGICAL_OPERATOR_TOKEN:20,ASSIGNMENT:21,ASSIGNMENT_OPERATOR_TOKEN:22,number:23,DIGITS_TOKEN:24,".":25,NUMBER_LITERAL:26,UNARY_EXPRESSION:27,"-":28,"+":29,"!":30,BINARY_EXPRESSION:31,"*":32,"/":33,"%":34,"&":35,"|":36,"^":37,COMPARISON_TOKEN:38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:";",12:"IDENTIFIER_TOKEN",15:",",17:"(",18:")",20:"LOGICAL_OPERATOR_TOKEN",22:"ASSIGNMENT_OPERATOR_TOKEN",24:"DIGITS_TOKEN",25:".",28:"-",29:"+",30:"!",32:"*",33:"/",34:"%",35:"&",36:"|",37:"^",38:"COMPARISON_TOKEN"},productions_:[0,[3,2],[3,2],[3,1],[7,1],[7,2],[9,2],[9,3],[6,1],[6,2],[10,1],[11,1],[13,1],[13,1],[14,1],[14,3],[16,3],[16,4],[19,3],[21,3],[21,3],[23,1],[23,2],[23,3],[23,2],[23,1],[26,1],[27,2],[27,2],[27,2],[31,3],[31,3],[31,3],[31,3],[31,3],[31,3],[31,3],[31,3],[31,3],[4,1],[4,1],[4,3],[4,1],[4,1],[4,1],[4,1],[4,1],[4,3]],performAction:function(e,t,n,a,r,s,i){var o=s.length-1;switch(r){case 1:return{type:"SCRIPT",body:[s[o-1]],loc:this._$};case 2:return{type:"SCRIPT",body:s[o-1],loc:this._$};case 3:return{type:"SCRIPT",body:[],loc:this._$};case 6:this.$=[s[o-1]];break;case 7:this.$=s[o-2].concat([s[o-1]]);break;case 8:this.$=s[o];break;case 9:this.$=s[o-1].concat([s[o]]);break;case 10:this.$={type:"EXPRESSION_BLOCK",body:s[o],loc:this._$};break;case 11:this.$={type:"IDENTIFIER",value:s[o].toLowerCase(),loc:this._$};break;case 14:this.$=[s[o]];break;case 15:this.$=s[o-2].concat([s[o]]);break;case 16:this.$={type:"CALL_EXPRESSION",callee:s[o-2],arguments:[],loc:this._$};break;case 17:this.$={type:"CALL_EXPRESSION",callee:s[o-3],arguments:s[o-1],loc:this._$};break;case 18:this.$={type:"LOGICAL_EXPRESSION",left:s[o-2],right:s[o],operator:s[o-1],loc:this._$};break;case 19:case 20:this.$={type:"ASSIGNMENT_EXPRESSION",left:s[o-2],operator:s[o-1],right:s[o],loc:this._$};break;case 21:this.$=Number(s[o]);break;case 22:this.$=Number(s[o-1]);break;case 23:this.$=Number(s[o-2]+s[o-1]+s[o]);break;case 24:this.$=Number("0"+s[o-1]+s[o]);break;case 25:this.$=0;break;case 26:this.$={type:"NUMBER_LITERAL",value:s[o],loc:this._$};break;case 27:case 28:case 29:this.$={type:"UNARY_EXPRESSION",value:s[o],operator:s[o-1],loc:this._$};break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:this.$={type:"BINARY_EXPRESSION",left:s[o-2],right:s[o],operator:s[o-1],loc:this._$};break;case 41:case 47:this.$=s[o-1]}},table:[{3:1,4:2,5:[1,4],6:3,9:13,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{1:[3]},{5:[1,21],7:32,8:l,20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f},{5:[1,34]},{1:[2,3]},e(g,[2,39]),e(g,[2,40]),{4:35,6:37,9:13,10:36,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},e(g,[2,42]),e(g,[2,43]),e(g,[2,44],{22:[1,38]}),e(g,[2,45],{17:[1,40],22:[1,39]}),e(g,[2,46]),e(x,[2,8],{31:5,27:6,26:8,21:9,16:10,11:11,19:12,23:17,4:41,12:t,17:n,24:a,25:r,28:s,29:i,30:o}),{4:42,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:43,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:44,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},e(g,[2,26]),e([5,8,15,17,18,20,22,28,29,32,33,34,35,36,37,38],[2,11]),e(g,[2,21],{25:[1,45]}),e(g,[2,25],{24:[1,46]}),{1:[2,1]},{4:47,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:48,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:49,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:50,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:51,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:52,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:53,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:54,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:55,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:56,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},e(y,[2,6],{8:w}),e(A,[2,4]),{1:[2,2]},{7:32,8:l,18:[1,58],20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f},{18:[1,59]},e(q,[2,10]),{4:60,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:61,11:11,12:t,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},{4:65,6:37,9:13,10:66,11:11,12:t,13:64,14:63,16:10,17:n,18:[1,62],19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},e(x,[2,9],{7:67,8:l,20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f}),e(z,[2,27],{20:m,32:_,33:p,34:v,35:d,36:b,37:h}),e(z,[2,28],{20:m,32:_,33:p,34:v,35:d,36:b,37:h}),e(z,[2,29],{20:m,32:_,33:p,34:v,35:d,36:b,37:h}),e(g,[2,22],{24:[1,68]}),e(g,[2,24]),e(z,[2,30],{20:m,32:_,33:p,34:v,35:d,36:b,37:h}),e(z,[2,31],{20:m,32:_,33:p,34:v,35:d,36:b,37:h}),e(E,[2,32],{20:m,34:v,35:d,36:b,37:h}),e(E,[2,33],{20:m,34:v,35:d,36:b,37:h}),e(k,[2,34],{20:m,35:d,36:b}),e(T,[2,35],{20:m}),e(T,[2,36],{20:m}),e(k,[2,37],{20:m,35:d,36:b}),e(S,[2,38],{20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f}),e(g,[2,18]),e(A,[2,5]),e(g,[2,41]),e(g,[2,47]),e(S,[2,20],{20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f}),e(S,[2,19],{20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f}),e(I,[2,16]),{15:[1,70],18:[1,69]},e(q,[2,14]),e(q,[2,12],{7:32,8:l,20:m,28:c,29:u,32:_,33:p,34:v,35:d,36:b,37:h,38:f}),e(q,[2,13]),e(y,[2,7],{8:w}),e(g,[2,23]),e(I,[2,17]),{4:65,6:37,9:13,10:66,11:11,12:t,13:71,16:10,17:n,19:12,21:9,23:17,24:a,25:r,26:8,27:6,28:s,29:i,30:o,31:5},e(q,[2,15])],defaultActions:{4:[2,3],21:[2,1],34:[2,2]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],a=[null],r=[],s=this.table,i="",o=0,l=0,m=0,c=2,u=1,_=r.slice.call(arguments,1),p=Object.create(this.lexer),v={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(v.yy[d]=this.yy[d]);p.setInput(e,v.yy),v.yy.lexer=p,v.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var b=p.yylloc;r.push(b);var h=p.options&&p.options.ranges;"function"==typeof v.yy.parseError?this.parseError=v.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,g,x,y,w,A,q,z,E,k=function(){var e;return"number"!=typeof(e=p.lex()||u)&&(e=t.symbols_[e]||e),e},T={};;){if(x=n[n.length-1],this.defaultActions[x]?y=this.defaultActions[x]:(null==f&&(f=k()),y=s[x]&&s[x][f]),void 0===y||!y.length||!y[0]){var S="";for(A in E=[],s[x])this.terminals_[A]&&A>c&&E.push("'"+this.terminals_[A]+"'");S=p.showPosition?"Parse error on line "+(o+1)+":\n"+p.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(o+1)+": Unexpected "+(f==u?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(S,{text:p.match,token:this.terminals_[f]||f,line:p.yylineno,loc:b,expected:E})}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+f);switch(y[0]){case 1:n.push(f),a.push(p.yytext),r.push(p.yylloc),n.push(y[1]),f=null,g?(f=g,g=null):(l=p.yyleng,i=p.yytext,o=p.yylineno,b=p.yylloc,m>0&&m--);break;case 2:if(q=this.productions_[y[1]][1],T.$=a[a.length-q],T._$={first_line:r[r.length-(q||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(q||1)].first_column,last_column:r[r.length-1].last_column},h&&(T._$.range=[r[r.length-(q||1)].range[0],r[r.length-1].range[1]]),void 0!==(w=this.performAction.apply(T,[i,l,o,v.yy,y[1],a,r].concat(_))))return w;q&&(n=n.slice(0,-1*q*2),a=a.slice(0,-1*q),r=r.slice(0,-1*q)),n.push(this.productions_[y[1]][0]),a.push(T.$),r.push(T._$),z=s[n[n.length-2]][n[n.length-1]],n.push(z);break;case 3:return!0}}return!0}},C={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===a.length?this.yylloc.first_column:0)+a[a.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,a,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(a=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if((n=this._input.match(this.rules[r[s]]))&&(!t||n[0].length>t[0].length)){if(t=n,a=s,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[s])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[a]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:return 24;case 2:return 38;case 3:return 22;case 4:return 20;case 5:return 12;case 6:return 5;case 7:return t.yytext[0]}},rules:[/^(?:\s+)/,/^(?:[0-9]+)/,/^(?:(==|!=|<=|>=|<|>))/,/^(?:[+\-*/%]?=)/,/^(?:(\&\&)|\|\|)/,/^(?:[a-zA-Z_][a-zA-Z0-9._]*)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};function M(){this.yy={}}return P.lexer=C,M.prototype=P,P.Parser=M,new M}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)},t.main=()=>{},n.c[n.s]===e&&t.main(a.argv.slice(1))}).call(this,n("./node_modules/webpack/buildin/module.js")(e),n("./node_modules/process/browser.js"))},"./node_modules/eel-wasm/dist/src/astUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a={ASSIGNMENT_EXPRESSION:[{type:"NODE",key:"right"}],SCRIPT:[{type:"ARRAY",key:"body"}],EXPRESSION_BLOCK:[{type:"ARRAY",key:"body"}],UNARY_EXPRESSION:[{type:"NODE",key:"value"}],NUMBER_LITERAL:[],IDENTIFIER:[],CALL_EXPRESSION:[{type:"ARRAY",key:"arguments"},{type:"NODE",key:"callee"}],BINARY_EXPRESSION:[{type:"NODE",key:"left"},{type:"NODE",key:"right"}],LOGICAL_EXPRESSION:[{type:"NODE",key:"left"},{type:"NODE",key:"right"}]};t.mapAst=function e(t,n){const r=a[t.type];let s=t;if(null==r)throw new Error(`Unknown children definition for ${t.type}`);return r.forEach((a=>{if("NODE"===a.type){const r=t[a.key],i=e(r,n);i!==r&&(s=Object.assign(Object.assign({},s),{[a.key]:i}))}else if("ARRAY"===a.type){const r=t[a.key],i=r.map((t=>e(t,n))),o=r.some(((e,t)=>e!==i[t]));o&&(s=Object.assign(Object.assign({},s),{[a.key]:i}))}})),n(s)}},"./node_modules/eel-wasm/dist/src/compiler.js":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=n("./node_modules/eel-wasm/dist/src/parser.js"),i=n("./node_modules/eel-wasm/dist/src/emitter.js"),o=n("./node_modules/eel-wasm/dist/src/encoding.js"),l=a(n("./node_modules/eel-wasm/dist/src/shims.js")),m=r(n("./node_modules/eel-wasm/dist/src/utils.js")),c=n("./node_modules/eel-wasm/dist/src/wasmFunctions.js"),u=n("./node_modules/eel-wasm/dist/src/constants.js");t.compileModule=function({pools:e,functions:t,eelVersion:n=2,preParsed:a=!1}){if(Object.keys(e).includes("shims"))throw new Error('You may not name a pool "shims". "shims" is reserved for injected JavaScript functions.');const r=[];Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{r.push([e,t])}))}));const _=new m.ScopedIdMap;r.forEach((([e,t])=>{_.get(e,t)}));const p=Object.entries(l.default).map((([e,t])=>({args:new Array(t.length).fill(null).map((e=>o.VAL_TYPE.f64)),returns:[o.VAL_TYPE.f64],name:e}))),v=[],d=[];Object.entries(t).forEach((([t,{pool:r,code:l}])=>{if(null==e[r]){const n=Object.keys(e);if(0===n.length)throw new Error(`The function "${t}" was declared as using a variable pool named "${r}" but no pools were defined.`);throw new Error(`The function "${t}" was declared as using a variable pool named "${r}" which is not among the variable pools defined. The defined variable pools are: ${m.formatList(n)}.`)}const u=a?l:s.parse(l);if("string"==typeof u)throw new Error("Got passed unparsed code without setting the preParsed flag");if("SCRIPT"!==u.type)throw new Error("Invalid AST");if(0===u.body.length)return;const b=[],h={resolveVar:e=>/^reg\d\d$/.test(e)?_.get(null,e):_.get(r,e),resolveLocal:e=>(b.push(e),b.length-1),resolveFunc:e=>{const t=p.findIndex((t=>t.name===e));if(-1!==t){const a=o.op.call(t);return"rand"===e&&1===n?[...a,o.op.f64_floor]:a}if(null==c.localFuncMap[e])return null;let a=v.indexOf(e);return-1===a&&(v.push(e),a=v.length-1),o.op.call(a+p.length)},rawSource:l},f=i.emit(u,h);d.push({binary:f,exportName:t,args:[],returns:[],localVariables:b})}));const b=v.map((e=>{const t=c.localFuncMap[e];if(null==t)throw new Error(`Undefined local function "${e}"`);return t})),h=e=>[...e.args,"|",...e.returns].join("-"),f=[],g=new Map;function x(e){const t=h(e),n=g.get(t);if(null==n)throw new Error(`Failed to get a type index for key ${t}`);return n}[...p,...b,...d].forEach((e=>{const t=h(e);g.has(t)||(f.push([o.FUNCTION_TYPE,...o.encodeFlatVector(e.args),...o.encodeFlatVector(e.returns)]),g.set(t,f.length-1))}));const y=[...r.map((([e,t])=>[...o.encodeString(e),...o.encodeString(t),o.GLOBAL_TYPE,o.VAL_TYPE.f64,o.MUTABILITY.var])),...p.map(((e,t)=>{const n=x(e);return[...o.encodeString("shims"),...o.encodeString(e.name),o.TYPE_IDX,...o.unsignedLEB128(n)]}))],w=[...b,...d].map((e=>{const t=x(e);return o.unsignedLEB128(t)})),A=[[1,...o.unsignedLEB128(u.WASM_MEMORY_SIZE),...o.unsignedLEB128(u.WASM_MEMORY_SIZE)]],q=_.size()-r.length,z=m.times(q,(()=>[o.VAL_TYPE.f64,o.MUTABILITY.var,...o.op.f64_const(0),o.op.end])),E=[...d].map(((e,t)=>{const n=t+p.length+b.length;return[...o.encodeString(e.exportName),o.EXPORT_TYPE.FUNC,...o.unsignedLEB128(n)]})),k=[...b,...d].map((e=>{var t;const n=(null!==(t=e.localVariables)&&void 0!==t?t:[]).map((e=>[...o.unsignedLEB128(1),e]));return o.encodeFlatVector([...o.encodeNestedVector(n),...e.binary,o.op.end])}));return new Uint8Array([...o.MAGIC,...o.WASM_VERSION,...o.encodeSection(o.SECTION.TYPE,f),...o.encodeSection(o.SECTION.IMPORT,y),...o.encodeSection(o.SECTION.FUNC,w),...o.encodeSection(o.SECTION.MEMORY,A),...o.encodeSection(o.SECTION.GLOBAL,z),...o.encodeSection(o.SECTION.EXPORT,E),...o.encodeSection(o.SECTION.CODE,k)])}},"./node_modules/eel-wasm/dist/src/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_LOOP_COUNT=1048576,t.BUFFER_SIZE=8388608,t.WASM_MEMORY_SIZE=Math.ceil(8*t.BUFFER_SIZE*2/65536)},"./node_modules/eel-wasm/dist/src/emitter.js":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n("./node_modules/eel-wasm/dist/src/encoding.js"),s=a(n("./node_modules/eel-wasm/dist/src/shims.js")),i=n("./node_modules/eel-wasm/dist/src/errorUtils.js"),o=n("./node_modules/eel-wasm/dist/src/wasmFunctions.js"),l=n("./node_modules/eel-wasm/dist/src/utils.js"),m=n("./node_modules/eel-wasm/dist/src/constants.js");function c(e,t){var n,a,p;switch(e.type){case"SCRIPT":{const n=e.body.map(((e,n)=>[...c(e,t),r.op.drop]));return l.flatten(n)}case"EXPRESSION_BLOCK":return u(e.body,t);case"BINARY_EXPRESSION":{const n=c(e.left,t),a=c(e.right,t),s={"+":[r.op.f64_add],"-":[r.op.f64_sub],"*":[r.op.f64_mul],"/":t.resolveFunc("div"),"%":t.resolveFunc("mod"),"|":t.resolveFunc("bitwiseOr"),"&":t.resolveFunc("bitwiseAnd"),"^":t.resolveFunc("pow"),"==":[r.op.f64_sub,...r.IS_ZEROISH,r.op.f64_convert_i32_s],"!=":[r.op.f64_sub,...r.IS_NOT_ZEROISH,r.op.f64_convert_i32_s],"<":[r.op.f64_lt,r.op.f64_convert_i32_s],">":[r.op.f64_gt,r.op.f64_convert_i32_s],"<=":[r.op.f64_le,r.op.f64_convert_i32_s],">=":[r.op.f64_ge,r.op.f64_convert_i32_s]}[e.operator];if(null==s)throw i.createCompilerError(`Unknown binary expression operator ${e.operator}`,e.loc,t.rawSource);return[...n,...a,...s]}case"CALL_EXPRESSION":{const a=e.callee.value,p=e.arguments,v=n=>{if(p.length<n)throw i.createUserError(`Too few arguments passed to \`${a}()\`. Expected ${n} but only got ${p.length}.`,e.loc,t.rawSource);if(p.length>n)throw i.createUserError(`Too many arguments passed to \`${a}()\`. Expected ${n} but got ${p.length}.`,p[n].loc,t.rawSource)};switch(a){case"exec2":return v(2),u(e.arguments,t);case"exec3":return v(3),u(e.arguments,t);case"if":v(3);const[s,o,l]=e.arguments;return function(e,t,n,a){return[...c(e,a),...r.IS_NOT_ZEROISH,...r.op.if(r.BLOCK.f64),...c(t,a),r.op.else,...c(n,a),r.op.end]}(s,o,l,t);case"while":return v(1),function(e,t){const n=c(e,t),a=t.resolveLocal(r.VAL_TYPE.i32);return[...r.op.i32_const(0),...r.op.local_set(a),...r.op.loop(r.BLOCK.void),...r.op.local_get(a),...r.op.i32_const(1),r.op.i32_add,...r.op.local_tee(a),...r.op.i32_const(m.MAX_LOOP_COUNT),r.op.i32_lt_u,...n,...r.IS_NOT_ZEROISH,r.op.i32_and,...r.op.br_if(0),r.op.end,...r.op.f64_const(0)]}(e.arguments[0],t);case"loop":return v(2),function(e,t,n){const a=c(t,n),s=n.resolveLocal(r.VAL_TYPE.i32);return[...r.op.block(r.BLOCK.void),...c(e,n),r.op.i32_trunc_f64_s,...r.op.local_tee(s),...r.op.i32_const(0),r.op.i32_le_s,...r.op.br_if(1),...r.op.loop(r.BLOCK.void),...a,r.op.drop,...r.op.local_get(s),...r.op.i32_const(1),r.op.i32_sub,...r.op.local_tee(s),...r.op.i32_const(0),r.op.i32_ne,...r.op.br_if(0),r.op.end,r.op.end,...r.op.f64_const(0)]}(e.arguments[0],e.arguments[1],t);case"megabuf":case"gmegabuf":v(1);const p=t.resolveLocal(r.VAL_TYPE.i32);return[...c(e.arguments[0],t),...null!==(n=t.resolveFunc("_getBufferIndex"))&&void 0!==n?n:[],...r.op.local_tee(p),...r.op.i32_const(-1),r.op.i32_ne,...r.op.if(r.BLOCK.f64),...r.op.local_get(p),...r.op.f64_load(3,_(a)),r.op.else,...r.op.f64_const(0),r.op.end];case"assign":v(2);const d=e.arguments[0];if("IDENTIFIER"!=d.type)throw i.createUserError("Expected the first argument of `assign()` to be an identifier.",d.loc,t.rawSource);const b=t.resolveVar(d.value);return[...c(e.arguments[1],t),...r.op.global_set(b),...r.op.global_get(b)]}const d=l.flatten(e.arguments.map((e=>c(e,t))));switch(a){case"abs":return v(1),[...d,r.op.f64_abs];case"sqrt":return v(1),[...d,r.op.f64_abs,r.op.f64_sqrt];case"int":case"floor":return v(1),[...d,r.op.f64_floor];case"min":return v(2),[...d,r.op.f64_min];case"max":return v(2),[...d,r.op.f64_max];case"above":return v(2),[...d,r.op.f64_gt,r.op.f64_convert_i32_s];case"below":return v(2),[...d,r.op.f64_lt,r.op.f64_convert_i32_s];case"equal":return v(2),[...d,r.op.f64_sub,...r.IS_ZEROISH,r.op.f64_convert_i32_s];case"bnot":return v(1),[...d,...r.IS_ZEROISH,r.op.f64_convert_i32_s];case"ceil":return v(1),[...d,r.op.f64_ceil]}const b=t.resolveFunc(a);if(null==b||a.startsWith("_"))throw i.createUserError(`"${a}" is not defined.`,e.callee.loc,t.rawSource);if(null!=s.default[a])v(s.default[a].length);else{if(null==o.localFuncMap[a])throw i.createCompilerError(`Missing arity information for the function \`${a}()\``,e.callee.loc,t.rawSource);v(o.localFuncMap[a].args.length)}return[...d,...b]}case"ASSIGNMENT_EXPRESSION":{const{left:n}=e,s=c(e.right,t),o=function(e,t){const n={"+=":[r.op.f64_add],"-=":[r.op.f64_sub],"*=":[r.op.f64_mul],"/=":[r.op.f64_div],"%=":t.resolveFunc("mod"),"=":null}[e.operator];if(void 0===n)throw i.createCompilerError(`Unknown assignment operator "${e.operator}"`,e.loc,t.rawSource);return n}(e,t);if("IDENTIFIER"===n.type){const e=t.resolveVar(n.value),a=r.op.global_get(e),i=r.op.global_set(e);return null===o?[...s,...i,...a]:[...a,...s,...o,...i,...a]}if("CALL_EXPRESSION"!==n.type)throw i.createCompilerError(`Unexpected left hand side type for assignment: ${n.type}`,e.loc,t.rawSource);const l=t.resolveLocal(r.VAL_TYPE.i32);if(1!==n.arguments.length)throw i.createUserError(`Expected 1 argument when assinging to a buffer but got ${n.arguments.length}.`,0===n.arguments.length?n.loc:n.arguments[1].loc,t.rawSource);const m=n.callee.value;if("gmegabuf"!==m&&"megabuf"!==m)throw i.createUserError("The only function calls which may be assigned to are `gmegabuf()` and `megabuf()`.",n.callee.loc,t.rawSource);const u=_(m);if(null===o){const e=t.resolveLocal(r.VAL_TYPE.i32),i=t.resolveLocal(r.VAL_TYPE.f64);return[...s,...r.op.local_set(i),...c(n.arguments[0],t),...null!==(a=t.resolveFunc("_getBufferIndex"))&&void 0!==a?a:[],...r.op.local_tee(e),...r.op.i32_const(0),r.op.i32_lt_s,...r.op.if(r.BLOCK.f64),...r.op.f64_const(0),r.op.else,...r.op.local_get(e),...r.op.local_tee(l),...r.op.local_get(i),...r.op.f64_store(3,u),...r.op.local_get(i),r.op.end]}const v=t.resolveLocal(r.VAL_TYPE.i32),d=t.resolveLocal(r.VAL_TYPE.i32),b=t.resolveLocal(r.VAL_TYPE.f64),h=t.resolveLocal(r.VAL_TYPE.f64);return[...s,...r.op.local_set(b),...c(n.arguments[0],t),...null!==(p=t.resolveFunc("_getBufferIndex"))&&void 0!==p?p:[],...r.op.local_tee(v),...r.op.i32_const(-1),r.op.i32_ne,...r.op.local_tee(d),...r.op.if(r.BLOCK.f64),...r.op.local_get(v),...r.op.f64_load(3,u),r.op.else,...r.op.f64_const(0),r.op.end,...r.op.local_get(b),...o,...r.op.local_tee(h),...r.op.local_get(d),...r.op.if(r.BLOCK.void),...r.op.local_get(v),...r.op.local_get(h),...r.op.f64_store(3,u),r.op.end]}case"LOGICAL_EXPRESSION":{const n=c(e.left,t),a=c(e.right,t),s={"&&":{comparison:r.IS_ZEROISH,shortCircutValue:0},"||":{comparison:r.IS_NOT_ZEROISH,shortCircutValue:1}}[e.operator];if(null==s)throw i.createCompilerError(`Unknown logical expression operator ${e.operator}`,e.loc,t.rawSource);const{comparison:o,shortCircutValue:l}=s;return[...n,...o,...r.op.if(r.BLOCK.f64),...r.op.f64_const(l),r.op.else,...a,...r.IS_NOT_ZEROISH,r.op.f64_convert_i32_s,r.op.end]}case"UNARY_EXPRESSION":{const n=c(e.value,t),a={"-":[r.op.f64_neg],"+":[],"!":[...r.IS_ZEROISH,r.op.f64_convert_i32_s]}[e.operator];if(null==a)throw i.createCompilerError(`Unknown logical unary operator ${e.operator}`,e.loc,t.rawSource);return[...n,...a]}case"IDENTIFIER":const v=e.value;return r.op.global_get(t.resolveVar(v));case"NUMBER_LITERAL":return r.op.f64_const(e.value);default:throw i.createCompilerError(`Unknown AST node type ${e.type}`,e.loc,t.rawSource)}}function u(e,t){const n=e.map(((e,n)=>c(e,t)));return l.flatten(l.arrayJoin(n,[r.op.drop]))}function _(e){switch(e){case"gmegabuf":return 8*m.BUFFER_SIZE;case"megabuf":return 0}}t.emit=c},"./node_modules/eel-wasm/dist/src/encoding.js":function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n("./node_modules/eel-wasm/dist/src/ieee754.js")),s=n("./node_modules/eel-wasm/dist/src/utils.js");function i(e){const t=new Uint8Array(8);return r.write(t,e),t}function o(e){const t=[];do{let n=127&e;0!=(e>>>=7)&&(n|=128),t.push(n)}while(0!==e);return t}function l(e){let t=[],n=0,a=Math.ceil(Math.log2(Math.abs(e))),r=e<0,s=!0;for(;s;)n=127&e,e>>=7,r&&(e|=-(1<<a-7)),0==e&&0==(64&n)||-1==e&&64==(64&n)?s=!1:n|=128,t.push(n);return t}t.MAGIC=[0,97,115,109],t.WASM_VERSION=[1,0,0,0],t.EPSILON=1e-5,t.SECTION={TYPE:1,IMPORT:2,FUNC:3,MEMORY:5,GLOBAL:6,EXPORT:7,CODE:10},t.EXPORT_TYPE={FUNC:0,TABLE:1,MEMORY:2,GLOBAL:3},t.op={block:e=>[2,e],loop:e=>[3,e],if:e=>[4,e],else:5,end:11,br_if:e=>[13,...o(e)],call:e=>[16,...o(e)],drop:26,select:27,local_get:e=>[32,...o(e)],local_set:e=>[33,...o(e)],local_tee:e=>[34,...o(e)],global_get:e=>[35,...o(e)],global_set:e=>[36,...o(e)],f64_load:(e,t)=>[43,...o(e),...o(t)],f64_store:(e,t)=>[57,...o(e),...o(t)],i32_const:e=>[65,...l(e)],f64_const:e=>[68,...i(e)],i32_eqz:69,i32_ne:71,i32_lt_s:72,i32_lt_u:73,i32_gt_s:74,i32_le_s:76,i32_le_u:77,i32_ge_s:78,f64_eq:97,f64_ne:98,f64_lt:99,f64_gt:100,f64_le:101,f64_ge:102,i32_add:106,i32_sub:107,i32_mul:108,i32_rem_s:111,i32_and:113,i32_or:114,i64_rem_s:129,i64_and:131,i64_or:132,f64_abs:153,f64_neg:154,f64_ceil:155,f64_floor:156,f64_sqrt:159,f64_add:160,f64_sub:161,f64_mul:162,f64_div:163,f64_min:164,f64_max:165,i32_trunc_f64_s:170,i32_trunc_f64_u:171,i64_trunc_s_f64:176,f64_convert_i64_s:185,f64_convert_i32_s:183},t.VAL_TYPE={i32:127,i64:126,f32:125,f64:124},t.MUTABILITY={const:0,var:1},t.BLOCK={void:64,i32:127,i64:126,f32:125,f64:124},t.FUNCTION_TYPE=96,t.MEMORY_IDX=2,t.GLOBAL_TYPE=3,t.TYPE_IDX=0,t.IS_ZEROISH=[t.op.f64_abs,...t.op.f64_const(t.EPSILON),t.op.f64_lt],t.IS_NOT_ZEROISH=[t.op.f64_abs,...t.op.f64_const(t.EPSILON),t.op.f64_gt],t.encodef64=i,t.encodeString=e=>[e.length].concat(e.split("").map((e=>e.charCodeAt(0)))),t.unsignedLEB128=o,t.signedLEB128=l,t.encodeFlatVector=e=>o(e.length).concat(e),t.encodeNestedVector=e=>o(e.length).concat(s.flatten(e)),t.encodeSection=function(e,n){if(0===n.length)return[];const a=t.encodeFlatVector(t.encodeNestedVector(n));return a.unshift(e),a}},"./node_modules/eel-wasm/dist/src/envParser.js":function(e,t,n){let a=n("./node_modules/eel-wasm/dist/build/parser.js");e.exports={parse:a.parse}},"./node_modules/eel-wasm/dist/src/errorUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("./node_modules/eel-wasm/dist/src/utils.js");function r(e,t,n=1){const r=Math.max(e.first_line-1-n,0),s=e.last_line+n,i=t.split("\n").slice(r,s).map(((t,n)=>{const a=n+r+1;return`${a>=e.first_line&&a<=e.last_line?">":" "} ${a} | ${t}`}));if(e.first_line===e.last_line){const t=a.repeat(e.first_column," "),n=a.repeat(e.last_column-e.first_column,"^"),s=e.first_line-r;i.splice(s,0,`    | ${t}${n}`)}return i.join("\n")}t.printLoc=r;class s extends Error{constructor(e,t,n){super(e),this.sourceContext=r(t,n),this.loc=t}}class i extends s{}t.createUserError=function(e,t,n){return new i(e,t,n)},t.createCompilerError=function(e,t,n){return new s(e,t,n)}},"./node_modules/eel-wasm/dist/src/ieee754.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.write=function(e,t){let n=52;var a,r,s,i=64-n-1,o=(1<<i)-1,l=o>>1,m=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,c=0,u=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,a=o):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?m/s:m*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=o?(r=0,a=o):a+l>=1?(r=(t*s-1)*Math.pow(2,n),a+=l):(r=t*Math.pow(2,l-1)*Math.pow(2,n),a=0));n>=8;e[0+c]=255&r,c+=1,r/=256,n-=8);for(a=a<<n|r,i+=n;i>0;e[0+c]=255&a,c+=1,a/=256,i-=8);e[0+c-1]|=128*u}},"./node_modules/eel-wasm/dist/src/index.js":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n("./node_modules/eel-wasm/dist/src/parser.js");t.parse=r.parse;const s=n("./node_modules/eel-wasm/dist/src/compiler.js");t.compileModule=s.compileModule;const i=a(n("./node_modules/eel-wasm/dist/src/shims.js"));t.shims=i.default;const o=n("./node_modules/eel-wasm/dist/src/loader.js");t.loadModule=o.loadModule},"./node_modules/eel-wasm/dist/src/loader.js":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n("./node_modules/eel-wasm/dist/src/shims.js")),s=n("./node_modules/eel-wasm/dist/src/compiler.js");t.loadModule=async function({pools:e,functions:t,eelVersion:n=2}){let a={};Object.entries(e).forEach((([e,t])=>{a[e]=new Set(Object.keys(t))}));const i=s.compileModule({pools:a,functions:t,eelVersion:n}),o=await WebAssembly.compile(i);var l=Object.assign(Object.assign({},e),{shims:r.default});return await WebAssembly.instantiate(o,l)}},"./node_modules/eel-wasm/dist/src/parser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("./node_modules/eel-wasm/dist/src/preProcessor.js"),r=n("./node_modules/eel-wasm/dist/src/envParser.js"),s=n("./node_modules/eel-wasm/dist/src/astUtils.js"),i=n("./node_modules/eel-wasm/dist/src/errorUtils.js");function o(e,t){const n=a.getLoc(t,e.first_column),r=a.getLoc(t,e.last_column);return{first_column:n.column,last_column:r.column,first_line:n.line,last_line:r.line}}t.parse=function(e){const[t,n]=a.preProcess(e);try{const a=r.parse(t);return s.mapAst(a,(t=>{if(1!==t.loc.first_line||1!=t.loc.last_line)throw i.createCompilerError("Unexpected multiline",t.loc,e);return Object.assign(Object.assign({},t),{loc:o(t.loc,n)})}))}catch(t){if(null==t.hash)throw t;throw i.createUserError(`Parse Error: ${t.message.split("\n")[3]}`,o(t.hash.loc,n),e)}}},"./node_modules/eel-wasm/dist/src/preProcessor.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoc=function(e,t){let n={destCol:1,srcCol:1,srcLine:1};e.forEach((e=>{e.destCol>t||(n=e)}));const a=t-n.destCol;return{column:n.srcCol+a,line:n.srcLine}},t.preProcess=function(e){const t=[];let n=1,a="",r=0,s=!1,i=!1,o=!1;for(let l=0;l<e.length;l++){const m=e[l];if(o){const e=a.length+1,s=l-r+1;t.push({destCol:e,srcCol:s,srcLine:n}),o=!1}"\n"===m?(s=!1,n++,r=l+1,o=!0):"\r"===m&&"\n"===e[l+1]?(l++,s=!1,n++,r=l+1,o=!0):i&&"*"===m&&"/"===e[l+1]?(i=!1,l++,o=!0):"\\"===m&&"\\"===e[l+1]||"/"===m&&"/"===e[l+1]?(s=!0,l++):"/"===m&&"*"===e[l+1]?(i=!0,l++):s||i||(a+=m)}return[a,t]}},"./node_modules/eel-wasm/dist/src/shims.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,atan2:Math.atan2,rand:e=>Math.random()*e,pow:Math.pow,log:Math.log,log10:Math.log10,exp:Math.exp,sigmoid:function(e,t){const n=1+Math.exp(-e*t);return Math.abs(n)>1e-5?1/n:0}};t.default=a},"./node_modules/eel-wasm/dist/src/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayJoin=function(e,t){const n=[];for(let a=0;a<e.length;a++)n.push(e[a]),a===e.length-1||n.push(t);return n},t.flatten=function(e){return[].concat.apply([],e)},t.times=function(e,t){return new Array(e).fill(null).map(((e,n)=>t(n)))},t.repeat=function(e,t){return new Array(e).fill(t).join("")},t.ScopedIdMap=class{constructor(){this._map=new Map}get(e,t){const n=null==e?t:`${e}::${t}`;return this._map.has(n)||this._map.set(n,this._map.size),this._map.get(n)}size(){return this._map.size}},t.formatList=function(e){if(0===e.length)throw new Error("Cannot format an empty list");if(1===e.length)return e[0];const t=e.map((e=>`"${e}"`)),n=t.pop();return t.join(", ")+` and ${n}`}},"./node_modules/eel-wasm/dist/src/wasmFunctions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("./node_modules/eel-wasm/dist/src/encoding.js"),r=n("./node_modules/eel-wasm/dist/src/constants.js");t.localFuncMap={sqr:{args:[a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.local_get(0),...a.op.local_get(0),a.op.f64_mul]},bor:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.local_get(0),...a.IS_NOT_ZEROISH,...a.op.local_get(1),...a.IS_NOT_ZEROISH,a.op.i32_or,...a.op.i32_const(0),a.op.i32_ne,a.op.f64_convert_i32_s]},band:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.local_get(0),...a.IS_NOT_ZEROISH,...a.op.local_get(1),...a.IS_NOT_ZEROISH,a.op.i32_and,...a.op.i32_const(0),a.op.i32_ne,a.op.f64_convert_i32_s]},sign:{args:[a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.f64_const(0),...a.op.local_get(0),a.op.f64_lt,...a.op.local_get(0),...a.op.f64_const(0),a.op.f64_lt,a.op.i32_sub,a.op.f64_convert_i32_s]},mod:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],localVariables:[a.VAL_TYPE.i32],binary:[...a.op.local_get(1),a.op.i32_trunc_f64_s,...a.op.local_tee(2),...a.op.i32_const(0),a.op.i32_ne,...a.op.if(a.BLOCK.f64),...a.op.local_get(0),a.op.i32_trunc_f64_s,...a.op.local_get(2),a.op.i32_rem_s,a.op.f64_convert_i32_s,a.op.else,...a.op.f64_const(0),a.op.end]},bitwiseOr:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.local_get(0),a.op.i64_trunc_s_f64,...a.op.local_get(1),a.op.i64_trunc_s_f64,a.op.i64_or,a.op.f64_convert_i64_s]},bitwiseAnd:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],binary:[...a.op.local_get(0),a.op.i64_trunc_s_f64,...a.op.local_get(1),a.op.i64_trunc_s_f64,a.op.i64_and,a.op.f64_convert_i64_s]},div:{args:[a.VAL_TYPE.f64,a.VAL_TYPE.f64],returns:[a.VAL_TYPE.f64],localVariables:[a.VAL_TYPE.i32],binary:[...a.op.local_get(1),...a.op.f64_const(0),a.op.f64_ne,...a.op.if(a.BLOCK.f64),...a.op.local_get(0),...a.op.local_get(1),a.op.f64_div,a.op.else,...a.op.f64_const(0),a.op.end]},_getBufferIndex:{args:[a.VAL_TYPE.f64],returns:[a.VAL_TYPE.i32],localVariables:[a.VAL_TYPE.f64,a.VAL_TYPE.i32],binary:[...a.op.f64_const(a.EPSILON),...a.op.local_get(0),a.op.f64_add,...a.op.local_tee(1),a.op.i32_trunc_f64_s,...a.op.local_set(2),...a.op.i32_const(-1),...a.op.local_get(2),...a.op.i32_const(8),a.op.i32_mul,...a.op.local_get(2),...a.op.i32_const(0),a.op.i32_lt_s,...a.op.local_get(2),...a.op.i32_const(r.BUFFER_SIZE-1),a.op.i32_gt_s,a.op.i32_or,a.op.select]}}},"./node_modules/process/browser.js":function(e,t){var n,a,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(e){a=i}}();var l,m=[],c=!1,u=-1;function _(){c&&l&&(c=!1,l.length?m=l.concat(m):u=-1,m.length&&p())}function p(){if(!c){var e=o(_);c=!0;for(var t=m.length;t;){for(l=m,m=[];++u<t;)l&&l[u].run();u=-1,t=m.length}l=null,c=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function d(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new v(e,t)),1!==m.length||c||o(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/assemblyscript/presetFunctions.ts":function(e,t){e.exports=()=>"AGFzbQEAAAABPQpgAABgAXwBfGACfHwBfGACf38AYAR/f39/AGAJf39/f3x8fHx8AGADf399AGABfwF/YAJ/fwF/YAF+AX8CuBWMAQNlbnYFYWJvcnQABAhwaXhlbEVxcwtwZXJQaXhlbEVxcwAADHBpeGVsVmFyUG9vbAR3YXJwA3wBDHBpeGVsVmFyUG9vbAR6b29tA3wBDHBpeGVsVmFyUG9vbAd6b29tZXhwA3wBDHBpeGVsVmFyUG9vbAJjeAN8AQxwaXhlbFZhclBvb2wCY3kDfAEMcGl4ZWxWYXJQb29sAnN4A3wBDHBpeGVsVmFyUG9vbAJzeQN8AQxwaXhlbFZhclBvb2wCZHgDfAEMcGl4ZWxWYXJQb29sAmR5A3wBDHBpeGVsVmFyUG9vbANyb3QDfAEMcGl4ZWxWYXJQb29sA3JhZAN8AQxwaXhlbFZhclBvb2wDYW5nA3wBDHBpeGVsVmFyUG9vbAF4A3wBDHBpeGVsVmFyUG9vbAF5A3wBCHFWYXJQb29sAnExA3wBCHFWYXJQb29sAnEyA3wBCHFWYXJQb29sAnEzA3wBCHFWYXJQb29sAnE0A3wBCHFWYXJQb29sAnE1A3wBCHFWYXJQb29sAnE2A3wBCHFWYXJQb29sAnE3A3wBCHFWYXJQb29sAnE4A3wBCHFWYXJQb29sAnE5A3wBCHFWYXJQb29sA3ExMAN8AQhxVmFyUG9vbANxMTEDfAEIcVZhclBvb2wDcTEyA3wBCHFWYXJQb29sA3ExMwN8AQhxVmFyUG9vbANxMTQDfAEIcVZhclBvb2wDcTE1A3wBCHFWYXJQb29sA3ExNgN8AQhxVmFyUG9vbANxMTcDfAEIcVZhclBvb2wDcTE4A3wBCHFWYXJQb29sA3ExOQN8AQhxVmFyUG9vbANxMjADfAEIcVZhclBvb2wDcTIxA3wBCHFWYXJQb29sA3EyMgN8AQhxVmFyUG9vbANxMjMDfAEIcVZhclBvb2wDcTI0A3wBCHFWYXJQb29sA3EyNQN8AQhxVmFyUG9vbANxMjYDfAEIcVZhclBvb2wDcTI3A3wBCHFWYXJQb29sA3EyOAN8AQhxVmFyUG9vbANxMjkDfAEIcVZhclBvb2wDcTMwA3wBCHFWYXJQb29sA3EzMQN8AQhxVmFyUG9vbANxMzIDfAEIdFZhclBvb2wCdDEDfAEIdFZhclBvb2wCdDIDfAEIdFZhclBvb2wCdDMDfAEIdFZhclBvb2wCdDQDfAEIdFZhclBvb2wCdDUDfAEIdFZhclBvb2wCdDYDfAEIdFZhclBvb2wCdDcDfAEIdFZhclBvb2wCdDgDfAEKc2hhcGVQb29sMAN4XzADfAEKc2hhcGVQb29sMAN5XzADfAEKc2hhcGVQb29sMAVyYWRfMAN8AQpzaGFwZVBvb2wwBWFuZ18wA3wBCnNoYXBlUG9vbDADcl8wA3wBCnNoYXBlUG9vbDADZ18wA3wBCnNoYXBlUG9vbDADYl8wA3wBCnNoYXBlUG9vbDADYV8wA3wBCnNoYXBlUG9vbDAEcjJfMAN8AQpzaGFwZVBvb2wwBGcyXzADfAEKc2hhcGVQb29sMARiMl8wA3wBCnNoYXBlUG9vbDAEYTJfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9yXzADfAEKc2hhcGVQb29sMApib3JkZXJfZ18wA3wBCnNoYXBlUG9vbDAKYm9yZGVyX2JfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9hXzADfAEKc2hhcGVQb29sMA50aGlja291dGxpbmVfMAN8AQpzaGFwZVBvb2wwCnRleHR1cmVkXzADfAEKc2hhcGVQb29sMAp0ZXhfem9vbV8wA3wBCnNoYXBlUG9vbDAJdGV4X2FuZ18wA3wBCnNoYXBlUG9vbDAKYWRkaXRpdmVfMAN8AQpzaGFwZVBvb2wxA3hfMQN8AQpzaGFwZVBvb2wxA3lfMQN8AQpzaGFwZVBvb2wxBXJhZF8xA3wBCnNoYXBlUG9vbDEFYW5nXzEDfAEKc2hhcGVQb29sMQNyXzEDfAEKc2hhcGVQb29sMQNnXzEDfAEKc2hhcGVQb29sMQNiXzEDfAEKc2hhcGVQb29sMQNhXzEDfAEKc2hhcGVQb29sMQRyMl8xA3wBCnNoYXBlUG9vbDEEZzJfMQN8AQpzaGFwZVBvb2wxBGIyXzEDfAEKc2hhcGVQb29sMQRhMl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX3JfMQN8AQpzaGFwZVBvb2wxCmJvcmRlcl9nXzEDfAEKc2hhcGVQb29sMQpib3JkZXJfYl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX2FfMQN8AQpzaGFwZVBvb2wxDnRoaWNrb3V0bGluZV8xA3wBCnNoYXBlUG9vbDEKdGV4dHVyZWRfMQN8AQpzaGFwZVBvb2wxCnRleF96b29tXzEDfAEKc2hhcGVQb29sMQl0ZXhfYW5nXzEDfAEKc2hhcGVQb29sMQphZGRpdGl2ZV8xA3wBCnNoYXBlUG9vbDIDeF8yA3wBCnNoYXBlUG9vbDIDeV8yA3wBCnNoYXBlUG9vbDIFcmFkXzIDfAEKc2hhcGVQb29sMgVhbmdfMgN8AQpzaGFwZVBvb2wyA3JfMgN8AQpzaGFwZVBvb2wyA2dfMgN8AQpzaGFwZVBvb2wyA2JfMgN8AQpzaGFwZVBvb2wyA2FfMgN8AQpzaGFwZVBvb2wyBHIyXzIDfAEKc2hhcGVQb29sMgRnMl8yA3wBCnNoYXBlUG9vbDIEYjJfMgN8AQpzaGFwZVBvb2wyBGEyXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfcl8yA3wBCnNoYXBlUG9vbDIKYm9yZGVyX2dfMgN8AQpzaGFwZVBvb2wyCmJvcmRlcl9iXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfYV8yA3wBCnNoYXBlUG9vbDIOdGhpY2tvdXRsaW5lXzIDfAEKc2hhcGVQb29sMgp0ZXh0dXJlZF8yA3wBCnNoYXBlUG9vbDIKdGV4X3pvb21fMgN8AQpzaGFwZVBvb2wyCXRleF9hbmdfMgN8AQpzaGFwZVBvb2wyCmFkZGl0aXZlXzIDfAEKc2hhcGVQb29sMwN4XzMDfAEKc2hhcGVQb29sMwN5XzMDfAEKc2hhcGVQb29sMwVyYWRfMwN8AQpzaGFwZVBvb2wzBWFuZ18zA3wBCnNoYXBlUG9vbDMDcl8zA3wBCnNoYXBlUG9vbDMDZ18zA3wBCnNoYXBlUG9vbDMDYl8zA3wBCnNoYXBlUG9vbDMDYV8zA3wBCnNoYXBlUG9vbDMEcjJfMwN8AQpzaGFwZVBvb2wzBGcyXzMDfAEKc2hhcGVQb29sMwRiMl8zA3wBCnNoYXBlUG9vbDMEYTJfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9yXzMDfAEKc2hhcGVQb29sMwpib3JkZXJfZ18zA3wBCnNoYXBlUG9vbDMKYm9yZGVyX2JfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9hXzMDfAEKc2hhcGVQb29sMw50aGlja291dGxpbmVfMwN8AQpzaGFwZVBvb2wzCnRleHR1cmVkXzMDfAEKc2hhcGVQb29sMwp0ZXhfem9vbV8zA3wBCnNoYXBlUG9vbDMJdGV4X2FuZ18zA3wBCnNoYXBlUG9vbDMKYWRkaXRpdmVfMwN8AQMZGAgDBwkBAQICAQYFAAAAAAAAAAAAAAAAAAUDAQABBuwMigF8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt/AUEAC3wBRAAAAAAAAAAAC3wBRAAAAAAAAAAAC34BQgALB9kBDwZtZW1vcnkCABJjcmVhdGVGbG9hdDMyQXJyYXkABBFydW5QaXhlbEVxdWF0aW9ucwAMBnNhdmVRcwANCXJlc3RvcmVRcwAOBnNhdmVUcwAPCXJlc3RvcmVUcwAQC3NoYXBlMF9zYXZlABEOc2hhcGUwX3Jlc3RvcmUAEgtzaGFwZTFfc2F2ZQATDnNoYXBlMV9yZXN0b3JlABQLc2hhcGUyX3NhdmUAFQ5zaGFwZTJfcmVzdG9yZQAWC3NoYXBlM19zYXZlABcOc2hhcGUzX3Jlc3RvcmUAGAgBGQraQRi0AQEGfyAAQez///8DSwRAAAsgAEEQaiICQfz///8DSwRAAAsjkAIhBiOQAkEEaiIEIAJBE2pBcHFBBGsiB2oiAj8AIgVBEHRBD2pBcHEiA0sEQCAFIAIgA2tB//8DakGAgHxxQRB2IgMgAyAFSBtAAEEASARAIANAAEEASARAAAsLCyACJJACIAYgBzYCACAEQQRrIgJBADYCBCACQQA2AgggAiABNgIMIAIgADYCECAEQRBqC7sCAQF/AkAgAUUNACAAQQA6AAAgACABakEEayICQQA6AAMgAUECTQ0AIABBADoAASAAQQA6AAIgAkEAOgACIAJBADoAASABQQZNDQAgAEEAOgADIAJBADoAACABQQhNDQAgAEEAIABrQQNxIgJqIgBBADYCACAAIAEgAmtBfHEiAmpBHGsiAUEANgIYIAJBCE0NACAAQQA2AgQgAEEANgIIIAFBADYCECABQQA2AhQgAkEYTQ0AIABBADYCDCAAQQA2AhAgAEEANgIUIABBADYCGCABQQA2AgAgAUEANgIEIAFBADYCCCABQQA2AgwgACAAQQRxQRhqIgFqIQAgAiABayEBA0AgAUEgTwRAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCABQSBrIQEgAEEgaiEADAELCwsLdwECfwJ/QQxBAxACIgFFBEBBDEECEAIhAQsgAQtBADYCACABQQA2AgQgAUEANgIIIABB/////wBLBEBBoAhB0AhBEkE5EAAACyAAQQJ0IgBBABACIgIgABADIAEoAgAaIAEgAjYCACABIAI2AgQgASAANgIIIAELuwQDAX8KfgF8IABC////////////AINCNIhClQh9IgVCBoenQQN0QYAJaiIBKQMAIQcgASkDCCEEIAEpAxAhAiAFQj+DIgVCAFIEQAJ+IAcgBYYgBELAACAFfSIDiIQhByAEIAWGIAIgA4iEIQQgAiAFhiABKQMYIAOIhAshAgsgAEL/////////B4NCgICAgICAgAiEIgVC/////w+DIgMgBEIgiCIIfiAEQv////8PgyIGIAN+IglCIIh8IQQgBiAFQiCIIgZ+IARC/////w+DfCEDIAYgCH4gBEIgiHwgA0IgiHwkkwIgBUIghyACQiCIfiIEIAlC/////w+DIANCIIZ8fCECIAIgBFStI5MCIAUgB358fCIIQgKGIAJCPoiEIgdCP4ciBUIBhyAHhSIDeSEEIAMgBIYgBSACQgKGhSIGQsAAIAR9iIQiAkL/////D4MhAyACQiCIIglCtISjiwJ+IANCorW/yAx+IANCtISjiwJ+IgpCIIh8IgtC/////w+DfCEDIAlCorW/yAx+IAtCIIh8IANCIIh8JJMCIApC/////w+DIANCIIZ8IgMgArpEhBtwUcyYOD+iIAYgBIa6RBgtRFT7ITk/oqCxIgJUrSOTAiIGQguIfLokkQIgAiAGQjWGIANCC4iEfLpEAAAAAAAA8DuiJJICI5ECQoCAgICAgIDYPCAEQjSGfSAAIAeFQoCAgICAgICAgH+DhL8iDKIkkQIjkgIgDKIkkgIgCEI+hyAFfacLlQYDAn8BfgR8IAC9IgNCIIinIgFBH3YhAiABQf////8HcSIBQfvDpP8DTQRAIAFBnsGa8gNJBEBEAAAAAAAA8D8PC0QAAAAAAADwPyAAIACiIgVEAAAAAAAA4D+iIgahIgREAAAAAAAA8D8gBKEgBqEgBSAFIAUgBUSQFcsZoAH6PqJEd1HBFmzBVr+gokRMVVVVVVWlP6CiIAUgBaIiBiAGoiAFIAVE1DiIvun6qL2iRMSxtL2e7iE+oKJErVKcgE9+kr6goqCiIABEAAAAAAAAAACioaCgDwsgAUGAgMD/B08EQCAAIAChDwsCfyADQiCIp0H/////B3EiAUH7w+SJBEkEQAJ8IAFBFHYiAiAAIABEg8jJbTBf5D+iniIFRAAAQFT7Ifk/oqEiACAFRDFjYhphtNA9oiIGoSIEvUIgiKdBFHZB/w9xa0EQSwRAAnwgBURzcAMuihmjO6IgACAAIAVEAABgGmG00D2iIgahIgChIAahoSEGIAIgACAGoSIEvUIgiKdBFHZB/w9xa0ExSwR8IAVEwUkgJZqDezmiIAAgACAFRAAAAC6KGaM7oiIGoSIAoSAGoaEhBiAAIAahBSAECwshBAsgBAskkQIgACAEoSAGoSSSAiAFqgwBC0EAIAMQBSIBayABIAIbCyECI5ECIQUjkgIhBiACQQFxBHwgBSAFoiIAIAWiIQQgBSAAIAZEAAAAAAAA4D+iIAQgACAARH3+sVfjHcc+okTVYcEZoAEqv6CiRKb4EBEREYE/oCAAIAAgAKKiIABEfNXPWjrZ5T2iROucK4rm5Vq+oKKgoqGiIAahIARESVVVVVVVxb+ioaEFRAAAAAAAAPA/IAUgBaIiAEQAAAAAAADgP6IiBKEiB0QAAAAAAADwPyAHoSAEoSAAIAAgACAARJAVyxmgAfo+okR3UcEWbMFWv6CiRExVVVVVVaU/oKIgACAAoiIEIASiIAAgAETUOIi+6fqovaJExLG0vZ7uIT6gokStUpyAT36SvqCioKIgBSAGoqGgoAsiAJogACACQQFqQQJxGwu8BAICfwN8IAAhAyAAvUIgiKdB/////wdxIgFBgIDAoARPBEAgACAAYgRAIAAPC0QYLURU+yH5PyADpg8LIAFBgIDw/gNJBEAgAUGAgIDyA0kEQCAADwtBfyECBSAAmSEAIAFBgIDM/wNJBHwgAUGAgJj/A0kEfCAAIACgRAAAAAAAAPA/oSAARAAAAAAAAABAoKMFQQEhAiAARAAAAAAAAPA/oSAARAAAAAAAAPA/oKMLBSABQYCAjoAESQR8QQIhAiAARAAAAAAAAPg/oSAARAAAAAAAAPg/okQAAAAAAADwP6CjBUEDIQJEAAAAAAAA8L8gAKMLCyEACyAAIACiIgUgBaIhBCAAIAUgBCAEIAQgBCAERBHaIuM6rZA/okTrDXYkS3upP6CiRFE90KBmDbE/oKJEbiBMxc1Ftz+gokT/gwCSJEnCP6CiRA1VVVVVVdU/oKIgBCAEIAQgBCAERC9saixEtKK/okSa/d5SLd6tv6CiRG2adK/ysLO/oKJEcRYj/sZxvL+gokTE65iZmZnJv6CioKIhBCACQQBIBEAgACAEoQ8LAkACQAJAAkACQAJAIAIOBAABAgMEC0RPu2EFZ6zdPyAEROJlLyJ/K3o8oSAAoaEhAAwEC0QYLURU+yHpPyAERAdcFDMmpoE8oSAAoaEhAAwDC0Sb9oHSC3PvPyAERL3L8HqIB3A8oSAAoaEhAAwCC0QYLURU+yH5PyAERAdcFDMmppE8oSAAoaEhAAwBCwALIAAgA6YLvgMCBX8BfkEBIAAgAGIgASABYhsEQCABIACgDwsgAL0iB0IgiKchBCAHpyEDIAG9IgenIgYgB0IgiKciBUGAgMD/A2tyRQRAIAAQBw8LIAVBHnZBAnEgBEEfdnIhAiAFQf////8HcSEFIARB/////wdxIgQgA3JFBEACQAJAAkACQCACRQ0AAkAgAkEBaw4DAQIDAAsMAwsgAA8LRBgtRFT7IQlADwtEGC1EVPshCcAPCwsCQCAFIAZyRQ0AIAVBgIDA/wdGBEBE0iEzf3zZAkBEGC1EVPsh6T8gAkECcRtEGC1EVPshCUBEAAAAAAAAAAAgAkECcRsgBEGAgMD/B0YbIgCaIAAgAkEBcRsPC0EBIARBgIDA/wdGIAQgBUGAgIAgaksbDQAgBSAEQYCAgCBqS0EAIAJBAnEbBHxEAAAAAAAAAAAFIAAgAaOZEAcLIQACQAJAAkACQCACIgMEQCADQQFrDgMBAgMECyAADwsgAJoPC0QYLURU+yEJQCAARAdcFDMmpqE8oaEPCyAARAdcFDMmpqE8oUQYLURU+yEJQKEPCwALRBgtRFT7Ifm/RBgtRFT7Ifk/IAJBAXEbC4ESAwl/AX4IfAJAAkACQAJAIAGZRAAAAAAAAABAZQRAIAFEAAAAAAAAAEBhDQEgAUQAAAAAAADgP2EEQCAAn5lEAAAAAAAA8H8gAEQAAAAAAADw/2IbDwsgAUQAAAAAAADwv2ENAiABRAAAAAAAAPA/YQRAIAAPCyABRAAAAAAAAAAAYQRARAAAAAAAAPA/DwsLIAC9IgunIQcgC0IgiKciBkH/////B3EhBCABvSILQiCIpyIDQf////8HcSIFIAunIghyRQRARAAAAAAAAPA/DwtBASAIQQAgBUGAgMD/B0YbQQEgBUGAgMD/B0tBASAHQQAgBEGAgMD/B0YbIARBgIDA/wdKGxsbBEAgACABoA8LIAZBAEgEfyAFQYCAgJoETwR/QQIFIAVBgIDA/wNPBH9BAiAIIAUgBUEUdkH/B2siAkEUSiIJGyIKQTRBFCAJGyACayICdiIJQQFxa0EAIAogCSACdEYbBUEACwsFQQALIQIgCEUEQCAFQYCAwP8HRgRAIAcgBEGAgMD/A2tyBEAgBEGAgMD/A04EQCABRAAAAAAAAAAAIANBAE4bDwVEAAAAAAAAAAAgAZogA0EAThsPCwAFRAAAAAAAAPh/DwsACyAFQYCAwP8DRgRAIANBAE4EQCAADwsMAwsgA0GAgICABEYNASADQYCAgP8DRgRAIAZBAE4EQCAAnw8LCwsgAJkhDCAHRQRAQQEgBEGAgMD/A0YgBEGAgMD/B0ZBASAEGxsEQEQAAAAAAADwPyAMoyAMIANBAEgbIQAgBkEASAR8IAIgBEGAgMD/A2tyBHwgAJogACACQQFGGwUgACAAoSIAIACjCwUgAAsPCwsgBkEASAR8IAJFBEAgACAAoSIAIACjDwtEAAAAAAAA8L9EAAAAAAAA8D8gAkEBRhsFRAAAAAAAAPA/CyEOIAVBgICAjwRLBHwgBUGAgMCfBEsEQCAEQf//v/8DTARARAAAAAAAAPB/RAAAAAAAAAAAIANBAEgbDwsgBEGAgMD/A04EQEQAAAAAAADwf0QAAAAAAAAAACADQQBKGw8LCyAEQf//v/8DSARAIA5EnHUAiDzkN36iRJx1AIg85Dd+oiAORFnz+MIfbqUBokRZ8/jCH26lAaIgA0EASBsPCyAEQYCAwP8DSgRAIA5EnHUAiDzkN36iRJx1AIg85Dd+oiAORFnz+MIfbqUBokRZ8/jCH26lAaIgA0EAShsPCyAMRAAAAAAAAPA/oSIARAAAAGBHFfc/oiIMIABERN9d+AuuVD6iIAAgAKJEAAAAAAAA4D8gAERVVVVVVVXVPyAARAAAAAAAANA/oqGioaJE/oIrZUcV9z+ioSINoL1CgICAgHCDvyEAIA0gACAMoaEFIARBgIDAAEgEfyAMRAAAAAAAAEBDoiIMvUIgiKchBEFLBUEACyAEQRR1Qf8Ha2ohAyAEQf//P3EiAkGAgMD/A3IhBCACQY6xDkwEf0EABSACQfrsLkgEf0EBBSADQQFqIQMgBEGAgEBqIQRBAAsLIQIgDL1C/////w+DIASsQiCGhL8iD0QAAAAAAAD4P0QAAAAAAADwPyACGyIQoSISRAAAAAAAAPA/IA8gEKCjIhOiIg29QoCAgIBwg78iDCAMoiERIAwgEUQAAAAAAAAIQKAgDSANoiIAIACiIAAgACAAIAAgAETvTkVKKH7KP6JEZdvJk0qGzT+gokQBQR2pYHTRP6CiRE0mj1FVVdU/oKJE/6tv27Zt2z+gokQDMzMzMzPjP6CiIBMgEiAMIARBAXVBgICAgAJyQYCAIGogAkESdGqsQiCGvyIAoqEgDCAPIAAgEKGhoqGiIg8gDCANoKKgIgygvUKAgICAcIO/IgCiIhAgDyAAoiAMIABEAAAAAAAACEChIBGhoSANoqAiDKC9QoCAgIBwg78iAEQAAADgCcfuP6IiDSAARPUBWxTgLz6+oiAMIAAgEKGhRP0DOtwJx+4/oqBEBtDPQ+v9TD5EAAAAAAAAAAAgAhugIgygRAAAAEADuOI/RAAAAAAAAAAAIAIbIg+gIAO3IhCgvUKAgICAcIO/IQAgDCAAIBChIA+hIA2hoQshDCABIAG9QoCAgIBwg78iDaEgAKIgASAMoqAiASANIACiIgCgIgy9IgunIQMgC0IgiKciAkGAgMCEBE4EQCADIAJBgIDAhARrciABRP6CK2VHFZc8oCAMIAChZHINAwUgAkH/////B3FBgJjDhARPQQAgAyACQYCYw4R8a3IgASAMIAChZXIbDQQLIAJB/////wdxIgRBFHZB/wdrIQVBACEDIAECfCAEQYCAgP8DSgRAAnwgAkGAgMAAIAVBAWp1aiIEQf////8HcUEUdkH/B2shBUEAIARB//8/cUGAgMAAckEUIAVrdSIDayADIAJBAEgbIQMgACAEQf//PyAFdUF/c3GsQiCGv6ELIQALIAALoL1CgICAgHCDvyIMRAAAAABDLuY/oiINIAEgDCAAoaFE7zn6/kIu5j+iIAxEOWyoDGFcIL6ioCIMoCIAIACiIQEgDkQAAAAAAADwPyAAIAAgASABIAEgASABRNCkvnJpN2Y+okTxa9LFQb27vqCiRCzeJa9qVhE/oKJEk72+FmzBZr+gokQ+VVVVVVXFP6CioSIBoiABRAAAAAAAAABAoaMgDCAAIA2hoSIBIAAgAaKgoSAAoaEiAL1CIIinIANBFHRqIgJBFHVBAEwEfCADIgJB/wdKBHwgAEQAAAAAAADgf6IhACACQf8HayICQf8HSgR8IAJB/wdrIgJB/wcgAkH/B0gbIQIgAEQAAAAAAADgf6IFIAALBSACQYJ4SAR8IABEAAAAAAAAYAOiIQAgAkHJB2oiAkGCeEgEfCACQckHaiICQYJ4IAJBgnhKGyECIABEAAAAAAAAYAOiBSAACwUgAAsLIAKsQv8HfEI0hr+iBSAAvUL/////D4MgAqxCIIaEvwuiDwsgACAAog8LRAAAAAAAAPA/IACjDwsgDkScdQCIPOQ3fqJEnHUAiDzkN36iDwsgDkRZ8/jCH26lAaJEWfP4wh9upQGiC9QFAwJ/AX4EfCAAvSIDQiCIpyIBQR92IQIgAUH/////B3EiAUH7w6T/A00EQCABQYCAwPIDSQRAIAAPCyAAIAAgAKIiBSAAoiAFIAUgBUR9/rFX4x3HPqJE1WHBGaABKr+gokSm+BARERGBP6AgBSAFIAWioiAFRHzVz1o62eU9okTrnCuK5uVavqCioKJESVVVVVVVxb+goqAPCyABQYCAwP8HTwRAIAAgAKEPCwJ/IANCIIinQf////8HcSIBQfvD5IkESQRAAnwgAUEUdiICIAAgAESDyMltMF/kP6KeIgVEAABAVPsh+T+ioSIAIAVEMWNiGmG00D2iIgahIgS9QiCIp0EUdkH/D3FrQRBLBEACfCAFRHNwAy6KGaM7oiAAIAAgBUQAAGAaYbTQPaIiBqEiAKEgBqGhIQYgAiAAIAahIgS9QiCIp0EUdkH/D3FrQTFLBHwgBUTBSSAlmoN7OaIgACAAIAVEAAAALooZozuiIgahIgChIAahoSEGIAAgBqEFIAQLCyEECyAECySRAiAAIAShIAahJJICIAWqDAELQQAgAxAFIgFrIAEgAhsLIQIjkQIhBSOSAiEGIAJBAXEEfEQAAAAAAADwPyAFIAWiIgBEAAAAAAAA4D+iIgShIgdEAAAAAAAA8D8gB6EgBKEgACAAIAAgAESQFcsZoAH6PqJEd1HBFmzBVr+gokRMVVVVVVWlP6CiIAAgAKIiBCAEoiAAIABE1DiIvun6qL2iRMSxtL2e7iE+oKJErVKcgE9+kr6goqCiIAUgBqKhoKAFIAUgBaIiACAFoiEEIAUgACAGRAAAAAAAAOA/oiAEIAAgAER9/rFX4x3HPqJE1WHBGaABKr+gokSm+BARERGBP6AgACAAIACioiAARHzVz1o62eU9okTrnCuK5uVavqCioKKhoiAGoSAERElVVVVVVcW/oqGhCyIAmiAAIAJBAnEbCxIAIAAoAgQgAUECdGogAjgCAAuTCAIFfwl8IAJBAWohDCADQQFqIQ1EAAAAAAAA8D8gBqMhECAEIAWiIgVEz/dT46Wb9j+iRAAAAAAAACRAoBAGRAAAAAAAABBAokRcj8L1KFwnQKAhFCAFRAIrhxbZzvE/okQAAAAAAAAcQKAQBkQAAAAAAAAIQKJECtejcD2KIUCgIRIgBUTufD81XrrzP6JEAAAAAAAACECgEAZEAAAAAAAACECiRBSuR+F6FCVAoCETIAVEQmDl0CLb7T+iRAAAAAAAABRAoBAGRAAAAAAAABBAokR7FK5H4fomQKAhFSMAJIoBIwEkiwEjAiSMASMDJI0BIwQkjgEjBSSPASMGJJABIwckkQEjCCSSASMJJJMBA0AgCiANSARAQQAhCQNAIAkgDEgEQCAJtyACt6MiBCAEoEQAAAAAAADwP6EiBiAGoiAHoiAHoiAKtyADt6MiBCAEoEQAAAAAAADwP6EiDyAPoiAIoiAIoqCfJAogAQRAIAm3IAK3RAAAAAAAAOA/omFBACAKtyADt0QAAAAAAADgP6JhGwRARAAAAAAAAAAAJAsFIA8gCKIgBiAHohAIIgREAAAAAAAAAABjBHwgBEQYLURU+yEZQKAFIAQLJAsLIAZEAAAAAAAA4D+iIAeiRAAAAAAAAOA/oCQMIA9EAAAAAAAA4L+iIAiiRAAAAAAAAOA/oCQNI4oBJAAjiwEkASOMASQCI40BJAMjjgEkBCOPASQFI5ABJAYjkQEkByOSASQII5MBJAkQAQsgBkQAAAAAAADgP6IgB6JEAAAAAAAA8D8jASMCIwoiBCAEoEQAAAAAAADwP6EQCRAJoyIOokQAAAAAAADgP6AjA6EjBaMjA6AhBCAPRAAAAAAAAOC/oiAIoiAOokQAAAAAAADgP6AjBKEjBqMjBKAhDiMARAAAAAAAAAAAYgRAAnwgBCMARHnpJjEIrGw/oiAFRB1aZDvfT9U/oiAQIAYgFKIiESAPIBWiIhahoqAQCqKgIQQgDiMARHnpJjEIrGw/oiAFRAAAAAAAANg/oiAQIAYgE6IgDyASoqCioRAGoqAhDiAEIwBEeekmMQisbD+iIAVEf2q8dJMY6D+iIBAgBiASoiAPIBOioaKhEAaioCEEIA4jAER56SYxCKxsP6IgBURmZmZmZmbqP6IgECARIBagoqAQCqKgCyEOCyAEIwOhIQQgDiMEoSEGIwkQBiEPIAQjCRAKIg6iIAYgD6KgIwSgIwihRAAAAAAAAOA/oSAIo0QAAAAAAADgP6AhESAAIAsgBCAPoiAGIA6ioSMDoCMHoUQAAAAAAADgP6EgB6NEAAAAAAAA4D+gthALIAAgC0EBaiARthALIAtBAmohCyAJQQFqIQkMAQsLIApBAWohCgwBCwsLogEAIw4klAEjDySVASMQJJYBIxEklwEjEiSYASMTJJkBIxQkmgEjFSSbASMWJJwBIxcknQEjGCSeASMZJJ8BIxokoAEjGyShASMcJKIBIx0kowEjHiSkASMfJKUBIyAkpgEjISSnASMiJKgBIyMkqQEjJCSqASMlJKsBIyYkrAEjJyStASMoJK4BIykkrwEjKiSwASMrJLEBIywksgEjLSSzAQuiAQAjlAEkDiOVASQPI5YBJBAjlwEkESOYASQSI5kBJBMjmgEkFCObASQVI5wBJBYjnQEkFyOeASQYI58BJBkjoAEkGiOhASQbI6IBJBwjowEkHSOkASQeI6UBJB8jpgEkICOnASQhI6gBJCIjqQEkIyOqASQkI6sBJCUjrAEkJiOtASQnI64BJCgjrwEkKSOwASQqI7EBJCsjsgEkLCOzASQtCyoAIy4ktAEjLyS1ASMwJLYBIzEktwEjMiS4ASMzJLkBIzQkugEjNSS7AQsqACO0ASQuI7UBJC8jtgEkMCO3ASQxI7gBJDIjuQEkMyO6ASQ0I7sBJDULawAjNiS8ASM3JL0BIzgkvgEjOSS/ASM6JMABIzskwQEjPCTCASM9JMMBIz4kxAEjPyTFASNAJMYBI0EkxwEjQiTIASNDJMkBI0QkygEjRSTLASNGJMwBI0ckzQEjSCTOASNJJM8BI0ok0AELawAjvAEkNiO9ASQ3I74BJDgjvwEkOSPAASQ6I8EBJDsjwgEkPCPDASQ9I8QBJD4jxQEkPyPGASRAI8cBJEEjyAEkQiPJASRDI8oBJEQjywEkRSPMASRGI80BJEcjzgEkSCPPASRJI9ABJEoLawAjSyTRASNMJNIBI00k0wEjTiTUASNPJNUBI1Ak1gEjUSTXASNSJNgBI1Mk2QEjVCTaASNVJNsBI1Yk3AEjVyTdASNYJN4BI1kk3wEjWiTgASNbJOEBI1wk4gEjXSTjASNeJOQBI18k5QELawAj0QEkSyPSASRMI9MBJE0j1AEkTiPVASRPI9YBJFAj1wEkUSPYASRSI9kBJFMj2gEkVCPbASRVI9wBJFYj3QEkVyPeASRYI98BJFkj4AEkWiPhASRbI+IBJFwj4wEkXSPkASReI+UBJF8LawAjYCTmASNhJOcBI2Ik6AEjYyTpASNkJOoBI2Uk6wEjZiTsASNnJO0BI2gk7gEjaSTvASNqJPABI2sk8QEjbCTyASNtJPMBI24k9AEjbyT1ASNwJPYBI3Ek9wEjciT4ASNzJPkBI3Qk+gELawAj5gEkYCPnASRhI+gBJGIj6QEkYyPqASRkI+sBJGUj7AEkZiPtASRnI+4BJGgj7wEkaSPwASRqI/EBJGsj8gEkbCPzASRtI/QBJG4j9QEkbyP2ASRwI/cBJHEj+AEkciP5ASRzI/oBJHQLdQAjdST7ASN2JPwBI3ck/QEjeCT+ASN5JP8BI3okgAIjeySBAiN8JIICI30kgwIjfiSEAiN/JIUCI4ABJIYCI4EBJIcCI4IBJIgCI4MBJIkCI4QBJIoCI4UBJIsCI4YBJIwCI4cBJI0CI4gBJI4CI4kBJI8CC3UAI/sBJHUj/AEkdiP9ASR3I/4BJHgj/wEkeSOAAiR6I4ECJHsjggIkfCODAiR9I4QCJH4jhQIkfyOGAiSAASOHAiSBASOIAiSCASOJAiSDASOKAiSEASOLAiSFASOMAiSGASONAiSHASOOAiSIASOPAiSJAQsIAEHMCiSQAgsLvAIDAEGMCAsvLAAAAAEAAAAAAAAAAQAAABwAAABJAG4AdgBhAGwAaQBkACAAbABlAG4AZwB0AGgAQbwICzk8AAAAAQAAAAAAAAABAAAAJgAAAH4AbABpAGIALwBhAHIAcgBhAHkAYgB1AGYAZgBlAHIALgB0AHMAQYAJC8ABboP5ogAAAADRVyf8KRVETpmVYtvA3TT1q2NR/kGQQzw6biS3YcW73uouSQbg0k1CHOsd/hyS0Qn1NYLoPqcpsSZwnOmERLsuOdaROUF+X7SLX4Sc9DlTg/+X+B87KPm9ixEv7w+YBd7PfjZtH20KWmY/Rk+3Ccsnx7ondS3qX573OQc9e/Hl67Ff+2vqklKKRjADVghdjR8gvM/wq2t7/GGR46kdNvSaX4WZZQgb5l6A2P+NQGigFFcVBgYxJ3NN"},"./src/audio/audioLevels.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{constructor(e){let t;this.audio=e,t=this.audio.audioContext?this.audio.audioContext.sampleRate:44100;const n=t/this.audio.fftSize,a=Math.clamp(Math.round(20/n)-1,0,this.audio.numSamps-1),r=Math.clamp(Math.round(320/n)-1,0,this.audio.numSamps-1),s=Math.clamp(Math.round(2800/n)-1,0,this.audio.numSamps-1),i=Math.clamp(Math.round(11025/n)-1,0,this.audio.numSamps-1);this.starts=[a,r,s],this.stops=[r,s,i],this.val=new Float32Array(3),this.imm=new Float32Array(3),this.att=new Float32Array(3),this.avg=new Float32Array(3),this.longAvg=new Float32Array(3),this.att.fill(1),this.avg.fill(1),this.longAvg.fill(1)}get bass(){return this.val[0]}get bass_att(){return this.att[0]}get mid(){return this.val[1]}get mid_att(){return this.att[1]}get treb(){return this.val[2]}get treb_att(){return this.att[2]}static isFiniteNumber(e){return Number.isFinite(e)&&!Number.isNaN(e)}static adjustRateToFPS(e,t,n){return e**(t/n)}updateAudioLevels(e,t){if(this.audio.freqArray.length>0){let n=e;!a.isFiniteNumber(n)||n<15?n=15:n>144&&(n=144),this.imm.fill(0);for(let e=0;e<3;e++)for(let t=this.starts[e];t<this.stops[e];t++)this.imm[e]+=this.audio.freqArray[t];for(let e=0;e<3;e++){let r;r=this.imm[e]>this.avg[e]?.2:.5,r=a.adjustRateToFPS(r,30,n),this.avg[e]=this.avg[e]*r+this.imm[e]*(1-r),r=t<50?.9:.992,r=a.adjustRateToFPS(r,30,n),this.longAvg[e]=this.longAvg[e]*r+this.imm[e]*(1-r),this.longAvg[e]<.001?(this.val[e]=1,this.att[e]=1):(this.val[e]=this.imm[e]/this.longAvg[e],this.att[e]=this.avg[e]/this.longAvg[e])}}}}},"./src/audio/audioProcessor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/audio/fft.js");class r{constructor(e){this.numSamps=512,this.fftSize=2*this.numSamps,this.fft=new a.default(this.fftSize,512,!0),e&&(this.audioContext=e,this.audible=e.createDelay(),this.analyser=e.createAnalyser(),this.analyser.smoothingTimeConstant=0,this.analyser.fftSize=this.fftSize,this.audible.connect(this.analyser),this.analyserL=e.createAnalyser(),this.analyserL.smoothingTimeConstant=0,this.analyserL.fftSize=this.fftSize,this.analyserR=e.createAnalyser(),this.analyserR.smoothingTimeConstant=0,this.analyserR.fftSize=this.fftSize,this.splitter=e.createChannelSplitter(2),this.audible.connect(this.splitter),this.splitter.connect(this.analyserL,0),this.splitter.connect(this.analyserR,1)),this.timeByteArray=new Uint8Array(this.fftSize),this.timeByteArrayL=new Uint8Array(this.fftSize),this.timeByteArrayR=new Uint8Array(this.fftSize),this.timeArray=new Int8Array(this.fftSize),this.timeByteArraySignedL=new Int8Array(this.fftSize),this.timeByteArraySignedR=new Int8Array(this.fftSize),this.tempTimeArrayL=new Int8Array(this.fftSize),this.tempTimeArrayR=new Int8Array(this.fftSize),this.timeArrayL=new Int8Array(this.numSamps),this.timeArrayR=new Int8Array(this.numSamps)}sampleAudio(){this.analyser.getByteTimeDomainData(this.timeByteArray),this.analyserL.getByteTimeDomainData(this.timeByteArrayL),this.analyserR.getByteTimeDomainData(this.timeByteArrayR),this.processAudio()}updateAudio(e,t,n){this.timeByteArray.set(e),this.timeByteArrayL.set(t),this.timeByteArrayR.set(n),this.processAudio()}processAudio(){for(let e=0,t=0,n=0;e<this.fftSize;e++)this.timeArray[e]=this.timeByteArray[e]-128,this.timeByteArraySignedL[e]=this.timeByteArrayL[e]-128,this.timeByteArraySignedR[e]=this.timeByteArrayR[e]-128,this.tempTimeArrayL[e]=.5*(this.timeByteArraySignedL[e]+this.timeByteArraySignedL[n]),this.tempTimeArrayR[e]=.5*(this.timeByteArraySignedR[e]+this.timeByteArraySignedR[n]),e%2==0&&(this.timeArrayL[t]=this.tempTimeArrayL[e],this.timeArrayR[t]=this.tempTimeArrayR[e],t+=1),n=e;this.freqArray=this.fft.timeToFrequencyDomain(this.timeArray),this.freqArrayL=this.fft.timeToFrequencyDomain(this.timeByteArraySignedL),this.freqArrayR=this.fft.timeToFrequencyDomain(this.timeByteArraySignedR)}connectAudio(e){e.connect(this.audible)}disconnectAudio(e){e.disconnect(this.audible)}}},"./src/audio/fft.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{constructor(e,t,n=!1){this.samplesIn=e,this.samplesOut=t,this.equalize=n,this.NFREQ=2*t,this.equalize&&this.initEqualizeTable(),this.initBitRevTable(),this.initCosSinTable()}initEqualizeTable(){this.equalizeArr=new Float32Array(this.samplesOut);const e=1/this.samplesOut;for(let t=0;t<this.samplesOut;t++)this.equalizeArr[t]=-.02*Math.log((this.samplesOut-t)*e)}initBitRevTable(){this.bitrevtable=new Uint16Array(this.NFREQ);for(let e=0;e<this.NFREQ;e++)this.bitrevtable[e]=e;let e=0;for(let t=0;t<this.NFREQ;t++){if(e>t){const n=this.bitrevtable[t];this.bitrevtable[t]=this.bitrevtable[e],this.bitrevtable[e]=n}let n=this.NFREQ>>1;for(;n>=1&&e>=n;)e-=n,n>>=1;e+=n}}initCosSinTable(){let e=2,t=0;for(;e<=this.NFREQ;)t+=1,e<<=1;this.cossintable=[new Float32Array(t),new Float32Array(t)],e=2;let n=0;for(;e<=this.NFREQ;){const t=-2*Math.PI/e;this.cossintable[0][n]=Math.cos(t),this.cossintable[1][n]=Math.sin(t),n+=1,e<<=1}}timeToFrequencyDomain(e){const t=new Float32Array(this.NFREQ),n=new Float32Array(this.NFREQ);for(let a=0;a<this.NFREQ;a++){const r=this.bitrevtable[a];r<this.samplesIn?t[a]=e[r]:t[a]=0,n[a]=0}let a=2,r=0;for(;a<=this.NFREQ;){const e=this.cossintable[0][r],s=this.cossintable[1][r];let i=1,o=0;const l=a>>1;for(let r=0;r<l;r++){for(let e=r;e<this.NFREQ;e+=a){const a=e+l,r=i*t[a]-o*n[a],s=i*n[a]+o*t[a];t[a]=t[e]-r,n[a]=n[e]-s,t[e]+=r,n[e]+=s}const m=i;i=m*e-o*s,o=o*e+m*s}a<<=1,r+=1}const s=new Float32Array(this.samplesOut);if(this.equalize)for(let e=0;e<this.samplesOut;e++)s[e]=this.equalizeArr[e]*Math.sqrt(t[e]*t[e]+n[e]*n[e]);else for(let e=0;e<this.samplesOut;e++)s[e]=Math.sqrt(t[e]*t[e]+n[e]*n[e]);return s}}},"./src/blankPreset.js":function(e,t,n){var a;void 0===(a=function(){return{baseVals:{gammaadj:1.25,wave_g:.5,mv_x:12,warpscale:1,brighten:0,mv_y:9,wave_scale:1,echo_alpha:0,additivewave:0,sx:1,sy:1,warp:.01,red_blue:0,wave_mode:0,wave_brighten:0,wrap:0,zoomexp:1,fshader:0,wave_r:.5,echo_zoom:1,wave_smoothing:.75,warpanimspeed:1,wave_dots:0,wave_x:.5,wave_y:.5,zoom:1,solarize:0,modwavealphabyvolume:0,dx:0,cx:.5,dy:0,darken_center:0,cy:.5,invert:0,bmotionvectorson:0,rot:0,modwavealphaend:.95,wave_mystery:-.2,decay:.9,wave_a:1,wave_b:.5,rating:5,modwavealphastart:.75,darken:0,echo_orient:0,ib_r:.5,ib_g:.5,ib_b:.5,ib_a:0,ib_size:0,ob_r:.5,ob_g:.5,ob_b:.5,ob_a:0,ob_size:0,mv_dx:0,mv_dy:0,mv_a:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_l:0},init_eqs:function(){return{}},frame_eqs:function(e){return e.rkeys=["warp"],e.zoom=1.01+.02*e.treb_att,e.warp=.15+.25*e.bass_att,e},pixel_eqs:function(e){return e.warp=e.warp+.15*e.rad,e},waves:[{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e},point_eqs:""}],shapes:[{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(e){return e.rkeys=[],e},frame_eqs:function(e){return e}}],warp:"shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret -= 0.004;\n}\n",comp:"shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret *= hue_shader;\n}\n"}}.apply(t,[]))||(e.exports=a)},"./src/equations/presetEquationRunner.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/utils.js");class r{constructor(e,t,n){this.preset=e,this.texsizeX=n.texsizeX,this.texsizeY=n.texsizeY,this.mesh_width=n.mesh_width,this.mesh_height=n.mesh_height,this.aspectx=n.aspectx,this.aspecty=n.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.qs=a.default.range(1,33).map((e=>`q${e}`)),this.ts=a.default.range(1,9).map((e=>`t${e}`)),this.regs=a.default.range(100).map((e=>e<10?`reg0${e}`:`reg${e}`)),this.initializeEquations(t)}initializeEquations(e){this.runVertEQs=""!==this.preset.pixel_eqs,this.mdVSQInit=null,this.mdVSRegs=null,this.mdVSFrame=null,this.mdVSUserKeys=null,this.mdVSFrameMap=null,this.mdVSShapes=null,this.mdVSUserKeysShapes=null,this.mdVSFrameMapShapes=null,this.mdVSWaves=null,this.mdVSUserKeysWaves=null,this.mdVSFrameMapWaves=null,this.mdVSQAfterFrame=null,this.gmegabuf=new Array(1048576).fill(0);const t={frame:e.frame,time:e.time,fps:e.fps,bass:e.bass,bass_att:e.bass_att,mid:e.mid,mid_att:e.mid_att,treb:e.treb,treb_att:e.treb_att,meshx:this.mesh_width,meshy:this.mesh_height,aspectx:this.invAspectx,aspecty:this.invAspecty,pixelsx:this.texsizeX,pixelsy:this.texsizeY,gmegabuf:this.gmegabuf};this.mdVS=Object.assign({},this.preset.baseVals,t),this.mdVS.megabuf=new Array(1048576).fill(0),this.mdVS.rand_start=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]),this.mdVS.rand_preset=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]);const n=this.qs.concat(this.regs,Object.keys(this.mdVS)),r=this.preset.init_eqs(a.default.cloneVars(this.mdVS));this.mdVSQInit=a.default.pick(r,this.qs),this.mdVSRegs=a.default.pick(r,this.regs);const s=a.default.pick(r,Object.keys(a.default.omit(r,n)));if(s.megabuf=r.megabuf,s.gmegabuf=r.gmegabuf,this.mdVSFrame=this.preset.frame_eqs(Object.assign({},this.mdVS,this.mdVSQInit,this.mdVSRegs,s)),this.mdVSUserKeys=Object.keys(a.default.omit(this.mdVSFrame,n)),this.mdVSFrameMap=a.default.pick(this.mdVSFrame,this.mdVSUserKeys),this.mdVSQAfterFrame=a.default.pick(this.mdVSFrame,this.qs),this.mdVSRegs=a.default.pick(this.mdVSFrame,this.regs),this.mdVSWaves=[],this.mdVSTWaveInits=[],this.mdVSUserKeysWaves=[],this.mdVSFrameMapWaves=[],this.preset.waves&&this.preset.waves.length>0)for(let e=0;e<this.preset.waves.length;e++){const n=this.preset.waves[e],r=n.baseVals;if(0!==r.enabled){let s=Object.assign({},r,t);const i=this.qs.concat(this.ts,this.regs,Object.keys(s));Object.assign(s,this.mdVSQAfterFrame,this.mdVSRegs),s.megabuf=new Array(1048576).fill(0),n.init_eqs&&(s=n.init_eqs(s),this.mdVSRegs=a.default.pick(s,this.regs),Object.assign(s,r)),this.mdVSWaves.push(s),this.mdVSTWaveInits.push(a.default.pick(s,this.ts)),this.mdVSUserKeysWaves.push(Object.keys(a.default.omit(s,i))),this.mdVSFrameMapWaves.push(a.default.pick(s,this.mdVSUserKeysWaves[e]))}else this.mdVSWaves.push({}),this.mdVSTWaveInits.push({}),this.mdVSUserKeysWaves.push([]),this.mdVSFrameMapWaves.push({})}if(this.mdVSShapes=[],this.mdVSTShapeInits=[],this.mdVSUserKeysShapes=[],this.mdVSFrameMapShapes=[],this.preset.shapes&&this.preset.shapes.length>0)for(let e=0;e<this.preset.shapes.length;e++){const n=this.preset.shapes[e],r=n.baseVals;if(0!==r.enabled){let s=Object.assign({},r,t);const i=this.qs.concat(this.ts,this.regs,Object.keys(s));Object.assign(s,this.mdVSQAfterFrame,this.mdVSRegs),s.megabuf=new Array(1048576).fill(0),n.init_eqs&&(s=n.init_eqs(s),this.mdVSRegs=a.default.pick(s,this.regs),Object.assign(s,r)),this.mdVSShapes.push(s),this.mdVSTShapeInits.push(a.default.pick(s,this.ts)),this.mdVSUserKeysShapes.push(Object.keys(a.default.omit(s,i))),this.mdVSFrameMapShapes.push(a.default.pick(s,this.mdVSUserKeysShapes[e]))}else this.mdVSShapes.push({}),this.mdVSTShapeInits.push({}),this.mdVSUserKeysShapes.push([]),this.mdVSFrameMapShapes.push({})}}updatePreset(e,t){this.preset=e,this.initializeEquations(t)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}runFrameEquations(e){return this.mdVSFrame=Object.assign({},this.mdVS,this.mdVSQInit,this.mdVSFrameMap,e),this.mdVSFrame=this.preset.frame_eqs(this.mdVSFrame),this.mdVSFrameMap=a.default.pick(this.mdVSFrame,this.mdVSUserKeys),this.mdVSQAfterFrame=a.default.pick(this.mdVSFrame,this.qs),this.mdVSFrame}runPixelEquations(e){return this.preset.pixel_eqs(e)}runShapeFrameEquations(e,t){return this.preset.shapes[e].frame_eqs(t)}runWaveFrameEquations(e,t){return this.preset.waves[e].frame_eqs(t)}runWavePointEquations(e,t){return this.preset.waves[e].point_eqs(t)}}},"./src/equations/presetEquationRunnerWASM.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/utils.js");class r{constructor(e,t,n){this.preset=e,this.texsizeX=n.texsizeX,this.texsizeY=n.texsizeY,this.mesh_width=n.mesh_width,this.mesh_height=n.mesh_height,this.aspectx=n.aspectx,this.aspecty=n.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.qs=a.default.range(1,33).map((e=>`q${e}`)),this.ts=a.default.range(1,9).map((e=>`t${e}`)),this.regs=a.default.range(100).map((e=>e<10?`reg0${e}`:`reg${e}`)),this.globalKeys=["frame","time","fps","bass","bass_att","mid","mid_att","treb","treb_att","meshx","meshy","aspectx","aspecty","pixelsx","pixelsy"],this.frameKeys=["decay","wave_a","wave_r","wave_g","wave_b","wave_x","wave_y","wave_scale","wave_smoothing","wave_mode","old_wave_mode","wave_mystery","ob_size","ob_r","ob_g","ob_b","ob_a","ib_size","ib_r","ib_g","ib_b","ib_a","mv_x","mv_y","mv_dx","mv_dy","mv_l","mv_r","mv_g","mv_b","mv_a","echo_zoom","echo_alpha","echo_orient","wave_dots","wave_thick","additivewave","wave_brighten","modwavealphabyvolume","modwavealphastart","modwavealphaend","darken_center","gammaadj","warp","warpanimspeed","warpscale","zoom","zoomexp","rot","cx","cy","dx","dy","sx","sy","fshader","wrap","invert","brighten","darken","solarize","bmotionvectorson","b1n","b2n","b3n","b1x","b2x","b3x","b1ed"],this.waveFrameKeys=["samples","sep","scaling","spectrum","smoothing","r","g","b","a"],this.waveFrameInputKeys=["samples","r","g","b","a"],this.initializeEquations(t)}getQVars(e){return a.default.pickWasm(this.preset.globalPools[e],this.qs)}getTVars(e){return a.default.pickWasm(this.preset.globalPools[e],this.ts)}initializeEquations(e){this.runVertEQs=!!this.preset.pixel_eqs,this.mdVSQInit=null,this.mdVSQAfterFrame=null;const t={frame:e.frame,time:e.time,fps:e.fps,bass:e.bass,bass_att:e.bass_att,mid:e.mid,mid_att:e.mid_att,treb:e.treb,treb_att:e.treb_att,meshx:this.mesh_width,meshy:this.mesh_height,aspectx:this.invAspectx,aspecty:this.invAspecty,pixelsx:this.texsizeX,pixelsy:this.texsizeY};if(this.mdVS=Object.assign({},this.preset.baseVals,t),a.default.setWasm(this.preset.globalPools.perFrame,this.mdVS,Object.keys(this.mdVS)),this.rand_start=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]),this.rand_preset=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]),this.preset.init_eqs(),this.mdVSQInit=this.getQVars("perFrame"),this.preset.frame_eqs(),this.mdVSQAfterFrame=this.getQVars("perFrame"),this.mdVSTWaveInits=[],this.preset.waves&&this.preset.waves.length>0)for(let e=0;e<this.preset.waves.length;e++){const t=this.preset.waves[e],n=t.baseVals;0!==n.enabled?(a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],n,Object.keys(n)),t.init_eqs&&(t.init_eqs(),a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],n,Object.keys(n))),this.mdVSTWaveInits.push(this.getTVars(`wavePerFrame${e}`))):this.mdVSTWaveInits.push({})}if(this.mdVSTShapeInits=[],this.preset.shapes&&this.preset.shapes.length>0)for(let e=0;e<this.preset.shapes.length;e++){const t=this.preset.shapes[e],n=t.baseVals;0!==n.enabled?(a.default.setWasm(this.preset.globalPools[`shapePerFrame${e}`],n,Object.keys(n)),t.init_eqs&&(t.init_eqs(),a.default.setWasm(this.preset.globalPools[`shapePerFrame${e}`],n,Object.keys(n))),this.mdVSTShapeInits.push(this.getTVars(`shapePerFrame${e}`))):this.mdVSTShapeInits.push({})}}updatePreset(e,t){this.preset=e,this.initializeEquations(t)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}runFrameEquations(e){a.default.setWasm(this.preset.globalPools.perFrame,this.mdVS,this.frameKeys),a.default.setWasm(this.preset.globalPools.perFrame,this.mdVSQInit,this.qs),a.default.setWasm(this.preset.globalPools.perFrame,e,this.globalKeys),this.preset.frame_eqs(),this.preset.save_qs(),this.mdVSQAfterFrame=this.getQVars("perFrame");const t=a.default.pickWasm(this.preset.globalPools.perFrame,[...this.frameKeys,...this.globalKeys]);return t.rand_preset=this.rand_preset,t.rand_start=this.rand_start,t}runWaveFrameEquations(e,t){const n=this.preset.waves[e].baseVals;return a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],n,this.waveFrameInputKeys),a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],this.mdVSQAfterFrame,this.qs),a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],this.mdVSTWaveInits[e],this.ts),a.default.setWasm(this.preset.globalPools[`wavePerFrame${e}`],t,this.globalKeys),this.preset.waves[e].frame_eqs(),a.default.pickWasm(this.preset.globalPools[`wavePerFrame${e}`],this.waveFrameKeys)}}},"./src/image/imageTextures.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{constructor(e){this.gl=e,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.samplers={},this.clouds2Image=new Image,this.clouds2Image.onload=()=>{this.samplers.clouds2=this.gl.createTexture(),this.bindTexture(this.samplers.clouds2,this.clouds2Image,128,128)},this.clouds2Image.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4RP+RXhpZgAASUkqAAgAAAAJAA8BAgAGAAAAegAAABABAgAVAAAAgAAAABIBAwABAAAAAQAAABoBBQABAAAAoAAAABsBBQABAAAAqAAAACgBAwABAAAAAgAAADIBAgAUAAAAsAAAABMCAwABAAAAAQAAAGmHBAABAAAAxAAAAGYFAABDYW5vbgBDYW5vbiBQb3dlclNob3QgUzExMAAAAAAAAAAAAAAAAEgAAAABAAAASAAAAAEAAAAyMDAyOjAxOjE5IDE3OjMzOjIwABsAmoIFAAEAAABWAwAAnYIFAAEAAABeAwAAAJAHAAQAAAAwMjEwA5ACABQAAAAOAgAABJACABQAAAAiAgAAAZEHAAQAAAABAgMAApEFAAEAAAA+AwAAAZIKAAEAAABGAwAAApIFAAEAAABOAwAABJIKAAEAAABmAwAABZIFAAEAAABuAwAABpIFAAEAAAB2AwAAB5IDAAEAAAAFAAAACZIDAAEAAAAAAAAACpIFAAEAAAB+AwAAfJIHAJoBAACGAwAAhpIHAAgBAAA2AgAAAKAHAAQAAAAwMTAwAaADAAEAAAABAAAAAqAEAAEAAACAAAAAA6AEAAEAAACAAAAABaAEAAEAAAAwBQAADqIFAAEAAAAgBQAAD6IFAAEAAAAoBQAAEKIDAAEAAAACAAAAF6IDAAEAAAACAAAAAKMHAAEAAAADAAAAAAAAADIwMDI6MDE6MTkgMTc6MzM6MjAAMjAwMjowMToxOSAxNzozMzoyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAACoBAAAgAAAAuAAAACAAAAABAAAAgAIAAEgAAAAKAAAA/////wMAAACK+AIAAAABAL8BAADoAwAArQAAACAAAAAMAAEAAwAmAAAAHAQAAAIAAwAEAAAAaAQAAAMAAwAEAAAAcAQAAAQAAwAaAAAAeAQAAAAAAwAGAAAArAQAAAAAAwAEAAAAuAQAAAYAAgAgAAAAwAQAAAcAAgAYAAAA4AQAAAgABAABAAAAkc4UAAkAAgAgAAAA+AQAABAABAABAAAAAAAJAQ0AAwAEAAAAGAUAAAAAAABMAAIAAAAFAAAAAAAAAAQAAAABAAAAAQAAAAAAAAAAAAAAAwABAAEwAAD/////WgGtACAAYgC4AP//AAAAAAAAAAAAAP//SABABkAGAgCtANMAngAAAAAAAAAAADQAAACPAEYBtQAqAfT/AgABAAEAAAAAAAAAAAAEMAAAAAAAAAAAvwEAALgAJwEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAElNRzpQb3dlclNob3QgUzExMCBKUEVHAAAAAAAAAAAARmlybXdhcmUgVmVyc2lvbiAxLjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAMgAuQC5AABqGADOAAAAgE8SAJsAAAAEAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAEQAwABAAAAQAYAAAIQAwABAAAAsAQAAAAAAAAGAAMBAwABAAAABgAAABoBBQABAAAAtAUAABsBBQABAAAAvAUAACgBAwABAAAAAgAAAAECBAABAAAA9AUAAAICBAABAAAAuA0AAAAAAAC0AAAAAQAAALQAAAABAAAAaM5qp6ps7vXbS52etpVdo/tuYZ2wtrDFXnrx1HK+braKpineV1+3VFWVteo72Poc/9j/2wCEAAkGBggGBQkIBwgKCQkLDRYPDQwMDRwTFRAWIR0jIiEcIB8kKTQsJCcxJx4fLT0tMTY3Ojo6Iio/RD44QjM3OTYBCQkJDAoMFAwMFA8KCgoPGhoKChoaTxoaGhoaT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAHgAoAMBIQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOdCcU4R11HMSLHTxFTAXy6PLxQIUJTglIDo9KtbWzjScNvnK/gtao1FkycjaO1ebWvOWvyR307RjZfM5zXoraacTW3DtkyD1PrWathui39q66cmoK+60OacU5O2xA8ZQlT2qBkrdfmYsiZMUwpxVCImXNRMntTERlaaRg0CN5Y8iniOszUlWOniOgQhj5o2UwDZS7KBFmAuoCnIAq69wUjIHPHWuaok5HTBtIqrbzXCMyAEDqCarPvGV6Yqlbb+Xch337kBTOd1RNHxgCrc+xKgNWAPxyD2qCWMAY7g81UJ83yJlGxCy4qJlzWqMyMpTClAjoxCUbDCniP2rK5qOVKkEdMA8ummPmgA2Vd0m1S4vMTIXjUEtjtUzdotrdLQcFeSXQfcQqJ2y/GaZL5fkhE5Y9TXPFt2Zu7K6IUinVWVW+XvjvSNCsceScsa0k1067kRT69NisY8mnC2YoWA4qL2KtcglyjcVVdd78daqnK3zImr/IheFgTkdKiZK6ou6MJKxGyUwrTJOxmjaS2WYqwjLHbnp9KBaeeB5MbZxzXLGVlfotzpcdbdXsQiKniOtSBfLppjoTE0NMdPiYxElSRmiSurAnZiSMTzmmKSDmpUdCpS1NvT0TUoHEjpGQcYC8n3qM6MJdxgYuF46VyyfI2ui6nQlzJPq+hDPo0qcKNz/wB0U54Es7co/wAzkcgdAamU01ZbtjUWnrsjDn+dzxiqpjYHK1aZDHJGQmM9ahe2zk+lbU5WZlOOhWZKjKV1nOddYTPLpptjztbcB2NTBXibaSUOOma4IWt+h2y3/Uj8rmlEdbJmLQpTjpTNlNCYnl00x1RI0x00x4oARd6tmPIPtW1o+uf2fGd+GORlcdffNZVaaqRt1NKc+R36HQxWsWoqbmGQ/MMkg4rL1bSdi5UV5fM4ys9LHfZNXXU599Lkd+FNMbSzGPmHNb85lyFaS32HgUx8pGcqK2g72M5aGY8fPSomSvRRwndafZfYtRCzL8rHFaPiPTTHKlxHGEjKhTj1ryKU/wB4uzR6dSPuPujF2YIzTxHxXamtuxyNPfuIY+KYY6okDHg4pHQIMsQKLhYhV0dtq8mr6aQ8loZRy390DNZVKqgr92aQpczKcd8+nXefLHAwVI6028nt7mTzIY/KJ5IB4qI3UuZO6fxIuSTjy21WzLmjXs9rKFidgM/dzxXTJeRECC5ZN5XPWscVTTlePxM0oS0s9kUriaIEiIKAPzrFup/3uBzmopU3fUqc0isTEQWftVWZ0dPlWuqNNr0RhKafqzOlh6mq7x12RZytHqssMcwSfy0wwyDuxRq2oCew8gxjdx1HT3rx6Uby9GenUdkc/wCSpPzdaV4WVeFJru226nLv8iFVc/eXFKYsCqi7omSIjHzS3EKSRZBJbHNOWwRMp4WjO/O0Z4NWUubuGParnafSsXFS0ZonYRo/Pwzcmk8gL0FbQgkjOUncfFK9sSU4JpkkzO+7Jz9atRV7mbk7WHpczAcOT9aUqzgu3Ud6lxSd1oylJvRkMgDZJJzVSTK9KqKJbIGJqJlzWiViG7nfW1/ZK8XJUDqT0q9q08V2sRiL5HAG35SD3Bryaalzps9KduWyKt1pjWoXzG2uRnkcCs+8ee2YKJUbIzx0Iq/bXemiRPs7IY15Ey7m+TA5BrPuNUDIyCMDnhs81rz3SsZ8tmXbFDe2DTKVzHwyk8n6Vl3944Zo04A7jvT9pp5oOTX1Mp5GVsnmtG21aEQKkikFRj604SFKJOmpWrHAYr9RUjMGXKcg9xW0WmYyTREwNN281qZkqphQRwacCMYPHvUPUpCPGhXORmqU0fNEXqEkV2j9qjKVoQa+GAALE47VPDezRYUOdo7V5CkelY0pb+eayOJt4PG1uSKxpEkQkkmp0T9StX8hnm5GCM1GUBzVXsIj+deFYge1NMTueuapyJURr2jMvTmqclq4PK4ohMJRIhGwNadgLolUjDMvcVtz217GfLc2PsuSQQdw7Uw2pU/MCK6FU6eWhg4afmWLeKFkZJcg9mFRzac8MSyMRhumKnns7PZvQOS6utLblaRMLyR9KhkhVVBDZzV21TFeysVXWoiK1MjttV8O/YWyXVgegFZRsTu4FeHdp2e63PWSvqupZtrbadpHFPnst4xgVDlqUkUX03ax7VEbNd3ByapSbFYDYKw4PPpTv7LdT0wRVq703J0XkBtlU7Sy7qje1yMMtJpoaaZWbTCZOB+FdVo+n/ZrRXaEh/pwacptxEo2ZZfRBLmQNskY8g1lXmm3VsS4IZaaxDvZ9NifZK35mUZbp7odD6jGK3jcotogmgUrWsp3tZ2sTGO+nqZr3Flco6JEEdc7eetLDoElxEH81Vz0FbQrOEby9530MZUlJ+7ppqOOgRxDMrqcdumaqz6Xa55YJnphqaxE5PRadgdGKWr17nd+cl4VFzGHAq0NEspRuRNp9K5vYxm3e6b2ZvzuK027CroNsPvLz6iql7oICFkOQO1RPCuMbp3a3Q41ruzWj2MG604xZJrInQoSVHPrXPB3NZEYlm6bM0gup0+SQttPXmt42W25DuRTW7ht6qXX1qxZSSSttZcqPWrjJPfXuiWrbGgFiADHBxW9p1z5dv8AvW3J2B7VbUeXuQnK/kM+0SyTt5GSg/ic8VUv7xpodrDn26Gs5wj0+LqXGT67dDFWLEhfkGo5nklyrE4qlC9vwJcrFRbJVl3GtO1njhTqQR61u4StYyU1civ7sSLtAJ981kSLnPJrelHlRhVlzM7yLTdTtJuu9Qe3NdBbGUorMFJxz2NcFPnUrWO2XK4lsdKCARg13bmBSurCGU4aMtn0qjJ4Xt3YnP0GK4pYbmk+X3bGyq2WvvFKTw5IpIRAR61Fc+Gttvvfn1GOlYeynHVq1uprzxfzKcCW1mdroXU8YIqQR2KA7AxPUgDGKiz3TKutjPnjic74jtB9TzT4p58Bc7yOm6tItrfoQ0mWEubtZf367l7DtUqq1w24gKg6kDpW0FFrm7Gc207dynKqqzAoOehFVmhLdFJ/CumKtuYN9gGnzuPlibmoXs5VJBXkH1qlVjtdEezlvYimtJEXLow/CqErIDWkZp7WZEotbnrsTkjrmphz1rGDutdToloxaK0EMkU9VGSKRDIQd4A9MVm+ZS0+F7selvPoNDuHw3T2oJWUlWH50r3Vn1HtqjG1LSmVS6DdzxxWQ+nTSTcghjXBKPs3Z/I6IvmV/vK7aWYptsp2jua0LG3tllLQZkK8dO9C95227g9FfcmuFnnUrtyF9BUthHhfLkjO0n14zXToo2WhiruV2JqFtFGNyxoSPUVztzrdzBJhdoVewFZJ8zs3dLY0a5dVu9yCTxLKUPyDd2NZE+tXDyF84J74rSMEiJSbKFxqFxMpDyuQe2azpN3dj+dbRlbYzkr7nvCJkYxsP95eDUqxyA584t7EVnTi+j5fLoaSa66+ZOM45orqMgooAYwqNhis5DQ0yMBio2Zm7ZrNu+5VrDNizPsdFI9CKjNrDCuEiCZ6kcVlKEd7fMtSe34DY2jV8YKknvzTLqUQcs+PwqJuyuVHU5TWtVeaX5coq/dGaxpLxpUw4zjvRFKwSepAF85SUGcdRVeaJh/DiqvZ2JsZ86sDz0qBo2xu/hq0yLHvy9KeK2pkvcdRWogpM0AIaYwqJAhNq1FcPKoHlIHHesZNqPu6vsWtXrou5HuK5YLzjjNZ1/c3YiIUZX+8vauec36LqbRivV9DNivriYlWOdo6HmrxleWIBgDx3HSpaugvZmDqFuWYgwKSPQVlsjxIym3BUgjmoXa+xT7lSOzd3PkAq3YZpby8vVASeNendBzWukt+nUz22Jo7S2v4A3lFGxzg1Rm0l4m+UMVPqKlSa03Q2k9T/9n4qqwQ2C6FUcJKhVwpbQ1vCsihOUlK0km1lS0VoSE2qiF4TrpDJE0aZJK5EgBF7pQGeoyWHrHyLxlrwklpeaZbWWmyFkkIa43/2P/bAEMAAgEBAQEBAgEBAQICAgICBAMCAgICBQQEAwQGBQYGBgUGBgYHCQgGBwkHBgYICwgJCgoKCgoGCAsMCwoMCQoKCv/bAEMBAgICAgICBQMDBQoHBgcKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCv/AABEIAIAAgAMBIgACEQEDEQH/xAAeAAACAwEAAwEBAAAAAAAAAAAGBwQFCAMBAgkACv/EADcQAAEDAwMDAgUDAgYCAwAAAAECAwQFBhEAEiEHMUETUQgiMmFxFIGRFaEjQlKxwdEW8ReCov/EABsBAAICAwEAAAAAAAAAAAAAAAUGAwQBAgcA/8QAMREAAgEDAwMCBQMDBQAAAAAAAQIDAAQRBRIhMUFRE3EiYYGRwaHR4QYU8BUjMnKx/9oADAMBAAIRAxEAPwDNEamJCR8v9tT4dJ3Zwn+2rSHStzaVBvOrSDShnBTpvDYpbIBqsi0QKRn0+QO2uwpJQQCjRFEpR8D+2uj1LIXjb/bWwfmtNvFDqaWE/LsHfXZFNB/y6uVU75uUjj7a6NwMfMEfjWd3Fa0f/DB0mtK7KpIum8KgUxqQ+0pmE2EqMlzOQFA/5MgZ/J1q2L1glUxsPtIbbitNpW80EgbwSO+PGsWWjUqhRZy/0Tqkh1OFgH78aaKLzm0i28SnlLddYwk+wGdJH9QafJd3QLtkdh4802aNeRwWxCjBHU+aA/iosex//ktysdPnN8SpAOymM/M1IUo7/wD6k8jS8uTpxPthCJL3yuJSFKGOwPY50wavS7gnU3+vro7i4QXkyA3naoc86FrhnVGqpQl1SvTI5QVZzycHR6zkmiiSMvkLwSevtQe7WJ5HcLyeRS/q0BHqLc9NIKjyB50Pz6cEkkj+2j2qUlDRWfrJSQEgdjqqRbKKkVMJe2uBO5KSngn20SW9t1OC1DjaTsMhaBKhBCWt23A841QVGnBaiQ3n86O67TGWigR1bsg7hjkHPnVFNiJSgpIyc8DRBDxVRhjigmVAAP041CcaW2rcgYI9tE82n5PCedVkqAUkgJ1uQDUXfFaZplIUMsqb2kHke2rGNSylf0g8+2j2rWvRZtbjvxXY7EV14tuymdxzknCiD9hnge+oU+110+WtoLS4hKylDiBwoe/+2gkVysgB80akhZCQao4lMCk528jXRykKJ3bfxq8jUopABT31KXSRn6NS7sVFjihNVM+Y5T24zr1FPIVt26I3aUoEkA9+2uCqaUuDKdShs1oQM0bVvpPAtizaDUKLKVIVUYaZcxTrQSpl4jBQPOE/7k6rK1QUU213PUmJVLeWG4zTSgoff8Ht/Op1239WbjjNqqMgKDLKW0hCQkAJAHYceNC8aprVNbW+nKErG7nxnnGlyG3vJcvIckHP8f4KNyz20QCxjqP4rlFq98KoZs5ptxmKuQQ4kZBK/PPtjx21U3NbopREMhKlgfOQex9taAhdK3uofT7/AMo6eUh2PBElXqOyn0bFKT9XJOQRuHccg6BKn0RvByUUyqI+pxbZWnCchSQcZyOMZxzqs97E5IwFweR3z86nS0dFByWyOD2x8qULduuOOfIwVcZOBquqaEUV9t1EMBQz3HjTz6c9OpUibLl1aKGIsMelIekfKncoHAB8nj9tK/qfDpiqu9Hp3KWyQCR3++q7XStcel4FSiAiLf5pTVmEhcl1aOQok8e+h2bTVBZJGD99HAYnQZKxCYSXHRt3LQFAZ+x17XBbjT0VpLURKNqcFwJ5Ufvpms9VUuEfvQC609gpZaWMqAcnjzxqslQwBx+2jGr0ZyI6WHmsKx/OqaXTu4KfxjxpgBDDNBDuU1t2HUKReHSW0yqB6D9NEhh+Q0jIWvcFBC/bgkhX3I8al1mQ5ULdj0gUeKw2zIW6hbKDuJICeSSf9I0c/Bn0Pi3xcL1o1iSmP6chKz6qcjaPlPB78Ej99D9etp63K1OtySfUMSU4zuAwCUqIz++Nc70q8huB6SHLJz9yaeNQt3hbe3Rhj7AUJMUc8fJru5S0+n9HI99EcOkFxO5ScY9hr2k0hIbPy+PbTCX3UEA2mg1ym7gfl51Hk0rCdwbOilVLUkkFGvC6SVEkI/IOrAkAqBlNBbkJQQQnODxqK7TFIPKNGTtFZS4d+AAMnOvU2dPqEN6bAhuuMxwPWdbbJSjPbJ8aw9xFEMk4FeSOSQ4UZqNY/V26LLpj1qR5CjT5K8uhP1oJKclJJ4+ka2DZLVgdROlbVDtKII9wohsKeDxG8Mn/AD4BI2naPPdWsxdOennSm511K27kulcCqlgKpUpxQ9FSwPpV7A++ovTq+Lw6IdUGJcSWmQuG56DjbUrc082T9IUONvn/AI0rana2msB1tjtlX4vG79x2/wDaYLO4udM2mcZjbjzinj1f6PXNEtfDtIYjts8+nETj1FEY3qz3JwNZJvGw566u4n0FbiTu419Ird6o2r18oaWnIiYr8mKlT0dXdteSCArGCMAY/wCNKq8ehtl2tMcl1LY8+SpSGkjsOcE/9aRrbULm0maKZfiHamiW1huI1dDxWGHOmU9tkPyIpSM5STqGKHBTIEea2VJB5GtFXzCob812AkIbUjgADHGgWo9OY7Sf1jrjYDhJQpRxxpktbidjlxig08MSjC81nbqPSKe3Wj/Twop9IbwrsFew0HzaeE8lPfTav+22WqissELUSd2DxjQRVKQGx8qPyddMsJA1qgz2pDvEK3LH519dunnRiPZfXiDc8OoxUU1x8IdUy6NqwrIBx3wSM6B/jNsG2aZ1fdlW5LbWJ0Rtx5pAyW1425J7HIAOmjYxrN8yqTb9UoEanKXT0h+ey8lTrxGcKScZRn2PnzpWdXKVKYvqo0559+U7EfLSJMiOW3HAnspSTnx57Ec65F/TyYuid3IGDjx710nV2zAo28Z/X2pVU+2JMJrZIVk9xrg6xDkLWww8lS0n5kA8jRo7NtiAwpF0SVNEK+YIQdwGq9u16ImOzWqO8l1qWne24MHI/wCD9jpvhugGEakEDrzS/Lb7gXYYJ+VCS6c5HUHkJ+dJyCR2OudJpEya86zGirce27m/TTnGOSSPbV7dM2FRkw0uOMqEuQWfkeSVIUMd0jkdxqM4HqK8qR6oZ9MEOlRxgeQdXBcJIp2HmqZt3jcFhxShvufX6ZWQuS84SlZJaSOMZ9tMzpz8RVmUmy5do120UuNPJBSyklG5eACSR3yB2++ll1F6rW69WZKItHTIUUFDD7rpGxefqwO478atrNtyFeVoR6o84gPeotC1NEDJB4PbQie3W/X02PGc9aKRTf2R3gVUXJRH59xuVSgRzGZcXuQ2CcIB8DXWHClMOIdlLKlA5yfHPfRk1bbkOElp9e5aBtzjwO2qmpNMxspTjPuPGjVnZpGB5FCLq7eQkY4o+HXyRYtowaBY4ALMlt5ySpeVhSQNwPH0nAI9hka6TPiakXWt2Rcqn23HUkrDaApJXwMjz7/zpRyWSpzcPOplOghLaHZLSi2VYCgNYk0PT2G5kyx79+awurXoOA3HjtVjWqgqq1FdVUVqbWCGyDhQOPOhK6KnV3VoVJdWG0AhAHkaNJUQrpbcVLSAVnd6iOVHuMaFrnp0tpKv1BJUgYIOpLeKFTtA6cVFNNKRknrzQLV5sV1agWjz/mPfQjVYSFLUWxx4zorqsBwun5cA6qJEEkH7edGIY1iHw0NkdpDzWvLB+KW9rXr0OpN1x55tbXpTQtsbkoOAQkqBwQBweccadHTfrT0wrFz1K5ruuWfOcl00x4s2SylTsde0JCl+OEgpBHP2GsvVG0ajCfUw7CIKDjKRqw6eyKjb9cbdMcPNKc2vMujhSc9jri6Tw+myrhdwwSPFdSaNyyk84OaPut/WO1oTkuzG6PFmul8LYrDBO5SMHIVu5UVcfg9u+l1Gvup0+lLRb0v/AA8ENtvEkNk8naNEd4dNl1J1+tNx0oU4srS0Owz4GfGltMo1VgTDGfWpKEqzwO+orW8WIARtgit5oC+d65BoaqIqqpSprkle71crKlHg50fdVevFq31ZdPt+NbyoU+PT249RloUNstaCT6pAAwo55P2Gh1+lSnt7CmS5nJScarUWstThbciFWOT8vYaIJqWcFjyPzVVrME4A4oErdLE1tamV5JOQfY6pqZeN22Sp1mkVd5lLowtKF8HTjh2HBfaSEIBJByPbQ/cnRhLzS5cTJOSSlQ7a2ttYEUmCaxNp5kTIFD1rfEHekScluoTjKaUseo2/yQnzg+NNinTqPdba36FN9cJA9RJGFJJ5wRpNW/02nTa81SGYpLrrwQkbfJONao6f/C3UunPTxd5Sn1LefdQlUb0+R3IP8aY7bW0jnRC3/LigdxpfqRMwHSl2/RH23Ni2SD7EauaRa1RlUaRLjxS4iMAp7YeQCcZx5AP8Z0aVyg0RgNvSZxafWfodSBzjjj+PxrzRK43aFX/Rwq9CccqLKmlNMvhRJIKcKT7j799GG1ZJIvhI3ePahY0x1k+LO3zS+juvtOBpvCcqHJAONV931CVP+R2GhWVY3oRjb/Gn51R6ET0Uin1i0LUHomIgyW2RvWF4PJH1DPck+4xxxpS3ZR61Zlddi16gNtnaU+m4nKT9xrW3vYL0BoSN3jIzxWJbSazOJQdv1xSlrFLbSokg5OqWRBSXDuIH50dVKmVCrOLMOEpz8J7aoa9Z1w0Vaf6tRZLBcA9NLjJG7PI/9aPRyDAVjzQhkJOQOK+lfxU/DzTVXM2enFkf4D6C4+7FbKxu85OcD8AaTUH4erjaeLrNGcSsKwpBbP8AbWtOiV5zKnVG00SptyUrOFpS8FA/YjPGnW3QrdrITOcpLaXQQTubwQR7++uKLok12zehIBz0I4x8iD+mK6h/qKQKokQnjrnmsCu9MJ8ajpZqNLWktpwoKTpe3TZtDZlrUI+1e3JCm+M6+md1dN7VuuCqPPpTW8NkNrQkAg447ayz1t6Ff0FMh5qlrKjnZhPnGhGqaZe6RIDL8St0I/Pir9nfW98pAGCOx/FZFbpkB2oKQ5BbbU2rAUrhK/tqxj2pa8qQp+tPMw1hISyMEpd57HGcHnPtgak3h0/uKbP/AEkeI6CFH6UEYOqef0lvNcb1XZDoWk7kJUrnOtreSHgsRXnVyOBXpd67Jst8xKdHMtfqAKLY+VQ8lKh3/OuUe2oVxRjPpAzv5LDn1t/Y++ulF6e1y9YZtp9paKgw5hlwpJ9XOePznU/p70tvqgXO8K3EfZEMFBTggLXgkDH7dtEi9hM2w4WqoFzGu5cmudk9B4NWvmImcoRGluBTkoJ4SnI5/OtnMdO2rdZgVKt1mNJgtsJERQQPTkYCRtxyO2SSeTu1nqk3TETV4dKVFTGUtwpkGQsJSnHPCjxp41S9alWbWVY1syI7UVhLf6mXJeAbYHOTvP8AqHAAz286llsrV1TEmfwKhW5uFZspj8mqjq58PfTe6KC7Vo8KNGU2hS1ORlggr5OMDkcax3UulMFfUVuO5MUhppe5DxPbHOONa2u2NVKBSlMUCVNkMuR0plPvpAaWvn6M4OPzpL1C3pcOovOymwXSFbVBOdufI/71pY288UpEDllPT81m5nieMGVQDUTqj1OrNm2221bF3PrdRGLLxaePJ5899DvTLqJROq9VpznVGC++mG2WnGwCQ8rOAT5z7/jXpUbcW+46mpI3kqyk9+NelvvtWe4h2nx0ZQ4CpJT3HnTFp2n3CpvHXnnoaDXt/AW2k8ccdRTerNsdGbepiq7SbPZSQz6qmxFUSkHt4IHP99KK7OtdlxnltsUKS4VEpfadOAMdsfcHVldvVKtVOkriQ3VRy4r/ABdijhQHYY8aUldil1TinkBSl87jotpmj78tdkk/9iaGX+rCMhbYAD2FfTe1PgzqHT+7UXJatwF6M1IC22ivDm0HI5Hn99Puh0+RTssKqLzzeMpTJBKk/bJ1CtaWzMbJizUOBBIWE5BB/BAP76vmySnn++hul6faxH14iefnkfT5e+aLXl1O/wDtv2+VedVdx04TlMtoajFS1FCvXZ3ZSe+PY41aaj1GK7LjlEd703ByheOx0VuohNAVxmqcTbJAaD698P3TisQZDDVDbZfeOQ+ngpP/AFoJY+Du3xUkzKrLalsDOWcFOD+f402Y9MqzVLdaqNS9V8kltxJIIGOBqPGl1OBGcDzO9RPClL57HQKXR9JkZXaDZx24+4HFEEvrxAVWTPv+M1k7qf03c6UXG5Kt+2W3S0slmSpsgd+/PfA/31VT+rw5XV7Tgxqi9HLzsh5IWXMA4wk8Jz/61qfqf0ypfUSkqnMtgzWo69iSTySOBrOVT+Fy8H6k2xVqTIbS4fmf2ZShOlG+0xrOUqyZU9CBnj+KN214J1BBwR1FI+5axbN0SRL9L0pTqgXGkNYQhWPA0QWv0pvrqJRAqgz5amow/wAJv1fkGMnsfHJ0Vv8ASGj9La+5Vbzt+XLisglpLUc7XecABXj8nTHoTFTdsaIbcguUlh0BSWW1J3ZcAyFecD/nWbRTI/pxnbjz+1YuJPTTe4z7UtbWoF2XPOYtepy1L/TIUpwOOhKUJQMq559j/Oqu+qXW4tYcRS6bMQzKQENMrQcqTjgcDkeR9tN+2enl4Wncypj8OO+AMu5SpaCnIzyPOrvrrU6bS7f/AFKKm1FfWgpSoqSTvxnA9iNMM+orZlSoDADH17mg8Nm90DklST+nYVmdfQq/6q4hX9CDKXRu3PvISEjPcjOf7Z1X3T0BlW/SHKtU7jhD0nQhxDIUoJ9yTjxnwNBV/dYep9r3K8+xXpYCuEoWtQBTnjH2Ol31P+IPqddDCI8utO7UIx6bR2p/cDv++rKanqbspVlA9v3qBtPsVBDBif8APFMWtWPSqdTnahIuultpwfSbmv8ApKUARhQye2Of20lbs6o2bDkriqrsJWxW0rbVuSr99ANzXLXZ29dSlur+XlS3CdLyvRW1rWsOg55I76MWupyoT6jbvpihtxp8LD4Bj61/RJHoRq8ZmNWFvJWyrcxIjultxP7juNXdEoJouRFqT7rSvqTJXuOffOvaIT6YBJOBxnU9ogpwBjVbTrSDAkxyMc9/5q7NcSOSvbxXtr9r9r920ZqrXhYBSQdQJjQIJx+dTVup7ajSNqknPtqCcAx1lTg5qllPvxcltwj8agSnqpIQSEuqB7nB51dqYjlRLo75BP2xquu+ZckWnoNqw0StqgH2lOYUUeQPzoHM/pRM7E4HYDJ+1EEw7hRxnueB96rabFcqrkmPJa9UNoBLK+x+bng9+NU9woj0+Utb1vtObAMteiR6ae+5I8du+plWqFah0t5VKbEV1xW4uuIO5IA4Bz986z71mvbqpRbmTUaqX429sNhyO4r03BnIWOfIxn8aA3N9CsigDnyen3olFayFDk0665W4Eq1v69HlyC00raWmlBSkKzwSPtwceQdYw+L3rDWLhqggJQ41FiI2RcnBWc/MtQAABJ8eO2tAWXcl2/p3WX3S4pwpVuWySl3I/wD1pQ9erfrM2c+0i3I8sFBcQtMTkI7c7e3PvoZNcPHcCQjj371aiCPGUB5rLNfviqyKYiTU2VrbQdiXHBnIz21CqNq1WpwUzaPDMhtxsLCmkZwD747aOLwgXNHt522avZjQiLWHEEp+dsDcBt9uSM/jVFRLZ6vWBSZF2dNHZSIzzKm5jbRStSRzwUkHgZznHfVxLkyLxgH9DVdo1j6nIpK31QaoylfqMEEDCgBoHl0OU7HVUm2VpS3wpvGc8d9ak6WVGL1IdnW51Ht6NMmuO+ozMGGHMEYKSBhJAPIOO5OfGqC//h1doNVcnUOnThGUopKS0HAoc9iO/wDHjUqak0bGNxz+lQtbK3xrX//Z",this.emptyImage=new Image,this.emptyImage.onload=()=>{this.samplers.empty=this.gl.createTexture(),this.bindTexture(this.samplers.empty,this.emptyImage,1,1)},this.emptyImage.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="}bindTexture(e,t,n,a){if(this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n,a,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){const e=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,e)}}loadExtraImages(e){Object.keys(e).forEach((t=>{const{data:n,width:a,height:r}=e[t];if(!this.samplers[t]){const e=new Image;e.onload=()=>{this.samplers[t]=this.gl.createTexture(),this.bindTexture(this.samplers[t],e,a,r)},e.src=n}}))}getTexture(e){return this.samplers[e]||this.samplers.clouds2}}},"./src/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r})),n("./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js"),n("./src/presetBase.js");var a=n("./src/visualizer.js");class r{static createVisualizer(e,t,n){return new a.default(e,t,n)}}},"./src/noise/noise.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{constructor(e){this.gl=e,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.noiseTexLQ=this.gl.createTexture(),this.noiseTexLQLite=this.gl.createTexture(),this.noiseTexMQ=this.gl.createTexture(),this.noiseTexHQ=this.gl.createTexture(),this.noiseTexVolLQ=this.gl.createTexture(),this.noiseTexVolHQ=this.gl.createTexture(),this.nTexArrLQ=a.createNoiseTex(256,1),this.nTexArrLQLite=a.createNoiseTex(32,1),this.nTexArrMQ=a.createNoiseTex(256,4),this.nTexArrHQ=a.createNoiseTex(256,8),this.nTexArrVolLQ=a.createNoiseVolTex(32,1),this.nTexArrVolHQ=a.createNoiseVolTex(32,4),this.bindTexture(this.noiseTexLQ,this.nTexArrLQ,256,256),this.bindTexture(this.noiseTexLQLite,this.nTexArrLQLite,32,32),this.bindTexture(this.noiseTexMQ,this.nTexArrMQ,256,256),this.bindTexture(this.noiseTexHQ,this.nTexArrHQ,256,256),this.bindTexture3D(this.noiseTexVolLQ,this.nTexArrVolLQ,32,32,32),this.bindTexture3D(this.noiseTexVolHQ,this.nTexArrVolHQ,32,32,32),this.noiseTexPointLQ=this.gl.createSampler(),e.samplerParameteri(this.noiseTexPointLQ,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.samplerParameteri(this.noiseTexPointLQ,e.TEXTURE_MAG_FILTER,e.NEAREST),e.samplerParameteri(this.noiseTexPointLQ,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.noiseTexPointLQ,e.TEXTURE_WRAP_T,e.REPEAT)}bindTexture(e,t,n,a){if(this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n,a,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){const e=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,e)}}bindTexture3D(e,t,n,a,r){if(this.gl.bindTexture(this.gl.TEXTURE_3D,e),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage3D(this.gl.TEXTURE_3D,0,this.gl.RGBA,n,a,r,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.generateMipmap(this.gl.TEXTURE_3D),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){const e=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_3D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,e)}}static fCubicInterpolate(e,t,n,a,r){const s=r*r,i=a-n-e+t;return i*(r*s)+(e-t-i)*s+(n-e)*r+t}static dwCubicInterpolate(e,t,n,r,s){const i=[];for(let o=0;o<4;o++){let l=a.fCubicInterpolate(e[o]/255,t[o]/255,n[o]/255,r[o]/255,s);l=Math.clamp(l,0,1),i[o]=255*l}return i}static createNoiseVolTex(e,t){const n=e*e*e,r=new Uint8Array(4*n),s=t>1?216:256,i=.5*s;for(let e=0;e<n;e++)r[4*e+0]=Math.floor(Math.random()*s+i),r[4*e+1]=Math.floor(Math.random()*s+i),r[4*e+2]=Math.floor(Math.random()*s+i),r[4*e+3]=Math.floor(Math.random()*s+i);const o=e*e,l=e;if(t>1){for(let n=0;n<e;n+=t)for(let s=0;s<e;s+=t)for(let i=0;i<e;i++)if(i%t!=0){const m=Math.floor(i/t)*t+e,c=n*o+s*l,u=[],_=[],p=[],v=[];for(let n=0;n<4;n++)u[n]=r[4*c+(m-t)%e*4+n],_[n]=r[4*c+m%e*4+n],p[n]=r[4*c+(m+t)%e*4+n],v[n]=r[4*c+(m+2*t)%e*4+n];const d=i%t/t,b=a.dwCubicInterpolate(u,_,p,v,d);for(let e=0;e<4;e++)r[n*o*4+s*l*4+(4*i+e)]=b[e]}for(let n=0;n<e;n+=t)for(let s=0;s<e;s++)for(let i=0;i<e;i++)if(i%t!=0){const m=Math.floor(i/t)*t+e,c=n*o,u=[],_=[],p=[],v=[];for(let n=0;n<4;n++){const a=4*s+4*c+n;u[n]=r[(m-t)%e*l*4+a],_[n]=r[m%e*l*4+a],p[n]=r[(m+t)%e*l*4+a],v[n]=r[(m+2*t)%e*l*4+a]}const d=i%t/t,b=a.dwCubicInterpolate(u,_,p,v,d);for(let e=0;e<4;e++)r[i*l*4+(4*s+4*c+e)]=b[e]}for(let n=0;n<e;n++)for(let s=0;s<e;s++)for(let i=0;i<e;i++)if(i%t!=0){const m=s*l,c=Math.floor(i/t)*t+e,u=[],_=[],p=[],v=[];for(let a=0;a<4;a++){const s=4*n+4*m+a;u[a]=r[(c-t)%e*o*4+s],_[a]=r[c%e*o*4+s],p[a]=r[(c+t)%e*o*4+s],v[a]=r[(c+2*t)%e*o*4+s]}const d=s%t/t,b=a.dwCubicInterpolate(u,_,p,v,d);for(let e=0;e<4;e++)r[i*o*4+(4*n+4*m+e)]=b[e]}}return r}static createNoiseTex(e,t){const n=e*e,r=new Uint8Array(4*n),s=t>1?216:256,i=.5*s;for(let e=0;e<n;e++)r[4*e+0]=Math.floor(Math.random()*s+i),r[4*e+1]=Math.floor(Math.random()*s+i),r[4*e+2]=Math.floor(Math.random()*s+i),r[4*e+3]=Math.floor(Math.random()*s+i);if(t>1){for(let n=0;n<e;n+=t)for(let s=0;s<e;s++)if(s%t!=0){const i=Math.floor(s/t)*t+e,o=n*e,l=[],m=[],c=[],u=[];for(let n=0;n<4;n++)l[n]=r[4*o+(i-t)%e*4+n],m[n]=r[4*o+i%e*4+n],c[n]=r[4*o+(i+t)%e*4+n],u[n]=r[4*o+(i+2*t)%e*4+n];const _=s%t/t,p=a.dwCubicInterpolate(l,m,c,u,_);for(let t=0;t<4;t++)r[n*e*4+4*s+t]=p[t]}for(let n=0;n<e;n++)for(let s=0;s<e;s++)if(s%t!=0){const i=Math.floor(s/t)*t+e,o=[],l=[],m=[],c=[];for(let a=0;a<4;a++)o[a]=r[(i-t)%e*e*4+4*n+a],l[a]=r[i%e*e*4+4*n+a],m[a]=r[(i+t)%e*e*4+4*n+a],c[a]=r[(i+2*t)%e*e*4+4*n+a];const u=s%t/t,_=a.dwCubicInterpolate(o,l,m,c,u);for(let t=0;t<4;t++)r[s*e*4+4*n+t]=_[t]}}return r}}},"./src/presetBase.js":function(e,t){var n=1e-5;window.sqr=function(e){return e*e},window.sqrt=function(e){return Math.sqrt(Math.abs(e))},window.log10=function(e){return Math.log(e)*Math.LOG10E},window.sign=function(e){return e>0?1:e<0?-1:0},window.rand=function(e){var t=Math.floor(e);return t<1?Math.random():Math.random()*t},window.randint=function(e){return Math.floor(rand(e))},window.bnot=function(e){return Math.abs(e)<n?1:0},window.pow=function(e,t){var n,a=Math.pow(e,t);return n=a,!isFinite(n)||isNaN(n)?0:a},window.div=function(e,t){return 0===t?0:e/t},window.mod=function(e,t){return 0===t?0:Math.floor(e)%Math.floor(t)},window.bitor=function(e,t){return Math.floor(e)|Math.floor(t)},window.bitand=function(e,t){return Math.floor(e)&Math.floor(t)},window.sigmoid=function(e,t){var a=1+Math.exp(-e*t);return Math.abs(a)>n?1/a:0},window.bor=function(e,t){return Math.abs(e)>n||Math.abs(t)>n?1:0},window.band=function(e,t){return Math.abs(e)>n&&Math.abs(t)>n?1:0},window.equal=function(e,t){return Math.abs(e-t)<n?1:0},window.above=function(e,t){return e>t?1:0},window.below=function(e,t){return e<t?1:0},window.ifcond=function(e,t,a){return Math.abs(e)>n?t:a},window.memcpy=function(e,t,n,a){let r=t,s=n,i=a;return s<0&&(i+=s,r-=s,s=0),r<0&&(i+=r,s-=r,r=0),i>0&&e.copyWithin(r,s,i),t}},"./src/rendering/blendPattern.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{constructor(e){this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.vertInfoA=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)),this.vertInfoC=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)),this.createBlendPattern()}static resizeMatrixValues(e,t,n,a,r){const s=new Float32Array((a+1)*(r+1));let i=0;for(let o=0;o<r+1;o++)for(let l=0;l<a+1;l++){let m=l/r,c=o/a;m*=t+1,c*=n+1,m=Math.clamp(m,0,t-1),c=Math.clamp(c,0,n-1);const u=Math.floor(m),_=Math.floor(c),p=m-u,v=c-_,d=e[_*(t+1)+u],b=e[_*(t+1)+(u+1)],h=e[(_+1)*(t+1)+u],f=e[(_+1)*(t+1)+(u+1)];s[i]=d*(1-p)*(1-v)+b*p*(1-v)+h*(1-p)*v+f*p*v,i+=1}return s}updateGlobals(e){const t=this.mesh_width,n=this.mesh_height;this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.mesh_width===t&&this.mesh_height===n||(this.vertInfoA=a.resizeMatrixValues(this.vertInfoA,t,n,this.mesh_width,this.mesh_height),this.vertInfoC=a.resizeMatrixValues(this.vertInfoC,t,n,this.mesh_width,this.mesh_height))}genPlasma(e,t,n,a,r){const s=Math.floor((e+t)/2),i=Math.floor((n+a)/2);let o=this.vertInfoC[n*(this.mesh_width+1)+e],l=this.vertInfoC[n*(this.mesh_width+1)+t],m=this.vertInfoC[a*(this.mesh_width+1)+e],c=this.vertInfoC[a*(this.mesh_width+1)+t];a-n>=2&&(0===e&&(this.vertInfoC[i*(this.mesh_width+1)+e]=.5*(o+m)+(2*Math.random()-1)*r*this.aspecty),this.vertInfoC[i*(this.mesh_width+1)+t]=.5*(l+c)+(2*Math.random()-1)*r*this.aspecty),t-e>=2&&(0===n&&(this.vertInfoC[n*(this.mesh_width+1)+s]=.5*(o+l)+(2*Math.random()-1)*r*this.aspectx),this.vertInfoC[a*(this.mesh_width+1)+s]=.5*(m+c)+(2*Math.random()-1)*r*this.aspectx),a-n>=2&&t-e>=2&&(o=this.vertInfoC[i*(this.mesh_width+1)+e],l=this.vertInfoC[i*(this.mesh_width+1)+t],m=this.vertInfoC[n*(this.mesh_width+1)+s],c=this.vertInfoC[a*(this.mesh_width+1)+s],this.vertInfoC[i*(this.mesh_width+1)+s]=.25*(m+c+o+l)+(2*Math.random()-1)*r,this.genPlasma(e,s,n,i,.5*r),this.genPlasma(s,t,n,i,.5*r),this.genPlasma(e,s,i,a,.5*r),this.genPlasma(s,t,i,a,.5*r))}createBlendPattern(){const e=1+Math.floor(3*Math.random());if(0===e){let e=0;for(let t=0;t<=this.mesh_height;t++)for(let t=0;t<=this.mesh_width;t++)this.vertInfoA[e]=1,this.vertInfoC[e]=0,e+=1}else if(1===e){const e=6.28*Math.random(),t=Math.cos(e),n=Math.sin(e),a=.1+.2*Math.random(),r=1/a;let s=0;for(let e=0;e<=this.mesh_height;e++){const i=e/this.mesh_height*this.aspecty;for(let e=0;e<=this.mesh_width;e++){let o=(e/this.mesh_width*this.aspectx-.5)*t+(i-.5)*n+.5;o=(o-.5)/Math.sqrt(2)+.5,this.vertInfoA[s]=r*(1+a),this.vertInfoC[s]=r*o-r,s+=1}}}else if(2===e){const e=.12+.13*Math.random(),t=1/e;this.vertInfoC[0]=Math.random(),this.vertInfoC[this.mesh_width]=Math.random(),this.vertInfoC[this.mesh_height*(this.mesh_width+1)]=Math.random(),this.vertInfoC[this.mesh_height*(this.mesh_width+1)+this.mesh_width]=Math.random(),this.genPlasma(0,this.mesh_width,0,this.mesh_height,.25);let n=this.vertInfoC[0],a=this.vertInfoC[0],r=0;for(let e=0;e<=this.mesh_height;e++)for(let e=0;e<=this.mesh_width;e++)n>this.vertInfoC[r]&&(n=this.vertInfoC[r]),a<this.vertInfoC[r]&&(a=this.vertInfoC[r]),r+=1;const s=1/(a-n);r=0;for(let a=0;a<=this.mesh_height;a++)for(let a=0;a<=this.mesh_width;a++){const a=(this.vertInfoC[r]-n)*s;this.vertInfoA[r]=t*(1+e),this.vertInfoC[r]=t*a-t,r+=1}}else if(3===e){const e=.02+.14*Math.random()+.34*Math.random(),t=1/e,n=2*Math.floor(2*Math.random())-1;let a=0;for(let r=0;r<=this.mesh_height;r++){const s=(r/this.mesh_height-.5)*this.aspecty;for(let r=0;r<=this.mesh_width;r++){const i=(r/this.mesh_width-.5)*this.aspectx;let o=1.41421*Math.sqrt(i*i+s*s);-1===n&&(o=1-o),this.vertInfoA[a]=t*(1+e),this.vertInfoC[a]=t*o-t,a+=1}}}}}},"./src/rendering/motionVectors/motionVectors.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t){this.gl=e,this.maxX=64,this.maxY=48,this.positions=new Float32Array(this.maxX*this.maxY*2*3),this.texsizeX=t.texsizeX,this.texsizeY=t.texsizeY,this.mesh_width=t.mesh_width,this.mesh_height=t.mesh_height,this.positionVertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color")}getMotionDir(e,t,n){const a=Math.floor(n*this.mesh_height),r=n*this.mesh_height-a,s=Math.floor(t*this.mesh_width),i=t*this.mesh_width-s,o=s+1,l=a+1,m=this.mesh_width+1;let c,u;return c=e[2*(a*m+s)+0]*(1-i)*(1-r),u=e[2*(a*m+s)+1]*(1-i)*(1-r),c+=e[2*(a*m+o)+0]*i*(1-r),u+=e[2*(a*m+o)+1]*i*(1-r),c+=e[2*(l*m+s)+0]*(1-i)*r,u+=e[2*(l*m+s)+1]*(1-i)*r,c+=e[2*(l*m+o)+0]*i*r,u+=e[2*(l*m+o)+1]*i*r,[c,1-u]}generateMotionVectors(e,t){const n=0===e.bmotionvectorson?0:e.mv_a;let a=Math.floor(e.mv_x),r=Math.floor(e.mv_y);if(n>.001&&a>0&&r>0){let s=e.mv_x-a,i=e.mv_y-r;a>this.maxX&&(a=this.maxX,s=0),r>this.maxY&&(r=this.maxY,i=0);const o=e.mv_dx,l=e.mv_dy,m=e.mv_l,c=1/this.texsizeX;this.numVecVerts=0;for(let e=0;e<r;e++){let n=(e+.25)/(r+i+.25-1);if(n-=l,n>1e-4&&n<.9999)for(let e=0;e<a;e++){let r=(e+.25)/(a+s+.25-1);if(r+=o,r>1e-4&&r<.9999){const e=this.getMotionDir(t,r,n);let a=e[0],s=e[1],i=a-r,o=s-n;i*=m,o*=m;let l=Math.sqrt(i*i+o*o);l<c&&l>1e-8?(l=c/l,i*=l,o*=l):(i=c,i=c),a=r+i,s=n+o;const u=2*r-1,_=2*n-1,p=2*a-1,v=2*s-1;this.positions[3*this.numVecVerts+0]=u,this.positions[3*this.numVecVerts+1]=_,this.positions[3*this.numVecVerts+2]=0,this.positions[3*(this.numVecVerts+1)+0]=p,this.positions[3*(this.numVecVerts+1)+1]=v,this.positions[3*(this.numVecVerts+1)+2]=0,this.numVecVerts+=2}}}if(this.numVecVerts>0)return this.color=[e.mv_r,e.mv_g,e.mv_b,n],!0}return!1}drawMotionVectors(e,t){this.generateMotionVectors(e,t)&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,this.color),this.gl.lineWidth(1),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.LINES,0,this.numVecVerts))}}},"./src/rendering/renderer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var a=n("./src/audio/audioLevels.js"),r=n("./src/blankPreset.js"),s=n.n(r),i=n("./src/equations/presetEquationRunner.js"),o=n("./src/equations/presetEquationRunnerWASM.js"),l=n("./src/rendering/waves/basicWaveform.js"),m=n("./src/rendering/waves/customWaveform.js"),c=n("./src/rendering/shapes/customShape.js"),u=n("./src/rendering/sprites/border.js"),_=n("./src/rendering/sprites/darkenCenter.js"),p=n("./src/rendering/motionVectors/motionVectors.js"),v=n("./src/rendering/shaders/warp.js"),d=n("./src/rendering/shaders/comp.js"),b=n("./src/rendering/shaders/output.js"),h=n("./src/rendering/shaders/resample.js"),f=n("./src/rendering/shaders/blur/blur.js"),g=n("./src/noise/noise.js"),x=n("./src/image/imageTextures.js"),y=n("./src/rendering/text/titleText.js"),w=n("./src/rendering/blendPattern.js"),A=n("./src/utils.js");class q{constructor(e,t,n){this.gl=e,this.audio=t,this.frameNum=0,this.fps=30,this.time=0,this.presetTime=0,this.lastTime=performance.now(),this.timeHist=[0],this.timeHistMax=120,this.blending=!1,this.blendStartTime=0,this.blendProgress=0,this.blendDuration=0,this.width=n.width||1200,this.height=n.height||900,this.mesh_width=n.meshWidth||48,this.mesh_height=n.meshHeight||36,this.pixelRatio=n.pixelRatio||window.devicePixelRatio||1,this.textureRatio=n.textureRatio||1,this.outputFXAA=n.outputFXAA||!1,this.texsizeX=this.width*this.pixelRatio*this.textureRatio,this.texsizeY=this.height*this.pixelRatio*this.textureRatio,this.aspectx=this.texsizeY>this.texsizeX?this.texsizeX/this.texsizeY:1,this.aspecty=this.texsizeX>this.texsizeY?this.texsizeY/this.texsizeX:1,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.qs=A.default.range(1,33).map((e=>`q${e}`)),this.ts=A.default.range(1,9).map((e=>`t${e}`)),this.regs=A.default.range(0,100).map((e=>e<10?`reg0${e}`:`reg${e}`)),this.blurRatios=[[.5,.25],[.125,.125],[.0625,.0625]],this.audioLevels=new a.default(this.audio),this.prevFrameBuffer=this.gl.createFramebuffer(),this.targetFrameBuffer=this.gl.createFramebuffer(),this.prevTexture=this.gl.createTexture(),this.targetTexture=this.gl.createTexture(),this.compFrameBuffer=this.gl.createFramebuffer(),this.compTexture=this.gl.createTexture(),this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.bindFrameBufferTexture(this.prevFrameBuffer,this.prevTexture),this.bindFrameBufferTexture(this.targetFrameBuffer,this.targetTexture),this.bindFrameBufferTexture(this.compFrameBuffer,this.compTexture);const r={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};this.noise=new g.default(e),this.image=new x.default(e),this.warpShader=new v.default(e,this.noise,this.image,r),this.compShader=new d.default(e,this.noise,this.image,r),this.outputShader=new b.default(e,r),this.prevWarpShader=new v.default(e,this.noise,this.image,r),this.prevCompShader=new d.default(e,this.noise,this.image,r),this.numBlurPasses=0,this.blurShader1=new f.default(0,this.blurRatios,e,r),this.blurShader2=new f.default(1,this.blurRatios,e,r),this.blurShader3=new f.default(2,this.blurRatios,e,r),this.blurTexture1=this.blurShader1.blurVerticalTexture,this.blurTexture2=this.blurShader2.blurVerticalTexture,this.blurTexture3=this.blurShader3.blurVerticalTexture,this.basicWaveform=new l.default(e,r),this.customWaveforms=A.default.range(4).map((t=>new m.default(t,e,r))),this.customShapes=A.default.range(4).map((t=>new c.default(t,e,r))),this.prevCustomWaveforms=A.default.range(4).map((t=>new m.default(t,e,r))),this.prevCustomShapes=A.default.range(4).map((t=>new c.default(t,e,r))),this.darkenCenter=new _.default(e,r),this.innerBorder=new u.default(e,r),this.outerBorder=new u.default(e,r),this.motionVectors=new p.default(e,r),this.titleText=new y.default(e,r),this.blendPattern=new w.default(r),this.resampleShader=new h.default(e),this.supertext={startTime:-1},this.warpUVs=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*2),this.warpColor=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*4),this.gl.clearColor(0,0,0,1),this.blankPreset=s.a;const o={frame:0,time:0,fps:45,bass:1,bass_att:1,mid:1,mid_att:1,treb:1,treb_att:1};this.preset=s.a,this.prevPreset=this.preset,this.presetEquationRunner=new i.default(this.preset,o,r),this.prevPresetEquationRunner=new i.default(this.prevPreset,o,r),this.preset.useWASM||(this.regVars=this.presetEquationRunner.mdVSRegs)}static getHighestBlur(e){return/sampler_blur3/.test(e)?3:/sampler_blur2/.test(e)?2:/sampler_blur1/.test(e)?1:0}loadPreset(e,t){this.blendPattern.createBlendPattern(),this.blending=!0,this.blendStartTime=this.time,this.blendDuration=t,this.blendProgress=0,this.prevPresetEquationRunner=this.presetEquationRunner,this.prevPreset=this.preset,this.preset=e,this.presetTime=this.time;const n={frame:this.frameNum,time:this.time,fps:this.fps,bass:this.audioLevels.bass,bass_att:this.audioLevels.bass_att,mid:this.audioLevels.mid,mid_att:this.audioLevels.mid_att,treb:this.audioLevels.treb,treb_att:this.audioLevels.treb_att},a={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};e.useWASM?(this.preset.globalPools.perFrame.old_wave_mode.value=this.prevPreset.baseVals.wave_mode,this.preset.baseVals.old_wave_mode=this.prevPreset.baseVals.wave_mode,this.presetEquationRunner=new o.default(this.preset,n,a),this.preset.pixel_eqs_initialize_array&&this.preset.pixel_eqs_initialize_array(this.mesh_width,this.mesh_height)):(this.preset.baseVals.old_wave_mode=this.prevPreset.baseVals.wave_mode,this.presetEquationRunner=new i.default(this.preset,n,a),this.regVars=this.presetEquationRunner.mdVSRegs);const r=this.prevWarpShader;this.prevWarpShader=this.warpShader,this.warpShader=r;const s=this.prevCompShader;this.prevCompShader=this.compShader,this.compShader=s;const l=this.preset.warp.trim(),m=this.preset.comp.trim();this.warpShader.updateShader(l),this.compShader.updateShader(m),0===l.length?this.numBlurPasses=0:this.numBlurPasses=q.getHighestBlur(l),0!==m.length&&(this.numBlurPasses=Math.max(this.numBlurPasses,q.getHighestBlur(m)))}loadExtraImages(e){this.image.loadExtraImages(e)}setRendererSize(e,t,n){const a=this.texsizeX,r=this.texsizeY;if(this.width=e,this.height=t,this.mesh_width=n.meshWidth||this.mesh_width,this.mesh_height=n.meshHeight||this.mesh_height,this.pixelRatio=n.pixelRatio||this.pixelRatio,this.textureRatio=n.textureRatio||this.textureRatio,this.texsizeX=e*this.pixelRatio*this.textureRatio,this.texsizeY=t*this.pixelRatio*this.textureRatio,this.aspectx=this.texsizeY>this.texsizeX?this.texsizeX/this.texsizeY:1,this.aspecty=this.texsizeX>this.texsizeY?this.texsizeY/this.texsizeX:1,this.texsizeX!==a||this.texsizeY!==r){const e=this.gl.createTexture();this.bindFrameBufferTexture(this.targetFrameBuffer,e),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY),this.resampleShader.renderQuadTexture(this.targetTexture),this.targetTexture=e,this.bindFrameBufferTexture(this.prevFrameBuffer,this.prevTexture),this.bindFrameBufferTexture(this.compFrameBuffer,this.compTexture)}this.updateGlobals(),this.frameNum>0&&this.renderToScreen()}setInternalMeshSize(e,t){this.mesh_width=e,this.mesh_height=t,this.updateGlobals()}setOutputAA(e){this.outputFXAA=e}updateGlobals(){const e={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};this.presetEquationRunner.updateGlobals(e),this.prevPresetEquationRunner.updateGlobals(e),this.warpShader.updateGlobals(e),this.prevWarpShader.updateGlobals(e),this.compShader.updateGlobals(e),this.prevCompShader.updateGlobals(e),this.outputShader.updateGlobals(e),this.blurShader1.updateGlobals(e),this.blurShader2.updateGlobals(e),this.blurShader3.updateGlobals(e),this.basicWaveform.updateGlobals(e),this.customWaveforms.forEach((t=>t.updateGlobals(e))),this.customShapes.forEach((t=>t.updateGlobals(e))),this.prevCustomWaveforms.forEach((t=>t.updateGlobals(e))),this.prevCustomShapes.forEach((t=>t.updateGlobals(e))),this.darkenCenter.updateGlobals(e),this.innerBorder.updateGlobals(e),this.outerBorder.updateGlobals(e),this.motionVectors.updateGlobals(e),this.titleText.updateGlobals(e),this.blendPattern.updateGlobals(e),this.warpUVs=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*2),this.warpColor=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*4),this.preset.pixel_eqs_initialize_array&&this.preset.pixel_eqs_initialize_array(this.mesh_width,this.mesh_height)}calcTimeAndFPS(e){let t;if(e)t=e;else{const e=performance.now();t=(e-this.lastTime)/1e3,(t>1||t<0||this.frame<2)&&(t=1/30),this.lastTime=e}this.time+=1/this.fps,this.blending&&(this.blendProgress=(this.time-this.blendStartTime)/this.blendDuration,this.blendProgress>1&&(this.blending=!1));const n=this.timeHist[this.timeHist.length-1]+t;this.timeHist.push(n),this.timeHist.length>this.timeHistMax&&this.timeHist.shift();const a=this.timeHist.length/(n-this.timeHist[0]);if(Math.abs(a-this.fps)>3&&this.frame>this.timeHistMax)this.fps=a;else{const e=.93;this.fps=e*this.fps+(1-e)*a}}runPixelEquations(e,t,n,a){const r=this.mesh_width,s=this.mesh_height,i=r+1,o=s+1,l=this.time*t.warpanimspeed,m=1/t.warpscale,c=11.68+4*Math.cos(1.413*l+10),u=8.77+3*Math.cos(1.113*l+7),_=10.54+3*Math.cos(1.233*l+3),p=11.49+4*Math.cos(.933*l+5),v=0/this.texsizeX,d=0/this.texsizeY,b=this.aspectx,h=this.aspecty;let f=0,g=0;if(e.preset.useWASM){const r=e.preset.globalPools.perVertex;if(A.default.setWasm(r,n,e.globalKeys),A.default.setWasm(r,e.mdVSQAfterFrame,e.qs),r.zoom.value=t.zoom,r.zoomexp.value=t.zoomexp,r.rot.value=t.rot,r.warp.value=t.warp,r.cx.value=t.cx,r.cy.value=t.cy,r.dx.value=t.dx,r.dy.value=t.dy,r.sx.value=t.sx,r.sy.value=t.sy,e.preset.pixel_eqs_wasm(e.runVertEQs,this.mesh_width,this.mesh_height,this.time,t.warpanimspeed,t.warpscale,this.aspectx,this.aspecty),a){const t=e.preset.pixel_eqs_get_array();let n=0,a=0;for(let e=0;e<o;e++)for(let e=0;e<i;e++){const e=t[n],r=t[n+1];let s=this.blendPattern.vertInfoA[n/2]*this.blendProgress+this.blendPattern.vertInfoC[n/2];s=Math.clamp(s,0,1),this.warpUVs[n]=this.warpUVs[n]*s+e*(1-s),this.warpUVs[n+1]=this.warpUVs[n+1]*s+r*(1-s),this.warpColor[a+0]=1,this.warpColor[a+1]=1,this.warpColor[a+2]=1,this.warpColor[a+3]=s,n+=2,a+=4}}else this.warpUVs=e.preset.pixel_eqs_get_array(),this.warpColor.fill(1)}else{let n=A.default.cloneVars(t),x=n.warp,y=n.zoom,w=n.zoomexp,q=n.cx,z=n.cy,E=n.sx,k=n.sy,T=n.dx,S=n.dy,I=n.rot;for(let P=0;P<o;P++)for(let o=0;o<i;o++){const i=o/r*2-1,C=P/s*2-1,M=Math.sqrt(i*i*b*b+C*C*h*h);if(e.runVertEQs){let a;a=P===s/2&&o===r/2?0:A.default.atan2(C*h,i*b),n.x=.5*i*b+.5,n.y=-.5*C*h+.5,n.rad=M,n.ang=a,n.zoom=t.zoom,n.zoomexp=t.zoomexp,n.rot=t.rot,n.warp=t.warp,n.cx=t.cx,n.cy=t.cy,n.dx=t.dx,n.dy=t.dy,n.sx=t.sx,n.sy=t.sy,n=e.runPixelEquations(n),x=n.warp,y=n.zoom,w=n.zoomexp,q=n.cx,z=n.cy,E=n.sx,k=n.sy,T=n.dx,S=n.dy,I=n.rot}const R=1/y**(w**(2*M-1));let B=.5*i*b*R+.5,L=.5*-C*h*R+.5;B=(B-q)/E+q,L=(L-z)/k+z,0!==x&&(B+=.0035*x*Math.sin(.333*l+m*(i*c-C*p)),L+=.0035*x*Math.cos(.375*l-m*(i*_+C*u)),B+=.0035*x*Math.cos(.753*l-m*(i*u-C*_)),L+=.0035*x*Math.sin(.825*l+m*(i*c+C*p)));const D=B-q,N=L-z,F=Math.cos(I),O=Math.sin(I);if(B=D*F-N*O+q,L=D*O+N*F+z,B-=T,L-=S,B=(B-.5)/b+.5,L=(L-.5)/h+.5,B+=v,L+=d,a){let e=this.blendPattern.vertInfoA[f/2]*this.blendProgress+this.blendPattern.vertInfoC[f/2];e=Math.clamp(e,0,1),this.warpUVs[f]=this.warpUVs[f]*e+B*(1-e),this.warpUVs[f+1]=this.warpUVs[f+1]*e+L*(1-e),this.warpColor[g+0]=1,this.warpColor[g+1]=1,this.warpColor[g+2]=1,this.warpColor[g+3]=e}else this.warpUVs[f]=B,this.warpUVs[f+1]=L,this.warpColor[g+0]=1,this.warpColor[g+1]=1,this.warpColor[g+2]=1,this.warpColor[g+3]=1;f+=2,g+=4}this.mdVSVertex=n}}static mixFrameEquations(e,t,n){const a=.5-.5*Math.cos(e*Math.PI),r=1-a,s=.5,i=A.default.cloneVars(t);return i.decay=a*t.decay+r*n.decay,i.wave_a=a*t.wave_a+r*n.wave_a,i.wave_r=a*t.wave_r+r*n.wave_r,i.wave_g=a*t.wave_g+r*n.wave_g,i.wave_b=a*t.wave_b+r*n.wave_b,i.wave_x=a*t.wave_x+r*n.wave_x,i.wave_y=a*t.wave_y+r*n.wave_y,i.wave_mystery=a*t.wave_mystery+r*n.wave_mystery,i.ob_size=a*t.ob_size+r*n.ob_size,i.ob_r=a*t.ob_r+r*n.ob_r,i.ob_g=a*t.ob_g+r*n.ob_g,i.ob_b=a*t.ob_b+r*n.ob_b,i.ob_a=a*t.ob_a+r*n.ob_a,i.ib_size=a*t.ib_size+r*n.ib_size,i.ib_r=a*t.ib_r+r*n.ib_r,i.ib_g=a*t.ib_g+r*n.ib_g,i.ib_b=a*t.ib_b+r*n.ib_b,i.ib_a=a*t.ib_a+r*n.ib_a,i.mv_x=a*t.mv_x+r*n.mv_x,i.mv_y=a*t.mv_y+r*n.mv_y,i.mv_dx=a*t.mv_dx+r*n.mv_dx,i.mv_dy=a*t.mv_dy+r*n.mv_dy,i.mv_l=a*t.mv_l+r*n.mv_l,i.mv_r=a*t.mv_r+r*n.mv_r,i.mv_g=a*t.mv_g+r*n.mv_g,i.mv_b=a*t.mv_b+r*n.mv_b,i.mv_a=a*t.mv_a+r*n.mv_a,i.echo_zoom=a*t.echo_zoom+r*n.echo_zoom,i.echo_alpha=a*t.echo_alpha+r*n.echo_alpha,i.echo_orient=a*t.echo_orient+r*n.echo_orient,i.wave_dots=a<s?n.wave_dots:t.wave_dots,i.wave_thick=a<s?n.wave_thick:t.wave_thick,i.additivewave=a<s?n.additivewave:t.additivewave,i.wave_brighten=a<s?n.wave_brighten:t.wave_brighten,i.darken_center=a<s?n.darken_center:t.darken_center,i.gammaadj=a<s?n.gammaadj:t.gammaadj,i.wrap=a<s?n.wrap:t.wrap,i.invert=a<s?n.invert:t.invert,i.brighten=a<s?n.brighten:t.brighten,i.darken=a<s?n.darken:t.darken,i.solarize=a<s?n.brighten:t.solarize,i.b1n=a*t.b1n+r*n.b1n,i.b2n=a*t.b2n+r*n.b2n,i.b3n=a*t.b3n+r*n.b3n,i.b1x=a*t.b1x+r*n.b1x,i.b2x=a*t.b2x+r*n.b2x,i.b3x=a*t.b3x+r*n.b3x,i.b1ed=a*t.b1ed+r*n.b1ed,i}static getBlurValues(e){let t=e.b1n,n=e.b2n,a=e.b3n,r=e.b1x,s=e.b2x,i=e.b3x;if(r-t<.1){const e=.5*(t+r);t=e-.05,r=e-.05}if(s=Math.min(r,s),n=Math.max(t,n),s-n<.1){const e=.5*(n+s);n=e-.05,s=e-.05}if(i=Math.min(s,i),a=Math.max(n,a),i-a<.1){const e=.5*(a+i);a=e-.05,i=e-.05}return{blurMins:[t,n,a],blurMaxs:[r,s,i]}}bindFrambufferAndSetViewport(e,t,n){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.viewport(0,0,t,n)}bindFrameBufferTexture(e,t){if(this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.texsizeX,this.texsizeY,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array(this.texsizeX*this.texsizeY*4)),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){const e=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,e)}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,t,0)}render({audioLevels:e,elapsedTime:t}={}){this.calcTimeAndFPS(t),this.frameNum+=1,e?this.audio.updateAudio(e.timeByteArray,e.timeByteArrayL,e.timeByteArrayR):this.audio.sampleAudio(),this.audioLevels.updateAudioLevels(this.fps,this.frameNum);const n={frame:this.frameNum,time:this.time,fps:this.fps,bass:this.audioLevels.bass,bass_att:this.audioLevels.bass_att,mid:this.audioLevels.mid,mid_att:this.audioLevels.mid_att,treb:this.audioLevels.treb,treb_att:this.audioLevels.treb_att,meshx:this.mesh_width,meshy:this.mesh_height,aspectx:this.invAspectx,aspecty:this.invAspecty,pixelsx:this.texsizeX,pixelsy:this.texsizeY},a=Object.assign({},n);this.prevPreset.useWASM||(a.gmegabuf=this.prevPresetEquationRunner.gmegabuf),this.preset.useWASM||(n.gmegabuf=this.presetEquationRunner.gmegabuf,Object.assign(n,this.regVars));const r=this.presetEquationRunner.runFrameEquations(n);let s;this.runPixelEquations(this.presetEquationRunner,r,n,!1),this.preset.useWASM||(Object.assign(this.regVars,A.default.pick(this.mdVSVertex,this.regs)),Object.assign(n,this.regVars)),this.blending?(this.prevMDVSFrame=this.prevPresetEquationRunner.runFrameEquations(a),this.runPixelEquations(this.prevPresetEquationRunner,this.prevMDVSFrame,a,!0),s=q.mixFrameEquations(this.blendProgress,r,this.prevMDVSFrame)):s=r;const i=this.targetTexture;this.targetTexture=this.prevTexture,this.prevTexture=i;const o=this.targetFrameBuffer;this.targetFrameBuffer=this.prevFrameBuffer,this.prevFrameBuffer=o,this.gl.bindTexture(this.gl.TEXTURE_2D,this.prevTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);const{blurMins:l,blurMaxs:m}=q.getBlurValues(s);this.blending?(this.prevWarpShader.renderQuadTexture(!1,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,l,m,this.prevMDVSFrame,this.prevPresetEquationRunner.mdVSQAfterFrame,this.warpUVs,this.warpColor),this.warpShader.renderQuadTexture(!0,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,l,m,s,this.presetEquationRunner.mdVSQAfterFrame,this.warpUVs,this.warpColor)):this.warpShader.renderQuadTexture(!1,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,l,m,r,this.presetEquationRunner.mdVSQAfterFrame,this.warpUVs,this.warpColor),this.numBlurPasses>0&&(this.blurShader1.renderBlurTexture(this.targetTexture,r,l,m),this.numBlurPasses>1&&(this.blurShader2.renderBlurTexture(this.blurTexture1,r,l,m),this.numBlurPasses>2&&this.blurShader3.renderBlurTexture(this.blurTexture2,r,l,m)),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY)),this.motionVectors.drawMotionVectors(s,this.warpUVs),this.preset.shapes&&this.preset.shapes.length>0&&this.customShapes.forEach(((e,t)=>{e.drawCustomShape(this.blending?this.blendProgress:1,n,this.presetEquationRunner,this.preset.shapes[t],this.prevTexture)})),this.preset.waves&&this.preset.waves.length>0&&this.customWaveforms.forEach(((e,t)=>{e.drawCustomWaveform(this.blending?this.blendProgress:1,this.audio.timeArrayL,this.audio.timeArrayR,this.audio.freqArrayL,this.audio.freqArrayR,n,this.presetEquationRunner,this.preset.waves[t])})),this.blending&&(this.prevPreset.shapes&&this.prevPreset.shapes.length>0&&this.prevCustomShapes.forEach(((e,t)=>{e.drawCustomShape(1-this.blendProgress,a,this.prevPresetEquationRunner,this.prevPreset.shapes[t],this.prevTexture)})),this.prevPreset.waves&&this.prevPreset.waves.length>0&&this.prevCustomWaveforms.forEach(((e,t)=>{e.drawCustomWaveform(1-this.blendProgress,this.audio.timeArrayL,this.audio.timeArrayR,this.audio.freqArrayL,this.audio.freqArrayR,a,this.prevPresetEquationRunner,this.prevPreset.waves[t])}))),this.basicWaveform.drawBasicWaveform(this.blending,this.blendProgress,this.audio.timeArrayL,this.audio.timeArrayR,s),this.darkenCenter.drawDarkenCenter(s);const c=[s.ob_r,s.ob_g,s.ob_b,s.ob_a];this.outerBorder.drawBorder(c,s.ob_size,0);const u=[s.ib_r,s.ib_g,s.ib_b,s.ib_a];if(this.innerBorder.drawBorder(u,s.ib_size,s.ob_size),this.supertext.startTime>=0){const e=(this.time-this.supertext.startTime)/this.supertext.duration;e>=1&&this.titleText.renderTitle(e,!0,n)}this.globalVars=n,this.mdVSFrame=r,this.mdVSFrameMixed=s,this.renderToScreen()}renderToScreen(){this.outputFXAA?this.bindFrambufferAndSetViewport(this.compFrameBuffer,this.texsizeX,this.texsizeY):this.bindFrambufferAndSetViewport(null,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);const{blurMins:e,blurMaxs:t}=q.getBlurValues(this.mdVSFrameMixed);if(this.blending?(this.prevCompShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,e,t,this.prevMDVSFrame,this.prevPresetEquationRunner.mdVSQAfterFrame,this.warpColor),this.compShader.renderQuadTexture(!0,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,e,t,this.mdVSFrameMixed,this.presetEquationRunner.mdVSQAfterFrame,this.warpColor)):this.compShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,e,t,this.mdVSFrame,this.presetEquationRunner.mdVSQAfterFrame,this.warpColor),this.supertext.startTime>=0){const e=(this.time-this.supertext.startTime)/this.supertext.duration;this.titleText.renderTitle(e,!1,this.globalVars),e>=1&&(this.supertext.startTime=-1)}this.outputFXAA&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.compTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(null,this.width,this.height),this.outputShader.renderQuadTexture(this.compTexture))}launchSongTitleAnim(e){this.supertext={startTime:this.time,duration:1.7},this.titleText.generateTitleTexture(e)}toDataURL(){const e=new Uint8Array(this.texsizeX*this.texsizeY*4),t=this.gl.createFramebuffer(),n=this.gl.createTexture();this.bindFrameBufferTexture(t,n);const{blurMins:a,blurMaxs:r}=q.getBlurValues(this.mdVSFrameMixed);this.compShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,a,r,this.mdVSFrame,this.presetEquationRunner.mdVSQAfterFrame,this.warpColor),this.gl.readPixels(0,0,this.texsizeX,this.texsizeY,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),Array.from({length:this.texsizeY},((t,n)=>e.slice(n*this.texsizeX*4,(n+1)*this.texsizeX*4))).forEach(((t,n)=>e.set(t,(this.texsizeY-n-1)*this.texsizeX*4)));const s=document.createElement("canvas");s.width=this.texsizeX,s.height=this.texsizeY;const i=s.getContext("2d"),o=i.createImageData(this.texsizeX,this.texsizeY);return o.data.set(e),i.putImageData(o,0,0),this.gl.deleteTexture(n),this.gl.deleteFramebuffer(t),s.toDataURL()}warpBufferToDataURL(){const e=new Uint8Array(this.texsizeX*this.texsizeY*4);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.targetFrameBuffer),this.gl.readPixels(0,0,this.texsizeX,this.texsizeY,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);const t=document.createElement("canvas");t.width=this.texsizeX,t.height=this.texsizeY;const n=t.getContext("2d"),a=n.createImageData(this.texsizeX,this.texsizeY);return a.data.set(e),n.putImageData(a,0,0),t.toDataURL()}}},"./src/rendering/shaders/blur/blur.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var a=n("./src/rendering/shaders/blur/blurVertical.js"),r=n("./src/rendering/shaders/blur/blurHorizontal.js");class s{constructor(e,t,n,s={}){this.blurLevel=e,this.blurRatios=t,this.gl=n,this.texsizeX=s.texsizeX,this.texsizeY=s.texsizeY,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.blurHorizontalFrameBuffer=this.gl.createFramebuffer(),this.blurVerticalFrameBuffer=this.gl.createFramebuffer(),this.blurHorizontalTexture=this.gl.createTexture(),this.blurVerticalTexture=this.gl.createTexture(),this.setupFrameBufferTextures(),this.blurHorizontal=new r.default(n,this.blurLevel,s),this.blurVertical=new a.default(n,this.blurLevel,s)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.setupFrameBufferTextures()}getTextureSize(e){let t=Math.max(this.texsizeX*e,16);t=16*Math.floor((t+3)/16);let n=Math.max(this.texsizeY*e,16);return n=4*Math.floor((n+3)/4),[t,n]}setupFrameBufferTextures(){const e=this.blurLevel>0?this.blurRatios[this.blurLevel-1]:[1,1],t=this.blurRatios[this.blurLevel],n=this.getTextureSize(e[1]),a=this.getTextureSize(t[0]);this.bindFrameBufferTexture(this.blurHorizontalFrameBuffer,this.blurHorizontalTexture,a);const r=a,s=this.getTextureSize(t[1]);this.bindFrameBufferTexture(this.blurVerticalFrameBuffer,this.blurVerticalTexture,s),this.horizontalTexsizes=[n,a],this.verticalTexsizes=[r,s]}bindFrambufferAndSetViewport(e,t){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.viewport(0,0,t[0],t[1])}bindFrameBufferTexture(e,t,n){if(this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n[0],n[1],0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array(n[0]*n[1]*4)),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){const e=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,e)}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,t,0)}renderBlurTexture(e,t,n,a){this.bindFrambufferAndSetViewport(this.blurHorizontalFrameBuffer,this.horizontalTexsizes[1]),this.blurHorizontal.renderQuadTexture(e,t,n,a,this.horizontalTexsizes[0]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.blurHorizontalTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(this.blurVerticalFrameBuffer,this.verticalTexsizes[1]),this.blurVertical.renderQuadTexture(this.blurHorizontalTexture,t,this.verticalTexsizes[0]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.blurVerticalTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D)}}},"./src/rendering/shaders/blur/blurHorizontal.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t){this.gl=e,this.blurLevel=t;const n=[4,3.8,3.5,2.9,1.9,1.2,.7,.3],r=n[0]+n[1],s=n[2]+n[3],i=n[4]+n[5],o=n[6]+n[7],l=0+2*n[1]/r,m=2+2*n[3]/s,c=4+2*n[5]/i,u=6+2*n[7]/o;this.ws=new Float32Array([r,s,i,o]),this.ds=new Float32Array([l,m,c,u]),this.wDiv=.5/(r+s+i+o),this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float scale;\n       uniform float bias;\n       uniform vec4 ws;\n       uniform vec4 ds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = ws[0];\n         float w2 = ws[1];\n         float w3 = ws[2];\n         float w4 = ws[3];\n         float d1 = ds[0];\n         float d2 = ds[1];\n         float d3 = ds[2];\n         float d4 = ds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2( d1 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d1 * texsize.z,0.0) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2( d2 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d2 * texsize.z,0.0) ).xyz) * w2 +\n           ( texture(uTexture, uv2 + vec2( d3 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d3 * texsize.z,0.0) ).xyz) * w3 +\n           ( texture(uTexture, uv2 + vec2( d4 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d4 * texsize.z,0.0) ).xyz) * w4;\n\n         blur.xyz *= wdiv;\n         blur.xyz = blur.xyz * scale + bias;\n\n         fragColor = vec4(blur, 1.0);\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLocation=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.scaleLoc=this.gl.getUniformLocation(this.shaderProgram,"scale"),this.biasLoc=this.gl.getUniformLocation(this.shaderProgram,"bias"),this.wsLoc=this.gl.getUniformLocation(this.shaderProgram,"ws"),this.dsLocation=this.gl.getUniformLocation(this.shaderProgram,"ds"),this.wdivLoc=this.gl.getUniformLocation(this.shaderProgram,"wdiv")}getScaleAndBias(e,t){const n=[1,1,1],a=[0,0,0];let r,s;return n[0]=1/(t[0]-e[0]),a[0]=-e[0]*n[0],r=(e[1]-e[0])/(t[0]-e[0]),s=(t[1]-e[0])/(t[0]-e[0]),n[1]=1/(s-r),a[1]=-r*n[1],r=(e[2]-e[1])/(t[1]-e[1]),s=(t[2]-e[1])/(t[1]-e[1]),n[2]=1/(s-r),a[2]=-r*n[2],{scale:n[this.blurLevel],bias:a[this.blurLevel]}}renderQuadTexture(e,t,n,a,r){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(this.textureLoc,0);const{scale:s,bias:i}=this.getScaleAndBias(n,a);this.gl.uniform4fv(this.texsizeLocation,[r[0],r[1],1/r[0],1/r[1]]),this.gl.uniform1f(this.scaleLoc,s),this.gl.uniform1f(this.biasLoc,i),this.gl.uniform4fv(this.wsLoc,this.ws),this.gl.uniform4fv(this.dsLocation,this.ds),this.gl.uniform1f(this.wdivLoc,this.wDiv),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}},"./src/rendering/shaders/blur/blurVertical.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t){this.gl=e,this.blurLevel=t;const n=[4,3.8,3.5,2.9,1.9,1.2,.7,.3],r=n[0]+n[1]+n[2]+n[3],s=n[4]+n[5]+n[6]+n[7],i=0+(n[2]+n[3])/r*2,o=2+(n[6]+n[7])/s*2;this.wds=new Float32Array([r,s,i,o]),this.wDiv=1/(2*(r+s)),this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float ed1;\n       uniform float ed2;\n       uniform float ed3;\n       uniform vec4 wds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = wds[0];\n         float w2 = wds[1];\n         float d1 = wds[2];\n         float d2 = wds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2(0.0, d1 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d1 * texsize.w) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2(0.0, d2 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d2 * texsize.w) ).xyz) * w2;\n\n         blur.xyz *= wdiv;\n\n         float t = min(min(uv.x, uv.y), 1.0 - max(uv.x, uv.y));\n         t = sqrt(t);\n         t = ed1 + ed2 * clamp(t * ed3, 0.0, 1.0);\n         blur.xyz *= t;\n\n         fragColor = vec4(blur, 1.0);\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLocation=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.ed1Loc=this.gl.getUniformLocation(this.shaderProgram,"ed1"),this.ed2Loc=this.gl.getUniformLocation(this.shaderProgram,"ed2"),this.ed3Loc=this.gl.getUniformLocation(this.shaderProgram,"ed3"),this.wdsLocation=this.gl.getUniformLocation(this.shaderProgram,"wds"),this.wdivLoc=this.gl.getUniformLocation(this.shaderProgram,"wdiv")}renderQuadTexture(e,t,n){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(this.textureLoc,0);const a=0===this.blurLevel?t.b1ed:0;this.gl.uniform4fv(this.texsizeLocation,[n[0],n[1],1/n[0],1/n[1]]),this.gl.uniform1f(this.ed1Loc,1-a),this.gl.uniform1f(this.ed2Loc,a),this.gl.uniform1f(this.ed3Loc,5),this.gl.uniform4fv(this.wdsLocation,this.wds),this.gl.uniform1f(this.wdivLoc,this.wDiv),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}},"./src/rendering/shaders/comp.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t,n,r={}){this.gl=e,this.noise=t,this.image=n,this.mesh_width=r.mesh_width,this.mesh_height=r.mesh_height,this.texsizeX=r.texsizeX,this.texsizeY=r.texsizeY,this.aspectx=r.aspectx,this.aspecty=r.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.compWidth=32,this.compHeight=24,this.buildPositions(),this.indexBuf=e.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.compColorVertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.mainSampler=this.gl.createSampler(),this.mainSamplerFW=this.gl.createSampler(),this.mainSamplerFC=this.gl.createSampler(),this.mainSamplerPW=this.gl.createSampler(),this.mainSamplerPC=this.gl.createSampler(),e.samplerParameteri(this.mainSampler,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSampler,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSampler,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSampler,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_MAG_FILTER,e.NEAREST),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_MAG_FILTER,e.NEAREST),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}buildPositions(){const e=this.compWidth,t=this.compHeight,n=e+1,a=t+1,r=2/e,s=2/t,i=[];for(let e=0;e<a;e++){const t=e*s-1;for(let e=0;e<n;e++){const n=e*r-1;i.push(n,-t,0)}}const o=[];for(let a=0;a<t;a++)for(let t=0;t<e;t++){const e=t+n*a,r=t+n*(a+1),s=t+1+n*(a+1),i=t+1+n*a;o.push(e,r,i),o.push(r,s,i)}this.vertices=new Float32Array(i),this.indices=new Uint16Array(o)}updateGlobals(e){this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions()}createShader(e=""){let t,n;if(0===e.length)t="float orient_horiz = mod(echo_orientation, 2.0);\n                        float orient_x = (orient_horiz != 0.0) ? -1.0 : 1.0;\n                        float orient_y = (echo_orientation >= 2.0) ? -1.0 : 1.0;\n                        vec2 uv_echo = ((uv - 0.5) *\n                                        (1.0 / echo_zoom) *\n                                        vec2(orient_x, orient_y)) + 0.5;\n\n                        ret = mix(texture(sampler_main, uv).rgb,\n                                  texture(sampler_main, uv_echo).rgb,\n                                  echo_alpha);\n\n                        ret *= gammaAdj;\n\n                        if(fShader >= 1.0) {\n                          ret *= hue_shader;\n                        } else if(fShader > 0.001) {\n                          ret *= (1.0 - fShader) + (fShader * hue_shader);\n                        }\n\n                        if(brighten != 0) ret = sqrt(ret);\n                        if(darken != 0) ret = ret*ret;\n                        if(solarize != 0) ret = ret * (1.0 - ret) * 4.0;\n                        if(invert != 0) ret = 1.0 - ret;",n="";else{const r=a.default.getShaderParts(e);n=r[0],t=r[1]}t=t.replace(/texture2D/g,"texture"),t=t.replace(/texture3D/g,"texture"),this.userTextures=a.default.getUserSamplers(n),this.shaderProgram=this.gl.createProgram();const r=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(r,"\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec4 aCompColor;\n      out vec2 vUv;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        vUv = aPos * halfmad + halfmad;\n        vColor = aCompColor;\n      }\n      ".trim()),this.gl.compileShader(r);const s=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(s,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      vec3 lum(vec3 v){\n          return vec3(dot(v, vec3(0.32,0.49,0.29)));\n      }\n\n      in vec2 vUv;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n\n      uniform float time;\n      uniform float gammaAdj;\n      uniform float echo_zoom;\n      uniform float echo_alpha;\n      uniform float echo_orientation;\n      uniform int invert;\n      uniform int brighten;\n      uniform int darken;\n      uniform int solarize;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      uniform float fShader;\n\n      float PI = ${Math.PI};\n\n      ${n}\n\n      void main(void) {\n        vec3 ret;\n        vec2 uv = vUv;\n        vec2 uv_orig = vUv;\n        uv.y = 1.0 - uv.y;\n        uv_orig.y = 1.0 - uv_orig.y;\n        float rad = length(uv - 0.5);\n        float ang = atan(uv.x - 0.5, uv.y - 0.5);\n        vec3 hue_shader = vColor.rgb;\n\n        ${t}\n\n        fragColor = vec4(ret, vColor.a);\n      }\n      `.trim()),this.gl.compileShader(s),this.gl.attachShader(this.shaderProgram,r),this.gl.attachShader(this.shaderProgram,s),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.compColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aCompColor"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_main"),this.textureFWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fw_main"),this.textureFCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fc_main"),this.texturePWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_main"),this.texturePCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pc_main"),this.blurTexture1Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur1"),this.blurTexture2Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur2"),this.blurTexture3Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur3"),this.noiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq"),this.noiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_mq"),this.noiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_hq"),this.noiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq_lite"),this.noisePointLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_noise_lq"),this.noiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_lq"),this.noiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_hq"),this.timeLoc=this.gl.getUniformLocation(this.shaderProgram,"time"),this.gammaAdjLoc=this.gl.getUniformLocation(this.shaderProgram,"gammaAdj"),this.echoZoomLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_zoom"),this.echoAlphaLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_alpha"),this.echoOrientationLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_orientation"),this.invertLoc=this.gl.getUniformLocation(this.shaderProgram,"invert"),this.brightenLoc=this.gl.getUniformLocation(this.shaderProgram,"brighten"),this.darkenLoc=this.gl.getUniformLocation(this.shaderProgram,"darken"),this.solarizeLoc=this.gl.getUniformLocation(this.shaderProgram,"solarize"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.texsizeNoiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq"),this.texsizeNoiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_mq"),this.texsizeNoiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_hq"),this.texsizeNoiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq_lite"),this.texsizeNoiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_lq"),this.texsizeNoiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_hq"),this.resolutionLoc=this.gl.getUniformLocation(this.shaderProgram,"resolution"),this.aspectLoc=this.gl.getUniformLocation(this.shaderProgram,"aspect"),this.bassLoc=this.gl.getUniformLocation(this.shaderProgram,"bass"),this.midLoc=this.gl.getUniformLocation(this.shaderProgram,"mid"),this.trebLoc=this.gl.getUniformLocation(this.shaderProgram,"treb"),this.volLoc=this.gl.getUniformLocation(this.shaderProgram,"vol"),this.bassAttLoc=this.gl.getUniformLocation(this.shaderProgram,"bass_att"),this.midAttLoc=this.gl.getUniformLocation(this.shaderProgram,"mid_att"),this.trebAttLoc=this.gl.getUniformLocation(this.shaderProgram,"treb_att"),this.volAttLoc=this.gl.getUniformLocation(this.shaderProgram,"vol_att"),this.frameLoc=this.gl.getUniformLocation(this.shaderProgram,"frame"),this.fpsLoc=this.gl.getUniformLocation(this.shaderProgram,"fps"),this.blur1MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_min"),this.blur1MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_max"),this.blur2MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_min"),this.blur2MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_max"),this.blur3MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_min"),this.blur3MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_max"),this.scale1Loc=this.gl.getUniformLocation(this.shaderProgram,"scale1"),this.scale2Loc=this.gl.getUniformLocation(this.shaderProgram,"scale2"),this.scale3Loc=this.gl.getUniformLocation(this.shaderProgram,"scale3"),this.bias1Loc=this.gl.getUniformLocation(this.shaderProgram,"bias1"),this.bias2Loc=this.gl.getUniformLocation(this.shaderProgram,"bias2"),this.bias3Loc=this.gl.getUniformLocation(this.shaderProgram,"bias3"),this.randPresetLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_preset"),this.randFrameLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_frame"),this.fShaderLoc=this.gl.getUniformLocation(this.shaderProgram,"fShader"),this.qaLoc=this.gl.getUniformLocation(this.shaderProgram,"_qa"),this.qbLoc=this.gl.getUniformLocation(this.shaderProgram,"_qb"),this.qcLoc=this.gl.getUniformLocation(this.shaderProgram,"_qc"),this.qdLoc=this.gl.getUniformLocation(this.shaderProgram,"_qd"),this.qeLoc=this.gl.getUniformLocation(this.shaderProgram,"_qe"),this.qfLoc=this.gl.getUniformLocation(this.shaderProgram,"_qf"),this.qgLoc=this.gl.getUniformLocation(this.shaderProgram,"_qg"),this.qhLoc=this.gl.getUniformLocation(this.shaderProgram,"_qh"),this.slowRoamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_cos"),this.roamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_cos"),this.slowRoamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_sin"),this.roamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_sin");for(let e=0;e<this.userTextures.length;e++){const t=this.userTextures[e];t.textureLoc=this.gl.getUniformLocation(this.shaderProgram,`sampler_${t.sampler}`)}}updateShader(e){this.createShader(e)}bindBlurVals(e,t){const n=e[0],a=e[1],r=e[2],s=t[0],i=t[1],o=t[2],l=s-n,m=n,c=i-a,u=a,_=o-r,p=r;this.gl.uniform1f(this.blur1MinLoc,n),this.gl.uniform1f(this.blur1MaxLoc,s),this.gl.uniform1f(this.blur2MinLoc,a),this.gl.uniform1f(this.blur2MaxLoc,i),this.gl.uniform1f(this.blur3MinLoc,r),this.gl.uniform1f(this.blur3MaxLoc,o),this.gl.uniform1f(this.scale1Loc,l),this.gl.uniform1f(this.scale2Loc,c),this.gl.uniform1f(this.scale3Loc,_),this.gl.uniform1f(this.bias1Loc,m),this.gl.uniform1f(this.bias2Loc,u),this.gl.uniform1f(this.bias3Loc,p)}static generateHueBase(e){const t=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1]);for(let n=0;n<4;n++){t[3*n+0]=.6+.3*Math.sin(30*e.time*.0143+3+21*n+e.rand_start[3]),t[3*n+1]=.6+.3*Math.sin(30*e.time*.0107+1+13*n+e.rand_start[1]),t[3*n+2]=.6+.3*Math.sin(30*e.time*.0129+6+9*n+e.rand_start[2]);const a=Math.max(t[3*n],t[3*n+1],t[3*n+2]);for(let e=0;e<3;e++)t[3*n+e]=t[3*n+e]/a,t[3*n+e]=.5+.5*t[3*n+e]}return t}generateCompColors(e,t,n){const a=r.generateHueBase(t),s=this.compWidth+1,i=this.compHeight+1,o=new Float32Array(s*i*4);let l=0;for(let t=0;t<i;t++)for(let r=0;r<s;r++){let s=r/this.compWidth,i=t/this.compHeight;const m=[1,1,1];for(let e=0;e<3;e++)m[e]=a[0+e]*s*i+a[3+e]*(1-s)*i+a[6+e]*s*(1-i)+a[9+e]*(1-s)*(1-i);let c=1;if(e){s*=this.mesh_width+1,i*=this.mesh_height+1,s=Math.clamp(s,0,this.mesh_width-1),i=Math.clamp(i,0,this.mesh_height-1);const e=Math.floor(s),t=Math.floor(i),a=s-e,r=i-t;c=n[4*(t*(this.mesh_width+1)+e)+3]*(1-a)*(1-r)+n[4*(t*(this.mesh_width+1)+(e+1))+3]*a*(1-r)+n[4*((t+1)*(this.mesh_width+1)+e)+3]*(1-a)*r+n[4*((t+1)*(this.mesh_width+1)+(e+1))+3]*a*r}o[l+0]=m[0],o[l+1]=m[1],o[l+2]=m[2],o[l+3]=c,l+=4}return o}renderQuadTexture(e,t,n,a,r,s,i,o,l,m){const c=this.generateCompColors(e,o,m);this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.compColorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,c,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.compColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.compColorLocation);const u=0!==o.wrap?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,u),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,u),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(1,this.mainSamplerFW),this.gl.uniform1i(this.textureFWLoc,1),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(2,this.mainSamplerFC),this.gl.uniform1i(this.textureFCLoc,2),this.gl.activeTexture(this.gl.TEXTURE3),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(3,this.mainSamplerPW),this.gl.uniform1i(this.texturePWLoc,3),this.gl.activeTexture(this.gl.TEXTURE4),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(4,this.mainSamplerPC),this.gl.uniform1i(this.texturePCLoc,4),this.gl.activeTexture(this.gl.TEXTURE5),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(this.blurTexture1Loc,5),this.gl.activeTexture(this.gl.TEXTURE6),this.gl.bindTexture(this.gl.TEXTURE_2D,a),this.gl.uniform1i(this.blurTexture2Loc,6),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(this.blurTexture3Loc,7),this.gl.activeTexture(this.gl.TEXTURE8),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.uniform1i(this.noiseLQLoc,8),this.gl.activeTexture(this.gl.TEXTURE9),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexMQ),this.gl.uniform1i(this.noiseMQLoc,9),this.gl.activeTexture(this.gl.TEXTURE10),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexHQ),this.gl.uniform1i(this.noiseHQLoc,10),this.gl.activeTexture(this.gl.TEXTURE11),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQLite),this.gl.uniform1i(this.noiseLQLiteLoc,11),this.gl.activeTexture(this.gl.TEXTURE12),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.bindSampler(12,this.noise.noiseTexPointLQ),this.gl.uniform1i(this.noisePointLQLoc,12),this.gl.activeTexture(this.gl.TEXTURE13),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolLQ),this.gl.uniform1i(this.noiseVolLQLoc,13),this.gl.activeTexture(this.gl.TEXTURE14),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolHQ),this.gl.uniform1i(this.noiseVolHQLoc,14);for(let e=0;e<this.userTextures.length;e++){const t=this.userTextures[e];this.gl.activeTexture(this.gl.TEXTURE15+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.image.getTexture(t.sampler)),this.gl.uniform1i(t.textureLoc,15+e)}this.gl.uniform1f(this.timeLoc,o.time),this.gl.uniform1f(this.gammaAdjLoc,o.gammaadj),this.gl.uniform1f(this.echoZoomLoc,o.echo_zoom),this.gl.uniform1f(this.echoAlphaLoc,o.echo_alpha),this.gl.uniform1f(this.echoOrientationLoc,o.echo_orient),this.gl.uniform1i(this.invertLoc,o.invert),this.gl.uniform1i(this.brightenLoc,o.brighten),this.gl.uniform1i(this.darkenLoc,o.darken),this.gl.uniform1i(this.solarizeLoc,o.solarize),this.gl.uniform2fv(this.resolutionLoc,[this.texsizeX,this.texsizeY]),this.gl.uniform4fv(this.aspectLoc,[this.aspectx,this.aspecty,this.invAspectx,this.invAspecty]),this.gl.uniform4fv(this.texsizeLoc,new Float32Array([this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY])),this.gl.uniform4fv(this.texsizeNoiseLQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseMQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseHQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolLQLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolHQLoc,[32,32,1/32,1/32]),this.gl.uniform1f(this.bassLoc,o.bass),this.gl.uniform1f(this.midLoc,o.mid),this.gl.uniform1f(this.trebLoc,o.treb),this.gl.uniform1f(this.volLoc,(o.bass+o.mid+o.treb)/3),this.gl.uniform1f(this.bassAttLoc,o.bass_att),this.gl.uniform1f(this.midAttLoc,o.mid_att),this.gl.uniform1f(this.trebAttLoc,o.treb_att),this.gl.uniform1f(this.volAttLoc,(o.bass_att+o.mid_att+o.treb_att)/3),this.gl.uniform1f(this.frameLoc,o.frame),this.gl.uniform1f(this.fpsLoc,o.fps),this.gl.uniform4fv(this.randPresetLoc,o.rand_preset),this.gl.uniform4fv(this.randFrameLoc,new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()])),this.gl.uniform1f(this.fShaderLoc,o.fshader),this.gl.uniform4fv(this.qaLoc,new Float32Array([l.q1||0,l.q2||0,l.q3||0,l.q4||0])),this.gl.uniform4fv(this.qbLoc,new Float32Array([l.q5||0,l.q6||0,l.q7||0,l.q8||0])),this.gl.uniform4fv(this.qcLoc,new Float32Array([l.q9||0,l.q10||0,l.q11||0,l.q12||0])),this.gl.uniform4fv(this.qdLoc,new Float32Array([l.q13||0,l.q14||0,l.q15||0,l.q16||0])),this.gl.uniform4fv(this.qeLoc,new Float32Array([l.q17||0,l.q18||0,l.q19||0,l.q20||0])),this.gl.uniform4fv(this.qfLoc,new Float32Array([l.q21||0,l.q22||0,l.q23||0,l.q24||0])),this.gl.uniform4fv(this.qgLoc,new Float32Array([l.q25||0,l.q26||0,l.q27||0,l.q28||0])),this.gl.uniform4fv(this.qhLoc,new Float32Array([l.q29||0,l.q30||0,l.q31||0,l.q32||0])),this.gl.uniform4fv(this.slowRoamCosLoc,[.5+.5*Math.cos(.005*o.time),.5+.5*Math.cos(.008*o.time),.5+.5*Math.cos(.013*o.time),.5+.5*Math.cos(.022*o.time)]),this.gl.uniform4fv(this.roamCosLoc,[.5+.5*Math.cos(.3*o.time),.5+.5*Math.cos(1.3*o.time),.5+.5*Math.cos(5*o.time),.5+.5*Math.cos(20*o.time)]),this.gl.uniform4fv(this.slowRoamSinLoc,[.5+.5*Math.sin(.005*o.time),.5+.5*Math.sin(.008*o.time),.5+.5*Math.sin(.013*o.time),.5+.5*Math.sin(.022*o.time)]),this.gl.uniform4fv(this.roamSinLoc,[.5+.5*Math.sin(.3*o.time),.5+.5*Math.sin(1.3*o.time),.5+.5*Math.sin(5*o.time),.5+.5*Math.sin(20*o.time)]),this.bindBlurVals(s,i),e?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.disable(this.gl.BLEND),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0),e||this.gl.enable(this.gl.BLEND)}}},"./src/rendering/shaders/output.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t){this.gl=e,this.textureRatio=t.textureRatio,this.texsizeX=t.texsizeX,this.texsizeY=t.texsizeY,this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.useFXAA()?this.createFXAAShader():this.createShader()}useFXAA(){return this.textureRatio<=1}updateGlobals(e){this.textureRatio=e.textureRatio,this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.gl.deleteProgram(this.shaderProgram),this.useFXAA()?this.createFXAAShader():this.createShader()}createFXAAShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 v_rgbM;\n       out vec2 v_rgbNW;\n       out vec2 v_rgbNE;\n       out vec2 v_rgbSW;\n       out vec2 v_rgbSE;\n       uniform vec4 texsize;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n\n         v_rgbM = aPos * halfmad + halfmad;\n         v_rgbNW = v_rgbM + (vec2(-1.0, -1.0) * texsize.zx);\n         v_rgbNE = v_rgbM + (vec2(1.0, -1.0) * texsize.zx);\n         v_rgbSW = v_rgbM + (vec2(-1.0, 1.0) * texsize.zx);\n         v_rgbSE = v_rgbM + (vec2(1.0, 1.0) * texsize.zx);\n       }"),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 v_rgbM;\n       in vec2 v_rgbNW;\n       in vec2 v_rgbNE;\n       in vec2 v_rgbSW;\n       in vec2 v_rgbSE;\n       out vec4 fragColor;\n       uniform vec4 texsize;\n       uniform sampler2D uTexture;\n\n       #ifndef FXAA_REDUCE_MIN\n         #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n       #endif\n       #ifndef FXAA_REDUCE_MUL\n         #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n       #endif\n       #ifndef FXAA_SPAN_MAX\n         #define FXAA_SPAN_MAX     8.0\n       #endif\n\n       void main(void) {\n         vec4 color;\n         vec3 rgbNW = textureLod(uTexture, v_rgbNW, 0.0).xyz;\n         vec3 rgbNE = textureLod(uTexture, v_rgbNE, 0.0).xyz;\n         vec3 rgbSW = textureLod(uTexture, v_rgbSW, 0.0).xyz;\n         vec3 rgbSE = textureLod(uTexture, v_rgbSE, 0.0).xyz;\n         vec3 rgbM  = textureLod(uTexture, v_rgbM, 0.0).xyz;\n         vec3 luma = vec3(0.299, 0.587, 0.114);\n         float lumaNW = dot(rgbNW, luma);\n         float lumaNE = dot(rgbNE, luma);\n         float lumaSW = dot(rgbSW, luma);\n         float lumaSE = dot(rgbSE, luma);\n         float lumaM  = dot(rgbM,  luma);\n         float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n         float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n         mediump vec2 dir;\n         dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n         dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n         float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                               (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n         float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n         dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n                   max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                   dir * rcpDirMin)) * texsize.zw;\n\n         vec3 rgbA = 0.5 * (\n             textureLod(uTexture, v_rgbM + dir * (1.0 / 3.0 - 0.5), 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * (2.0 / 3.0 - 0.5), 0.0).xyz);\n         vec3 rgbB = rgbA * 0.5 + 0.25 * (\n             textureLod(uTexture, v_rgbM + dir * -0.5, 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * 0.5, 0.0).xyz);\n\n         float lumaB = dot(rgbB, luma);\n         if ((lumaB < lumaMin) || (lumaB > lumaMax))\n           color = vec4(rgbA, 1.0);\n         else\n           color = vec4(rgbB, 1.0);\n\n         fragColor = color;\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize")}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }"),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}renderQuadTexture(e){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(this.textureLoc,0),this.useFXAA()&&this.gl.uniform4fv(this.texsizeLoc,new Float32Array([this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY])),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}},"./src/rendering/shaders/resample.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e){this.gl=e,this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }"),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}renderQuadTexture(e){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.uniform1i(this.textureLoc,0),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}},"./src/rendering/shaders/shaderUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));const a=/uniform sampler2D sampler_(?:.+?);/g,r=/uniform sampler2D sampler_(.+?);/;class s{static getShaderParts(e){const t=e.indexOf("shader_body");if(e&&t>-1){const n=e.substring(0,t),a=e.substring(t),r=a.indexOf("{"),s=a.lastIndexOf("}");return[n,a.substring(r+1,s)]}return["",e]}static getFragmentFloatPrecision(e){return e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}static getUserSamplers(e){const t=[],n=e.match(a);if(n&&n.length>0)for(let e=0;e<n.length;e++){const a=n[e].match(r);if(a&&a.length>0){const e=a[1];t.push({sampler:e})}}return t}}},"./src/rendering/shaders/warp.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t,n,r={}){this.gl=e,this.noise=t,this.image=n,this.texsizeX=r.texsizeX,this.texsizeY=r.texsizeY,this.mesh_width=r.mesh_width,this.mesh_height=r.mesh_height,this.aspectx=r.aspectx,this.aspecty=r.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions(),this.indexBuf=e.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.warpUvVertexBuf=this.gl.createBuffer(),this.warpColorVertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.mainSampler=this.gl.createSampler(),this.mainSamplerFW=this.gl.createSampler(),this.mainSamplerFC=this.gl.createSampler(),this.mainSamplerPW=this.gl.createSampler(),this.mainSamplerPC=this.gl.createSampler(),e.samplerParameteri(this.mainSampler,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSampler,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSampler,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSampler,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSamplerFW,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerFC,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_MAG_FILTER,e.NEAREST),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_WRAP_S,e.REPEAT),e.samplerParameteri(this.mainSamplerPW,e.TEXTURE_WRAP_T,e.REPEAT),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_MAG_FILTER,e.NEAREST),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.samplerParameteri(this.mainSamplerPC,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}buildPositions(){const e=this.mesh_width,t=this.mesh_height,n=e+1,a=t+1,r=2/e,s=2/t,i=[];for(let e=0;e<a;e++){const t=e*s-1;for(let e=0;e<n;e++){const n=e*r-1;i.push(n,-t,0)}}const o=[];for(let a=0;a<t;a++)for(let t=0;t<e;t++){const e=t+n*a,r=t+n*(a+1),s=t+1+n*(a+1),i=t+1+n*a;o.push(e,r,i),o.push(r,s,i)}this.vertices=new Float32Array(i),this.indices=new Uint16Array(o)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions()}createShader(e=""){let t,n;if(0===e.length)t="ret = texture(sampler_main, uv).rgb * decay;",n="";else{const r=a.default.getShaderParts(e);n=r[0],t=r[1]}t=t.replace(/texture2D/g,"texture"),t=t.replace(/texture3D/g,"texture"),this.userTextures=a.default.getUserSamplers(n),this.shaderProgram=this.gl.createProgram();const r=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(r,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec2 aWarpUv;\n      in vec4 aWarpColor;\n      out vec2 uv;\n      out vec2 uv_orig;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv_orig = aPos * halfmad + halfmad;\n        uv = aWarpUv;\n        vColor = aWarpColor;\n      }\n      `.trim()),this.gl.compileShader(r);const s=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(s,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      in vec2 uv;\n      in vec2 uv_orig;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n      uniform float time;\n      uniform float decay;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      float PI = ${Math.PI};\n\n      ${n}\n\n      void main(void) {\n        vec3 ret;\n        float rad = length(uv_orig - 0.5);\n        float ang = atan(uv_orig.x - 0.5, uv_orig.y - 0.5);\n\n        ${t}\n\n        fragColor = vec4(ret, 1.0) * vColor;\n      }\n      `.trim()),this.gl.compileShader(s),this.gl.attachShader(this.shaderProgram,r),this.gl.attachShader(this.shaderProgram,s),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.warpUvLocation=this.gl.getAttribLocation(this.shaderProgram,"aWarpUv"),this.warpColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aWarpColor"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_main"),this.textureFWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fw_main"),this.textureFCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fc_main"),this.texturePWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_main"),this.texturePCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pc_main"),this.blurTexture1Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur1"),this.blurTexture2Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur2"),this.blurTexture3Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur3"),this.noiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq"),this.noiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_mq"),this.noiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_hq"),this.noiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq_lite"),this.noisePointLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_noise_lq"),this.noiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_lq"),this.noiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_hq"),this.decayLoc=this.gl.getUniformLocation(this.shaderProgram,"decay"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.texsizeNoiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq"),this.texsizeNoiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_mq"),this.texsizeNoiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_hq"),this.texsizeNoiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq_lite"),this.texsizeNoiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_lq"),this.texsizeNoiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_hq"),this.resolutionLoc=this.gl.getUniformLocation(this.shaderProgram,"resolution"),this.aspectLoc=this.gl.getUniformLocation(this.shaderProgram,"aspect"),this.bassLoc=this.gl.getUniformLocation(this.shaderProgram,"bass"),this.midLoc=this.gl.getUniformLocation(this.shaderProgram,"mid"),this.trebLoc=this.gl.getUniformLocation(this.shaderProgram,"treb"),this.volLoc=this.gl.getUniformLocation(this.shaderProgram,"vol"),this.bassAttLoc=this.gl.getUniformLocation(this.shaderProgram,"bass_att"),this.midAttLoc=this.gl.getUniformLocation(this.shaderProgram,"mid_att"),this.trebAttLoc=this.gl.getUniformLocation(this.shaderProgram,"treb_att"),this.volAttLoc=this.gl.getUniformLocation(this.shaderProgram,"vol_att"),this.timeLoc=this.gl.getUniformLocation(this.shaderProgram,"time"),this.frameLoc=this.gl.getUniformLocation(this.shaderProgram,"frame"),this.fpsLoc=this.gl.getUniformLocation(this.shaderProgram,"fps"),this.blur1MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_min"),this.blur1MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_max"),this.blur2MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_min"),this.blur2MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_max"),this.blur3MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_min"),this.blur3MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_max"),this.scale1Loc=this.gl.getUniformLocation(this.shaderProgram,"scale1"),this.scale2Loc=this.gl.getUniformLocation(this.shaderProgram,"scale2"),this.scale3Loc=this.gl.getUniformLocation(this.shaderProgram,"scale3"),this.bias1Loc=this.gl.getUniformLocation(this.shaderProgram,"bias1"),this.bias2Loc=this.gl.getUniformLocation(this.shaderProgram,"bias2"),this.bias3Loc=this.gl.getUniformLocation(this.shaderProgram,"bias3"),this.randPresetLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_preset"),this.randFrameLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_frame"),this.qaLoc=this.gl.getUniformLocation(this.shaderProgram,"_qa"),this.qbLoc=this.gl.getUniformLocation(this.shaderProgram,"_qb"),this.qcLoc=this.gl.getUniformLocation(this.shaderProgram,"_qc"),this.qdLoc=this.gl.getUniformLocation(this.shaderProgram,"_qd"),this.qeLoc=this.gl.getUniformLocation(this.shaderProgram,"_qe"),this.qfLoc=this.gl.getUniformLocation(this.shaderProgram,"_qf"),this.qgLoc=this.gl.getUniformLocation(this.shaderProgram,"_qg"),this.qhLoc=this.gl.getUniformLocation(this.shaderProgram,"_qh"),this.slowRoamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_cos"),this.roamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_cos"),this.slowRoamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_sin"),this.roamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_sin");for(let e=0;e<this.userTextures.length;e++){const t=this.userTextures[e];t.textureLoc=this.gl.getUniformLocation(this.shaderProgram,`sampler_${t.sampler}`)}}updateShader(e){this.createShader(e)}bindBlurVals(e,t){const n=e[0],a=e[1],r=e[2],s=t[0],i=t[1],o=t[2],l=s-n,m=n,c=i-a,u=a,_=o-r,p=r;this.gl.uniform1f(this.blur1MinLoc,n),this.gl.uniform1f(this.blur1MaxLoc,s),this.gl.uniform1f(this.blur2MinLoc,a),this.gl.uniform1f(this.blur2MaxLoc,i),this.gl.uniform1f(this.blur3MinLoc,r),this.gl.uniform1f(this.blur3MaxLoc,o),this.gl.uniform1f(this.scale1Loc,l),this.gl.uniform1f(this.scale2Loc,c),this.gl.uniform1f(this.scale3Loc,_),this.gl.uniform1f(this.bias1Loc,m),this.gl.uniform1f(this.bias2Loc,u),this.gl.uniform1f(this.bias3Loc,p)}renderQuadTexture(e,t,n,a,r,s,i,o,l,m,c){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.warpUvVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,m,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.warpUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.warpUvLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.warpColorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,c,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.warpColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.warpColorLocation);const u=0!==o.wrap?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,u),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,u),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(1,this.mainSamplerFW),this.gl.uniform1i(this.textureFWLoc,1),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(2,this.mainSamplerFC),this.gl.uniform1i(this.textureFCLoc,2),this.gl.activeTexture(this.gl.TEXTURE3),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(3,this.mainSamplerPW),this.gl.uniform1i(this.texturePWLoc,3),this.gl.activeTexture(this.gl.TEXTURE4),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.bindSampler(4,this.mainSamplerPC),this.gl.uniform1i(this.texturePCLoc,4),this.gl.activeTexture(this.gl.TEXTURE5),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(this.blurTexture1Loc,5),this.gl.activeTexture(this.gl.TEXTURE6),this.gl.bindTexture(this.gl.TEXTURE_2D,a),this.gl.uniform1i(this.blurTexture2Loc,6),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(this.blurTexture3Loc,7),this.gl.activeTexture(this.gl.TEXTURE8),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.uniform1i(this.noiseLQLoc,8),this.gl.activeTexture(this.gl.TEXTURE9),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexMQ),this.gl.uniform1i(this.noiseMQLoc,9),this.gl.activeTexture(this.gl.TEXTURE10),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexHQ),this.gl.uniform1i(this.noiseHQLoc,10),this.gl.activeTexture(this.gl.TEXTURE11),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQLite),this.gl.uniform1i(this.noiseLQLiteLoc,11),this.gl.activeTexture(this.gl.TEXTURE12),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.bindSampler(12,this.noise.noiseTexPointLQ),this.gl.uniform1i(this.noisePointLQLoc,12),this.gl.activeTexture(this.gl.TEXTURE13),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolLQ),this.gl.uniform1i(this.noiseVolLQLoc,13),this.gl.activeTexture(this.gl.TEXTURE14),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolHQ),this.gl.uniform1i(this.noiseVolHQLoc,14);for(let e=0;e<this.userTextures.length;e++){const t=this.userTextures[e];this.gl.activeTexture(this.gl.TEXTURE15+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.image.getTexture(t.sampler)),this.gl.uniform1i(t.textureLoc,15+e)}this.gl.uniform1f(this.decayLoc,o.decay),this.gl.uniform2fv(this.resolutionLoc,[this.texsizeX,this.texsizeY]),this.gl.uniform4fv(this.aspectLoc,[this.aspectx,this.aspecty,this.invAspectx,this.invAspecty]),this.gl.uniform4fv(this.texsizeLoc,[this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY]),this.gl.uniform4fv(this.texsizeNoiseLQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseMQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseHQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolLQLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolHQLoc,[32,32,1/32,1/32]),this.gl.uniform1f(this.bassLoc,o.bass),this.gl.uniform1f(this.midLoc,o.mid),this.gl.uniform1f(this.trebLoc,o.treb),this.gl.uniform1f(this.volLoc,(o.bass+o.mid+o.treb)/3),this.gl.uniform1f(this.bassAttLoc,o.bass_att),this.gl.uniform1f(this.midAttLoc,o.mid_att),this.gl.uniform1f(this.trebAttLoc,o.treb_att),this.gl.uniform1f(this.volAttLoc,(o.bass_att+o.mid_att+o.treb_att)/3),this.gl.uniform1f(this.timeLoc,o.time),this.gl.uniform1f(this.frameLoc,o.frame),this.gl.uniform1f(this.fpsLoc,o.fps),this.gl.uniform4fv(this.randPresetLoc,o.rand_preset),this.gl.uniform4fv(this.randFrameLoc,new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()])),this.gl.uniform4fv(this.qaLoc,new Float32Array([l.q1||0,l.q2||0,l.q3||0,l.q4||0])),this.gl.uniform4fv(this.qbLoc,new Float32Array([l.q5||0,l.q6||0,l.q7||0,l.q8||0])),this.gl.uniform4fv(this.qcLoc,new Float32Array([l.q9||0,l.q10||0,l.q11||0,l.q12||0])),this.gl.uniform4fv(this.qdLoc,new Float32Array([l.q13||0,l.q14||0,l.q15||0,l.q16||0])),this.gl.uniform4fv(this.qeLoc,new Float32Array([l.q17||0,l.q18||0,l.q19||0,l.q20||0])),this.gl.uniform4fv(this.qfLoc,new Float32Array([l.q21||0,l.q22||0,l.q23||0,l.q24||0])),this.gl.uniform4fv(this.qgLoc,new Float32Array([l.q25||0,l.q26||0,l.q27||0,l.q28||0])),this.gl.uniform4fv(this.qhLoc,new Float32Array([l.q29||0,l.q30||0,l.q31||0,l.q32||0])),this.gl.uniform4fv(this.slowRoamCosLoc,[.5+.5*Math.cos(.005*o.time),.5+.5*Math.cos(.008*o.time),.5+.5*Math.cos(.013*o.time),.5+.5*Math.cos(.022*o.time)]),this.gl.uniform4fv(this.roamCosLoc,[.5+.5*Math.cos(.3*o.time),.5+.5*Math.cos(1.3*o.time),.5+.5*Math.cos(5*o.time),.5+.5*Math.cos(20*o.time)]),this.gl.uniform4fv(this.slowRoamSinLoc,[.5+.5*Math.sin(.005*o.time),.5+.5*Math.sin(.008*o.time),.5+.5*Math.sin(.013*o.time),.5+.5*Math.sin(.022*o.time)]),this.gl.uniform4fv(this.roamSinLoc,[.5+.5*Math.sin(.3*o.time),.5+.5*Math.sin(1.3*o.time),.5+.5*Math.sin(5*o.time),.5+.5*Math.sin(20*o.time)]),this.bindBlurVals(s,i),e?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.disable(this.gl.BLEND),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0),e||this.gl.enable(this.gl.BLEND)}}},"./src/rendering/shapes/customShape.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var a=n("./src/utils.js"),r=n("./src/rendering/shaders/shaderUtils.js");class s{constructor(e,t,n){this.index=e,this.gl=t,this.positions=new Float32Array(309),this.colors=new Float32Array(412),this.uvs=new Float32Array(206),this.borderPositions=new Float32Array(306),this.texsizeX=n.texsizeX,this.texsizeY=n.texsizeY,this.mesh_width=n.mesh_width,this.mesh_height=n.mesh_height,this.aspectx=n.aspectx,this.aspecty=n.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.uvVertexBuf=this.gl.createBuffer(),this.borderPositionVertexBuf=this.gl.createBuffer(),this.floatPrecision=r.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.createBorderShader(),this.mainSampler=this.gl.createSampler(),t.samplerParameteri(this.mainSampler,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.samplerParameteri(this.mainSampler,t.TEXTURE_MAG_FILTER,t.LINEAR),t.samplerParameteri(this.mainSampler,t.TEXTURE_WRAP_S,t.REPEAT),t.samplerParameteri(this.mainSampler,t.TEXTURE_WRAP_T,t.REPEAT)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      in vec2 aUv;\n      out vec4 vColor;\n      out vec2 vUv;\n      void main(void) {\n        vColor = aColor;\n        vUv = aUv;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      uniform sampler2D uTexture;\n      uniform float uTextured;\n      in vec4 vColor;\n      in vec2 vUv;\n      out vec4 fragColor;\n      void main(void) {\n        if (uTextured != 0.0) {\n          fragColor = texture(uTexture, vUv) * vColor;\n        } else {\n          fragColor = vColor;\n        }\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor"),this.aUvLocation=this.gl.getAttribLocation(this.shaderProgram,"aUv"),this.texturedLoc=this.gl.getUniformLocation(this.shaderProgram,"uTextured"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}createBorderShader(){this.borderShaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aBorderPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aBorderPos +\n                            vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 uBorderColor;\n      void main(void) {\n        fragColor = uBorderColor;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.borderShaderProgram,e),this.gl.attachShader(this.borderShaderProgram,t),this.gl.linkProgram(this.borderShaderProgram),this.aBorderPosLoc=this.gl.getAttribLocation(this.borderShaderProgram,"aBorderPos"),this.uBorderColorLoc=this.gl.getUniformLocation(this.borderShaderProgram,"uBorderColor"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}drawCustomShape(e,t,n,r,s){if(0!==r.baseVals.enabled)if(n.preset.useWASM){this.setupShapeBuffers(n.preset.globalPools.perFrame.wrap.value);const r=n.preset.shapes[this.index].baseVals,i=n.preset.globalPools[`shapePerFrame${this.index}`];a.default.setWasm(i,t,n.globalKeys),n.preset.shapes[this.index].frame_eqs||n.preset.restore_qs(),a.default.setWasm(i,n.mdVSTShapeInits[this.index],n.ts),n.preset.save_ts(),i.x.value=r.x,i.y.value=r.y,i.rad.value=r.rad,i.ang.value=r.ang,i.r.value=r.r,i.g.value=r.g,i.b.value=r.b,i.a.value=r.a,i.r2.value=r.r2,i.g2.value=r.g2,i.b2.value=r.b2,i.a2.value=r.a2,i.border_r.value=r.border_r,i.border_g.value=r.border_g,i.border_b.value=r.border_b,i.border_a.value=r.border_a,i.thickoutline.value=r.thickoutline,i.textured.value=r.textured,i.tex_zoom.value=r.tex_zoom,i.tex_ang.value=r.tex_ang,i.additive.value=r.additive,n.preset.shapes[this.index].frame_eqs_save();const o=Math.clamp(r.num_inst,1,1024);for(let t=0;t<o;t++){i.instance.value=t,n.preset.shapes[this.index].frame_eqs&&(n.preset.shapes[this.index].frame_eqs_restore(),n.preset.restore_qs(),n.preset.restore_ts(),n.preset.shapes[this.index].frame_eqs());let a=i.sides.value;a=Math.clamp(a,3,100),a=Math.floor(a);const r=i.rad.value,o=i.ang.value,l=2*i.x.value-1,m=-2*i.y.value+1,c=i.r.value,u=i.g.value,_=i.b.value,p=i.a.value,v=i.r2.value,d=i.g2.value,b=i.b2.value,h=i.a2.value,f=i.border_r.value,g=i.border_g.value,x=i.border_b.value,y=i.border_a.value;this.borderColor=[f,g,x,y*e];const w=i.thickoutline.value,A=i.textured.value,q=i.tex_zoom.value,z=i.tex_ang.value,E=i.additive.value,k=this.borderColor[3]>0,T=Math.abs(A)>=1,S=Math.abs(w)>=1,I=Math.abs(E)>=1;this.positions[0]=l,this.positions[1]=m,this.positions[2]=0,this.colors[0]=c,this.colors[1]=u,this.colors[2]=_,this.colors[3]=p*e,T&&(this.uvs[0]=.5,this.uvs[1]=.5);const P=.25*Math.PI;for(let t=1;t<=a+1;t++){const n=(t-1)/a*2*Math.PI,s=n+o+P;if(this.positions[3*t+0]=l+r*Math.cos(s)*this.aspecty,this.positions[3*t+1]=m+r*Math.sin(s),this.positions[3*t+2]=0,this.colors[4*t+0]=v,this.colors[4*t+1]=d,this.colors[4*t+2]=b,this.colors[4*t+3]=h*e,T){const e=n+z+P;this.uvs[2*t+0]=.5+.5*Math.cos(e)/q*this.aspecty,this.uvs[2*t+1]=.5+.5*Math.sin(e)/q}k&&(this.borderPositions[3*(t-1)+0]=this.positions[3*t+0],this.borderPositions[3*(t-1)+1]=this.positions[3*t+1],this.borderPositions[3*(t-1)+2]=this.positions[3*t+2])}this.drawCustomShapeInstance(s,a,T,k,S,I)}}else{this.setupShapeBuffers(n.mdVSFrame.wrap);let r=Object.assign({},n.mdVSShapes[this.index],n.mdVSFrameMapShapes[this.index],t);""===n.preset.shapes[this.index].frame_eqs_str&&(r=Object.assign(r,n.mdVSQAfterFrame,n.mdVSTShapeInits[this.index]));const i=n.preset.shapes[this.index].baseVals,o=Math.clamp(i.num_inst,1,1024);for(let t=0;t<o;t++){let a;r.instance=t,r.x=i.x,r.y=i.y,r.rad=i.rad,r.ang=i.ang,r.r=i.r,r.g=i.g,r.b=i.b,r.a=i.a,r.r2=i.r2,r.g2=i.g2,r.b2=i.b2,r.a2=i.a2,r.border_r=i.border_r,r.border_g=i.border_g,r.border_b=i.border_b,r.border_a=i.border_a,r.thickoutline=i.thickoutline,r.textured=i.textured,r.tex_zoom=i.tex_zoom,r.tex_ang=i.tex_ang,r.additive=i.additive,""!==n.preset.shapes[this.index].frame_eqs_str?(r=Object.assign(r,n.mdVSQAfterFrame,n.mdVSTShapeInits[this.index]),a=n.runShapeFrameEquations(this.index,r)):a=r;let o=a.sides;o=Math.clamp(o,3,100),o=Math.floor(o);const l=a.rad,m=a.ang,c=2*a.x-1,u=-2*a.y+1,_=a.r,p=a.g,v=a.b,d=a.a,b=a.r2,h=a.g2,f=a.b2,g=a.a2,x=a.border_r,y=a.border_g,w=a.border_b,A=a.border_a;this.borderColor=[x,y,w,A*e];const q=a.thickoutline,z=a.textured,E=a.tex_zoom,k=a.tex_ang,T=a.additive,S=this.borderColor[3]>0,I=Math.abs(z)>=1,P=Math.abs(q)>=1,C=Math.abs(T)>=1;this.positions[0]=c,this.positions[1]=u,this.positions[2]=0,this.colors[0]=_,this.colors[1]=p,this.colors[2]=v,this.colors[3]=d*e,I&&(this.uvs[0]=.5,this.uvs[1]=.5);const M=.25*Math.PI;for(let t=1;t<=o+1;t++){const n=(t-1)/o*2*Math.PI,a=n+m+M;if(this.positions[3*t+0]=c+l*Math.cos(a)*this.aspecty,this.positions[3*t+1]=u+l*Math.sin(a),this.positions[3*t+2]=0,this.colors[4*t+0]=b,this.colors[4*t+1]=h,this.colors[4*t+2]=f,this.colors[4*t+3]=g*e,I){const e=n+k+M;this.uvs[2*t+0]=.5+.5*Math.cos(e)/E*this.aspecty,this.uvs[2*t+1]=.5+.5*Math.sin(e)/E}S&&(this.borderPositions[3*(t-1)+0]=this.positions[3*t+0],this.borderPositions[3*(t-1)+1]=this.positions[3*t+1],this.borderPositions[3*(t-1)+2]=this.positions[3*t+2])}this.mdVSShapeFrame=a,this.drawCustomShapeInstance(s,o,I,S,P,C)}const l=n.mdVSUserKeysShapes[this.index],m=a.default.pick(this.mdVSShapeFrame,l);n.mdVSFrameMapShapes[this.index]=m}}setupShapeBuffers(e){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.colors,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.uvVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.uvs,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aUvLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.borderPositionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.borderPositions,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aBorderPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aBorderPosLoc);const t=0!==e?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,t),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,t)}drawCustomShapeInstance(e,t,n,a,r,s){if(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,this.positions,0,3*(t+2)),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,this.colors,0,4*(t+2)),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),n&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.uvVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,this.uvs,0,2*(t+2)),this.gl.vertexAttribPointer(this.aUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aUvLocation)),this.gl.uniform1f(this.texturedLoc,n?1:0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),s?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,t+2),a){this.gl.useProgram(this.borderShaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.borderPositionVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,this.borderPositions,0,3*(t+1)),this.gl.vertexAttribPointer(this.aBorderPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aBorderPosLoc),this.gl.uniform4fv(this.uBorderColorLoc,this.borderColor);const e=r?4:1;for(let n=0;n<e;n++){const e=2;0===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):1===n?this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,0]):2===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,e/this.texsizeY]):3===n&&this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,e/this.texsizeY]),this.gl.drawArrays(this.gl.LINE_STRIP,0,t+1)}}}}},"./src/rendering/sprites/border.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t={}){this.gl=e,this.positions=new Float32Array(72),this.aspectx=t.aspectx,this.aspecty=t.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.vertexBuf=this.gl.createBuffer()}updateGlobals(e){this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color")}addTriangle(e,t,n,a){this.positions[e+0]=t[0],this.positions[e+1]=t[1],this.positions[e+2]=t[2],this.positions[e+3]=n[0],this.positions[e+4]=n[1],this.positions[e+5]=n[2],this.positions[e+6]=a[0],this.positions[e+7]=a[1],this.positions[e+8]=a[2]}generateBorder(e,t,n){if(t>0&&e[3]>0){const e=2,a=2,r=e/2,s=a/2,i=n/2,o=t/2+i,l=i*e,m=i*a,c=o*e,u=o*a;let _=[-r+l,-s+u,0],p=[-r+l,s-u,0],v=[-r+c,s-u,0],d=[-r+c,-s+u,0];return this.addTriangle(0,d,p,_),this.addTriangle(9,d,v,p),_=[r-l,-s+u,0],p=[r-l,s-u,0],v=[r-c,s-u,0],d=[r-c,-s+u,0],this.addTriangle(18,_,p,d),this.addTriangle(27,p,v,d),_=[-r+l,-s+m,0],p=[-r+l,u-s,0],v=[r-l,u-s,0],d=[r-l,-s+m,0],this.addTriangle(36,d,p,_),this.addTriangle(45,d,v,p),_=[-r+l,s-m,0],p=[-r+l,s-u,0],v=[r-l,s-u,0],d=[r-l,s-m,0],this.addTriangle(54,_,p,d),this.addTriangle(63,p,v,d),!0}return!1}drawBorder(e,t,n){this.generateBorder(e,t,n)&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,e),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLES,0,this.positions.length/3))}}},"./src/rendering/sprites/darkenCenter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t){this.gl=e,this.aspectx=t.aspectx,this.aspecty=t.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.generatePositions(),this.colors=new Float32Array([0,0,0,3/32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}updateGlobals(e){this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.generatePositions()}generatePositions(){this.positions=new Float32Array([0,0,0,-.05*this.aspecty,0,0,0,-.05,0,.05*this.aspecty,0,0,0,.05,0,-.05*this.aspecty,0,0])}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor")}drawDarkenCenter(e){0!==e.darken_center&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.colors,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,this.positions.length/3))}}},"./src/rendering/text/titleText.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("./src/rendering/shaders/shaderUtils.js");class r{constructor(e,t={}){this.gl=e,this.texsizeX=t.texsizeX,this.texsizeY=t.texsizeY,this.aspectx=t.aspectx,this.aspecty=t.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions(),this.textTexture=this.gl.createTexture(),this.indexBuf=e.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.vertexBuf=this.gl.createBuffer(),this.canvas=document.createElement("canvas"),this.canvas.width=this.texsizeX,this.canvas.height=this.texsizeY,this.context2D=this.canvas.getContext("2d"),this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader()}generateTitleTexture(e){this.context2D.clearRect(0,0,this.texsizeX,this.texsizeY),this.fontSize=Math.floor(this.texsizeX/256*16),this.fontSize=Math.max(this.fontSize,6),this.context2D.font=`italic ${this.fontSize}px Times New Roman`;let t=e,n=this.context2D.measureText(t).width;if(n>this.texsizeX){const e=this.texsizeX/n*.91;t=`${t.substring(0,Math.floor(t.length*e))}...`,n=this.context2D.measureText(t).width}this.context2D.fillStyle="#FFFFFF",this.context2D.fillText(t,(this.texsizeX-n)/2,this.texsizeY/2);const a=new Uint8Array(this.context2D.getImageData(0,0,this.texsizeX,this.texsizeY).data.buffer);this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.texsizeX,this.texsizeY,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.canvas.width=this.texsizeX,this.canvas.height=this.texsizeY}buildPositions(){const e=[];for(let t=0;t<8;t++){const n=.2857142857142857*t-1;for(let t=0;t<16;t++){const a=.13333333333333333*t-1;e.push(a,-n,0)}}const t=[];for(let e=0;e<7;e++)for(let n=0;n<15;n++){const a=n+16*e,r=n+16*(e+1),s=n+1+16*(e+1),i=n+1+16*e;t.push(a,r,i),t.push(r,s,i)}this.vertices=new Float32Array(e),this.indices=new Uint16Array(t)}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       in vec2 aUv;\n       out vec2 uv_orig;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv_orig = aPos * halfmad + halfmad;\n         uv = aUv;\n       }"),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv_orig;\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform float textColor;\n\n       void main(void) {\n         fragColor = texture(uTexture, uv) * vec4(textColor);\n       }`),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.uvLocation=this.gl.getAttribLocation(this.shaderProgram,"aUv"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.textColorLoc=this.gl.getUniformLocation(this.shaderProgram,"textColor")}generateUvs(e,t,n){const a=[];for(let n=0;n<8;n++)for(let r=0;r<16;r++){const s=r/15*2-1;let i=2*(.75*(n/7-.5)+.5)-1;e>=1&&(i+=1/this.texsizeY),a.push(s,t?i:-i)}const r=Math.max(0,1-1.5*e)**1.8*1.3;for(let e=0;e<8;e++)for(let t=0;t<16;t++){const s=16*e+t;a[s]+=.07*r*Math.sin(.31*n.time+.39*a[s]-1.94*a[s+1]),a[s]+=.044*r*Math.sin(.81*n.time-1.91*a[s]+.27*a[s+1]),a[s]+=.061*r*Math.sin(1.31*n.time+.61*a[s]+.74*a[s+1]),a[s+1]+=.061*r*Math.sin(.37*n.time+1.83*a[s]+.69*a[s+1]),a[s+1]+=.07*r*Math.sin(.67*n.time+.42*a[s]-1.39*a[s+1]),a[s+1]+=.087*r*Math.sin(1.07*n.time+3.55*a[s]+.89*a[s+1])}const s=1.01/(e**.21+.01);for(let e=0;e<a.length/2;e++)a[2*e]*=s,a[2*e+1]*=s*this.invAspecty,a[2*e]=(a[2*e]+1)/2,a[2*e+1]=(a[2*e+1]+1)/2;return new Float32Array(a)}renderTitle(e,t,n){this.gl.useProgram(this.shaderProgram);const a=this.generateUvs(e,t,n);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.uvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.uvLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.uniform1i(this.textureLoc,0),this.gl.uniform1f(this.textColorLoc,e**.3),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}}},"./src/rendering/waves/basicWaveform.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var a=n("./src/rendering/shaders/shaderUtils.js"),r=n("./src/rendering/waves/waveUtils.js");class s{constructor(e,t={}){this.gl=e,this.positions=new Float32Array(1536),this.positions2=new Float32Array(1536),this.oldPositions=new Float32Array(1536),this.oldPositions2=new Float32Array(1536),this.smoothedPositions=new Float32Array(3069),this.smoothedPositions2=new Float32Array(3069),this.color=[0,0,0,1],this.texsizeX=t.texsizeX,this.texsizeY=t.texsizeY,this.aspectx=t.aspectx,this.aspecty=t.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.floatPrecision=a.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.vertexBuf=this.gl.createBuffer()}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      in vec3 aPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}static processWaveform(e,t){const n=[],a=t.wave_scale/128,r=t.wave_smoothing,s=a*(1-r);n.push(e[0]*a);for(let t=1;t<e.length;t++)n.push(e[t]*s+n[t-1]*r);return n}generateWaveform(e,t,n,a,i){let o=i.wave_a;const l=(i.bass+i.mid+i.treb)/3;if(l>-.01&&o>.001&&n.length>0){const m=s.processWaveform(n,i),c=s.processWaveform(a,i),u=Math.floor(i.wave_mode)%8,_=Math.floor(i.old_wave_mode)%8,p=2*i.wave_x-1,v=2*i.wave_y-1;this.numVert=0,this.oldNumVert=0;const d=e&&u!==_?2:1;for(let e=0;e<d;e++){const t=0===e?u:_;let n,a,r,s=i.wave_mystery;if(0!==t&&1!==t&&4!==t||!(s<-1||s>1)||(s=.5*s+.5,s-=Math.floor(s),s=Math.abs(s),s=2*s-1),0===e?(a=this.positions,r=this.positions2):(a=this.oldPositions,r=this.oldPositions2),o=i.wave_a,0===t){if(i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=Math.floor(m.length/2)+1;const e=1/(n-1),t=Math.floor((m.length-n)/2);for(let r=0;r<n-1;r++){let o=.5+.4*c[r+t]+s;const l=r*e*2*Math.PI+.2*i.time;if(r<n/10){let e=r/(.1*n);e=.5-.5*Math.cos(e*Math.PI),o=(1-e)*(.5+.4*c[r+n+t]+s)+o*e}a[3*r+0]=o*Math.cos(l)*this.aspecty+p,a[3*r+1]=o*Math.sin(l)*this.aspectx+v,a[3*r+2]=0}a[3*(n-1)+0]=a[0],a[3*(n-1)+1]=a[1],a[3*(n-1)+2]=0}else if(1===t){if(o*=1.25,i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=Math.floor(m.length/2);for(let e=0;e<n;e++){const t=.53+.43*c[e]+s,n=.5*m[e+32]*Math.PI+2.3*i.time;a[3*e+0]=t*Math.cos(n)*this.aspecty+p,a[3*e+1]=t*Math.sin(n)*this.aspectx+v,a[3*e+2]=0}}else if(2===t){if(this.texsizeX<1024?o*=.09:this.texsizeX>=1024&&this.texsizeX<2048?o*=.11:o*=.13,i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=m.length;for(let e=0;e<m.length;e++)a[3*e+0]=c[e]*this.aspecty+p,a[3*e+1]=m[(e+32)%m.length]*this.aspectx+v,a[3*e+2]=0}else if(3===t){if(this.texsizeX<1024?o*=.15:this.texsizeX>=1024&&this.texsizeX<2048?o*=.22:o*=.33,o*=1.3,o*=i.treb*i.treb,i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=m.length;for(let e=0;e<m.length;e++)a[3*e+0]=c[e]*this.aspecty+p,a[3*e+1]=m[(e+32)%m.length]*this.aspectx+v,a[3*e+2]=0}else if(4===t){if(i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=m.length,n>this.texsizeX/3&&(n=Math.floor(this.texsizeX/3));const e=1/n,t=Math.floor((m.length-n)/2),r=.45+.5*(.5*s+.5),u=1-r;for(let s=0;s<n;s++){let n=2*s*e+(p-1)+.44*c[(s+25+t)%m.length],i=.47*m[s+t]+v;s>1&&(n=n*u+r*(2*a[3*(s-1)+0]-a[3*(s-2)+0]),i=i*u+r*(2*a[3*(s-1)+1]-a[3*(s-2)+1])),a[3*s+0]=n,a[3*s+1]=i,a[3*s+2]=0}}else if(5===t){if(this.texsizeX<1024?o*=.09:this.texsizeX>=1024&&this.texsizeX<2048?o*=.11:o*=.13,i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1);const e=Math.cos(.3*i.time),t=Math.sin(.3*i.time);n=m.length;for(let n=0;n<m.length;n++){const r=(n+32)%m.length,s=c[n]*m[r]+m[n]*c[r],i=c[n]*c[n]-m[r]*m[r];a[3*n+0]=(s*e-i*t)*(this.aspecty+p),a[3*n+1]=(s*t+i*e)*(this.aspectx+v),a[3*n+2]=0}}else if(6===t||7===t){if(i.modwavealphabyvolume>0){const e=i.modwavealphaend-i.modwavealphastart;o*=(l-i.modwavealphastart)/e}o=Math.clamp(o,0,1),n=Math.floor(m.length/2),n>this.texsizeX/3&&(n=Math.floor(this.texsizeX/3));const e=Math.floor((m.length-n)/2),u=.5*Math.PI*s;let _=Math.cos(u),d=Math.sin(u);const b=[p*Math.cos(u+.5*Math.PI)-3*_,p*Math.cos(u+.5*Math.PI)+3*_],h=[p*Math.sin(u+.5*Math.PI)-3*d,p*Math.sin(u+.5*Math.PI)+3*d];for(let e=0;e<2;e++)for(let t=0;t<4;t++){let n,a=!1;switch(t){case 0:b[e]>1.1&&(n=(1.1-b[1-e])/(b[e]-b[1-e]),a=!0);break;case 1:b[e]<-1.1&&(n=(-1.1-b[1-e])/(b[e]-b[1-e]),a=!0);break;case 2:h[e]>1.1&&(n=(1.1-h[1-e])/(h[e]-h[1-e]),a=!0);break;case 3:h[e]<-1.1&&(n=(-1.1-h[1-e])/(h[e]-h[1-e]),a=!0)}if(a){const t=b[e]-b[1-e],a=h[e]-h[1-e];b[e]=b[1-e]+t*n,h[e]=h[1-e]+a*n}}_=(b[1]-b[0])/n,d=(h[1]-h[0])/n;const f=Math.atan2(d,_),g=Math.cos(f+.5*Math.PI),x=Math.sin(f+.5*Math.PI);if(6===t)for(let t=0;t<n;t++){const n=m[t+e];a[3*t+0]=b[0]+_*t+.25*g*n,a[3*t+1]=h[0]+d*t+.25*x*n,a[3*t+2]=0}else if(7===t){const t=(.5*v+.5)**2;for(let r=0;r<n;r++){const n=m[r+e];a[3*r+0]=b[0]+_*r+g*(.25*n+t),a[3*r+1]=h[0]+d*r+x*(.25*n+t),a[3*r+2]=0}for(let a=0;a<n;a++){const n=c[a+e];r[3*a+0]=b[0]+_*a+g*(.25*n-t),r[3*a+1]=h[0]+d*a+x*(.25*n-t),r[3*a+2]=0}}}0===e?(this.positions=a,this.positions2=r,this.numVert=n,this.alpha=o):(this.oldPositions=a,this.oldPositions2=r,this.oldNumVert=n,this.oldAlpha=o)}const b=.5-.5*Math.cos(t*Math.PI),h=1-b;this.oldNumVert>0&&(o=b*this.alpha+h*this.oldAlpha);let f=Math.clamp(i.wave_r,0,1),g=Math.clamp(i.wave_g,0,1),x=Math.clamp(i.wave_b,0,1);if(0!==i.wave_brighten){const e=Math.max(f,g,x);e>.01&&(f/=e,g/=e,x/=e)}if(this.color=[f,g,x,o],this.oldNumVert>0)if(7===u){const e=(this.oldNumVert-1)/(2*this.numVert);for(let t=0;t<this.numVert;t++){const n=t*e,a=Math.floor(n),r=n-a,s=this.oldPositions[3*a+0]*(1-r)+this.oldPositions[3*(a+1)+0]*r,i=this.oldPositions[3*a+1]*(1-r)+this.oldPositions[3*(a+1)+1]*r;this.positions[3*t+0]=this.positions[3*t+0]*b+s*h,this.positions[3*t+1]=this.positions[3*t+1]*b+i*h,this.positions[3*t+2]=0}for(let t=0;t<this.numVert;t++){const n=(t+this.numVert)*e,a=Math.floor(n),r=n-a,s=this.oldPositions[3*a+0]*(1-r)+this.oldPositions[3*(a+1)+0]*r,i=this.oldPositions[3*a+1]*(1-r)+this.oldPositions[3*(a+1)+1]*r;this.positions2[3*t+0]=this.positions2[3*t+0]*b+s*h,this.positions2[3*t+1]=this.positions2[3*t+1]*b+i*h,this.positions2[3*t+2]=0}}else if(7===_){const e=this.numVert/2,t=(this.oldNumVert-1)/e;for(let n=0;n<e;n++){const e=n*t,a=Math.floor(e),r=e-a,s=this.oldPositions[3*a+0]*(1-r)+this.oldPositions[3*(a+1)+0]*r,i=this.oldPositions[3*a+1]*(1-r)+this.oldPositions[3*(a+1)+1]*r;this.positions[3*n+0]=this.positions[3*n+0]*b+s*h,this.positions[3*n+1]=this.positions[3*n+1]*b+i*h,this.positions[3*n+2]=0}for(let n=0;n<e;n++){const a=n*t,r=Math.floor(a),s=a-r,i=this.oldPositions2[3*r+0]*(1-s)+this.oldPositions2[3*(r+1)+0]*s,o=this.oldPositions2[3*r+1]*(1-s)+this.oldPositions2[3*(r+1)+1]*s;this.positions2[3*n+0]=this.positions[3*(n+e)+0]*b+i*h,this.positions2[3*n+1]=this.positions[3*(n+e)+1]*b+o*h,this.positions2[3*n+2]=0}}else{const e=(this.oldNumVert-1)/this.numVert;for(let t=0;t<this.numVert;t++){const n=t*e,a=Math.floor(n),r=n-a,s=this.oldPositions[3*a+0]*(1-r)+this.oldPositions[3*(a+1)+0]*r,i=this.oldPositions[3*a+1]*(1-r)+this.oldPositions[3*(a+1)+1]*r;this.positions[3*t+0]=this.positions[3*t+0]*b+s*h,this.positions[3*t+1]=this.positions[3*t+1]*b+i*h,this.positions[3*t+2]=0}}for(let e=0;e<this.numVert;e++)this.positions[3*e+1]=-this.positions[3*e+1];if(this.smoothedNumVert=2*this.numVert-1,r.default.smoothWave(this.positions,this.smoothedPositions,this.numVert),7===u||7===_){for(let e=0;e<this.numVert;e++)this.positions2[3*e+1]=-this.positions2[3*e+1];r.default.smoothWave(this.positions2,this.smoothedPositions2,this.numVert)}return!0}return!1}drawBasicWaveform(e,t,n,a,r){if(this.generateWaveform(e,t,n,a,r)){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.smoothedPositions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,this.color);let e=1;0===r.wave_thick&&0===r.wave_dots||(e=4),0!==r.additivewave?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);const t=0!==r.wave_dots?this.gl.POINTS:this.gl.LINE_STRIP;for(let n=0;n<e;n++){const e=2;0===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):1===n?this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,0]):2===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,e/this.texsizeY]):3===n&&this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,e/this.texsizeY]),this.gl.drawArrays(t,0,this.smoothedNumVert)}if(7==Math.floor(r.wave_mode)%8){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.smoothedPositions2,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc);for(let n=0;n<e;n++){const e=2;0===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):1===n?this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,0]):2===n?this.gl.uniform2fv(this.thickOffsetLoc,[0,e/this.texsizeY]):3===n&&this.gl.uniform2fv(this.thickOffsetLoc,[e/this.texsizeX,e/this.texsizeY]),this.gl.drawArrays(t,0,this.smoothedNumVert)}}}}}},"./src/rendering/waves/customWaveform.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n("./src/utils.js"),r=n("./src/rendering/shaders/shaderUtils.js"),s=n("./src/rendering/waves/waveUtils.js");class i{constructor(e,t,n){this.index=e,this.gl=t;this.pointsData=[new Float32Array(512),new Float32Array(512)],this.positions=new Float32Array(1536),this.colors=new Float32Array(2048),this.smoothedPositions=new Float32Array(3069),this.smoothedColors=new Float32Array(4092),this.texsizeX=n.texsizeX,this.texsizeY=n.texsizeY,this.mesh_width=n.mesh_width,this.mesh_height=n.mesh_height,this.aspectx=n.aspectx,this.aspecty=n.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.floatPrecision=r.default.getFragmentFloatPrecision(this.gl),this.createShader()}updateGlobals(e){this.texsizeX=e.texsizeX,this.texsizeY=e.texsizeY,this.mesh_width=e.mesh_width,this.mesh_height=e.mesh_height,this.aspectx=e.aspectx,this.aspecty=e.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}createShader(){this.shaderProgram=this.gl.createProgram();const e=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(e,"\n      #version 300 es\n      uniform float uSize;\n      uniform vec2 thickOffset;\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_PointSize = uSize;\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()),this.gl.compileShader(e);const t=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(t,`\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()),this.gl.compileShader(t),this.gl.attachShader(this.shaderProgram,e),this.gl.attachShader(this.shaderProgram,t),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor"),this.sizeLoc=this.gl.getUniformLocation(this.shaderProgram,"uSize"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}generateWaveform(e,t,n,r,i,o,l,m){if(0!==l.baseVals.enabled&&e.length>0){let c;if(o.preset.useWASM)c=o.runWaveFrameEquations(this.index,i);else{const e=Object.assign({},o.mdVSWaves[this.index],o.mdVSFrameMapWaves[this.index],o.mdVSQAfterFrame,o.mdVSTWaveInits[this.index],i);c=o.runWaveFrameEquations(this.index,e)}const u=512;Object.prototype.hasOwnProperty.call(c,"samples")?this.samples=c.samples:this.samples=u,this.samples>u&&(this.samples=u),this.samples=Math.floor(this.samples);const _=o.preset.waves[this.index].baseVals,p=Math.floor(c.sep),v=c.scaling,d=c.spectrum,b=c.smoothing,h=_.usedots,f=c.r,g=c.g,x=c.b,y=c.a,w=o.preset.baseVals.wave_scale;if(this.samples-=p,this.samples>=2||0!==h&&this.samples>=1){const i=0!==d,A=(i?.15:.004)*v*w,q=i?n:e,z=i?r:t,E=i?0:Math.floor((u-this.samples)/2-p/2),k=i?0:Math.floor((u-this.samples)/2+p/2),T=i?(u-p)/this.samples:1,S=(.98*b)**.5,I=1-S;this.pointsData[0][0]=q[E],this.pointsData[1][0]=z[k];for(let e=1;e<this.samples;e++){const t=q[Math.floor(e*T+E)],n=z[Math.floor(e*T+k)];this.pointsData[0][e]=t*I+this.pointsData[0][e-1]*S,this.pointsData[1][e]=n*I+this.pointsData[1][e-1]*S}for(let e=this.samples-2;e>=0;e--)this.pointsData[0][e]=this.pointsData[0][e]*I+this.pointsData[0][e+1]*S,this.pointsData[1][e]=this.pointsData[1][e]*I+this.pointsData[1][e+1]*S;for(let e=0;e<this.samples;e++)this.pointsData[0][e]*=A,this.pointsData[1][e]*=A;if(o.preset.useWASM){const e=o.preset.globalPools[`wavePerFrame${this.index}`];for(let t=0;t<this.samples;t++){const n=this.pointsData[0][t],a=this.pointsData[1][t];e.sample.value=t/(this.samples-1),e.value1.value=n,e.value2.value=a,e.x.value=.5+n,e.y.value=.5+a,e.r.value=f,e.g.value=g,e.b.value=x,e.a.value=y,l.point_eqs&&o.preset.waves[this.index].point_eqs();const r=(2*e.x.value-1)*this.invAspectx,s=(-2*e.y.value+1)*this.invAspecty,i=e.r.value,c=e.g.value,u=e.b.value,_=e.a.value;this.positions[3*t+0]=r,this.positions[3*t+1]=s,this.positions[3*t+2]=0,this.colors[4*t+0]=i,this.colors[4*t+1]=c,this.colors[4*t+2]=u,this.colors[4*t+3]=_*m}}else for(let e=0;e<this.samples;e++){const t=this.pointsData[0][e],n=this.pointsData[1][e];c.sample=e/(this.samples-1),c.value1=t,c.value2=n,c.x=.5+t,c.y=.5+n,c.r=f,c.g=g,c.b=x,c.a=y,""!==l.point_eqs&&(c=o.runWavePointEquations(this.index,c));const a=(2*c.x-1)*this.invAspectx,r=(-2*c.y+1)*this.invAspecty,s=c.r,i=c.g,u=c.b,_=c.a;this.positions[3*e+0]=a,this.positions[3*e+1]=r,this.positions[3*e+2]=0,this.colors[4*e+0]=s,this.colors[4*e+1]=i,this.colors[4*e+2]=u,this.colors[4*e+3]=_*m}if(o.preset.useWASM)c.usedots=h,c.thick=_.thick,c.additive=_.additive;else{const e=o.mdVSUserKeysWaves[this.index],t=a.default.pick(c,e);o.mdVSFrameMapWaves[this.index]=t}return this.mdVSWaveFrame=c,0===h&&s.default.smoothWaveAndColor(this.positions,this.colors,this.smoothedPositions,this.smoothedColors,this.samples),!0}}return!1}drawCustomWaveform(e,t,n,a,r,s,i,o){if(o&&this.generateWaveform(t,n,a,r,s,i,o,e)){this.gl.useProgram(this.shaderProgram);const e=0!==this.mdVSWaveFrame.usedots,t=0!==this.mdVSWaveFrame.thick,n=0!==this.mdVSWaveFrame.additive;let a,r,s;e?(a=this.positions,r=this.colors,s=this.samples):(a=this.smoothedPositions,r=this.smoothedColors,s=2*this.samples-1),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,r,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation);let i=1;e?t?this.gl.uniform1f(this.sizeLoc,2+(this.texsizeX>=1024?1:0)):this.gl.uniform1f(this.sizeLoc,1+(this.texsizeX>=1024?1:0)):(this.gl.uniform1f(this.sizeLoc,1),t&&(i=4)),n?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);const o=e?this.gl.POINTS:this.gl.LINE_STRIP;for(let e=0;e<i;e++){const t=2;0===e?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):1===e?this.gl.uniform2fv(this.thickOffsetLoc,[t/this.texsizeX,0]):2===e?this.gl.uniform2fv(this.thickOffsetLoc,[0,t/this.texsizeY]):3===e&&this.gl.uniform2fv(this.thickOffsetLoc,[t/this.texsizeX,t/this.texsizeY]),this.gl.drawArrays(o,0,s)}}}}},"./src/rendering/waves/waveUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{static smoothWave(e,t,n,a=!1){let r,s=0,i=0,o=1;for(let l=0;l<n-1;l++){r=o,o=Math.min(n-1,l+2);for(let n=0;n<3;n++)t[3*s+n]=e[3*l+n];if(a)for(let n=0;n<3;n++)t[3*(s+1)+n]=.5*(-.15*e[3*i+n]+1.15*e[3*l+n]+1.15*e[3*r+n]+-.15*e[3*o+n]);else{for(let n=0;n<2;n++)t[3*(s+1)+n]=.5*(-.15*e[3*i+n]+1.15*e[3*l+n]+1.15*e[3*r+n]+-.15*e[3*o+n]);t[3*(s+1)+2]=0}i=l,s+=2}for(let a=0;a<3;a++)t[3*s+a]=e[3*(n-1)+a]}static smoothWaveAndColor(e,t,n,a,r,s=!1){let i,o=0,l=0,m=1;for(let c=0;c<r-1;c++){i=m,m=Math.min(r-1,c+2);for(let t=0;t<3;t++)n[3*o+t]=e[3*c+t];if(s)for(let t=0;t<3;t++)n[3*(o+1)+t]=.5*(-.15*e[3*l+t]+1.15*e[3*c+t]+1.15*e[3*i+t]+-.15*e[3*m+t]);else{for(let t=0;t<2;t++)n[3*(o+1)+t]=.5*(-.15*e[3*l+t]+1.15*e[3*c+t]+1.15*e[3*i+t]+-.15*e[3*m+t]);n[3*(o+1)+2]=0}for(let e=0;e<4;e++)a[4*o+e]=t[4*c+e],a[4*(o+1)+e]=t[4*c+e];l=c,o+=2}for(let t=0;t<3;t++)n[3*o+t]=e[3*(r-1)+t];for(let e=0;e<4;e++)a[4*o+e]=t[4*(r-1)+e]}}},"./src/utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));class a{static atan2(e,t){let n=Math.atan2(e,t);return n<0&&(n+=2*Math.PI),n}static cloneVars(e){return Object.assign({},e)}static range(e,t){return void 0===t?[...Array(e).keys()]:Array.from({length:t-e},((t,n)=>n+e))}static pick(e,t){const n={};for(let a=0;a<t.length;a++){const r=t[a];n[r]=e[r]||0}return n}static omit(e,t){const n=Object.assign({},e);for(let e=0;e<t.length;e++)delete n[t[e]];return n}static setWasm(e,t,n){for(let a=0;a<n.length;a++){const r=n[a];e[r].value=t[r]}}static pickWasm(e,t){const n={};for(let a=0;a<t.length;a++){const r=t[a];n[r]=e[r].value}return n}}},"./src/visualizer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(a),s=n("./node_modules/eel-wasm/dist/src/index.js"),i=n("./node_modules/@assemblyscript/loader/index.js"),o=n("./src/audio/audioProcessor.js"),l=n("./src/rendering/renderer.js"),m=n("./src/utils.js"),c=n("./src/assemblyscript/presetFunctions.ts"),u=n.n(c);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class v{constructor(e,t,n){this.opts=n,this.audio=new o.default(e);const a=n.width||1200,r=n.height||900;this.internalCanvas=document.createElement("canvas"),this.internalCanvas.width=a,this.internalCanvas.height=r,this.gl=this.internalCanvas.getContext("webgl2",{alpha:!1,antialias:!1,depth:!1,stencil:!1,premultipliedAlpha:!1}),this.outputGl=t.getContext("2d"),this.baseValsDefaults={decay:.98,gammaadj:2,echo_zoom:2,echo_alpha:0,echo_orient:0,red_blue:0,brighten:0,darken:0,wrap:1,darken_center:0,solarize:0,invert:0,bmotionvectorson:1,fshader:0,b1n:0,b2n:0,b3n:0,b1x:1,b2x:1,b3x:1,b1ed:.25,wave_mode:0,additivewave:0,wave_dots:0,wave_thick:0,wave_a:.8,wave_scale:1,wave_smoothing:.75,wave_mystery:0,modwavealphabyvolume:0,modwavealphastart:.75,modwavealphaend:.95,wave_r:1,wave_g:1,wave_b:1,wave_x:.5,wave_y:.5,wave_brighten:1,mv_x:12,mv_y:9,mv_dx:0,mv_dy:0,mv_l:.9,mv_r:1,mv_g:1,mv_b:1,mv_a:1,warpanimspeed:1,warpscale:1,zoomexp:1,zoom:1,rot:0,cx:.5,cy:.5,dx:0,dy:0,warp:1,sx:1,sy:1,ob_size:.01,ob_r:0,ob_g:0,ob_b:0,ob_a:0,ib_size:.01,ib_r:.25,ib_g:.25,ib_b:.25,ib_a:0},this.shapeBaseValsDefaults={enabled:0,sides:4,additive:0,thickoutline:0,textured:0,num_inst:1,tex_zoom:1,tex_ang:0,x:.5,y:.5,rad:.1,ang:0,r:1,g:0,b:0,a:1,r2:0,g2:1,b2:0,a2:0,border_r:1,border_g:1,border_b:1,border_a:.1},this.waveBaseValsDefaults={enabled:0,samples:512,sep:0,scaling:1,smoothing:.5,r:1,g:1,b:1,a:1,spectrum:0,usedots:0,thick:0,additive:0},this.qs=m.default.range(1,33).map((e=>`q${e}`)),this.ts=m.default.range(1,9).map((e=>`t${e}`)),this.globalPerFrameVars=["old_wave_mode","frame","time","fps","bass","bass_att","mid","mid_att","treb","treb_att","meshx","meshy","aspectx","aspecty","pixelsx","pixelsy","rand_start","rand_preset"],this.globalPerPixelVars=["frame","time","fps","bass","bass_att","mid","mid_att","treb","treb_att","meshx","meshy","aspectx","aspecty","pixelsx","pixelsy","rand_start","rand_preset","x","y","rad","ang"],this.globalShapeVars=["frame","time","fps","bass","bass_att","mid","mid_att","treb","treb_att","meshx","meshy","aspectx","aspecty","pixelsx","pixelsy","rand_start","rand_preset","instance"],this.shapeBaseVars=["x","y","rad","ang","r","g","b","a","r2","g2","b2","a2","border_r","border_g","border_b","border_a","thickoutline","textured","tex_zoom","tex_ang","additive"],this.globalWaveVars=["frame","time","fps","bass","bass_att","mid","mid_att","treb","treb_att","meshx","meshy","aspectx","aspecty","pixelsx","pixelsy","rand_start","rand_preset","x","y","sample","value1","value2"],this.renderer=new l.default(this.gl,this.audio,n)}loseGLContext(){this.gl.getExtension("WEBGL_lose_context").loseContext(),this.outputGl=null}connectAudio(e){this.audioNode=e,this.audio.connectAudio(e)}disconnectAudio(e){this.audio.disconnectAudio(e)}static overrideDefaultVars(e,t){const n={};return Object.keys(e).forEach((a=>{Object.prototype.hasOwnProperty.call(t,a)?n[a]=t[a]:n[a]=e[a]})),n}createQVars(){const e={};return this.qs.forEach((t=>{e[t]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),e}createTVars(){const e={};return this.ts.forEach((t=>{e[t]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),e}createPerFramePool(e){const t={};return Object.keys(this.baseValsDefaults).forEach((n=>{t[n]=new WebAssembly.Global({value:"f64",mutable:!0},e[n])})),this.globalPerFrameVars.forEach((e=>{t[e]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),t}createPerPixelPool(e){const t={};return Object.keys(this.baseValsDefaults).forEach((n=>{t[n]=new WebAssembly.Global({value:"f64",mutable:!0},e[n])})),this.globalPerPixelVars.forEach((e=>{t[e]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),t}createCustomShapePerFramePool(e){const t={};return Object.keys(this.shapeBaseValsDefaults).forEach((n=>{t[n]=new WebAssembly.Global({value:"f64",mutable:!0},e[n])})),this.globalShapeVars.forEach((e=>{t[e]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),t}createCustomWavePerFramePool(e){const t={};return Object.keys(this.waveBaseValsDefaults).forEach((n=>{t[n]=new WebAssembly.Global({value:"f64",mutable:!0},e[n])})),this.globalWaveVars.forEach((e=>{t[e]=new WebAssembly.Global({value:"f64",mutable:!0},0)})),t}static makeShapeResetPool(e,t,n){return t.reduce(((t,a)=>p(p({},t),{},{[`${a}_${n}`]:e[a]})),{})}static base64ToArrayBuffer(e){for(var t=window.atob(e),n=t.length,a=new Uint8Array(n),r=0;r<n;r++)a[r]=t.charCodeAt(r);return a.buffer}async loadPreset(e,t=0){const n=JSON.parse(JSON.stringify(e));n.baseVals=v.overrideDefaultVars(this.baseValsDefaults,n.baseVals);for(let e=0;e<n.shapes.length;e++)n.shapes[e].baseVals=v.overrideDefaultVars(this.shapeBaseValsDefaults,n.shapes[e].baseVals);for(let e=0;e<n.waves.length;e++)n.waves[e].baseVals=v.overrideDefaultVars(this.waveBaseValsDefaults,n.waves[e].baseVals);const a=n.useJS&&!this.opts.onlyUseWASM;Object.prototype.hasOwnProperty.call(n,"init_eqs_eel")&&!a?(n.useWASM=!0,await this.loadWASMPreset(n,t)):this.opts.onlyUseWASM?console.warn("Tried to load a preset that doesn't support WASM with onlyUseWASM on"):Object.prototype.hasOwnProperty.call(n,"init_eqs_str")?this.loadJSPreset(n,t):console.warn("Tried to load a JS preset that doesn't have converted strings")}async loadWASMPreset(e,t){const n=this.createQVars(),a=this.createTVars(),r={perFrame:p(p({},n),this.createPerFramePool(e.baseVals)),perVertex:p(p({},n),this.createPerPixelPool(e.baseVals))},o={presetInit:{pool:"perFrame",code:e.init_eqs_eel},perFrame:{pool:"perFrame",code:e.frame_eqs_eel}};""!==e.pixel_eqs_eel&&(o.perPixel={pool:"perVertex",code:e.pixel_eqs_eel});for(let t=0;t<e.shapes.length;t++)r[`shapePerFrame${t}`]=p(p(p({},n),a),this.createCustomShapePerFramePool(e.shapes[t].baseVals)),0!==e.shapes[t].baseVals.enabled&&(o[`shapes_${t}_init_eqs`]={pool:`shapePerFrame${t}`,code:e.shapes[t].init_eqs_eel},o[`shapes_${t}_frame_eqs`]={pool:`shapePerFrame${t}`,code:e.shapes[t].frame_eqs_eel});for(let t=0;t<e.waves.length;t++)0!==e.waves[t].baseVals.enabled&&(r[`wavePerFrame${t}`]=p(p(p({},n),a),this.createCustomWavePerFramePool(e.waves[t].baseVals)),o[`waves_${t}_init_eqs`]={pool:`wavePerFrame${t}`,code:e.waves[t].init_eqs_eel},o[`waves_${t}_frame_eqs`]={pool:`wavePerFrame${t}`,code:e.waves[t].frame_eqs_eel},e.waves[t].point_eqs_eel&&""!==e.waves[t].point_eqs_eel&&(o[`waves_${t}_point_eqs`]={pool:`wavePerFrame${t}`,code:e.waves[t].point_eqs_eel}));const l=await Object(s.loadModule)({pools:r,functions:o,eelVersion:e.version||2}),m=e=>e||(()=>{}),c=await i.default.instantiate(v.base64ToArrayBuffer(u()()),{pixelEqs:{perPixelEqs:m(l.exports.perPixel)},pixelVarPool:{warp:r.perVertex.warp,zoom:r.perVertex.zoom,zoomexp:r.perVertex.zoomexp,cx:r.perVertex.cx,cy:r.perVertex.cy,sx:r.perVertex.sx,sy:r.perVertex.sy,dx:r.perVertex.dx,dy:r.perVertex.dy,rot:r.perVertex.rot,x:r.perVertex.x,y:r.perVertex.y,ang:r.perVertex.ang,rad:r.perVertex.rad},qVarPool:n,tVarPool:a,shapePool0:v.makeShapeResetPool(r.shapePerFrame0,this.shapeBaseVars,0),shapePool1:v.makeShapeResetPool(r.shapePerFrame1,this.shapeBaseVars,1),shapePool2:v.makeShapeResetPool(r.shapePerFrame2,this.shapeBaseVars,2),shapePool3:v.makeShapeResetPool(r.shapePerFrame3,this.shapeBaseVars,3),console:{logi:e=>{console.log("logi: "+e)},logf:e=>{console.log("logf: "+e)}},env:{abort:()=>{}}});e.globalPools=r,e.init_eqs=m(l.exports.presetInit),e.frame_eqs=m(l.exports.perFrame),e.save_qs=c.exports.saveQs,e.restore_qs=c.exports.restoreQs,e.save_ts=c.exports.saveTs,e.restore_ts=c.exports.restoreTs,l.exports.perPixel&&(e.pixel_eqs=l.exports.perPixel),e.pixel_eqs_initialize_array=(t,n)=>{const a=c.exports.createFloat32Array((t+1)*(n+1)*2);e.pixel_eqs_array=a},e.pixel_eqs_get_array=()=>c.exports.__getFloat32ArrayView(e.pixel_eqs_array),e.pixel_eqs_wasm=(...t)=>c.exports.runPixelEquations(e.pixel_eqs_array,...t);for(let t=0;t<e.shapes.length;t++)0!==e.shapes[t].baseVals.enabled&&(e.shapes[t].init_eqs=m(l.exports[`shapes_${t}_init_eqs`]),e.shapes[t].frame_eqs=l.exports[`shapes_${t}_frame_eqs`],e.shapes[t].frame_eqs_save=()=>c.exports[`shape${t}_save`](),e.shapes[t].frame_eqs_restore=()=>c.exports[`shape${t}_restore`]());for(let t=0;t<e.waves.length;t++)if(0!==e.waves[t].baseVals.enabled){const n={init_eqs:m(l.exports[`waves_${t}_init_eqs`]),frame_eqs:m(l.exports[`waves_${t}_frame_eqs`])};e.waves[t].point_eqs_eel&&""!==e.waves[t].point_eqs_eel?n.point_eqs=l.exports[`waves_${t}_point_eqs`]:n.point_eqs="",e.waves[t]=Object.assign({},e.waves[t],n)}this.renderer.loadPreset(e,t)}loadJSPreset(e,t){if("function"!=typeof e.init_eqs){e.init_eqs=new Function("a",`${e.init_eqs_str} return a;`),e.frame_eqs=new Function("a",`${e.frame_eqs_str} return a;`),e.pixel_eqs_str&&""!==e.pixel_eqs_str?e.pixel_eqs=new Function("a",`${e.pixel_eqs_str} return a;`):e.pixel_eqs="";for(let t=0;t<e.shapes.length;t++)0!==e.shapes[t].baseVals.enabled&&(e.shapes[t]=Object.assign({},e.shapes[t],{init_eqs:new Function("a",`${e.shapes[t].init_eqs_str} return a;`),frame_eqs:new Function("a",`${e.shapes[t].frame_eqs_str} return a;`)}));for(let t=0;t<e.waves.length;t++)if(0!==e.waves[t].baseVals.enabled){const n={init_eqs:new Function("a",`${e.waves[t].init_eqs_str} return a;`),frame_eqs:new Function("a",`${e.waves[t].frame_eqs_str} return a;`)};e.waves[t].point_eqs_str&&""!==e.waves[t].point_eqs_str?n.point_eqs=new Function("a",`${e.waves[t].point_eqs_str} return a;`):n.point_eqs="",e.waves[t]=Object.assign({},e.waves[t],n)}}this.renderer.loadPreset(e,t)}loadExtraImages(e){this.renderer.loadExtraImages(e)}setRendererSize(e,t,n={}){this.internalCanvas.width=e,this.internalCanvas.height=t,this.renderer.setRendererSize(e,t,n)}setInternalMeshSize(e,t){this.renderer.setInternalMeshSize(e,t)}setOutputAA(e){this.renderer.setOutputAA(e)}setCanvas(e){this.outputGl=e.getContext("2d")}render(e){const t=this.renderer.render(e);return this.outputGl&&this.outputGl.drawImage(this.internalCanvas,0,0),t}launchSongTitleAnim(e){this.renderer.launchSongTitleAnim(e)}toDataURL(){return this.renderer.toDataURL()}warpBufferToDataURL(){return this.renderer.warpBufferToDataURL()}}}})},e.exports=t()},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},7811:(e,t)=>{"use strict";var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,a=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,r=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,s=/\\([\u000b\u0020-\u00ff])/g,i=/([\\"])/g,o=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){var t=String(e);if(r.test(t))return t;if(t.length>0&&!a.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(i,"\\$1")+'"'}function m(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,n=e.type;if(!n||!o.test(n))throw new TypeError("invalid type");var a=n;if(t&&"object"==typeof t)for(var s,i=Object.keys(t).sort(),m=0;m<i.length;m++){if(s=i[m],!r.test(s))throw new TypeError("invalid parameter name");a+="; "+s+"="+l(t[s])}return a},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var a=t.indexOf(";"),r=-1!==a?t.substr(0,a).trim():t.trim();if(!o.test(r))throw new TypeError("invalid media type");var i=new m(r.toLowerCase());if(-1!==a){var l,c,u;for(n.lastIndex=a;c=n.exec(t);){if(c.index!==a)throw new TypeError("invalid parameter format");a+=c[0].length,l=c[1].toLowerCase(),'"'===(u=c[2])[0]&&(u=u.substr(1,u.length-2).replace(s,"$1")),i.parameters[l]=u}if(a!==t.length)throw new TypeError("invalid parameter format")}return i}},1012:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],a=0;a<e.length;a+=3)for(var r=e[a]<<16|e[a+1]<<8|e[a+2],s=0;s<4;s++)8*a+6*s<=8*e.length?n.push(t.charAt(r>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],a=0,r=0;a<e.length;r=++a%4)0!=r&&n.push((t.indexOf(e.charAt(a-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(a))>>>6-2*r);return n}},e.exports=n},1227:(e,t,n)=>{var a=n(4155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let a=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(a++,"%c"===e&&(r=a))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==a&&"env"in a&&(e=a.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(2447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,s,i=null;function o(...e){if(!o.enabled)return;const a=o,r=Number(new Date),s=r-(n||r);a.diff=s,a.prev=n,a.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";i++;const s=t.formatters[r];if("function"==typeof s){const t=e[i];n=s.call(a,t),e.splice(i,1),i--}return n})),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=a,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(o),o}function a(e,n){const a=t(this.namespace+(void 0===n?":":n)+e);return a.log=this.log,a}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const a=("string"==typeof e?e:"").split(/[\s,]+/),r=a.length;for(n=0;n<r;n++)a[n]&&("-"===(e=a[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,a;for(n=0,a=t.skips.length;n<a;n++)if(t.skips[n].test(e))return!1;for(n=0,a=t.names.length;n<a;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,a=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,a){function r(n){e.removeListener(t,s),a(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}d(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&d(e,"error",t,{once:!0})}(e,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function m(e,t,n,a){var r,s,i,m;if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=a?[n,i]:[i,n]:a?i.unshift(n):i.push(n),(r=l(e))>0&&i.length>r&&!i.warned){i.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,m=c,console&&console.warn&&console.warn(m)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(a);return r.listener=n,a.wrapFn=r,r}function _(e,t,n){var a=e._events;if(void 0===a)return[];var r=a[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),a=0;a<t;++a)n[a]=e[a];return n}function d(e,t,n,a){if("function"==typeof e.on)a.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){a.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var m=l.length,c=v(l,m);for(n=0;n<m;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return m(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return m(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,a,r,s,i;if(o(t),void 0===(a=this._events))return this;if(void 0===(n=a[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(a[e]=n[0]),void 0!==a.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,a;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(a=0;a<s.length;++a)"removeListener"!==(r=s[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this},s.prototype.listeners=function(e){return _(this,e,!0)},s.prototype.rawListeners=function(e){return _(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,n){n={offset:0,...n};for(const[a,r]of t.entries())if(n.mask){if(r!==(n.mask[a]&e[a+n.offset]))return!1}else if(r!==e[a+n.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const n=(e,n)=>_check(t,e,n),a=(e,t)=>n(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:12,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),a("PS-Adobe-",{offset:2})&&a(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(a("ID3")){await e.ignore(6);const r=await e.readToken(uint32SyncSafeToken);return e.position+r>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(r),fromTokenizer(e))}if(a("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(a("FLIF"))return{ext:"flif",mime:"image/flif"};if(a("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(a("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(a("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(a("FORM"))return{ext:"aif",mime:"audio/aiff"};if(a("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const s={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(s.filename=await e.readToken(new Token.StringType(s.filenameLength,"utf-8")),await e.ignore(s.extraFieldLength),"META-INF/mozilla.rsa"===s.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(s.filename.endsWith(".rels")||s.filename.endsWith(".xml"))switch(s.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(s.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(s.filename.startsWith("3D/")&&s.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===s.filename&&s.compressedSize===s.uncompressedSize)switch(await e.readToken(new Token.StringType(s.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===s.compressedSize){let i=-1;for(;i<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),i=t.indexOf("504B0304",0,"hex"),await e.ignore(i>=0?i:t.length)}else await e.ignore(s.compressedSize)}}catch(o){if(!(o instanceof strtok3.EndOfStreamError))throw o}return{ext:"zip",mime:"application/zip"}}if(a("OggS")){await e.ignore(28);const l=Buffer.alloc(8);return await e.readBuffer(l),_check(l,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(l,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(l,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(l,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(l,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(l,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(a("ftyp",{offset:4})&&0!=(96&t[8])){const m=t.toString("binary",8,12).replace("\0"," ").trim();switch(m){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return m.startsWith("3g")?m.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(a("MThd"))return{ext:"mid",mime:"audio/midi"};if(a("wOFF")&&(n([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(a("wOF2")&&(n([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(a("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(a("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(a("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(a("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(a("%PDF")){await e.ignore(1350);const c=10485760,u=Buffer.alloc(Math.min(c,e.fileInfo.size));return await e.readBuffer(u,{mayBeLess:!0}),u.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return a("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(a("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function _(){const t=await e.peekNumber(Token.UINT8);let n=128,a=0;for(;0==(t&n)&&0!==n;)++a,n>>=1;const r=Buffer.alloc(a+1);return await e.readBuffer(r),r}async function p(){const e=await _(),t=await _();t[0]^=128>>t.length-1;const n=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-n,n)}}async function v(t,n){for(;n>0;){const t=await p();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--n}}const d=await p();switch(await v(0,d.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(a("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(a("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(a("MSCF")||a("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(a("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(a("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(a("IMPM"))return{ext:"it",mime:"audio/x-it"};if(a("-lh0-",{offset:2})||a("-lh1-",{offset:2})||a("-lh2-",{offset:2})||a("-lh3-",{offset:2})||a("-lh4-",{offset:2})||a("-lh5-",{offset:2})||a("-lh6-",{offset:2})||a("-lh7-",{offset:2})||a("-lzs-",{offset:2})||a("-lz4-",{offset:2})||a("-lz5-",{offset:2})||a("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(a("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(a("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(a("solid "))return{ext:"stl",mime:"model/stl"};if(a("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(a("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){async function b(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const h=await b();if(h.length<0)return;switch(h.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(h.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(a("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){async function f(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const g=await f();let x=g.size-24;if(_check(g.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const y=Buffer.alloc(16);if(x-=await e.readBuffer(y),_check(y,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(y,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(x)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),a("BEGIN:")){if(a("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(a("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(a("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(a("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(a("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){const w=t.readUInt32LE(12);if(w>12&&t.length>=w+16)try{const A=t.slice(16,w+16).toString();if(JSON.parse(A).files)return{ext:"asar",mime:"application/x-asar"}}catch(q){}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(a("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(a("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,(()=>{})):readableStream.pipe(e);const n=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(n);e.fileType=t}catch(e){reject(e)}resolve(t)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},9898:e=>{"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(e,t)=>{"use strict";t.stringToBytes=e=>[...e].map((e=>e.charCodeAt(0))),t.tarHeaderChecksumMatches=(e,t=0)=>{const n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;let a=256;for(let n=t;n<t+148;n++)a+=e[n];for(let n=t+156;n<t+512;n++)a+=e[n];return n===a},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},6998:function(e){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var n,a=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<a.length;++n)if(a[n].test(e))return a[n].exec(e)[1];if(t.fuzzy){var r=e.split(/[\/\&\?=#\.\s]/g);for(n=0;n<r.length;++n)if(/^[^#\&\?]{11}$/.test(r[n]))return r[n]}}return null}},645:(e,t)=>{t.read=function(e,t,n,a,r){var s,i,o=8*r-a-1,l=(1<<o)-1,m=l>>1,c=-7,u=n?r-1:0,_=n?-1:1,p=e[t+u];for(u+=_,s=p&(1<<-c)-1,p>>=-c,c+=o;c>0;s=256*s+e[t+u],u+=_,c-=8);for(i=s&(1<<-c)-1,s>>=-c,c+=a;c>0;i=256*i+e[t+u],u+=_,c-=8);if(0===s)s=1-m;else{if(s===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),s-=m}return(p?-1:1)*i*Math.pow(2,s-a)},t.write=function(e,t,n,a,r,s){var i,o,l,m=8*s-r-1,c=(1<<m)-1,u=c>>1,_=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:s-1,v=a?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+u>=1?_/l:_*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=c?(o=0,i=c):i+u>=1?(o=(t*l-1)*Math.pow(2,r),i+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,r),i=0));r>=8;e[n+p]=255&o,p+=v,o/=256,r-=8);for(i=i<<r|o,m+=r;m>0;e[n+p]=255&i,p+=v,i/=256,m-=8);e[n+p-v]|=128*d}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},8738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},9090:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,a,r){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof a&&(r=a,a={}),a=a||{},r=r||function(){},i.type=a.type||"text/javascript",i.charset=a.charset||"utf8",i.async=!("async"in a)||!!a.async,i.src=e,a.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,a.attrs),a.text&&(i.text=""+a.text),("onload"in i?t:n)(i,r),i.onload||t(i,r),s.appendChild(i)}},2568:(e,t,n)=>{var a,r,s,i,o;a=n(1012),r=n(487).utf8,s=n(8738),i=n(487).bin,(o=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=a.bytesToWords(e),l=8*e.length,m=1732584193,c=-271733879,u=-1732584194,_=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var v=o._ff,d=o._gg,b=o._hh,h=o._ii;for(p=0;p<n.length;p+=16){var f=m,g=c,x=u,y=_;m=v(m,c,u,_,n[p+0],7,-680876936),_=v(_,m,c,u,n[p+1],12,-389564586),u=v(u,_,m,c,n[p+2],17,606105819),c=v(c,u,_,m,n[p+3],22,-1044525330),m=v(m,c,u,_,n[p+4],7,-176418897),_=v(_,m,c,u,n[p+5],12,1200080426),u=v(u,_,m,c,n[p+6],17,-1473231341),c=v(c,u,_,m,n[p+7],22,-45705983),m=v(m,c,u,_,n[p+8],7,1770035416),_=v(_,m,c,u,n[p+9],12,-1958414417),u=v(u,_,m,c,n[p+10],17,-42063),c=v(c,u,_,m,n[p+11],22,-1990404162),m=v(m,c,u,_,n[p+12],7,1804603682),_=v(_,m,c,u,n[p+13],12,-40341101),u=v(u,_,m,c,n[p+14],17,-1502002290),m=d(m,c=v(c,u,_,m,n[p+15],22,1236535329),u,_,n[p+1],5,-165796510),_=d(_,m,c,u,n[p+6],9,-1069501632),u=d(u,_,m,c,n[p+11],14,643717713),c=d(c,u,_,m,n[p+0],20,-373897302),m=d(m,c,u,_,n[p+5],5,-701558691),_=d(_,m,c,u,n[p+10],9,38016083),u=d(u,_,m,c,n[p+15],14,-660478335),c=d(c,u,_,m,n[p+4],20,-405537848),m=d(m,c,u,_,n[p+9],5,568446438),_=d(_,m,c,u,n[p+14],9,-1019803690),u=d(u,_,m,c,n[p+3],14,-187363961),c=d(c,u,_,m,n[p+8],20,1163531501),m=d(m,c,u,_,n[p+13],5,-1444681467),_=d(_,m,c,u,n[p+2],9,-51403784),u=d(u,_,m,c,n[p+7],14,1735328473),m=b(m,c=d(c,u,_,m,n[p+12],20,-1926607734),u,_,n[p+5],4,-378558),_=b(_,m,c,u,n[p+8],11,-2022574463),u=b(u,_,m,c,n[p+11],16,1839030562),c=b(c,u,_,m,n[p+14],23,-35309556),m=b(m,c,u,_,n[p+1],4,-1530992060),_=b(_,m,c,u,n[p+4],11,1272893353),u=b(u,_,m,c,n[p+7],16,-155497632),c=b(c,u,_,m,n[p+10],23,-1094730640),m=b(m,c,u,_,n[p+13],4,681279174),_=b(_,m,c,u,n[p+0],11,-358537222),u=b(u,_,m,c,n[p+3],16,-722521979),c=b(c,u,_,m,n[p+6],23,76029189),m=b(m,c,u,_,n[p+9],4,-640364487),_=b(_,m,c,u,n[p+12],11,-421815835),u=b(u,_,m,c,n[p+15],16,530742520),m=h(m,c=b(c,u,_,m,n[p+2],23,-995338651),u,_,n[p+0],6,-198630844),_=h(_,m,c,u,n[p+7],10,1126891415),u=h(u,_,m,c,n[p+14],15,-1416354905),c=h(c,u,_,m,n[p+5],21,-57434055),m=h(m,c,u,_,n[p+12],6,1700485571),_=h(_,m,c,u,n[p+3],10,-1894986606),u=h(u,_,m,c,n[p+10],15,-1051523),c=h(c,u,_,m,n[p+1],21,-2054922799),m=h(m,c,u,_,n[p+8],6,1873313359),_=h(_,m,c,u,n[p+15],10,-30611744),u=h(u,_,m,c,n[p+6],15,-1560198380),c=h(c,u,_,m,n[p+13],21,1309151649),m=h(m,c,u,_,n[p+4],6,-145523070),_=h(_,m,c,u,n[p+11],10,-1120210379),u=h(u,_,m,c,n[p+2],15,718787259),c=h(c,u,_,m,n[p+9],21,-343485551),m=m+f>>>0,c=c+g>>>0,u=u+x>>>0,_=_+y>>>0}return a.endian([m,c,u,_])})._ff=function(e,t,n,a,r,s,i){var o=e+(t&n|~t&a)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},o._gg=function(e,t,n,a,r,s,i){var o=e+(t&a|n&~a)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},o._hh=function(e,t,n,a,r,s,i){var o=e+(t^n^a)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},o._ii=function(e,t,n,a,r,s,i){var o=e+(n^(t|~a))+(r>>>0)+i;return(o<<s|o>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=a.wordsToBytes(o(e,t));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):a.bytesToHex(n)}},2577:(e,t)=>{"use strict";var n=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,a=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,r=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function s(e,t,n){this.type=e,this.subtype=t,this.suffix=n}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.subtype,r=e.suffix,s=e.type;if(!s||!a.test(s))throw new TypeError("invalid type");if(!t||!n.test(t))throw new TypeError("invalid subtype");var i=s+"/"+t;if(r){if(!a.test(r))throw new TypeError("invalid suffix");i+="+"+r}return i},t.parse=function(e){if(!e)throw new TypeError("argument string is required");if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var t=r.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var n,a=t[1],i=t[2],o=i.lastIndexOf("+");return-1!==o&&(n=i.substr(o+1),i=i.substr(0,o)),new s(a,i,n)},t.test=function(e){if(!e)throw new TypeError("argument string is required");if("string"!=typeof e)throw new TypeError("argument string is required to be a string");return r.test(e.toLowerCase())}},7824:e=>{var t=1e3,n=60*t,a=60*n,r=24*a;function s(e,t,n,a){var r=t>=1.5*n;return Math.round(e/n)+" "+a+(r?"s":"")}e.exports=function(e,i){i=i||{};var o,l,m=typeof e;if("string"===m&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*r;case"hours":case"hour":case"hrs":case"hr":case"h":return i*a;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===m&&isFinite(e))return i.long?(o=e,(l=Math.abs(o))>=r?s(o,l,r,"day"):l>=a?s(o,l,a,"hour"):l>=n?s(o,l,n,"minute"):l>=t?s(o,l,t,"second"):o+" ms"):function(e){var s=Math.abs(e);return s>=r?Math.round(e/r)+"d":s>=a?Math.round(e/a)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2463:(e,t,n)=>{"use strict";t.Aj=t.De=void 0;const a=n(1227),r=n(523),s=n(8090);a("music-metadata-browser:main");n(523);t.De=r.parseStream,t.Aj=async function(e,n){const a={mimeType:e.type,size:e.size};return e instanceof File&&(a.path=e.name),async function(e,n,a){const r=new s.ReadableWebToNodeStream(e),i=await(0,t.De)(r,"string"==typeof n?{mimeType:n}:n,a);return await r.close(),i}(e.stream?e.stream():function(e){const t=new FileReader;return new ReadableStream({start(n){t.onloadend=e=>{let t=e.target.result;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),n.enqueue(t),n.close()},t.onerror=e=>{n.close()},t.onabort=e=>{n.close()},t.readAsArrayBuffer(e)}})}(e),{mimeType:e.type,size:e.size},n)}},3275:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ParserFactory=t.parseHttpContentType=void 0;const r=n(1),s=n(7811),i=n(2577),o=n(1227),l=n(7584),m=n(5410),c=n(6742),u=n(1004),_=n(498),p=n(8841),v=n(60),d=n(9606),b=n(1915),h=n(2682),f=n(5870),g=n(1533),x=n(6789),y=n(78),w=(0,o.default)("music-metadata:parser:factory");function A(e){const t=s.parse(e),n=i.parse(t.type);return{type:n.type,subtype:n.subtype,suffix:n.suffix,parameters:t.parameters}}t.parseHttpContentType=A;class q{static async parseOnContentType(e,t){const{mimeType:n,path:a,url:r}=await e.fileInfo,s=q.getParserIdForMimeType(n)||q.getParserIdForExtension(a)||q.getParserIdForExtension(r);return s||w("No parser found for MIME-type / extension: "+n),this.parse(e,s,t)}static async parse(e,t,n){if(!t){w("Guess parser on content...");const n=a.alloc(4100);if(await e.peekBuffer(n,{mayBeLess:!0}),e.fileInfo.path&&(t=this.getParserIdForExtension(e.fileInfo.path)),!t){const e=await r.fromBuffer(n);if(!e)throw new Error("Failed to determine audio format");if(w(`Guessed file type is mime=${e.mime}, extension=${e.ext}`),!(t=q.getParserIdForMimeType(e.mime)))throw new Error("Guessed MIME-type not supported: "+e.mime)}}return async function(e,t,n={}){const a=await q.loadParser(t),r=new l.MetadataCollector(n);return await a.init(r,e,n).parse(),r.toCommonMetadata()}(e,t,n)}static getParserIdForExtension(e){if(e)switch(this.getExtension(e).toLocaleLowerCase()||e){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(e){switch(e){case"aiff":return new m.AIFFParser;case"adts":case"mpeg":return new v.MpegParser;case"apev2":return new c.APEv2Parser;case"asf":return new u.AsfParser;case"dsf":return new g.DsfParser;case"dsdiff":return new x.DsdiffParser;case"flac":return new _.FlacParser;case"mp4":return new p.MP4Parser;case"musepack":return new d.default;case"ogg":return new b.OggParser;case"riff":return new h.WaveParser;case"wavpack":return new f.WavPackParser;case"matroska":return new y.MatroskaParser;default:throw new Error(`Unknown parser type: ${e}`)}}static getExtension(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)}static getParserIdForMimeType(e){let t;try{t=A(e)}catch(t){return void w(`Invalid HTTP Content-Type header value: ${e}`)}const n=0===t.subtype.indexOf("x-")?t.subtype.substring(2):t.subtype;switch(t.type){case"audio":switch(n){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(n){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(n){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}}}}t.ParserFactory=q},5410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AIFFParser=void 0;const a=n(3416),r=n(1227),s=n(5849),i=n(8928),o=n(8049),l=n(7805),m=n(1162),c=n(4633),u=(0,r.default)("music-metadata:parser:aiff"),_={NONE:"not compressed\tPCM\tApple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float\tApple Computer",alaw:"ALaw 2:1\t8-bit ITU-T G.711 A-law",ulaw:"µLaw 2:1\t8-bit ITU-T G.711 µ-law\tApple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 µ-law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32\tIEEE 32-bit float "};class p extends l.BasicParser{async parse(){if("FORM"!==(await this.tokenizer.readToken(c.Header)).chunkID)throw new Error("Invalid Chunk-ID, expected 'FORM'");const e=await this.tokenizer.readToken(o.FourCcToken);switch(e){case"AIFF":this.metadata.setFormat("container",e),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+e)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=c.Header.len;){u("Reading AIFF chunk at offset="+this.tokenizer.position);const e=await this.tokenizer.readToken(c.Header);u(`Chunk id=${e.chunkID}`);const t=2*Math.round(e.chunkSize/2),n=await this.readData(e);await this.tokenizer.ignore(t-n)}}catch(e){if(!(e instanceof s.EndOfStreamError))throw e;u("End-of-stream")}}async readData(e){var t;switch(e.chunkID){case"COMM":const n=await this.tokenizer.readToken(new m.Common(e,this.isCompressed));return this.metadata.setFormat("bitsPerSample",n.sampleSize),this.metadata.setFormat("sampleRate",n.sampleRate),this.metadata.setFormat("numberOfChannels",n.numChannels),this.metadata.setFormat("numberOfSamples",n.numSampleFrames),this.metadata.setFormat("duration",n.numSampleFrames/n.sampleRate),this.metadata.setFormat("codec",null!==(t=n.compressionName)&&void 0!==t?t:_[n.compressionType]),e.chunkSize;case"ID3 ":const r=await this.tokenizer.readToken(new a.Uint8ArrayType(e.chunkSize)),o=s.fromBuffer(r);return await(new i.ID3v2Parser).parse(this.metadata,o,this.options),e.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*e.chunkSize/this.metadata.format.duration),0;default:return 0}}}t.AIFFParser=p},1162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;const a=n(3416),r=n(8049);t.Common=class{constructor(e,t){this.isAifc=t;const n=t?22:18;if(e.chunkSize<n)throw new Error(`COMMON CHUNK size should always be at least ${n}`);this.len=e.chunkSize}get(e,t){const n=e.readUInt16BE(t+8)-16398,s=e.readUInt16BE(t+8+2),i={numChannels:e.readUInt16BE(t),numSampleFrames:e.readUInt32BE(t+2),sampleSize:e.readUInt16BE(t+6),sampleRate:n<0?s>>Math.abs(n):s<<n};if(this.isAifc){if(i.compressionType=r.FourCcToken.get(e,t+18),this.len>22){const n=e.readInt8(t+22);if(n>0){if(23+n+(n+1)%2!==this.len)throw new Error("Illegal pstring length");i.compressionName=new a.StringType(n,"binary").get(e,t+23)}else i.compressionName=void 0}}else i.compressionName="PCM";return i}}},6742:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2Parser=void 0;const r=n(1227),s=n(5849),i=n(3416),o=n(3769),l=n(7805),m=n(876),c=(0,r.default)("music-metadata:parser:APEv2"),u="APEv2",_="APETAGEX";class p extends l.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(e,t,n){const a=new p;return a.init(e,t,n),a.tryParseApeHeader()}static calculateDuration(e){let t=e.totalFrames>1?e.blocksPerFrame*(e.totalFrames-1):0;return t+=e.finalFrameBlocks,t/e.sampleRate}static async findApeFooterOffset(e,t){const n=a.alloc(m.TagFooter.len);await e.randomRead(n,0,m.TagFooter.len,t-m.TagFooter.len);const r=m.TagFooter.get(n,0);if("APETAGEX"===r.ID)return c(`APE footer header at offset=${t}`),{footer:r,offset:t-r.size}}static parseTagFooter(e,t,n){const a=m.TagFooter.get(t,t.length-m.TagFooter.len);if(a.ID!==_)throw new Error("Unexpected APEv2 Footer ID preamble value.");s.fromBuffer(t);const r=new p;return r.init(e,s.fromBuffer(t),n),r.parseTags(a)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<m.TagFooter.len)return void c("No APEv2 header found, end-of-file reached");const e=await this.tokenizer.peekToken(m.TagFooter);if(e.ID===_)return await this.tokenizer.ignore(m.TagFooter.len),this.parseTags(e);if(c(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const e=this.tokenizer.fileInfo.size-this.tokenizer.position,t=a.alloc(e);return await this.tokenizer.readBuffer(t),p.parseTagFooter(this.metadata,t,this.options)}}async parse(){const e=await this.tokenizer.readToken(m.DescriptorParser);if("MAC "!==e.ID)throw new Error("Unexpected descriptor ID");this.ape.descriptor=e;const t=e.descriptorBytes-m.DescriptorParser.len,n=await(t>0?this.parseDescriptorExpansion(t):this.parseHeader());return await this.tokenizer.ignore(n.forwardBytes),this.tryParseApeHeader()}async parseTags(e){const t=a.alloc(256);let n=e.size-m.TagFooter.len;c(`Parse APE tags at offset=${this.tokenizer.position}, size=${n}`);for(let r=0;r<e.fields;r++){if(n<m.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${e.fields-r} items remaining, but no more tag data to read.`);break}const s=await this.tokenizer.readToken(m.TagItemHeader);n-=m.TagItemHeader.len+s.size,await this.tokenizer.peekBuffer(t,{length:Math.min(t.length,n)});let l=o.findZero(t,0,t.length);const _=await this.tokenizer.readToken(new i.StringType(l,"ascii"));switch(await this.tokenizer.ignore(1),n-=_.length+1,s.flags.dataType){case m.DataType.text_utf8:{const e=(await this.tokenizer.readToken(new i.StringType(s.size,"utf8"))).split(/\x00/g);for(const t of e)this.metadata.addTag(u,_,t);break}case m.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(s.size);else{const e=a.alloc(s.size);await this.tokenizer.readBuffer(e),l=o.findZero(e,0,e.length);const t=e.toString("utf8",0,l),n=a.from(e.slice(l+1));this.metadata.addTag(u,_,{description:t,data:n})}break;case m.DataType.external_info:c(`Ignore external info ${_}`),await this.tokenizer.ignore(s.size);break;case m.DataType.reserved:c(`Ignore external info ${_}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${_}"`),await this.tokenizer.ignore(s.size)}}}async parseDescriptorExpansion(e){return await this.tokenizer.ignore(e),this.parseHeader()}async parseHeader(){const e=await this.tokenizer.readToken(m.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("sampleRate",e.sampleRate),this.metadata.setFormat("numberOfChannels",e.channel),this.metadata.setFormat("duration",p.calculateDuration(e)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}t.APEv2Parser=p},8414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2TagMapper=void 0;const a=n(4132),r={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class s extends a.CaseInsensitiveTagMap{constructor(){super(["APEv2"],r)}}t.APEv2TagMapper=s},876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBitSet=t.parseTagFlags=t.TagField=t.TagItemHeader=t.TagFooter=t.Header=t.DescriptorParser=t.DataType=void 0;const a=n(3416),r=n(8049);var s;function i(e){return{containsHeader:o(e,31),containsFooter:o(e,30),isHeader:o(e,31),readOnly:o(e,0),dataType:(6&e)>>1}}function o(e,t){return 0!=(e&1<<t)}(s=t.DataType||(t.DataType={}))[s.text_utf8=0]="text_utf8",s[s.binary=1]="binary",s[s.external_info=2]="external_info",s[s.reserved=3]="reserved",t.DescriptorParser={len:52,get:(e,t)=>({ID:r.FourCcToken.get(e,t),version:a.UINT32_LE.get(e,t+4)/1e3,descriptorBytes:a.UINT32_LE.get(e,t+8),headerBytes:a.UINT32_LE.get(e,t+12),seekTableBytes:a.UINT32_LE.get(e,t+16),headerDataBytes:a.UINT32_LE.get(e,t+20),apeFrameDataBytes:a.UINT32_LE.get(e,t+24),apeFrameDataBytesHigh:a.UINT32_LE.get(e,t+28),terminatingDataBytes:a.UINT32_LE.get(e,t+32),fileMD5:new a.Uint8ArrayType(16).get(e,t+36)})},t.Header={len:24,get:(e,t)=>({compressionLevel:a.UINT16_LE.get(e,t),formatFlags:a.UINT16_LE.get(e,t+2),blocksPerFrame:a.UINT32_LE.get(e,t+4),finalFrameBlocks:a.UINT32_LE.get(e,t+8),totalFrames:a.UINT32_LE.get(e,t+12),bitsPerSample:a.UINT16_LE.get(e,t+16),channel:a.UINT16_LE.get(e,t+18),sampleRate:a.UINT32_LE.get(e,t+20)})},t.TagFooter={len:32,get:(e,t)=>({ID:new a.StringType(8,"ascii").get(e,t),version:a.UINT32_LE.get(e,t+8),size:a.UINT32_LE.get(e,t+12),fields:a.UINT32_LE.get(e,t+16),flags:i(a.UINT32_LE.get(e,t+20))})},t.TagItemHeader={len:8,get:(e,t)=>({size:a.UINT32_LE.get(e,t),flags:i(a.UINT32_LE.get(e,t+4))})},t.TagField=e=>new a.Uint8ArrayType(e.size-t.TagFooter.len),t.parseTagFlags=i,t.isBitSet=o},5174:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.WmPictureToken=t.MetadataLibraryObjectState=t.MetadataObjectState=t.ExtendedStreamPropertiesObjectState=t.ExtendedContentDescriptionObjectState=t.ContentDescriptionObjectState=t.readCodecEntries=t.HeaderExtensionObject=t.StreamPropertiesObject=t.FilePropertiesObject=t.IgnoreObjectState=t.State=t.HeaderObjectToken=t.TopLevelHeaderObjectToken=t.DataType=void 0;const r=n(3769),s=n(3416),i=n(8054),o=n(2252),l=n(8281);var m;(m=t.DataType||(t.DataType={}))[m.UnicodeString=0]="UnicodeString",m[m.ByteArray=1]="ByteArray",m[m.Bool=2]="Bool",m[m.DWord=3]="DWord",m[m.QWord=4]="QWord",m[m.Word=5]="Word",t.TopLevelHeaderObjectToken={len:30,get:(e,t)=>({objectId:i.default.fromBin(new s.BufferType(16).get(e,t)),objectSize:Number(s.UINT64_LE.get(e,t+16)),numberOfHeaderObjects:s.UINT32_LE.get(e,t+24)})},t.HeaderObjectToken={len:24,get:(e,t)=>({objectId:i.default.fromBin(new s.BufferType(16).get(e,t)),objectSize:Number(s.UINT64_LE.get(e,t+16))})};class c{constructor(e){this.len=Number(e.objectSize)-t.HeaderObjectToken.len}postProcessTag(e,t,n,a){if("WM/Picture"===t)e.push({id:t,value:A.fromBuffer(a)});else{const r=o.AsfUtil.getParserForAttr(n);if(!r)throw new Error("unexpected value headerType: "+n);e.push({id:t,value:r(a)})}}}t.State=c,t.IgnoreObjectState=class extends c{constructor(e){super(e)}get(e,t){return null}};class u extends c{constructor(e){super(e)}get(e,t){return{fileId:i.default.fromBin(e,t),fileSize:s.UINT64_LE.get(e,t+16),creationDate:s.UINT64_LE.get(e,t+24),dataPacketsCount:s.UINT64_LE.get(e,t+32),playDuration:s.UINT64_LE.get(e,t+40),sendDuration:s.UINT64_LE.get(e,t+48),preroll:s.UINT64_LE.get(e,t+56),flags:{broadcast:r.getBit(e,t+64,24),seekable:r.getBit(e,t+64,25)},minimumDataPacketSize:s.UINT32_LE.get(e,t+68),maximumDataPacketSize:s.UINT32_LE.get(e,t+72),maximumBitrate:s.UINT32_LE.get(e,t+76)}}}t.FilePropertiesObject=u,u.guid=i.default.FilePropertiesObject;class _ extends c{constructor(e){super(e)}get(e,t){return{streamType:i.default.decodeMediaType(i.default.fromBin(e,t)),errorCorrectionType:i.default.fromBin(e,t+8)}}}t.StreamPropertiesObject=_,_.guid=i.default.StreamPropertiesObject;class p{constructor(){this.len=22}get(e,t){return{reserved1:i.default.fromBin(e,t),reserved2:e.readUInt16LE(t+16),extensionDataSize:e.readUInt32LE(t+18)}}}t.HeaderExtensionObject=p,p.guid=i.default.HeaderExtensionObject;const v={len:20,get:(e,t)=>({entryCount:e.readUInt16LE(t+16)})};async function d(e){const t=await e.readNumber(s.UINT16_LE);return(await e.readToken(new s.StringType(2*t,"utf16le"))).replace("\0","")}async function b(e){const t=await e.readNumber(s.UINT16_LE),n=a.alloc(t);return await e.readBuffer(n),n}async function h(e){const t=await e.readNumber(s.UINT16_LE);return{type:{videoCodec:1==(1&t),audioCodec:2==(2&t)},codecName:await d(e),description:await d(e),information:await b(e)}}t.readCodecEntries=async function(e){const t=await e.readToken(v),n=[];for(let a=0;a<t.entryCount;++a)n.push(await h(e));return n};class f extends c{constructor(e){super(e)}get(e,t){const n=[];let a=t+10;for(let r=0;r<f.contentDescTags.length;++r){const s=e.readUInt16LE(t+2*r);if(s>0){const t=f.contentDescTags[r],i=a+s;n.push({id:t,value:o.AsfUtil.parseUnicodeAttr(e.slice(a,i))}),a=i}}return n}}t.ContentDescriptionObjectState=f,f.guid=i.default.ContentDescriptionObject,f.contentDescTags=["Title","Author","Copyright","Description","Rating"];class g extends c{constructor(e){super(e)}get(e,t){const n=[],a=e.readUInt16LE(t);let r=t+2;for(let t=0;t<a;t+=1){const t=e.readUInt16LE(r);r+=2;const a=o.AsfUtil.parseUnicodeAttr(e.slice(r,r+t));r+=t;const s=e.readUInt16LE(r);r+=2;const i=e.readUInt16LE(r);r+=2;const l=e.slice(r,r+i);r+=i,this.postProcessTag(n,a,s,l)}return n}}t.ExtendedContentDescriptionObjectState=g,g.guid=i.default.ExtendedContentDescriptionObject;class x extends c{constructor(e){super(e)}get(e,t){return{startTime:s.UINT64_LE.get(e,t),endTime:s.UINT64_LE.get(e,t+8),dataBitrate:e.readInt32LE(t+12),bufferSize:e.readInt32LE(t+16),initialBufferFullness:e.readInt32LE(t+20),alternateDataBitrate:e.readInt32LE(t+24),alternateBufferSize:e.readInt32LE(t+28),alternateInitialBufferFullness:e.readInt32LE(t+32),maximumObjectSize:e.readInt32LE(t+36),flags:{reliableFlag:r.getBit(e,t+40,0),seekableFlag:r.getBit(e,t+40,1),resendLiveCleanpointsFlag:r.getBit(e,t+40,2)},streamNumber:e.readInt16LE(t+42),streamLanguageId:e.readInt16LE(t+44),averageTimePerFrame:e.readInt32LE(t+52),streamNameCount:e.readInt32LE(t+54),payloadExtensionSystems:e.readInt32LE(t+56),streamNames:[],streamPropertiesObject:null}}}t.ExtendedStreamPropertiesObjectState=x,x.guid=i.default.ExtendedStreamPropertiesObject;class y extends c{constructor(e){super(e)}get(e,t){const n=[],r=a.from(e),s=r.readUInt16LE(t);let i=t+2;for(let e=0;e<s;e+=1){i+=4;const e=r.readUInt16LE(i);i+=2;const t=r.readUInt16LE(i);i+=2;const a=r.readUInt32LE(i);i+=4;const s=o.AsfUtil.parseUnicodeAttr(r.slice(i,i+e));i+=e;const l=r.slice(i,i+a);i+=a,this.postProcessTag(n,s,t,l)}return n}}t.MetadataObjectState=y,y.guid=i.default.MetadataObject;class w extends y{constructor(e){super(e)}}t.MetadataLibraryObjectState=w,w.guid=i.default.MetadataLibraryObject;class A{constructor(e){this.len=e}static fromBase64(e){return this.fromBuffer(a.from(e,"base64"))}static fromBuffer(e){return new A(e.length).get(e,0)}get(e,t){const n=e.readUInt8(t++),a=e.readInt32LE(t);let r=5;for(;0!==e.readUInt16BE(r);)r+=2;const s=e.slice(5,r).toString("utf16le");for(;0!==e.readUInt16BE(r);)r+=2;const i=e.slice(5,r).toString("utf16le");return{type:l.AttachedPictureType[n],format:s,description:i,size:a,data:e.slice(r+4)}}}t.WmPictureToken=A},1004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfParser=void 0;const a=n(1227),r=n(6032),s=n(8054),i=n(5174),o=n(7805),l=(0,a.default)("music-metadata:parser:ASF");class m extends o.BasicParser{async parse(){const e=await this.tokenizer.readToken(i.TopLevelHeaderObjectToken);if(!e.objectId.equals(s.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+e.objectId.str);try{await this.parseObjectHeader(e.numberOfHeaderObjects)}catch(e){l("Error while parsing ASF: %s",e)}}async parseObjectHeader(e){let t;do{const e=await this.tokenizer.readToken(i.HeaderObjectToken);switch(l("header GUID=%s",e.objectId.str),e.objectId.str){case i.FilePropertiesObject.guid.str:const n=await this.tokenizer.readToken(new i.FilePropertiesObject(e));this.metadata.setFormat("duration",Number(n.playDuration/BigInt(1e3))/1e4-Number(n.preroll)/1e3),this.metadata.setFormat("bitrate",n.maximumBitrate);break;case i.StreamPropertiesObject.guid.str:const a=await this.tokenizer.readToken(new i.StreamPropertiesObject(e));this.metadata.setFormat("container","ASF/"+a.streamType);break;case i.HeaderExtensionObject.guid.str:const o=await this.tokenizer.readToken(new i.HeaderExtensionObject);await this.parseExtensionObject(o.extensionDataSize);break;case i.ContentDescriptionObjectState.guid.str:t=await this.tokenizer.readToken(new i.ContentDescriptionObjectState(e)),this.addTags(t);break;case i.ExtendedContentDescriptionObjectState.guid.str:t=await this.tokenizer.readToken(new i.ExtendedContentDescriptionObjectState(e)),this.addTags(t);break;case s.default.CodecListObject.str:const m=await i.readCodecEntries(this.tokenizer);m.forEach((e=>{this.metadata.addStreamInfo({type:e.type.videoCodec?r.TrackType.video:r.TrackType.audio,codecName:e.codecName})}));const c=m.filter((e=>e.type.audioCodec)).map((e=>e.codecName)).join("/");this.metadata.setFormat("codec",c);break;case s.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(e.objectSize-i.HeaderObjectToken.len);break;case s.default.PaddingObject.str:l("Padding: %s bytes",e.objectSize-i.HeaderObjectToken.len),await this.tokenizer.ignore(e.objectSize-i.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+e.objectId.str),l("Ignore ASF-Object-GUID: %s",e.objectId.str),await this.tokenizer.readToken(new i.IgnoreObjectState(e))}}while(--e)}addTags(e){e.forEach((e=>{this.metadata.addTag("asf",e.id,e.value)}))}async parseExtensionObject(e){do{const t=await this.tokenizer.readToken(i.HeaderObjectToken),n=t.objectSize-i.HeaderObjectToken.len;switch(t.objectId.str){case i.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new i.ExtendedStreamPropertiesObjectState(t));break;case i.MetadataObjectState.guid.str:const e=await this.tokenizer.readToken(new i.MetadataObjectState(t));this.addTags(e);break;case i.MetadataLibraryObjectState.guid.str:const a=await this.tokenizer.readToken(new i.MetadataLibraryObjectState(t));this.addTags(a);break;case s.default.PaddingObject.str:await this.tokenizer.ignore(n);break;case s.default.CompatibilityObject.str:this.tokenizer.ignore(n);break;case s.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(n);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+t.objectId.str),await this.tokenizer.readToken(new i.IgnoreObjectState(t))}e-=t.objectSize}while(e>0)}}t.AsfParser=m},9004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfTagMapper=void 0;const a=n(9918),r={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class s extends a.CommonTagMapper{static toRating(e){return{rating:parseFloat(e+1)/5}}constructor(){super(["asf"],r)}postMap(e){if("WM/SharedUserRating"===e.id){const t=e.id.split(":");e.value=s.toRating(e.value),e.id=t[0]}}}t.AsfTagMapper=s},2252:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AsfUtil=void 0;const r=n(3416),s=n(3769);class i{static getParserForAttr(e){return i.attributeParsers[e]}static parseUnicodeAttr(e){return s.stripNulls(s.decodeString(e,"utf16le"))}static parseByteArrayAttr(e){return a.from(e)}static parseBoolAttr(e,t=0){return 1===i.parseWordAttr(e,t)}static parseDWordAttr(e,t=0){return e.readUInt32LE(t)}static parseQWordAttr(e,t=0){return r.UINT64_LE.get(e,t)}static parseWordAttr(e,t=0){return e.readUInt16LE(t)}}t.AsfUtil=i,i.attributeParsers=[i.parseUnicodeAttr,i.parseByteArrayAttr,i.parseBoolAttr,i.parseDWordAttr,i.parseQWordAttr,i.parseWordAttr,i.parseByteArrayAttr]},8054:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.str=e}static fromBin(e,t=0){return new r(this.decode(e,t))}static decode(e,t=0){return(e.readUInt32LE(t).toString(16)+"-"+e.readUInt16LE(t+4).toString(16)+"-"+e.readUInt16LE(t+6).toString(16)+"-"+e.readUInt16BE(t+8).toString(16)+"-"+e.slice(t+10,t+16).toString("hex")).toUpperCase()}static decodeMediaType(e){switch(e.str){case r.AudioMedia.str:return"audio";case r.VideoMedia.str:return"video";case r.CommandMedia.str:return"command";case r.Degradable_JPEG_Media.str:return"degradable-jpeg";case r.FileTransferMedia.str:return"file-transfer";case r.BinaryMedia.str:return"binary"}}static encode(e){const t=a.alloc(16);return t.writeUInt32LE(parseInt(e.slice(0,8),16),0),t.writeUInt16LE(parseInt(e.slice(9,13),16),4),t.writeUInt16LE(parseInt(e.slice(14,18),16),6),a.from(e.slice(19,23),"hex").copy(t,8),a.from(e.slice(24),"hex").copy(t,10),t}equals(e){return this.str===e.str}toBin(){return r.encode(this.str)}}t.default=r,r.HeaderObject=new r("75B22630-668E-11CF-A6D9-00AA0062CE6C"),r.DataObject=new r("75B22636-668E-11CF-A6D9-00AA0062CE6C"),r.SimpleIndexObject=new r("33000890-E5B1-11CF-89F4-00A0C90349CB"),r.IndexObject=new r("D6E229D3-35DA-11D1-9034-00A0C90349BE"),r.MediaObjectIndexObject=new r("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"),r.TimecodeIndexObject=new r("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"),r.FilePropertiesObject=new r("8CABDCA1-A947-11CF-8EE4-00C00C205365"),r.StreamPropertiesObject=new r("B7DC0791-A9B7-11CF-8EE6-00C00C205365"),r.HeaderExtensionObject=new r("5FBF03B5-A92E-11CF-8EE3-00C00C205365"),r.CodecListObject=new r("86D15240-311D-11D0-A3A4-00A0C90348F6"),r.ScriptCommandObject=new r("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"),r.MarkerObject=new r("F487CD01-A951-11CF-8EE6-00C00C205365"),r.BitrateMutualExclusionObject=new r("D6E229DC-35DA-11D1-9034-00A0C90349BE"),r.ErrorCorrectionObject=new r("75B22635-668E-11CF-A6D9-00AA0062CE6C"),r.ContentDescriptionObject=new r("75B22633-668E-11CF-A6D9-00AA0062CE6C"),r.ExtendedContentDescriptionObject=new r("D2D0A440-E307-11D2-97F0-00A0C95EA850"),r.ContentBrandingObject=new r("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"),r.StreamBitratePropertiesObject=new r("7BF875CE-468D-11D1-8D82-006097C9A2B2"),r.ContentEncryptionObject=new r("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"),r.ExtendedContentEncryptionObject=new r("298AE614-2622-4C17-B935-DAE07EE9289C"),r.DigitalSignatureObject=new r("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"),r.PaddingObject=new r("1806D474-CADF-4509-A4BA-9AABCB96AAE8"),r.ExtendedStreamPropertiesObject=new r("14E6A5CB-C672-4332-8399-A96952065B5A"),r.AdvancedMutualExclusionObject=new r("A08649CF-4775-4670-8A16-6E35357566CD"),r.GroupMutualExclusionObject=new r("D1465A40-5A79-4338-B71B-E36B8FD6C249"),r.StreamPrioritizationObject=new r("D4FED15B-88D3-454F-81F0-ED5C45999E24"),r.BandwidthSharingObject=new r("A69609E6-517B-11D2-B6AF-00C04FD908E9"),r.LanguageListObject=new r("7C4346A9-EFE0-4BFC-B229-393EDE415C85"),r.MetadataObject=new r("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"),r.MetadataLibraryObject=new r("44231C94-9498-49D1-A141-1D134E457054"),r.IndexParametersObject=new r("D6E229DF-35DA-11D1-9034-00A0C90349BE"),r.MediaObjectIndexParametersObject=new r("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"),r.TimecodeIndexParametersObject=new r("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"),r.CompatibilityObject=new r("26F18B5D-4584-47EC-9F5F-0E651F0452C9"),r.AdvancedContentEncryptionObject=new r("43058533-6981-49E6-9B74-AD12CB86D58C"),r.AudioMedia=new r("F8699E40-5B4D-11CF-A8FD-00805F5C442B"),r.VideoMedia=new r("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"),r.CommandMedia=new r("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"),r.JFIF_Media=new r("B61BE100-5B4E-11CF-A8FD-00805F5C442B"),r.Degradable_JPEG_Media=new r("35907DE0-E415-11CF-A917-00805F5C442B"),r.FileTransferMedia=new r("91BD222C-F21C-497A-8B6D-5AA86BFC0185"),r.BinaryMedia=new r("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"),r.ASF_Index_Placeholder_Object=new r("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2")},7805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicParser=void 0,t.BasicParser=class{init(e,t,n){return this.metadata=e,this.tokenizer=t,this.options=n,this}}},4132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaseInsensitiveTagMap=void 0;const a=n(9918);class r extends a.CommonTagMapper{constructor(e,t){const n={};for(const e of Object.keys(t))n[e.toUpperCase()]=t[e];super(e,n)}getCommonName(e){return this.tagMap[e.toUpperCase()]}}t.CaseInsensitiveTagMap=r},6592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CombinedTagMapper=void 0;const a=n(2939),r=n(4005),s=n(9004),i=n(7183),o=n(8414),l=n(7852),m=n(9860),c=n(5756),u=n(5481);t.CombinedTagMapper=class{constructor(){this.tagMappers={},[new a.ID3v1TagMapper,new i.ID3v22TagMapper,new r.ID3v24TagMapper,new l.MP4TagMapper,new l.MP4TagMapper,new m.VorbisTagMapper,new o.APEv2TagMapper,new s.AsfTagMapper,new c.RiffInfoTagMapper,new u.MatroskaTagMapper].forEach((e=>{this.registerTagMapper(e)}))}mapTag(e,t,n){if(this.tagMappers[e])return this.tagMappers[e].mapGenericTag(t,n);throw new Error("No generic tag mapper defined for tag-format: "+e)}registerTagMapper(e){for(const t of e.tagTypes)this.tagMappers[t]=e}}},8049:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.FourCcToken=void 0;const r=n(3769),s=/^[\x21-\x7e©][\x20-\x7e\x00()]{3}/;t.FourCcToken={len:4,get:(e,n)=>{const a=e.toString("binary",n,n+t.FourCcToken.len);if(!a.match(s))throw new Error(`FourCC contains invalid characters: ${r.a2hex(a)} "${a}"`);return a},put:(e,t,n)=>{const r=a.from(n,"binary");if(4!==r.length)throw new Error("Invalid length");return r.copy(e,t)}}},9918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonTagMapper=void 0;class n{constructor(e,t){this.tagTypes=e,this.tagMap=t}static toIntOrNull(e){const t=parseInt(e,10);return isNaN(t)?null:t}static normalizeTrack(e){const t=e.toString().split("/");return{no:parseInt(t[0],10)||null,of:parseInt(t[1],10)||null}}mapGenericTag(e,t){e={id:e.id,value:e.value},this.postMap(e,t);const n=this.getCommonName(e.id);return n?{id:n,value:e.value}:null}getCommonName(e){return this.tagMap[e]}postMap(e,t){}}t.CommonTagMapper=n,n.maxRatingScore=1},103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnique=t.isSingleton=t.commonTags=void 0,t.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}},t.isSingleton=function(e){return t.commonTags.hasOwnProperty(e)&&!t.commonTags[e].multiple},t.isUnique=function(e){return!t.commonTags[e].multiple||t.commonTags[e].unique}},7584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinArtists=t.MetadataCollector=void 0;const a=n(6032),r=n(1227),s=n(103),i=n(6592),o=n(9918),l=n(3769),m=n(1),c=(0,r.default)("music-metadata:collector"),u=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","ID3v1"];function _(e){return e.length>2?e.slice(0,e.length-1).join(", ")+" & "+e[e.length-1]:e.join(" & ")}t.MetadataCollector=class{constructor(e){this.opts=e,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new i.CombinedTagMapper;let t=1;for(const e of u)this.originPriority[e]=t++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(e){c(`streamInfo: type=${a.TrackType[e.type]}, codec=${e.codecName}`),this.format.trackInfo.push(e)}setFormat(e,t){c(`format: ${e} = ${t}`),this.format[e]=t,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:e,value:t}})}addTag(e,t,n){c(`tag ${e}.${t} = ${n}`),this.native[e]||(this.format.tagTypes.push(e),this.native[e]=[]),this.native[e].push({id:t,value:n}),this.toCommon(e,t,n)}addWarning(e){this.quality.warnings.push({message:e})}postMap(e,t){switch(t.id){case"artist":if(this.commonOrigin.artist===this.originPriority[e])return this.postMap("artificial",{id:"artists",value:t.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:t.value});break;case"artists":if(!(this.common.artist&&this.commonOrigin.artist!==this.originPriority.artificial||this.common.artists&&-1!==this.common.artists.indexOf(t.value))){const e={id:"artist",value:_((this.common.artists||[]).concat([t.value]))};this.setGenericTag("artificial",e)}break;case"picture":return void this.postFixPicture(t.value).then((n=>{null!==n&&(t.value=n,this.setGenericTag(e,t))}));case"totaltracks":return void(this.common.track.of=o.CommonTagMapper.toIntOrNull(t.value));case"totaldiscs":return void(this.common.disk.of=o.CommonTagMapper.toIntOrNull(t.value));case"movementTotal":return void(this.common.movementIndex.of=o.CommonTagMapper.toIntOrNull(t.value));case"track":case"disk":case"movementIndex":const n=this.common[t.id].of;return this.common[t.id]=o.CommonTagMapper.normalizeTrack(t.value),void(this.common[t.id].of=null!=n?n:this.common[t.id].of);case"bpm":case"year":case"originalyear":t.value=parseInt(t.value,10);break;case"date":const a=parseInt(t.value.substr(0,4),10);isNaN(a)||(this.common.year=a);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":t.value="string"==typeof t.value?parseInt(t.value,10):t.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":t.value=(0,l.toRatio)(t.value);break;case"replaygain_track_minmax":t.value=t.value.split(",").map((e=>parseInt(e,10)));break;case"replaygain_undo":const r=t.value.split(",").map((e=>parseInt(e,10)));t.value={leftChannel:r[0],rightChannel:r[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":t.value="1"===t.value||1===t.value;break;case"isrc":if(this.common[t.id]&&-1!==this.common[t.id].indexOf(t.value))return}null!==t.value&&this.setGenericTag(e,t)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(e){if(e.data&&e.data.length>0){if(!e.format){const t=await m.fromBuffer(e.data);if(!t)return null;e.format=t.mime}return e.format=e.format.toLocaleLowerCase(),"image/jpg"===e.format&&(e.format="image/jpeg"),e}return this.addWarning("Empty picture tag found"),null}toCommon(e,t,n){const a={id:t,value:n},r=this.tagMapper.mapTag(e,a,this);r&&this.postMap(e,r)}setGenericTag(e,t){c(`common.${t.id} = ${t.value}`);const n=this.commonOrigin[t.id]||1e3,a=this.originPriority[e];if((0,s.isSingleton)(t.id)){if(!(a<=n))return c(`Ignore native tag (singleton): ${e}.${t.id} = ${t.value}`);this.common[t.id]=t.value,this.commonOrigin[t.id]=a}else if(a===n)(0,s.isUnique)(t.id)&&-1!==this.common[t.id].indexOf(t.value)?c(`Ignore duplicate value: ${e}.${t.id} = ${t.value}`):this.common[t.id].push(t.value);else{if(!(a<n))return c(`Ignore native tag (list): ${e}.${t.id} = ${t.value}`);this.common[t.id]=[t.value],this.commonOrigin[t.id]=a}this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:t.id,value:t.value}})}},t.joinArtists=_},9461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomUint8ArrayReader=void 0,t.RandomUint8ArrayReader=class{constructor(e){this.uint8Array=e,this.fileSize=e.length}async randomRead(e,t,n,a){return e.set(this.uint8Array.subarray(a,a+n),t),n}}},3769:(e,t,n)=>{"use strict";var a=n(8764).Buffer;function r(e,t,n,a){const s=n%8;let i=e[t+~~(n/8)];i&=255>>s;const o=8-s,l=a-o;return l<0?i>>=8-s-a:l>0&&(i<<=l,i|=r(e,t,n+o,l)),i}function s(e){return 10*Math.log10(e)}function i(e){return Math.pow(10,e/10)}Object.defineProperty(t,"__esModule",{value:!0}),t.toRatio=t.dbToRatio=t.ratioToDb=t.a2hex=t.isBitSet=t.getBitAllignedNumber=t.stripNulls=t.decodeString=t.trimRightNull=t.findZero=t.getBit=void 0,t.getBit=function(e,t,n){return 0!=(e[t]&1<<n)},t.findZero=function(e,t,n,a){let r=t;if("utf16le"===a){for(;0!==e[r]||0!==e[r+1];){if(r>=n)return n;r+=2}return r}for(;0!==e[r];){if(r>=n)return n;r++}return r},t.trimRightNull=function(e){const t=e.indexOf("\0");return-1===t?e:e.substr(0,t)},t.decodeString=function e(t,n){if(255===t[0]&&254===t[1])return e(t.subarray(2),n);if("utf16le"===n&&254===t[0]&&255===t[1]){if(0!=(1&t.length))throw new Error("Expected even number of octets for 16-bit unicode string");return e(function(e){const t=e.length;if(0!=(1&t))throw new Error("Buffer length must be even");for(let n=0;n<t;n+=2){const t=e[n];e[n]=e[n+1],e[n+1]=t}return e}(t),n)}return a.from(t).toString(n)},t.stripNulls=function(e){return(e=e.replace(/^\x00+/g,"")).replace(/\x00+$/g,"")},t.getBitAllignedNumber=r,t.isBitSet=function(e,t,n){return 1===r(e,t,n,1)},t.a2hex=function(e){const t=[];for(let n=0,a=e.length;n<a;n++){const a=Number(e.charCodeAt(n)).toString(16);t.push(1===a.length?"0"+a:a)}return t.join(" ")},t.ratioToDb=s,t.dbToRatio=i,t.toRatio=function(e){const t=e.split(" ").map((e=>e.trim().toLowerCase()));if(t.length>=1){const e=parseFloat(t[0]);return 2===t.length&&"db"===t[1]?{dB:e,ratio:i(e)}:{dB:s(e),ratio:e}}}},523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanAppendingHeaders=t.selectCover=t.ratingToStars=t.orderTags=t.parseFromTokenizer=t.parseBuffer=t.parseStream=void 0;const a=n(5849),r=n(3275),s=n(9461),i=n(6742),o=n(2282),l=n(9941);function m(e,t){return r.ParserFactory.parseOnContentType(e,t)}async function c(e,t={}){let n=e.fileSize;await(0,o.hasID3v1Header)(e)&&(n-=128,n-=await(0,l.getLyricsHeaderLength)(e)),t.apeHeader=await i.APEv2Parser.findApeFooterOffset(e,n)}t.parseStream=function(e,t,n={}){return m(a.fromStream(e,"string"==typeof t?{mimeType:t}:t),n)},t.parseBuffer=async function(e,t,n={}){const r=new s.RandomUint8ArrayReader(e);return await c(r,n),m(a.fromBuffer(e,"string"==typeof t?{mimeType:t}:t),n)},t.parseFromTokenizer=m,t.orderTags=function(e){const t={};for(const n of e)(t[n.id]=t[n.id]||[]).push(n.value);return t},t.ratingToStars=function(e){return void 0===e?0:1+Math.round(4*e)},t.selectCover=function(e){return e?e.reduce(((e,t)=>t.name&&t.name.toLowerCase()in["front","cover","cover (front)"]?t:e)):null},t.scanAppendingHeaders=c},6789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DsdiffParser=void 0;const a=n(3416),r=n(1227),s=n(5849),i=n(8049),o=n(7805),l=n(8928),m=n(9187),c=(0,r.default)("music-metadata:parser:aiff");class u extends o.BasicParser{async parse(){const e=await this.tokenizer.readToken(m.ChunkHeader64);if("FRM8"!==e.chunkID)throw new Error("Unexpected chunk-ID");const t=(await this.tokenizer.readToken(i.FourCcToken)).trim();if("DSD"===t)return this.metadata.setFormat("container",`DSDIFF/${t}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(e.chunkSize-BigInt(i.FourCcToken.len));throw Error(`Unsupported DSDIFF type: ${t}`)}async readFmt8Chunks(e){for(;e>=m.ChunkHeader64.len;){const t=await this.tokenizer.readToken(m.ChunkHeader64);c(`Chunk id=${t.chunkID}`),await this.readData(t),e-=BigInt(m.ChunkHeader64.len)+t.chunkSize}}async readData(e){c(`Reading data of chunk[ID=${e.chunkID}, size=${e.chunkSize}]`);const t=this.tokenizer.position;switch(e.chunkID.trim()){case"FVER":const t=await this.tokenizer.readToken(a.UINT32_LE);c(`DSDIFF version=${t}`);break;case"PROP":if("SND "!==await this.tokenizer.readToken(i.FourCcToken))throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(e.chunkSize-BigInt(i.FourCcToken.len));break;case"ID3":const n=await this.tokenizer.readToken(new a.Uint8ArrayType(Number(e.chunkSize))),r=s.fromBuffer(n);await(new l.ID3v2Parser).parse(this.metadata,r,this.options);break;default:c(`Ignore chunk[ID=${e.chunkID}, size=${e.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(e.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate)}const n=e.chunkSize-BigInt(this.tokenizer.position-t);n>0&&(c(`After Parsing chunk, remaining ${n} bytes`),await this.tokenizer.ignore(Number(n)))}async handleSoundPropertyChunks(e){for(c(`Parsing sound-property-chunks, remainingSize=${e}`);e>0;){const t=await this.tokenizer.readToken(m.ChunkHeader64);c(`Sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`);const n=this.tokenizer.position;switch(t.chunkID.trim()){case"FS":const e=await this.tokenizer.readToken(a.UINT32_BE);this.metadata.setFormat("sampleRate",e);break;case"CHNL":const n=await this.tokenizer.readToken(a.UINT16_BE);this.metadata.setFormat("numberOfChannels",n),await this.handleChannelChunks(t.chunkSize-BigInt(a.UINT16_BE.len));break;case"CMPR":const r=(await this.tokenizer.readToken(i.FourCcToken)).trim(),s=await this.tokenizer.readToken(a.UINT8),o=await this.tokenizer.readToken(new a.StringType(s,"ascii"));"DSD"===r&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${r} (${o})`);break;case"ABSS":const l=await this.tokenizer.readToken(a.UINT16_BE),m=await this.tokenizer.readToken(a.UINT8),u=await this.tokenizer.readToken(a.UINT8),_=await this.tokenizer.readToken(a.UINT32_BE);c(`ABSS ${l}:${m}:${u}.${_}`);break;case"LSCO":const p=await this.tokenizer.readToken(a.UINT16_BE);c(`LSCO lsConfig=${p}`);break;default:c(`Unknown sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`),await this.tokenizer.ignore(Number(t.chunkSize))}const r=t.chunkSize-BigInt(this.tokenizer.position-n);r>0&&(c(`After Parsing sound-property-chunk ${t.chunkSize}, remaining ${r} bytes`),await this.tokenizer.ignore(Number(r))),e-=BigInt(m.ChunkHeader64.len)+t.chunkSize,c(`Parsing sound-property-chunks, remainingSize=${e}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const e=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",e)}}async handleChannelChunks(e){c(`Parsing channel-chunks, remainingSize=${e}`);const t=[];for(;e>=i.FourCcToken.len;){const n=await this.tokenizer.readToken(i.FourCcToken);c(`Channel[ID=${n}]`),t.push(n),e-=BigInt(i.FourCcToken.len)}return c(`Channels: ${t.join(", ")}`),t}}t.DsdiffParser=u},9187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkHeader64=void 0;const a=n(3416),r=n(8049);t.ChunkHeader64={len:12,get:(e,t)=>({chunkID:r.FourCcToken.get(e,t),chunkSize:a.INT64_BE.get(e,t+4)})}},4101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatChunk=t.ChannelType=t.DsdChunk=t.ChunkHeader=void 0;const a=n(3416),r=n(8049);var s;t.ChunkHeader={len:12,get:(e,t)=>({id:r.FourCcToken.get(e,t),size:a.UINT64_LE.get(e,t+4)})},t.DsdChunk={len:16,get:(e,t)=>({fileSize:a.INT64_LE.get(e,t),metadataPointer:a.INT64_LE.get(e,t+8)})},(s=t.ChannelType||(t.ChannelType={}))[s.mono=1]="mono",s[s.stereo=2]="stereo",s[s.channels=3]="channels",s[s.quad=4]="quad",s[s["4 channels"]=5]="4 channels",s[s["5 channels"]=6]="5 channels",s[s["5.1 channels"]=7]="5.1 channels",t.FormatChunk={len:40,get:(e,t)=>({formatVersion:a.INT32_LE.get(e,t),formatID:a.INT32_LE.get(e,t+4),channelType:a.INT32_LE.get(e,t+8),channelNum:a.INT32_LE.get(e,t+12),samplingFrequency:a.INT32_LE.get(e,t+16),bitsPerSample:a.INT32_LE.get(e,t+20),sampleCount:a.INT64_LE.get(e,t+24),blockSizePerChannel:a.INT32_LE.get(e,t+32)})}},1533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DsfParser=void 0;const a=n(1227),r=n(5159),s=n(4101),i=n(8928),o=(0,a.default)("music-metadata:parser:DSF");class l extends r.AbstractID3Parser{async postId3v2Parse(){const e=this.tokenizer.position,t=await this.tokenizer.readToken(s.ChunkHeader);if("DSD "!==t.id)throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const n=await this.tokenizer.readToken(s.DsdChunk);if(n.metadataPointer!==BigInt(0))return o(`expect ID3v2 at offset=${n.metadataPointer}`),await this.parseChunks(n.fileSize-t.size),await this.tokenizer.ignore(Number(n.metadataPointer)-this.tokenizer.position-e),(new i.ID3v2Parser).parse(this.metadata,this.tokenizer,this.options);o("No ID3v2 tag present")}async parseChunks(e){for(;e>=s.ChunkHeader.len;){const t=await this.tokenizer.readToken(s.ChunkHeader);if(o(`Parsing chunk name=${t.id} size=${t.size}`),"fmt "===t.id){const e=await this.tokenizer.readToken(s.FormatChunk);this.metadata.setFormat("numberOfChannels",e.channelNum),this.metadata.setFormat("sampleRate",e.samplingFrequency),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("numberOfSamples",e.sampleCount),this.metadata.setFormat("duration",Number(e.sampleCount)/e.samplingFrequency);const t=e.bitsPerSample*e.samplingFrequency*e.channelNum;return void this.metadata.setFormat("bitrate",t)}this.tokenizer.ignore(Number(t.size)-s.ChunkHeader.len),e-=t.size}}}t.DsfParser=l},498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlacParser=void 0;const a=n(3416),r=n(1227),s=n(3769),i=n(2127),o=n(5159),l=n(8049),m=n(4210),c=n(441),u=(0,r.default)("music-metadata:parser:FLAC");var _;!function(e){e[e.STREAMINFO=0]="STREAMINFO",e[e.PADDING=1]="PADDING",e[e.APPLICATION=2]="APPLICATION",e[e.SEEKTABLE=3]="SEEKTABLE",e[e.VORBIS_COMMENT=4]="VORBIS_COMMENT",e[e.CUESHEET=5]="CUESHEET",e[e.PICTURE=6]="PICTURE"}(_||(_={}));class p extends o.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(e,t,n){return super.init(e,t,n),this.vorbisParser=new m.VorbisParser(e,n),this}async postId3v2Parse(){if("fLaC"!==(await this.tokenizer.readToken(l.FourCcToken)).toString())throw new Error("Invalid FLAC preamble");let e;do{e=await this.tokenizer.readToken(v.BlockHeader),await this.parseDataBlock(e)}while(!e.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const e=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*e/this.metadata.format.duration)}}parseDataBlock(e){switch(u(`blockHeader type=${e.type}, length=${e.length}`),e.type){case _.STREAMINFO:return this.parseBlockStreamInfo(e.length);case _.PADDING:this.padding+=e.length;break;case _.APPLICATION:case _.SEEKTABLE:break;case _.VORBIS_COMMENT:return this.parseComment(e.length);case _.CUESHEET:break;case _.PICTURE:return this.parsePicture(e.length).then();default:this.metadata.addWarning("Unknown block type: "+e.type)}return this.tokenizer.ignore(e.length).then()}async parseBlockStreamInfo(e){if(e!==v.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const t=await this.tokenizer.readToken(v.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",t.channels),this.metadata.setFormat("bitsPerSample",t.bitsPerSample),this.metadata.setFormat("sampleRate",t.sampleRate),t.totalSamples>0&&this.metadata.setFormat("duration",t.totalSamples/t.sampleRate)}async parseComment(e){const t=await this.tokenizer.readToken(new a.Uint8ArrayType(e)),n=new c.VorbisDecoder(t,0);n.readStringUtf8();const r=n.readInt32();for(let e=0;e<r;e++){const e=n.parseUserComment();this.vorbisParser.addTag(e.key,e.value)}}async parsePicture(e){if(this.options.skipCovers)return this.tokenizer.ignore(e);{const t=await this.tokenizer.readToken(new i.VorbisPictureToken(e));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",t)}}}t.FlacParser=p;class v{}v.BlockHeader={len:4,get:(e,t)=>({lastBlock:s.getBit(e,t,7),type:s.getBitAllignedNumber(e,t,1,7),length:a.UINT24_BE.get(e,t+1)})},v.BlockStreamInfo={len:34,get:(e,t)=>({minimumBlockSize:a.UINT16_BE.get(e,t),maximumBlockSize:a.UINT16_BE.get(e,t+2)/1e3,minimumFrameSize:a.UINT24_BE.get(e,t+4),maximumFrameSize:a.UINT24_BE.get(e,t+7),sampleRate:a.UINT24_BE.get(e,t+10)>>4,channels:s.getBitAllignedNumber(e,t+12,4,3)+1,bitsPerSample:s.getBitAllignedNumber(e,t+12,7,5)+1,totalSamples:s.getBitAllignedNumber(e,t+13,4,36),fileMD5:new a.Uint8ArrayType(16).get(e,t+18)})}},2282:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.hasID3v1Header=t.ID3v1Parser=t.Genres=void 0;const r=n(1227),s=n(3416),i=n(3769),o=n(7805),l=n(6742),m=(0,r.default)("music-metadata:parser:ID3v1");t.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const c={len:128,get:(e,t)=>{const n=new u(3).get(e,t);return"TAG"===n?{header:n,title:new u(30).get(e,t+3),artist:new u(30).get(e,t+33),album:new u(30).get(e,t+63),year:new u(4).get(e,t+93),comment:new u(28).get(e,t+97),zeroByte:s.UINT8.get(e,t+127),track:s.UINT8.get(e,t+126),genre:s.UINT8.get(e,t+127)}:null}};class u extends s.StringType{constructor(e){super(e,"binary")}get(e,t){let n=super.get(e,t);return n=i.trimRightNull(n),n=n.trim(),n.length>0?n:void 0}}class _ extends o.BasicParser{static getGenre(e){if(e<t.Genres.length)return t.Genres[e]}async parse(){if(!this.tokenizer.fileInfo.size)return void m("Skip checking for ID3v1 because the file-size is unknown");if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const e=new l.APEv2Parser;e.init(this.metadata,this.tokenizer,this.options),await e.parseTags(this.options.apeHeader.footer)}const e=this.tokenizer.fileInfo.size-c.len;if(this.tokenizer.position>e)return void m("Already consumed the last 128 bytes");const t=await this.tokenizer.readToken(c,e);if(t){m("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-c.len);for(const e of["title","artist","album","comment","track","year"])t[e]&&""!==t[e]&&this.addTag(e,t[e]);const e=_.getGenre(t.genre);e&&this.addTag("genre",e)}else m("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-c.len)}addTag(e,t){this.metadata.addTag("ID3v1",e,t)}}t.ID3v1Parser=_,t.hasID3v1Header=async function(e){if(e.fileSize>=128){const t=a.alloc(3);return await e.randomRead(t,0,t.length,e.fileSize-128),"TAG"===t.toString("binary")}return!1}},2939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v1TagMapper=void 0;const a=n(9918),r={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class s extends a.CommonTagMapper{constructor(){super(["ID3v1"],r)}}t.ID3v1TagMapper=s},5159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractID3Parser=void 0;const a=n(5849),r=n(1227),s=n(8281),i=n(8928),o=n(2282),l=n(7805),m=(0,r.default)("music-metadata:parser:ID3");class c extends l.BasicParser{constructor(){super(...arguments),this.id3parser=new i.ID3v2Parser}static async startsWithID3v2Header(e){return"ID3"===(await e.peekToken(s.ID3v2Header)).fileIdentifier}async parse(){try{await this.parseID3v2()}catch(e){if(!(e instanceof a.EndOfStreamError))throw e;m("End-of-stream")}}finalize(){}async parseID3v2(){if(await this.tryReadId3v2Headers(),m("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny())this.finalize();else{const e=new o.ID3v1Parser;await e.init(this.metadata,this.tokenizer,this.options).parse(),this.finalize()}}async tryReadId3v2Headers(){if("ID3"===(await this.tokenizer.peekToken(s.ID3v2Header)).fileIdentifier)return m("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}t.AbstractID3Parser=c},907:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.FrameParser=t.parseGenre=void 0;const r=n(1227),s=n(3416),i=n(3769),o=n(8281),l=n(2282),m=(0,r.default)("music-metadata:id3v2:frame-parser"),c="latin1";function u(e){const t=[];let n,a="";for(const r of e)if("string"==typeof n)if("("===r&&""===n)a+="(",n=void 0;else if(")"===r){""!==a&&(t.push(a),a="");const e=_(n);e&&t.push(e),n=void 0}else n+=r;else"("===r?n="":a+=r;return a&&(0===t.length&&a.match(/^\d*$/)&&(a=l.Genres[a]),t.push(a)),t}function _(e){return"RX"===e?"Remix":"CR"===e?"Cover":e.match(/^\d*$/)?l.Genres[e]:void 0}t.parseGenre=u;class p{constructor(e,t){this.major=e,this.warningCollector=t}readData(e,t,n){if(0===e.length)return void this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${t}`);const{encoding:r,bom:l}=o.TextEncodingToken.get(e,0),_=e.length;let v=0,d=[];const b=p.getNullTerminatorLength(r);let h;const f={};switch(m(`Parsing tag type=${t}, encoding=${r}, bom=${l}`),"TXXX"!==t&&"T"===t[0]?"T*":t){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let l;try{l=i.decodeString(e.slice(1),r).replace(/\x00+$/,"")}catch(e){this.warningCollector.addWarning(`id3v2.${this.major} type=${t} header has invalid string value: ${e.message}`)}switch(t){case"TMCL":case"TIPL":case"IPLS":d=this.splitValue(t,l),d=p.functionList(d);break;case"TRK":case"TRCK":case"TPOS":d=l;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":d=this.splitValue(t,l);break;case"TCO":case"TCON":d=this.splitValue(t,l).map((e=>u(e))).reduce(((e,t)=>e.concat(t)),[]);break;case"PCS":case"PCST":d=this.major>=4?this.splitValue(t,l):[l],d=Array.isArray(d)&&""===d[0]?1:0;break;default:d=this.major>=4?this.splitValue(t,l):[l]}break;case"TXXX":d=p.readIdentifierAndData(e,v+1,_,r),d={description:d.id,text:this.splitValue(t,i.decodeString(d.data,r).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(n){const t={};switch(v+=1,this.major){case 2:t.format=i.decodeString(e.slice(v,v+3),"latin1"),v+=3;break;case 3:case 4:h=i.findZero(e,v,_,c),t.format=i.decodeString(e.slice(v,h),c),v=h+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}t.format=p.fixPictureMimeType(t.format),t.type=o.AttachedPictureType[e[v]],v+=1,h=i.findZero(e,v,_,r),t.description=i.decodeString(e.slice(v,h),r),v=h+b,t.data=a.from(e.slice(v,_)),d=t}break;case"CNT":case"PCNT":d=s.UINT32_BE.get(e,0);break;case"SYLT":for(v+=7,d=[];v<_;){const t=e.slice(v,v=i.findZero(e,v,_,r));v+=5,d.push(i.decodeString(t,r))}break;case"ULT":case"USLT":case"COM":case"COMM":v+=1,f.language=i.decodeString(e.slice(v,v+3),c),v+=3,h=i.findZero(e,v,_,r),f.description=i.decodeString(e.slice(v,h),r),v=h+b,f.text=i.decodeString(e.slice(v,_),r).replace(/\x00+$/,""),d=[f];break;case"UFID":d=p.readIdentifierAndData(e,v,_,c),d={owner_identifier:d.id,identifier:d.data};break;case"PRIV":d=p.readIdentifierAndData(e,v,_,c),d={owner_identifier:d.id,data:d.data};break;case"POPM":h=i.findZero(e,v,_,c);const g=i.decodeString(e.slice(v,h),c);v=h+1;const x=_-v;d={email:g,rating:s.UINT8.get(e,v),counter:x>=5?s.UINT32_BE.get(e,v+1):void 0};break;case"GEOB":{h=i.findZero(e,v+1,_,r);const t=i.decodeString(e.slice(v+1,h),c);v=h+1,h=i.findZero(e,v,_-v,r);const n=i.decodeString(e.slice(v,h),c);v=h+1,h=i.findZero(e,v,_-v,r),d={type:t,filename:n,description:i.decodeString(e.slice(v,h),c),data:e.slice(v+1,_)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":d=i.decodeString(e.slice(v,h),c);break;case"WXXX":{h=i.findZero(e,v+1,_,r);const t=i.decodeString(e.slice(v+1,h),r);v=h+("utf16le"===r?2:1),d={description:t,url:i.decodeString(e.slice(v,_),c)};break}case"WFD":case"WFED":d=i.decodeString(e.slice(v+1,i.findZero(e,v+1,_,r)),r);break;case"MCDI":d=e.slice(0,_);break;default:m("Warning: unsupported id3v2-tag-type: "+t)}return d}static fixPictureMimeType(e){switch(e=e.toLocaleLowerCase()){case"jpg":return"image/jpeg";case"png":return"image/png"}return e}static functionList(e){const t={};for(let n=0;n+1<e.length;n+=2){const a=e[n+1].split(",");t[e[n]]=t.hasOwnProperty(e[n])?t[e[n]].concat(a):a}return t}splitValue(e,t){let n;return this.major<4?(n=t.split(/\x00/g),n.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${e} uses non standard null-separator.`):n=t.split(/\//g)):n=t.split(/\x00/g),p.trimArray(n)}static trimArray(e){return e.map((e=>e.replace(/\x00+$/,"").trim()))}static readIdentifierAndData(e,t,n,a){const r=i.findZero(e,t,n,a),s=i.decodeString(e.slice(t,r),a);return t=r+p.getNullTerminatorLength(a),{id:s,data:e.slice(t,n)}}static getNullTerminatorLength(e){return"utf16le"===e?2:1}}t.FrameParser=p},7183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v22TagMapper=t.id3v22TagMap=void 0;const a=n(4132);t.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class r extends a.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],t.id3v22TagMap)}}t.ID3v22TagMapper=r},4005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v24TagMapper=void 0;const a=n(9918),r=n(4132),s=n(3769),i={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};class o extends r.CaseInsensitiveTagMap{static toRating(e){return{source:e.email,rating:e.rating>0?(e.rating-1)/254*a.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],i)}postMap(e,t){switch(e.id){case"UFID":"http://musicbrainz.org"===e.value.owner_identifier&&(e.id+=":"+e.value.owner_identifier,e.value=s.decodeString(e.value.identifier,"latin1"));break;case"PRIV":switch(e.value.owner_identifier){case"AverageLevel":case"PeakValue":e.id+=":"+e.value.owner_identifier,e.value=4===e.value.data.length?e.value.data.readUInt32LE(0):null,null===e.value&&t.addWarning("Failed to parse PRIV:PeakValue");break;default:t.addWarning(`Unknown PRIV owner-identifier: ${e.value.owner_identifier}`)}break;case"COMM":e.value=e.value?e.value.text:null;break;case"POPM":e.value=o.toRating(e.value)}}}t.ID3v24TagMapper=o},8928:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v2Parser=void 0;const r=n(3416),s=n(3769),i=n(907),o=n(8281);class l{static removeUnsyncBytes(e){let t=0,n=0;for(;t<e.length-1;)t!==n&&(e[n]=e[t]),t+=255===e[t]&&0===e[t+1]?2:1,n++;return t<e.length&&(e[n++]=e[t]),e.slice(0,n)}static getFrameHeaderLength(e){switch(e){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(e){return{status:{tag_alter_preservation:s.getBit(e,0,6),file_alter_preservation:s.getBit(e,0,5),read_only:s.getBit(e,0,4)},format:{grouping_identity:s.getBit(e,1,7),compression:s.getBit(e,1,3),encryption:s.getBit(e,1,2),unsynchronisation:s.getBit(e,1,1),data_length_indicator:s.getBit(e,1,0)}}}static readFrameData(e,t,n,a,r){const s=new i.FrameParser(n,r);switch(n){case 2:return s.readData(e,t.id,a);case 3:case 4:return t.flags.format.unsynchronisation&&(e=l.removeUnsyncBytes(e)),t.flags.format.data_length_indicator&&(e=e.slice(4,e.length)),s.readData(e,t.id,a);default:throw new Error("Unexpected majorVer: "+n)}}static makeDescriptionTagName(e,t){return e+(t?":"+t:"")}async parse(e,t,n){this.tokenizer=t,this.metadata=e,this.options=n;const a=await this.tokenizer.readToken(o.ID3v2Header);if("ID3"!==a.fileIdentifier)throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=a,this.headerType="ID3v2."+a.version.major,a.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(a.size)}async parseExtendedHeader(){const e=await this.tokenizer.readToken(o.ExtendedHeader),t=e.size-o.ExtendedHeader.len;return t>0?this.parseExtendedHeaderData(t,e.size):this.parseId3Data(this.id3Header.size-e.size)}async parseExtendedHeaderData(e,t){return await this.tokenizer.ignore(e),this.parseId3Data(this.id3Header.size-t)}async parseId3Data(e){const t=await this.tokenizer.readToken(new r.Uint8ArrayType(e));for(const e of this.parseMetadata(t))if("TXXX"===e.id){if(e.value)for(const t of e.value.text)this.addTag(l.makeDescriptionTagName(e.id,e.value.description),t)}else if("COM"===e.id)for(const t of e.value)this.addTag(l.makeDescriptionTagName(e.id,t.description),t.text);else if("COMM"===e.id)for(const t of e.value)this.addTag(l.makeDescriptionTagName(e.id,t.description),t);else if(Array.isArray(e.value))for(const t of e.value)this.addTag(e.id,t);else this.addTag(e.id,e.value)}addTag(e,t){this.metadata.addTag(this.headerType,e,t)}parseMetadata(e){let t=0;const n=[];for(;t!==e.length;){const a=l.getFrameHeaderLength(this.id3Header.version.major);if(t+a>e.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const r=e.slice(t,t+=a),s=this.readFrameHeader(r,this.id3Header.version.major),i=e.slice(t,t+=s.length),o=l.readFrameData(i,s,this.id3Header.version.major,!this.options.skipCovers,this.metadata);o&&n.push({id:s.id,value:o})}return n}readFrameHeader(e,t){let n;switch(t){case 2:n={id:a.from(e.slice(0,3)).toString("ascii"),length:r.UINT24_BE.get(e,3)},n.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${n.id}`);break;case 3:case 4:n={id:a.from(e.slice(0,4)).toString("ascii"),length:(4===t?o.UINT32SYNCSAFE:r.UINT32_BE).get(e,4),flags:l.readFrameFlags(e.slice(8,10))},n.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${n.id}`);break;default:throw new Error("Unexpected majorVer: "+t)}return n}}t.ID3v2Parser=l},8281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEncodingToken=t.ExtendedHeader=t.ID3v2Header=t.UINT32SYNCSAFE=t.AttachedPictureType=void 0;const a=n(3416),r=n(3769);var s;(s=t.AttachedPictureType||(t.AttachedPictureType={}))[s.Other=0]="Other",s[s["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",s[s["Other file icon"]=2]="Other file icon",s[s["Cover (front)"]=3]="Cover (front)",s[s["Cover (back)"]=4]="Cover (back)",s[s["Leaflet page"]=5]="Leaflet page",s[s["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",s[s["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",s[s["Artist/performer"]=8]="Artist/performer",s[s.Conductor=9]="Conductor",s[s["Band/Orchestra"]=10]="Band/Orchestra",s[s.Composer=11]="Composer",s[s["Lyricist/text writer"]=12]="Lyricist/text writer",s[s["Recording Location"]=13]="Recording Location",s[s["During recording"]=14]="During recording",s[s["During performance"]=15]="During performance",s[s["Movie/video screen capture"]=16]="Movie/video screen capture",s[s["A bright coloured fish"]=17]="A bright coloured fish",s[s.Illustration=18]="Illustration",s[s["Band/artist logotype"]=19]="Band/artist logotype",s[s["Publisher/Studio logotype"]=20]="Publisher/Studio logotype",t.UINT32SYNCSAFE={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},t.ID3v2Header={len:10,get:(e,n)=>({fileIdentifier:new a.StringType(3,"ascii").get(e,n),version:{major:a.INT8.get(e,n+3),revision:a.INT8.get(e,n+4)},flags:{unsynchronisation:r.getBit(e,n+5,7),isExtendedHeader:r.getBit(e,n+5,6),expIndicator:r.getBit(e,n+5,5),footer:r.getBit(e,n+5,4)},size:t.UINT32SYNCSAFE.get(e,n+6)})},t.ExtendedHeader={len:10,get:(e,t)=>({size:a.UINT32_BE.get(e,t),extendedFlags:a.UINT16_BE.get(e,t+4),sizeOfPadding:a.UINT32_BE.get(e,t+6),crcDataPresent:r.getBit(e,t+4,31)})},t.TextEncodingToken={len:1,get:(e,t)=>{switch(e[t]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};default:return{encoding:"utf8",bom:!1}}}}},4633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const a=n(3416),r=n(8049);t.Header={len:8,get:(e,t)=>({chunkID:r.FourCcToken.get(e,t),chunkSize:Number(BigInt(a.UINT32_BE.get(e,t+4)))})}},9941:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getLyricsHeaderLength=t.endTag2=void 0,t.endTag2="LYRICS200",t.getLyricsHeaderLength=async function(e){if(e.fileSize>=143){const n=a.alloc(15);await e.randomRead(n,0,n.length,e.fileSize-143);const r=n.toString("binary");if(r.substr(6)===t.endTag2)return parseInt(r.substr(0,6),10)+15}return 0}},3121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elements=void 0;const a=n(8591);t.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:a.DataType.uint},17143:{name:"ebmlReadVersion",value:a.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:a.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:a.DataType.uint},17026:{name:"docType",value:a.DataType.string},17031:{name:"docTypeVersion",value:a.DataType.uint},17029:{name:"docTypeReadVersion",value:a.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:a.DataType.binary},21420:{name:"seekPosition",value:a.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:a.DataType.uid},29572:{name:"filename",value:a.DataType.string},3979555:{name:"prevUID",value:a.DataType.uid},3965867:{name:"prevFilename",value:a.DataType.string},4110627:{name:"nextUID",value:a.DataType.uid},4096955:{name:"nextFilename",value:a.DataType.string},2807729:{name:"timecodeScale",value:a.DataType.uint},17545:{name:"duration",value:a.DataType.float},17505:{name:"dateUTC",value:a.DataType.uint},31657:{name:"title",value:a.DataType.string},19840:{name:"muxingApp",value:a.DataType.string},22337:{name:"writingApp",value:a.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:a.DataType.uid},163:{name:"unknown",value:a.DataType.binary},167:{name:"position",value:a.DataType.uid},171:{name:"prevSize",value:a.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:a.DataType.uint},29637:{name:"uid",value:a.DataType.uid},131:{name:"trackType",value:a.DataType.uint},185:{name:"flagEnabled",value:a.DataType.bool},136:{name:"flagDefault",value:a.DataType.bool},21930:{name:"flagForced",value:a.DataType.bool},156:{name:"flagLacing",value:a.DataType.bool},28135:{name:"minCache",value:a.DataType.uint},28136:{name:"maxCache",value:a.DataType.uint},2352003:{name:"defaultDuration",value:a.DataType.uint},2306383:{name:"timecodeScale",value:a.DataType.float},21358:{name:"name",value:a.DataType.string},2274716:{name:"language",value:a.DataType.string},134:{name:"codecID",value:a.DataType.string},25506:{name:"codecPrivate",value:a.DataType.binary},2459272:{name:"codecName",value:a.DataType.string},3839639:{name:"codecSettings",value:a.DataType.string},3883072:{name:"codecInfoUrl",value:a.DataType.string},2536e3:{name:"codecDownloadUrl",value:a.DataType.string},170:{name:"codecDecodeAll",value:a.DataType.bool},28587:{name:"trackOverlay",value:a.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:a.DataType.bool},21432:{name:"stereoMode",value:a.DataType.uint},176:{name:"pixelWidth",value:a.DataType.uint},186:{name:"pixelHeight",value:a.DataType.uint},21680:{name:"displayWidth",value:a.DataType.uint},21690:{name:"displayHeight",value:a.DataType.uint},21683:{name:"aspectRatioType",value:a.DataType.uint},3061028:{name:"colourSpace",value:a.DataType.uint},3126563:{name:"gammaValue",value:a.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:a.DataType.float},30901:{name:"outputSamplingFrequency",value:a.DataType.float},159:{name:"channels",value:a.DataType.uint},148:{name:"channels",value:a.DataType.uint},32123:{name:"channelPositions",value:a.DataType.binary},25188:{name:"bitDepth",value:a.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:a.DataType.uint},20530:{name:"scope",value:a.DataType.bool},20531:{name:"type",value:a.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:a.DataType.uint},16981:{name:"contentCompSettings",value:a.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:a.DataType.uint},18402:{name:"contentEncKeyID",value:a.DataType.binary},18403:{name:"contentSignature ",value:a.DataType.binary},18404:{name:"ContentSigKeyID  ",value:a.DataType.binary},18405:{name:"contentSigAlgo ",value:a.DataType.uint},18406:{name:"contentSigHashAlgo ",value:a.DataType.uint}}},25188:{name:"bitDepth",value:a.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:a.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:a.DataType.uint},241:{name:"clusterPosition",value:a.DataType.uint},21368:{name:"blockNumber",value:a.DataType.uint},234:{name:"codecState",value:a.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:a.DataType.uint},151:{name:"cluster",value:a.DataType.uint},21343:{name:"number",value:a.DataType.uint},235:{name:"codecState",value:a.DataType.uint}}},240:{name:"relativePosition",value:a.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:a.DataType.string},18030:{name:"name",value:a.DataType.string},18016:{name:"mimeType",value:a.DataType.string},18012:{name:"data",value:a.DataType.binary},18094:{name:"uid",value:a.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:a.DataType.uid},145:{name:"timeStart",value:a.DataType.uint},146:{name:"timeEnd",value:a.DataType.uid},152:{name:"hidden",value:a.DataType.bool},17816:{name:"enabled",value:a.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:a.DataType.uid},128:{name:"display",container:{133:{name:"string",value:a.DataType.string},17276:{name:"language ",value:a.DataType.string},17278:{name:"country ",value:a.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:a.DataType.uid},25540:{name:"tagChapterUID",value:a.DataType.uint},25542:{name:"tagAttachmentUID",value:a.DataType.uid},25546:{name:"targetType",value:a.DataType.string},26826:{name:"targetTypeValue",value:a.DataType.uint},25545:{name:"tagEditionUID",value:a.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:a.DataType.string},17543:{name:"string",value:a.DataType.string},17541:{name:"binary",value:a.DataType.binary},17530:{name:"language",value:a.DataType.string},17531:{name:"languageIETF",value:a.DataType.string},17540:{name:"default",value:a.DataType.bool}}}}}}}}}}},78:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaParser=void 0;const r=n(3416),s=n(1227),i=n(7805),o=n(8591),l=n(3121),m=(0,s.default)("music-metadata:parser:matroska");class c extends i.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(o.DataType.uint,(e=>this.readUint(e))),this.parserMap.set(o.DataType.string,(e=>this.readString(e))),this.parserMap.set(o.DataType.binary,(e=>this.readBuffer(e))),this.parserMap.set(o.DataType.uid,(async e=>1===await this.readUint(e))),this.parserMap.set(o.DataType.bool,(e=>this.readFlag(e))),this.parserMap.set(o.DataType.float,(e=>this.readFloat(e)))}init(e,t,n){return super.init(e,t,n),this}async parse(){const e=await this.parseContainer(l.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${e.ebml.docType}`),e.segment){const t=e.segment.info;if(t){const e=t.timecodeScale?t.timecodeScale:1e6,n=t.duration*e/1e9;this.addTag("segment:title",t.title),this.metadata.setFormat("duration",n)}const n=e.segment.tracks;if(n&&n.entries){n.entries.forEach((e=>{const t={codecName:e.codecID.replace("A_","").replace("V_",""),codecSettings:e.codecSettings,flagDefault:e.flagDefault,flagLacing:e.flagLacing,flagEnabled:e.flagEnabled,language:e.language,name:e.name,type:e.trackType,audio:e.audio,video:e.video};this.metadata.addStreamInfo(t)}));const t=n.entries.filter((e=>e.trackType===o.TrackType.audio.valueOf())).reduce(((e,t)=>e?!e.flagDefault&&t.flagDefault||t.trackNumber&&t.trackNumber<e.trackNumber?t:e:t),null);t&&(this.metadata.setFormat("codec",t.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",t.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",t.audio.channels)),e.segment.tags&&e.segment.tags.tag.forEach((e=>{const t=e.target,n=(null==t?void 0:t.targetTypeValue)?o.TargetType[t.targetTypeValue]:(null==t?void 0:t.targetType)?t.targetType:"track";e.simpleTags.forEach((e=>{const t=e.string?e.string:e.binary;this.addTag(`${n}:${e.name}`,t)}))})),e.segment.attachments&&e.segment.attachments.attachedFiles.filter((e=>e.mimeType.startsWith("image/"))).map((e=>({data:e.data,format:e.mimeType,description:e.description,name:e.name}))).forEach((e=>{this.addTag("picture",e)}))}}}async parseContainer(e,t,n){const a={};for(;this.tokenizer.position<t;){let t;try{t=await this.readElement()}catch(e){if("End-Of-Stream"===e.message)break;throw e}const r=e[t.id];if(r)if(m(`Element: name=${r.name}, container=${!!r.container}`),r.container){const e=await this.parseContainer(r.container,t.len>=0?this.tokenizer.position+t.len:-1,n.concat([r.name]));r.multiple?(a[r.name]||(a[r.name]=[]),a[r.name].push(e)):a[r.name]=e}else a[r.name]=await this.parserMap.get(r.value)(t);else 236===t.id?(this.padding+=t.len,await this.tokenizer.ignore(t.len)):(m(`parseEbml: path=${n.join("/")}, unknown element: id=${t.id.toString(16)}`),this.padding+=t.len,await this.tokenizer.ignore(t.len))}return a}async readVintData(e){const t=await this.tokenizer.peekNumber(r.UINT8);let n=128,s=1;for(;0==(t&n);){if(s>e)throw new Error("VINT value exceeding maximum size");++s,n>>=1}const i=a.alloc(s);return await this.tokenizer.readBuffer(i),i}async readElement(){const e=await this.readVintData(this.ebmlMaxIDLength),t=await this.readVintData(this.ebmlMaxSizeLength);t[0]^=128>>t.length-1;const n=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-n,n)}}isMaxValue(e){if(e.length===this.ebmlMaxSizeLength){for(let t=1;t<this.ebmlMaxSizeLength;++t)if(255!==e[t])return!1;return!0}return!1}async readFloat(e){switch(e.len){case 0:return 0;case 4:return this.tokenizer.readNumber(r.Float32_BE);case 8:case 10:return this.tokenizer.readNumber(r.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${e.len}`)}}async readFlag(e){return 1===await this.readUint(e)}async readUint(e){const t=await this.readBuffer(e),n=Math.min(6,e.len);return t.readUIntBE(e.len-n,n)}async readString(e){return(await this.tokenizer.readToken(new r.StringType(e.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(e){const t=a.alloc(e.len);return await this.tokenizer.readBuffer(t),t}addTag(e,t){this.metadata.addTag("matroska",e,t)}}t.MatroskaParser=c},5481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaTagMapper=void 0;const a=n(4132),r={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class s extends a.CaseInsensitiveTagMap{constructor(){super(["matroska"],r)}}t.MatroskaTagMapper=s},8591:(e,t)=>{"use strict";var n,a,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=t.TargetType=t.DataType=void 0,(r=t.DataType||(t.DataType={}))[r.string=0]="string",r[r.uint=1]="uint",r[r.uid=2]="uid",r[r.bool=3]="bool",r[r.binary=4]="binary",r[r.float=5]="float",(a=t.TargetType||(t.TargetType={}))[a.shot=10]="shot",a[a.scene=20]="scene",a[a.track=30]="track",a[a.part=40]="part",a[a.album=50]="album",a[a.edition=60]="edition",a[a.collection=70]="collection",(n=t.TrackType||(t.TrackType={}))[n.video=1]="video",n[n.audio=2]="audio",n[n.complex=3]="complex",n[n.logo=4]="logo",n[n.subtitle=17]="subtitle",n[n.button=18]="button",n[n.control=32]="control"},9134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Atom=void 0;const a=n(1227),r=n(1060),s=(0,a.default)("music-metadata:parser:MP4:Atom");class i{constructor(e,t,n){this.header=e,this.extended=t,this.parent=n,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}static async readAtom(e,t,n,a){const o=e.position,l=await e.readToken(r.Header);l.length===BigInt(1)&&(l.length=await e.readToken(r.ExtendedSize));const m=new i(l,l.length===BigInt(1),n),c=m.getPayloadLength(a);return s(`parse atom name=${m.atomPath}, extended=${m.extended}, offset=${o}, len=${m.header.length}`),await m.readData(e,t,c),m}getHeaderLength(){return this.extended?16:8}getPayloadLength(e){return(this.header.length===BigInt(0)?e:Number(this.header.length))-this.getHeaderLength()}async readAtoms(e,t,n){for(;n>0;){const a=await i.readAtom(e,t,this,n);this.children.push(a),n-=a.header.length===BigInt(0)?n:Number(a.header.length)}}async readData(e,t,n){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(e,t,this.getPayloadLength(n));case"meta":return await e.ignore(4),this.readAtoms(e,t,this.getPayloadLength(n)-4);default:return t(this,n)}}}t.Atom=i},1060:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterText=t.StcoAtom=t.StszAtom=t.StscAtom=t.SampleToChunkToken=t.SttsAtom=t.TimeToSampleToken=t.SoundSampleDescriptionV0=t.SoundSampleDescriptionVersion=t.StsdAtom=t.TrackHeaderAtom=t.NameAtom=t.DataAtom=t.MvhdAtom=t.MdhdAtom=t.FixedLengthAtom=t.mhdr=t.tkhd=t.ftyp=t.ExtendedSize=t.Header=void 0;const r=n(3416),s=n(1227),i=n(8049),o=(0,s.default)("music-metadata:parser:MP4:atom");t.Header={len:8,get:(e,t)=>{const n=r.UINT32_BE.get(e,t);if(n<0)throw new Error("Invalid atom header length");return{length:BigInt(n),name:new r.StringType(4,"binary").get(e,t+4)}},put:(e,t,n)=>(r.UINT32_BE.put(e,t,Number(n.length)),i.FourCcToken.put(e,t+4,n.name))},t.ExtendedSize=r.UINT64_BE,t.ftyp={len:4,get:(e,t)=>({type:new r.StringType(4,"ascii").get(e,t)})},t.tkhd={len:4,get:(e,t)=>({type:new r.StringType(4,"ascii").get(e,t)})},t.mhdr={len:8,get:(e,t)=>({version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),nextItemID:r.UINT32_BE.get(e,t+4)})};class l{constructor(e,t,n){if(this.len=e,e<t)throw new Error(`Atom ${n} expected to be ${t}, but specifies ${e} bytes long.`);e>t&&o(`Warning: atom ${n} expected to be ${t}, but was actually ${e} bytes long.`)}}t.FixedLengthAtom=l;const m=(e,t)=>{const n=r.UINT32_BE.get(e,t)-2082844800;return new Date(1e3*n)};t.MdhdAtom=class extends l{constructor(e){super(e,24,"mdhd"),this.len=e}get(e,t){return{version:r.UINT8.get(e,t+0),flags:r.UINT24_BE.get(e,t+1),creationTime:m(e,t+4),modificationTime:m(e,t+8),timeScale:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+16),language:r.UINT16_BE.get(e,t+20),quality:r.UINT16_BE.get(e,t+22)}}},t.MvhdAtom=class extends l{constructor(e){super(e,100,"mvhd"),this.len=e}get(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),creationTime:m(e,t+4),modificationTime:m(e,t+8),timeScale:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+16),preferredRate:r.UINT32_BE.get(e,t+20),preferredVolume:r.UINT16_BE.get(e,t+24),previewTime:r.UINT32_BE.get(e,t+72),previewDuration:r.UINT32_BE.get(e,t+76),posterTime:r.UINT32_BE.get(e,t+80),selectionTime:r.UINT32_BE.get(e,t+84),selectionDuration:r.UINT32_BE.get(e,t+88),currentTime:r.UINT32_BE.get(e,t+92),nextTrackID:r.UINT32_BE.get(e,t+96)}}},t.DataAtom=class{constructor(e){this.len=e}get(e,t){return{type:{set:r.UINT8.get(e,t+0),type:r.UINT24_BE.get(e,t+1)},locale:r.UINT24_BE.get(e,t+4),value:a.from(new r.Uint8ArrayType(this.len-8).get(e,t+8))}}},t.NameAtom=class{constructor(e){this.len=e}get(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),name:new r.StringType(this.len-4,"utf-8").get(e,t+4)}}},t.TrackHeaderAtom=class{constructor(e){this.len=e}get(e,t){return{version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),creationTime:m(e,t+4),modificationTime:m(e,t+8),trackId:r.UINT32_BE.get(e,t+12),duration:r.UINT32_BE.get(e,t+20),layer:r.UINT16_BE.get(e,t+24),alternateGroup:r.UINT16_BE.get(e,t+26),volume:r.UINT16_BE.get(e,t+28)}}};class c{constructor(e){this.len=e}get(e,t){return{dataFormat:i.FourCcToken.get(e,t),dataReferenceIndex:r.UINT16_BE.get(e,t+10),description:new r.Uint8ArrayType(this.len-12).get(e,t+12)}}}t.StsdAtom=class{constructor(e){this.len=e}get(e,t){const n=((e,t)=>({version:r.UINT8.get(e,t),flags:r.UINT24_BE.get(e,t+1),numberOfEntries:r.UINT32_BE.get(e,t+4)}))(e,t);t+=8;const a=[];for(let s=0;s<n.numberOfEntries;++s){const n=r.UINT32_BE.get(e,t);t+=r.UINT32_BE.len,a.push(new c(n).get(e,t)),t+=n}return{header:n,table:a}}},t.SoundSampleDescriptionVersion={len:8,get:(e,t)=>({version:r.INT16_BE.get(e,t),revision:r.INT16_BE.get(e,t+2),vendor:r.INT32_BE.get(e,t+4)})},t.SoundSampleDescriptionV0={len:12,get:(e,t)=>({numAudioChannels:r.INT16_BE.get(e,t+0),sampleSize:r.INT16_BE.get(e,t+2),compressionId:r.INT16_BE.get(e,t+4),packetSize:r.INT16_BE.get(e,t+6),sampleRate:r.UINT16_BE.get(e,t+8)+r.UINT16_BE.get(e,t+10)/1e4})};class u{constructor(e,t){this.len=e,this.token=t}get(e,t){const n=r.INT32_BE.get(e,t+4);return{version:r.INT8.get(e,t+0),flags:r.INT24_BE.get(e,t+1),numberOfEntries:n,entries:_(e,this.token,t+8,this.len-8,n)}}}function _(e,t,n,a,r){if(o(`remainingLen=${a}, numberOfEntries=${r} * token-len=${t.len}`),0===a)return[];if(a!==r*t.len)throw new Error("mismatch number-of-entries with remaining atom-length");const s=[];for(let a=0;a<r;++a)s.push(t.get(e,n)),n+=t.len;return s}t.TimeToSampleToken={len:8,get:(e,t)=>({count:r.INT32_BE.get(e,t+0),duration:r.INT32_BE.get(e,t+4)})},t.SttsAtom=class extends u{constructor(e){super(e,t.TimeToSampleToken),this.len=e}},t.SampleToChunkToken={len:12,get:(e,t)=>({firstChunk:r.INT32_BE.get(e,t),samplesPerChunk:r.INT32_BE.get(e,t+4),sampleDescriptionId:r.INT32_BE.get(e,t+8)})},t.StscAtom=class extends u{constructor(e){super(e,t.SampleToChunkToken),this.len=e}},t.StszAtom=class{constructor(e){this.len=e}get(e,t){const n=r.INT32_BE.get(e,t+8);return{version:r.INT8.get(e,t),flags:r.INT24_BE.get(e,t+1),sampleSize:r.INT32_BE.get(e,t+4),numberOfEntries:n,entries:_(e,r.INT32_BE,t+12,this.len-12,n)}}},t.StcoAtom=class extends u{constructor(e){super(e,r.INT32_BE),this.len=e}},t.ChapterText=class{constructor(e){this.len=e}get(e,t){const n=r.INT16_BE.get(e,t+0);return new r.StringType(n,"utf-8").get(e,t+2)}}},8841:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MP4Parser=void 0;const r=n(1227),s=n(3416),i=n(7805),o=n(2282),l=n(6032),m=n(9134),c=n(1060),u=(0,r.default)("music-metadata:parser:MP4"),_={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function p(e,t,n){return n.indexOf(e)===t}class v extends i.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async e=>{const t=await this.tokenizer.readToken(new c.MvhdAtom(e));this.metadata.setFormat("creationTime",t.creationTime),this.metadata.setFormat("modificationTime",t.modificationTime)},mdhd:async e=>{const t=await this.tokenizer.readToken(new c.MdhdAtom(e)),n=this.getTrackDescription();n.creationTime=t.creationTime,n.modificationTime=t.modificationTime,n.timeScale=t.timeScale,n.duration=t.duration},chap:async e=>{const t=this.getTrackDescription(),n=[];for(;e>=s.UINT32_BE.len;)n.push(await this.tokenizer.readNumber(s.UINT32_BE)),e-=s.UINT32_BE.len;t.chapterList=n},tkhd:async e=>{const t=await this.tokenizer.readToken(new c.TrackHeaderAtom(e));this.tracks.push(t)},mdat:async e=>{if(this.audioLengthInBytes=e,this.calculateBitRate(),this.options.includeChapters){const t=this.tracks.filter((e=>e.chapterList));if(1===t.length){const n=t[0].chapterList,a=this.tracks.filter((e=>-1!==n.indexOf(e.trackId)));if(1===a.length)return this.parseChapterTrack(a[0],t[0],e)}}await this.tokenizer.ignore(e)},ftyp:async e=>{const t=[];for(;e>0;){const n=await this.tokenizer.readToken(c.ftyp);e-=c.ftyp.len;const a=n.type.replace(/\W/g,"");a.length>0&&t.push(a)}u(`ftyp: ${t.join("/")}`);const n=t.filter(p).join("/");this.metadata.setFormat("container",n)},stsd:async e=>{const t=await this.tokenizer.readToken(new c.StsdAtom(e));this.getTrackDescription().soundSampleDescription=t.table.map((e=>this.parseSoundSampleDescription(e)))},stsc:async e=>{const t=await this.tokenizer.readToken(new c.StscAtom(e));this.getTrackDescription().sampleToChunkTable=t.entries},stts:async e=>{const t=await this.tokenizer.readToken(new c.SttsAtom(e));this.getTrackDescription().timeToSampleTable=t.entries},stsz:async e=>{const t=await this.tokenizer.readToken(new c.StszAtom(e)),n=this.getTrackDescription();n.sampleSize=t.sampleSize,n.sampleSizeTable=t.entries},stco:async e=>{const t=await this.tokenizer.readToken(new c.StcoAtom(e));this.getTrackDescription().chunkOffsetTable=t.entries},date:async e=>{const t=await this.tokenizer.readToken(new s.StringType(e,"utf-8"));this.addTag("date",t)}}}static read_BE_Integer(e,t){const n=(t?"INT":"UINT")+8*e.length+(e.length>1?"_BE":""),a=s[n];if(!a)throw new Error('Token for integer type not found: "'+n+'"');return Number(a.get(e,0))}async parse(){this.tracks=[];let e=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||e>0;){try{if("\0\0\0\0"===(await this.tokenizer.peekToken(c.Header)).name){const e=`Error at offset=${this.tokenizer.position}: box.id=0`;u(e),this.addWarning(e);break}}catch(e){const t=`Error at offset=${this.tokenizer.position}: ${e.message}`;u(t),this.addWarning(t);break}const t=await m.Atom.readAtom(this.tokenizer,((e,t)=>this.handleAtom(e,t)),null,e);e-=t.header.length===BigInt(0)?e:Number(t.header.length)}const t=[];this.tracks.forEach((e=>{const n=[];e.soundSampleDescription.forEach((e=>{const t={},a=_[e.dataFormat];if(a?(n.push(a.format),t.codecName=a.format):t.codecName=`<${e.dataFormat}>`,e.description){const{description:n}=e;n.sampleRate>0&&(t.type=l.TrackType.audio,t.audio={samplingFrequency:n.sampleRate,bitDepth:n.sampleSize,channels:n.numAudioChannels})}this.metadata.addStreamInfo(t)})),n.length>=1&&t.push(n.join("/"))})),t.length>0&&this.metadata.setFormat("codec",t.filter(p).join("+"));const n=this.tracks.filter((e=>e.soundSampleDescription.length>=1&&e.soundSampleDescription[0].description&&e.soundSampleDescription[0].description.numAudioChannels>0));if(n.length>=1){const e=n[0],t=e.duration/e.timeScale;this.metadata.setFormat("duration",t);const a=e.soundSampleDescription[0];a.description&&(this.metadata.setFormat("sampleRate",a.description.sampleRate),this.metadata.setFormat("bitsPerSample",a.description.sampleSize),this.metadata.setFormat("numberOfChannels",a.description.numAudioChannels));const r=_[a.dataFormat];r&&this.metadata.setFormat("lossless",!r.lossy),this.calculateBitRate()}}async handleAtom(e,t){if(e.parent)switch(e.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(e)}if(this.atomParsers[e.header.name])return this.atomParsers[e.header.name](t);u(`No parser for atom path=${e.atomPath}, payload-len=${t}, ignoring atom`),await this.tokenizer.ignore(t)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(e,t){this.metadata.addTag("iTunes",e,t)}addWarning(e){u("Warning: "+e),this.metadata.addWarning(e)}parseMetadataItemData(e){let t=e.header.name;return e.readAtoms(this.tokenizer,(async(e,n)=>{const a=e.getPayloadLength(n);switch(e.header.name){case"data":return this.parseValueAtom(t,e);case"name":const n=await this.tokenizer.readToken(new c.NameAtom(a));t+=":"+n.name;break;case"mean":const r=await this.tokenizer.readToken(new c.NameAtom(a));t+=":"+r.name;break;default:const i=await this.tokenizer.readToken(new s.BufferType(a));this.addWarning("Unsupported meta-item: "+t+"["+e.header.name+"] => value="+i.toString("hex")+" ascii="+i.toString("ascii"))}}),e.getPayloadLength(0))}async parseValueAtom(e,t){const n=await this.tokenizer.readToken(new c.DataAtom(Number(t.header.length)-c.Header.len));if(0!==n.type.set)throw new Error("Unsupported type-set != 0: "+n.type.set);switch(n.type.type){case 0:switch(e){case"trkn":case"disk":const t=s.UINT8.get(n.value,3),a=s.UINT8.get(n.value,5);this.addTag(e,t+"/"+a);break;case"gnre":const r=s.UINT8.get(n.value,1),i=o.Genres[r-1];this.addTag(e,i)}break;case 1:case 18:this.addTag(e,n.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(e,{format:"image/jpeg",data:a.from(n.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(e,{format:"image/png",data:a.from(n.value)});break;case 21:this.addTag(e,v.read_BE_Integer(n.value,!0));break;case 22:this.addTag(e,v.read_BE_Integer(n.value,!1));break;case 65:this.addTag(e,n.value.readInt8(0));break;case 66:this.addTag(e,n.value.readInt16BE(0));break;case 67:this.addTag(e,n.value.readInt32BE(0));break;default:this.addWarning(`atom key=${e}, has unknown well-known-type (data-type): ${n.type.type}`)}}parseSoundSampleDescription(e){const t={dataFormat:e.dataFormat,dataReferenceIndex:e.dataReferenceIndex};let n=0;const a=c.SoundSampleDescriptionVersion.get(e.description,n);return n+=c.SoundSampleDescriptionVersion.len,0===a.version||1===a.version?t.description=c.SoundSampleDescriptionV0.get(e.description,n):u(`Warning: sound-sample-description ${a} not implemented`),t}async parseChapterTrack(e,t,n){if(!e.sampleSize&&e.chunkOffsetTable.length!==e.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const a=[];for(let r=0;r<e.chunkOffsetTable.length&&n>0;++r){const s=e.chunkOffsetTable[r]-this.tokenizer.position,i=e.sampleSize>0?e.sampleSize:e.sampleSizeTable[r];if((n-=s+i)<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(s);const o=await this.tokenizer.readToken(new c.ChapterText(i));u(`Chapter ${r+1}: ${o}`);const l={title:o,sampleOffset:this.findSampleOffset(t,this.tokenizer.position)};u(`Chapter title=${l.title}, offset=${l.sampleOffset}/${this.tracks[0].duration}`),a.push(l)}this.metadata.setFormat("chapters",a),await this.tokenizer.ignore(n)}findSampleOffset(e,t){let n=0;e.timeToSampleTable.forEach((e=>{n+=e.count*e.duration})),u(`Total duration=${n}`);let a=0;for(;a<e.chunkOffsetTable.length&&e.chunkOffsetTable[a]<t;)++a;return this.getChunkDuration(a+1,e)}getChunkDuration(e,t){let n=0,a=t.timeToSampleTable[n].count,r=t.timeToSampleTable[n].duration,s=1,i=this.getSamplesPerChunk(s,t.sampleToChunkTable),o=0;for(;s<e;){const e=Math.min(a,i);o+=e*r,a-=e,i-=e,0===i?(++s,i=this.getSamplesPerChunk(s,t.sampleToChunkTable)):(++n,a=t.timeToSampleTable[n].count,r=t.timeToSampleTable[n].duration)}return o}getSamplesPerChunk(e,t){for(let n=0;n<t.length-1;++n)if(e>=t[n].firstChunk&&e<t[n+1].firstChunk)return t[n].samplesPerChunk;return t[t.length-1].samplesPerChunk}}t.MP4Parser=v},7852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP4TagMapper=t.tagType=void 0;const a=n(4132),r={"©nam":"title","©ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","©alb":"album","©day":"date","©cmt":"comment","©com":"comment",trkn:"track",disk:"disk","©gen":"genre",covr:"picture","©wrt":"composer","©lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","©grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","©cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","©too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","©mvn":"movement","©mvi":"movementIndex","©mvc":"movementTotal","©wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik"};t.tagType="iTunes";class s extends a.CaseInsensitiveTagMap{constructor(){super([t.tagType],r)}}t.MP4TagMapper=s},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedLameHeader=void 0;const a=n(3416),r=n(3769),s=n(6118);t.ExtendedLameHeader={len:27,get:(e,t)=>{const n=a.UINT32_BE.get(e,t+2);return{revision:r.getBitAllignedNumber(e,t,0,4),vbr_method:r.getBitAllignedNumber(e,t,4,4),lowpass_filter:100*a.UINT8.get(e,t+1),track_peak:0===n?void 0:n/Math.pow(2,23),track_gain:s.ReplayGain.get(e,6),album_gain:s.ReplayGain.get(e,8),music_length:a.UINT32_BE.get(e,t+20),music_crc:a.UINT8.get(e,t+24),header_crc:a.UINT16_BE.get(e,t+24)}}}},60:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MpegParser=void 0;const r=n(3416),s=n(5849),i=n(1227),o=n(3769),l=n(5159),m=n(3566),c=(0,i.default)("music-metadata:parser:mpeg"),u={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},_=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class p{constructor(e,t){this.versionIndex=o.getBitAllignedNumber(e,t+1,3,2),this.layer=p.LayerDescription[o.getBitAllignedNumber(e,t+1,5,2)],this.versionIndex>1&&0===this.layer?this.parseAdtsHeader(e,t):this.parseMpegHeader(e,t),this.isProtectedByCRC=!o.isBitSet(e,t+1,7)}calcDuration(e){return e*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return p.samplesInFrameTable[1===this.version?0:1][this.layer]}calculateSideInfoLength(){if(3!==this.layer)return 2;if(3===this.channelModeIndex){if(1===this.version)return 17;if(2===this.version||2.5===this.version)return 9}else{if(1===this.version)return 32;if(2===this.version||2.5===this.version)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(e,t){this.container="MPEG",this.bitrateIndex=o.getBitAllignedNumber(e,t+2,0,4),this.sampRateFreqIndex=o.getBitAllignedNumber(e,t+2,4,2),this.padding=o.isBitSet(e,t+2,6),this.privateBit=o.isBitSet(e,t+2,7),this.channelModeIndex=o.getBitAllignedNumber(e,t+3,0,2),this.modeExtension=o.getBitAllignedNumber(e,t+3,2,2),this.isCopyrighted=o.isBitSet(e,t+3,4),this.isOriginalMedia=o.isBitSet(e,t+3,5),this.emphasis=o.getBitAllignedNumber(e,t+3,7,2),this.version=p.VersionID[this.versionIndex],this.channelMode=p.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const n=this.calcBitrate();if(!n)throw new Error("Cannot determine bit-rate");if(this.bitrate=1e3*n,this.samplingRate=this.calcSamplingRate(),null==this.samplingRate)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(e,t){c("layer=0 => ADTS"),this.version=2===this.versionIndex?4:2,this.container="ADTS/MPEG-"+this.version;const n=o.getBitAllignedNumber(e,t+2,0,2);this.codec="AAC",this.codecProfile=u.AudioObjectTypes[n],c(`MPEG-4 audio-codec=${this.codec}`);const a=o.getBitAllignedNumber(e,t+2,2,4);this.samplingRate=u.SamplingFrequencies[a],c(`sampling-rate=${this.samplingRate}`);const r=o.getBitAllignedNumber(e,t+2,7,3);this.mp4ChannelConfig=_[r],c(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=o.getBitAllignedNumber(e,t+3,6,2)<<11}calcBitrate(){if(0===this.bitrateIndex||15===this.bitrateIndex)return;const e=`${Math.floor(this.version)}${this.layer}`;return p.bitrate_index[this.bitrateIndex][e]}calcSamplingRate(){return 3===this.sampRateFreqIndex?null:p.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}p.SyncByte1=255,p.SyncByte2=224,p.VersionID=[2.5,null,2,1],p.LayerDescription=[0,3,2,1],p.ChannelMode=["stereo","joint_stereo","dual_channel","mono"],p.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}},p.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}},p.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];class v extends l.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=a.alloc(4),this.syncPeek={buf:a.alloc(1024),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let e=!1;for(;!e;)await this.sync(),e=await this.parseCommonMpegHeader()}catch(e){if(!(e instanceof s.EndOfStreamError))throw e;if(c("End-of-stream"),this.calculateEofDuration){const e=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",e);const t=e/this.metadata.format.sampleRate;c(`Calculate duration at EOF: ${t} sec.`,t),this.metadata.setFormat("duration",t)}}}finalize(){const e=this.metadata.format,t=this.metadata.native.hasOwnProperty("ID3v1");if(e.duration&&this.tokenizer.fileInfo.size){const n=this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0);e.codecProfile&&"V"===e.codecProfile[0]&&this.metadata.setFormat("bitrate",8*n/e.duration)}else if(this.tokenizer.fileInfo.size&&"CBR"===e.codecProfile){const n=this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0),a=Math.round(n/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",a);const r=a/e.sampleRate;c("Calculate CBR duration based on file size: %s",r),this.metadata.setFormat("duration",r)}}async sync(){let e=!1;for(;;){let t=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:1024,mayBeLess:!0}),this.syncPeek.len<=163)throw new s.EndOfStreamError;for(;;){if(e&&224==(224&this.syncPeek.buf[t]))return this.buf_frame_header[0]=p.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[t],await this.tokenizer.ignore(t),c(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(c(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),void(this.syncFrameCount=this.frameCount);if(e=!1,t=this.syncPeek.buf.indexOf(p.SyncByte1,t),-1===t){if(this.syncPeek.len<this.syncPeek.buf.length)throw new s.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}++t,e=!0}}}async parseCommonMpegHeader(){let e;0===this.frameCount&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});try{t=this.buf_frame_header,e=new p(t,0)}catch(e){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+e.message),!1}var t;return await this.tokenizer.ignore(3),this.metadata.setFormat("container",e.container),this.metadata.setFormat("codec",e.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",e.samplingRate),this.frameCount++,e.version>=2&&0===e.layer?this.parseAdts(e):this.parseAudioFrameHeader(e)}async parseAudioFrameHeader(e){this.metadata.setFormat("numberOfChannels","mono"===e.channelMode?1:2),this.metadata.setFormat("bitrate",e.bitrate),this.frameCount<2e5&&c("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,e.layer,e.bitrate,e.samplingRate);const t=e.calcSlotSize();if(null===t)throw new Error("invalid slot_size");const n=e.calcSamplesPerFrame();c(`samples_per_frame=${n}`);const a=n/8*e.bitrate/e.samplingRate+(e.padding?t:0);if(this.frame_size=Math.floor(a),this.audioFrameHeader=e,this.bitrates.push(e.bitrate),1===this.frameCount)return this.offset=4,await this.skipSideInformation(),!1;if(3===this.frameCount){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=n,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&4===this.frameCount&&(this.samplesPerFrame=n,this.calculateEofDuration=!0),this.offset=4,e.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(e){const t=a.alloc(3);await this.tokenizer.readBuffer(t),e.frameLength+=o.getBitAllignedNumber(t,0,0,11),this.totalDataLength+=e.frameLength,this.samplesPerFrame=1024;const n=e.samplingRate/this.samplesPerFrame,r=8*(0===this.frameCount?0:this.totalDataLength/this.frameCount)*n+.5;if(this.metadata.setFormat("bitrate",r),c(`frame-count=${this.frameCount}, size=${e.frameLength} bytes, bit-rate=${r}`),await this.tokenizer.ignore(e.frameLength>7?e.frameLength-7:1),3===this.frameCount){if(this.metadata.setFormat("codecProfile",e.codecProfile),e.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",e.mp4ChannelConfig.length),!this.options.duration)return!0;this.calculateEofDuration=!0}return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(r.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const e=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new r.Uint8ArrayType(e)),this.offset+=e,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const e=await this.tokenizer.readToken(m.InfoTagHeaderTag);switch(this.offset+=m.InfoTagHeaderTag.len,e){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const e=(t=(await this.readXingInfoHeader()).vbrScale,"V"+Math.floor((100-t)/10));return this.metadata.setFormat("codecProfile",e),null;case"Xtra":break;case"LAME":const n=await this.tokenizer.readToken(m.LameEncoderVersion);if(this.frame_size>=this.offset+m.LameEncoderVersion.len)return this.offset+=m.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+n),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header")}var t;const n=this.frame_size-this.offset;return n<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(n),null}async readXingInfoHeader(){const e=this.tokenizer.position,t=await(0,m.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-e,t.lame&&(this.metadata.setFormat("tool","LAME "+o.stripNulls(t.lame.version)),t.lame.extended&&(this.metadata.setFormat("trackPeakLevel",t.lame.extended.track_peak),t.lame.extended.track_gain&&this.metadata.setFormat("trackGain",t.lame.extended.track_gain.adjustment),t.lame.extended.album_gain&&this.metadata.setFormat("albumGain",t.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",t.lame.extended.music_length/1e3))),t.streamSize){const e=this.audioFrameHeader.calcDuration(t.numFrames);return this.metadata.setFormat("duration",e),c("Get duration from Xing header: %s",this.metadata.format.duration),t}const n=this.frame_size-this.offset;return await this.skipFrameData(n),t}async skipFrameData(e){if(e<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(e),this.countSkipFrameData+=e}areAllSame(e){const t=e[0];return e.every((e=>e===t))}}t.MpegParser=v},6118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayGain=void 0;const a=n(3769);var r,s;!function(e){e[e.not_set=0]="not_set",e[e.radio=1]="radio",e[e.audiophile=2]="audiophile"}(r||(r={})),function(e){e[e.unspecified=0]="unspecified",e[e.engineer=1]="engineer",e[e.user=2]="user",e[e.automatic=3]="automatic",e[e.rms_average=4]="rms_average"}(s||(s={})),t.ReplayGain={len:2,get:(e,t)=>{const n=a.getBitAllignedNumber(e,t,0,3),r=a.getBitAllignedNumber(e,t,6,1),s=a.getBitAllignedNumber(e,t,7,9)/10;if(n>0)return{type:a.getBitAllignedNumber(e,t,0,3),origin:a.getBitAllignedNumber(e,t,3,3),adjustment:r?-s:s}}}},3566:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.readXingHeader=t.XingHeaderFlags=t.LameEncoderVersion=t.InfoTagHeaderTag=void 0;const r=n(3416),s=n(3769),i=n(5261);t.InfoTagHeaderTag=new r.StringType(4,"ascii"),t.LameEncoderVersion=new r.StringType(6,"ascii"),t.XingHeaderFlags={len:4,get:(e,t)=>({frames:s.isBitSet(e,t,31),bytes:s.isBitSet(e,t,30),toc:s.isBitSet(e,t,29),vbrScale:s.isBitSet(e,t,28)})},t.readXingHeader=async function(e){const n=await e.readToken(t.XingHeaderFlags),s={};if(n.frames&&(s.numFrames=await e.readToken(r.UINT32_BE)),n.bytes&&(s.streamSize=await e.readToken(r.UINT32_BE)),n.toc&&(s.toc=a.alloc(100),await e.readBuffer(s.toc)),n.vbrScale&&(s.vbrScale=await e.readToken(r.UINT32_BE)),"LAME"===await e.peekToken(new r.StringType(4,"ascii"))&&(await e.ignore(4),s.lame={version:await e.readToken(new r.StringType(5,"ascii"))},s.lame.version.match(/\d+.\d+/g))){const t=s.lame.version.match(/\d+.\d+/g)[0].split(".").map((e=>parseInt(e,10)));t[0]>=3&&t[1]>=90&&(s.lame.extended=await e.readToken(i.ExtendedLameHeader))}return s}},9606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(1227),r=n(3416),s=n(5159),i=n(5170),o=n(3928),l=(0,a.default)("music-metadata:parser:musepack");class m extends s.AbstractID3Parser{async postId3v2Parse(){let e;switch(await this.tokenizer.peekToken(new r.StringType(3,"binary"))){case"MP+":l("Musepack stream-version 7"),e=new o.MpcSv7Parser;break;case"MPC":l("Musepack stream-version 8"),e=new i.MpcSv8Parser;break;default:throw new Error("Invalid Musepack signature prefix")}return e.init(this.metadata,this.tokenizer,this.options),e.parse()}}t.default=m},2812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitReader=void 0;const a=n(3416);t.BitReader=class{constructor(e){this.tokenizer=e,this.pos=0,this.dword=void 0}async read(e){for(;void 0===this.dword;)this.dword=await this.tokenizer.readToken(a.UINT32_LE);let t=this.dword;return this.pos+=e,this.pos<32?(t>>>=32-this.pos,t&(1<<e)-1):(this.pos-=32,0===this.pos?(this.dword=void 0,t&(1<<e)-1):(this.dword=await this.tokenizer.readToken(a.UINT32_LE),this.pos&&(t<<=this.pos,t|=this.dword>>>32-this.pos),t&(1<<e)-1))}async ignore(e){if(this.pos>0){const t=32-this.pos;this.dword=void 0,e-=t,this.pos=0}const t=e%32,n=(e-t)/32;return await this.tokenizer.ignore(4*n),this.read(t)}}},3928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv7Parser=void 0;const a=n(1227),r=n(7805),s=n(6742),i=n(2812),o=n(8153),l=(0,a.default)("music-metadata:parser:musepack");class m extends r.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const e=await this.tokenizer.readToken(o.Header);if("MP+"!==e.signature)throw new Error("Unexpected magic number");l(`stream-version=${e.streamMajorVersion}.${e.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",e.sampleFrequency);const t=1152*(e.frameCount-1)+e.lastFrameLength;this.metadata.setFormat("numberOfSamples",t),this.duration=t/e.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new i.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",e.midSideStereo||e.intensityStereo?2:1);const n=await this.bitreader.read(8);return this.metadata.setFormat("codec",(n/100).toFixed(2)),await this.skipAudioData(e.frameCount),l(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),s.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(e){for(;e-- >0;){const e=await this.bitreader.read(20);this.audioLength+=20+e,await this.bitreader.ignore(e)}const t=await this.bitreader.read(11);this.audioLength+=t,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}t.MpcSv7Parser=m},8153:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const r=n(3416),s=n(3769);t.Header={len:24,get:(e,t)=>{const n={signature:a.from(e).toString("latin1",t,t+3),streamMinorVersion:s.getBitAllignedNumber(e,t+3,0,4),streamMajorVersion:s.getBitAllignedNumber(e,t+3,4,4),frameCount:r.UINT32_LE.get(e,t+4),maxLevel:r.UINT16_LE.get(e,t+8),sampleFrequency:[44100,48e3,37800,32e3][s.getBitAllignedNumber(e,t+10,0,2)],link:s.getBitAllignedNumber(e,t+10,2,2),profile:s.getBitAllignedNumber(e,t+10,4,4),maxBand:s.getBitAllignedNumber(e,t+11,0,6),intensityStereo:s.isBitSet(e,t+11,6),midSideStereo:s.isBitSet(e,t+11,7),titlePeak:r.UINT16_LE.get(e,t+12),titleGain:r.UINT16_LE.get(e,t+14),albumPeak:r.UINT16_LE.get(e,t+16),albumGain:r.UINT16_LE.get(e,t+18),lastFrameLength:r.UINT32_LE.get(e,t+20)>>>20&2047,trueGapless:s.isBitSet(e,t+23,0)};return n.lastFrameLength=n.trueGapless?r.UINT32_LE.get(e,20)>>>20&2047:0,n}}},5170:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv8Parser=void 0;const a=n(1227),r=n(7805),s=n(6742),i=n(8049),o=n(8850),l=(0,a.default)("music-metadata:parser:musepack");class m extends r.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if("MPCK"!==await this.tokenizer.readToken(i.FourCcToken))throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const e=new o.StreamReader(this.tokenizer);for(;;){const t=await e.readPacketHeader();switch(l(`packet-header key=${t.key}, payloadLength=${t.payloadLength}`),t.key){case"SH":const n=await e.readStreamHeader(t.payloadLength);this.metadata.setFormat("numberOfSamples",n.sampleCount),this.metadata.setFormat("sampleRate",n.sampleFrequency),this.metadata.setFormat("duration",n.sampleCount/n.sampleFrequency),this.metadata.setFormat("numberOfChannels",n.channelCount);break;case"AP":this.audioLength+=t.payloadLength,await this.tokenizer.ignore(t.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(t.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",8*this.audioLength/this.metadata.format.duration),s.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${t.key}`)}}}}t.MpcSv8Parser=m},8850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=void 0;const a=n(3416),r=n(1227),s=n(3769),i=(0,r.default)("music-metadata:parser:musepack:sv8"),o=new a.StringType(2,"binary"),l={len:5,get:(e,t)=>({crc:a.UINT32_LE.get(e,t),streamVersion:a.UINT8.get(e,t+4)})},m={len:2,get:(e,t)=>({sampleFrequency:[44100,48e3,37800,32e3][s.getBitAllignedNumber(e,t,0,3)],maxUsedBands:s.getBitAllignedNumber(e,t,3,5),channelCount:s.getBitAllignedNumber(e,t+1,0,4)+1,msUsed:s.isBitSet(e,t+1,4),audioBlockFrames:s.getBitAllignedNumber(e,t+1,5,3)})};t.StreamReader=class{constructor(e){this.tokenizer=e}async readPacketHeader(){const e=await this.tokenizer.readToken(o),t=await this.readVariableSizeField();return{key:e,payloadLength:t.value-2-t.len}}async readStreamHeader(e){const t={};i(`Reading SH at offset=${this.tokenizer.position}`);const n=await this.tokenizer.readToken(l);e-=l.len,Object.assign(t,n),i(`SH.streamVersion = ${n.streamVersion}`);const a=await this.readVariableSizeField();e-=a.len,t.sampleCount=a.value;const r=await this.readVariableSizeField();e-=r.len,t.beginningOfSilence=r.value;const s=await this.tokenizer.readToken(m);return e-=m.len,Object.assign(t,s),await this.tokenizer.ignore(e),t}async readVariableSizeField(e=1,t=0){let n=await this.tokenizer.readNumber(a.UINT8);return 0==(128&n)?{len:e,value:t+n}:(n&=127,n+=t,this.readVariableSizeField(e+1,n<<7))}}},1915:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.OggParser=t.SegmentTable=void 0;const r=n(3416),s=n(5849),i=n(1227),o=n(3769),l=n(8049),m=n(7805),c=n(4210),u=n(1272),_=n(573),p=n(2630),v=(0,i.default)("music-metadata:parser:ogg");class d{constructor(e){this.len=e.page_segments}static sum(e,t,n){let a=0;for(let r=t;r<t+n;++r)a+=e[r];return a}get(e,t){return{totalPageSize:d.sum(e,t,this.len)}}}t.SegmentTable=d;class b extends m.BasicParser{async parse(){v("pos=%s, parsePage()",this.tokenizer.position);try{let e;do{if(e=await this.tokenizer.readToken(b.Header),"OggS"!==e.capturePattern)throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=e,this.pageNumber=e.pageSequenceNo,v("page#=%s, Ogg.id=%s",e.pageSequenceNo,e.capturePattern);const t=await this.tokenizer.readToken(new d(e));v("totalPageSize=%s",t.totalPageSize);const n=await this.tokenizer.readToken(new r.Uint8ArrayType(t.totalPageSize));if(v("firstPage=%s, lastPage=%s, continued=%s",e.headerType.firstPage,e.headerType.lastPage,e.headerType.continued),e.headerType.firstPage){const e=new r.StringType(7,"ascii").get(a.from(n),0);switch(e){case"vorbis":v("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new c.VorbisParser(this.metadata,this.options);break;case"OpusHea":v("Set page consumer to Ogg/Opus"),this.pageConsumer=new u.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":v("Set page consumer to Ogg/Speex"),this.pageConsumer=new _.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":v("Set page consumer to Ogg/Theora"),this.pageConsumer=new p.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+e+")")}}this.pageConsumer.parsePage(e,n)}while(!e.headerType.lastPage)}catch(e){if(e instanceof s.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),v("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else{if(!e.message.startsWith("FourCC"))throw e;this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush())}}}}t.OggParser=b,b.Header={len:27,get:(e,t)=>({capturePattern:l.FourCcToken.get(e,t),version:r.UINT8.get(e,t+4),headerType:{continued:o.getBit(e,t+5,0),firstPage:o.getBit(e,t+5,1),lastPage:o.getBit(e,t+5,2)},absoluteGranulePosition:Number(r.UINT64_LE.get(e,t+6)),streamSerialNumber:r.UINT32_LE.get(e,t+14),pageSequenceNo:r.UINT32_LE.get(e,t+18),pageChecksum:r.UINT32_LE.get(e,t+22),page_segments:r.UINT8.get(e,t+26)})}},5044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdHeader=void 0;const a=n(3416);t.IdHeader=class{constructor(e){if(this.len=e,e<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(e,t){return{magicSignature:new a.StringType(8,"ascii").get(e,t+0),version:e.readUInt8(t+8),channelCount:e.readUInt8(t+9),preSkip:e.readInt16LE(t+10),inputSampleRate:e.readInt32LE(t+12),outputGain:e.readInt16LE(t+16),channelMapping:e.readUInt8(t+18)}}}},1272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpusParser=void 0;const a=n(3416),r=n(4210),s=n(5044);class i extends r.VorbisParser{constructor(e,t,n){super(e,t),this.tokenizer=n,this.lastPos=-1}parseFirstPage(e,t){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new s.IdHeader(t.length).get(t,0),"OpusHead"!==this.idHeader.magicSignature)throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(e){"OpusTags"===new a.StringType(8,"ascii").get(e,0)&&(this.parseUserCommentList(e,8),this.lastPos=this.tokenizer.position-e.length)}calculateDuration(e){if(this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0){const t=e.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",t),this.metadata.setFormat("duration",t/48e3),-1!==this.lastPos&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const e=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*e/this.metadata.format.duration)}}}}t.OpusParser=i},6666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const a=n(3416),r=n(3769);t.Header={len:80,get:(e,t)=>({speex:new a.StringType(8,"ascii").get(e,t+0),version:r.trimRightNull(new a.StringType(20,"ascii").get(e,t+8)),version_id:e.readInt32LE(t+28),header_size:e.readInt32LE(t+32),rate:e.readInt32LE(t+36),mode:e.readInt32LE(t+40),mode_bitstream_version:e.readInt32LE(t+44),nb_channels:e.readInt32LE(t+48),bitrate:e.readInt32LE(t+52),frame_size:e.readInt32LE(t+56),vbr:e.readInt32LE(t+60),frames_per_packet:e.readInt32LE(t+64),extra_headers:e.readInt32LE(t+68),reserved1:e.readInt32LE(t+72),reserved2:e.readInt32LE(t+76)})}},573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeexParser=void 0;const a=n(1227),r=n(4210),s=n(6666),i=(0,a.default)("music-metadata:parser:ogg:speex");class o extends r.VorbisParser{constructor(e,t,n){super(e,t),this.tokenizer=n}parseFirstPage(e,t){i("First Ogg/Speex page");const n=s.Header.get(t,0);this.metadata.setFormat("codec",`Speex ${n.version}`),this.metadata.setFormat("numberOfChannels",n.nb_channels),this.metadata.setFormat("sampleRate",n.rate),-1!==n.bitrate&&this.metadata.setFormat("bitrate",n.bitrate)}}t.SpeexParser=o},5177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=void 0;const a=n(3416);t.IdentificationHeader={len:42,get:(e,t)=>({id:new a.StringType(7,"ascii").get(e,t),vmaj:e.readUInt8(t+7),vmin:e.readUInt8(t+8),vrev:e.readUInt8(t+9),vmbw:e.readUInt16BE(t+10),vmbh:e.readUInt16BE(t+17),nombr:a.UINT24_BE.get(e,t+37),nqual:e.readUInt8(t+40)})}},2630:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheoraParser=void 0;const a=n(1227),r=n(5177),s=(0,a.default)("music-metadata:parser:ogg:theora");t.TheoraParser=class{constructor(e,t,n){this.metadata=e,this.tokenizer=n}parsePage(e,t){e.headerType.firstPage&&this.parseFirstPage(e,t)}flush(){s("flush")}calculateDuration(e){s("duration calculation not implemented")}parseFirstPage(e,t){s("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const n=r.IdentificationHeader.get(t,0);this.metadata.setFormat("bitrate",n.nombr)}}},2127:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=t.CommonHeader=t.VorbisPictureToken=void 0;const r=n(3416),s=n(8281);class i{constructor(e){this.len=e}static fromBase64(e){return this.fromBuffer(a.from(e,"base64"))}static fromBuffer(e){return new i(e.length).get(e,0)}get(e,t){const n=s.AttachedPictureType[r.UINT32_BE.get(e,t)],i=r.UINT32_BE.get(e,t+=4),o=e.toString("utf-8",t+=4,t+i),l=r.UINT32_BE.get(e,t+=i),m=e.toString("utf-8",t+=4,t+l),c=r.UINT32_BE.get(e,t+=l),u=r.UINT32_BE.get(e,t+=4),_=r.UINT32_BE.get(e,t+=4),p=r.UINT32_BE.get(e,t+=4),v=r.UINT32_BE.get(e,t+=4);return{type:n,format:o,description:m,width:c,height:u,colour_depth:_,indexed_color:p,data:a.from(e.slice(t+=4,t+v))}}}t.VorbisPictureToken=i,t.CommonHeader={len:7,get:(e,t)=>({packetType:e.readUInt8(t),vorbis:new r.StringType(6,"ascii").get(e,t+1)})},t.IdentificationHeader={len:23,get:(e,t)=>{const n=new DataView(e.buffer,e.byteOffset);return{version:n.getUint32(t+0,!0),channelMode:n.getUint8(t+4),sampleRate:n.getUint32(t+5,!0),bitrateMax:n.getUint32(t+9,!0),bitrateNominal:n.getUint32(t+13,!0),bitrateMin:n.getUint32(t+17,!0)}}}},441:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisDecoder=void 0;const r=n(3416);t.VorbisDecoder=class{constructor(e,t){this.data=e,this.offset=t}readInt32(){const e=r.UINT32_LE.get(this.data,this.offset);return this.offset+=4,e}readStringUtf8(){const e=this.readInt32(),t=a.from(this.data).toString("utf-8",this.offset,this.offset+e);return this.offset+=e,t}parseUserComment(){const e=this.offset,t=this.readStringUtf8(),n=t.indexOf("=");return{key:t.slice(0,n).toUpperCase(),value:t.slice(n+1),len:this.offset-e}}}},4210:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisParser=void 0;const r=n(3416),s=n(1227),i=n(441),o=n(2127),l=(0,s.default)("music-metadata:parser:ogg:vorbis1");t.VorbisParser=class{constructor(e,t){this.metadata=e,this.options=t,this.pageSegments=[]}parsePage(e,t){if(e.headerType.firstPage)this.parseFirstPage(e,t);else{if(e.headerType.continued){if(0===this.pageSegments.length)throw new Error("Cannot continue on previous page");this.pageSegments.push(t)}if(e.headerType.lastPage||!e.headerType.continued){if(this.pageSegments.length>0){const e=a.concat(this.pageSegments);this.parseFullPage(e)}this.pageSegments=e.headerType.lastPage?[]:[t]}}e.headerType.lastPage&&this.calculateDuration(e)}flush(){this.parseFullPage(a.concat(this.pageSegments))}parseUserComment(e,t){const n=new i.VorbisDecoder(e,t).parseUserComment();return this.addTag(n.key,n.value),n.len}addTag(e,t){if("METADATA_BLOCK_PICTURE"===e&&"string"==typeof t){if(this.options.skipCovers)return void l("Ignore picture");t=o.VorbisPictureToken.fromBase64(t),l(`Push picture: id=${e}, format=${t.format}`)}else l(`Push tag: id=${e}, value=${t}`);this.metadata.addTag("vorbis",e,t)}calculateDuration(e){this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",e.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(e,t){this.metadata.setFormat("codec","Vorbis I"),l("Parse first page");const n=o.CommonHeader.get(t,0);if("vorbis"!==n.vorbis)throw new Error("Metadata does not look like Vorbis");if(1!==n.packetType)throw new Error("First Ogg page should be type 1: the identification header");{const e=o.IdentificationHeader.get(t,o.CommonHeader.len);this.metadata.setFormat("sampleRate",e.sampleRate),this.metadata.setFormat("bitrate",e.bitrateNominal),this.metadata.setFormat("numberOfChannels",e.channelMode),l("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",e.sampleRate,e.bitrateNominal,e.channelMode)}}parseFullPage(e){const t=o.CommonHeader.get(e,0);if(l("Parse full page: type=%s, byteLength=%s",t.packetType,e.byteLength),3===t.packetType)return this.parseUserCommentList(e,o.CommonHeader.len)}parseUserCommentList(e,t){const n=r.UINT32_LE.get(e,t);t+=4,t+=n;let a=r.UINT32_LE.get(e,t);for(t+=4;a-- >0;)t+=this.parseUserComment(e,t)}}},9860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisTagMapper=void 0;const a=n(9918),r={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class s extends a.CommonTagMapper{static toRating(e,t){return{source:e?e.toLowerCase():e,rating:parseFloat(t)*a.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],r)}postMap(e){if(0===e.id.indexOf("RATING:")){const t=e.id.split(":");e.value=s.toRating(t[1],e.value),e.id=t[0]}}}t.VorbisTagMapper=s},3211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListInfoTagValue=t.Header=void 0;const a=n(3416);t.Header={len:8,get:(e,t)=>({chunkID:e.toString("binary",t,t+4),chunkSize:a.UINT32_LE.get(e,4)})},t.ListInfoTagValue=class{constructor(e){this.tagHeader=e,this.len=e.chunkSize,this.len+=1&this.len}get(e,t){return new a.StringType(this.tagHeader.chunkSize,"ascii").get(e,t)}}},5756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffInfoTagMapper=t.riffInfoTagMap=void 0;const a=n(9918);t.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class r extends a.CommonTagMapper{constructor(){super(["exif"],t.riffInfoTagMap)}}t.RiffInfoTagMapper=r},6032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=void 0;var a=n(8591);Object.defineProperty(t,"TrackType",{enumerable:!0,get:function(){return a.TrackType}})},8053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastAudioExtensionChunk=void 0;const a=n(3416),r=n(3769);t.BroadcastAudioExtensionChunk={len:420,get:(e,t)=>({description:(0,r.stripNulls)(new a.StringType(256,"ascii").get(e,t)).trim(),originator:(0,r.stripNulls)(new a.StringType(32,"ascii").get(e,t+256)).trim(),originatorReference:(0,r.stripNulls)(new a.StringType(32,"ascii").get(e,t+288)).trim(),originationDate:(0,r.stripNulls)(new a.StringType(10,"ascii").get(e,t+320)).trim(),originationTime:(0,r.stripNulls)(new a.StringType(8,"ascii").get(e,t+330)).trim(),timeReferenceLow:a.UINT32_LE.get(e,t+338),timeReferenceHigh:a.UINT32_LE.get(e,t+342),version:a.UINT16_LE.get(e,t+346),umid:new a.Uint8ArrayType(64).get(e,t+348),loudnessValue:a.UINT16_LE.get(e,t+412),maxTruePeakLevel:a.UINT16_LE.get(e,t+414),maxMomentaryLoudness:a.UINT16_LE.get(e,t+416),maxShortTermLoudness:a.UINT16_LE.get(e,t+418)})}},9975:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.FactChunk=t.Format=t.WaveFormat=void 0,(n=t.WaveFormat||(t.WaveFormat={}))[n.PCM=1]="PCM",n[n.ADPCM=2]="ADPCM",n[n.IEEE_FLOAT=3]="IEEE_FLOAT",n[n.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",n[n.MPEG_LOAS=5634]="MPEG_LOAS",n[n.RAW_AAC1=255]="RAW_AAC1",n[n.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",n[n.DVM=8192]="DVM",n[n.RAW_SPORT=576]="RAW_SPORT",n[n.ESST_AC3=577]="ESST_AC3",n[n.DRM=9]="DRM",n[n.DTS2=8193]="DTS2",n[n.MPEG=80]="MPEG",t.Format=class{constructor(e){if(e.chunkSize<16)throw new Error("Invalid chunk size");this.len=e.chunkSize}get(e,t){return{wFormatTag:e.readUInt16LE(t),nChannels:e.readUInt16LE(t+2),nSamplesPerSec:e.readUInt32LE(t+4),nAvgBytesPerSec:e.readUInt32LE(t+8),nBlockAlign:e.readUInt16LE(t+12),wBitsPerSample:e.readUInt16LE(t+14)}}},t.FactChunk=class{constructor(e){if(e.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=e.chunkSize}get(e,t){return{dwSampleLength:e.readUInt32LE(t)}}}},2682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaveParser=void 0;const a=n(5849),r=n(3416),s=n(1227),i=n(3211),o=n(9975),l=n(8928),m=n(3769),c=n(8049),u=n(7805),_=n(8053),p=(0,s.default)("music-metadata:parser:RIFF");class v extends u.BasicParser{async parse(){const e=await this.tokenizer.readToken(i.Header);if(p(`pos=${this.tokenizer.position}, parse: chunkID=${e.chunkID}`),"RIFF"===e.chunkID)return this.parseRiffChunk(e.chunkSize).catch((e=>{if(!(e instanceof a.EndOfStreamError))throw e}))}async parseRiffChunk(e){const t=await this.tokenizer.readToken(c.FourCcToken);if(this.metadata.setFormat("container",t),"WAVE"===t)return this.readWaveChunk(e-c.FourCcToken.len);throw new Error(`Unsupported RIFF format: RIFF/${t}`)}async readWaveChunk(e){for(;e>=i.Header.len;){const t=await this.tokenizer.readToken(i.Header);switch(e-=i.Header.len+t.chunkSize,t.chunkSize>e&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=t,p(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${t.chunkID}`),t.chunkID){case"LIST":await this.parseListTag(t);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new o.FactChunk(t));break;case"fmt ":const e=await this.tokenizer.readToken(new o.Format(t));let n=o.WaveFormat[e.wFormatTag];n||(p("WAVE/non-PCM format="+e.wFormatTag),n="non-PCM ("+e.wFormatTag+")"),this.metadata.setFormat("codec",n),this.metadata.setFormat("bitsPerSample",e.wBitsPerSample),this.metadata.setFormat("sampleRate",e.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",e.nChannels),this.metadata.setFormat("bitrate",e.nBlockAlign*e.nSamplesPerSec*8),this.blockAlign=e.nBlockAlign;break;case"id3 ":case"ID3 ":const s=await this.tokenizer.readToken(new r.Uint8ArrayType(t.chunkSize)),i=a.fromBuffer(s);await(new l.ID3v2Parser).parse(this.metadata,i,this.options);break;case"data":!1!==this.metadata.format.lossless&&this.metadata.setFormat("lossless",!0);let m=t.chunkSize;if(this.tokenizer.fileInfo.size){const e=this.tokenizer.fileInfo.size-this.tokenizer.position;e<m&&(this.metadata.addWarning("data chunk length exceeding file length"),m=e)}const c=this.fact?this.fact.dwSampleLength:4294967295===m?void 0:m/this.blockAlign;c&&(this.metadata.setFormat("numberOfSamples",c),this.metadata.setFormat("duration",c/this.metadata.format.sampleRate)),this.metadata.setFormat("bitrate",this.metadata.format.numberOfChannels*this.blockAlign*this.metadata.format.sampleRate),await this.tokenizer.ignore(t.chunkSize);break;case"bext":const u=await this.tokenizer.readToken(_.BroadcastAudioExtensionChunk);Object.keys(u).forEach((e=>{this.metadata.addTag("exif","bext."+e,u[e])}));const v=t.chunkSize-_.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(v);break;case"\0\0\0\0":p(`Ignore padding chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+t.chunkID),await this.tokenizer.ignore(t.chunkSize);break;default:p(`Ignore chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+t.chunkID),await this.tokenizer.ignore(t.chunkSize)}this.header.chunkSize%2==1&&(p("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(e){const t=await this.tokenizer.readToken(new r.StringType(4,"binary"));return p("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,t),"INFO"===t?this.parseRiffInfoTags(e.chunkSize-4):(this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+t),p("Ignoring chunkID=RIFF/WAVE/LIST/"+t),this.tokenizer.ignore(e.chunkSize-4).then())}async parseRiffInfoTags(e){for(;e>=8;){const t=await this.tokenizer.readToken(i.Header),n=new i.ListInfoTagValue(t),a=await this.tokenizer.readToken(n);this.addTag(t.chunkID,m.stripNulls(a)),e-=8+n.len}if(0!==e)throw Error("Illegal remaining size: "+e)}addTag(e,t){this.metadata.addTag("exif",e,t)}}t.WaveParser=v},5870:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.WavPackParser=void 0;const r=n(3416),s=n(6742),i=n(8049),o=n(7805),l=n(2989),m=(0,n(1227).default)("music-metadata:parser:WavPack");class c extends o.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),s.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if("wvpk"!==await this.tokenizer.peekToken(i.FourCcToken))break;const e=await this.tokenizer.readToken(l.WavPack.BlockHeaderToken);if("wvpk"!==e.BlockID)throw new Error("Invalid WavPack Block-ID");m(`WavPack header blockIndex=${e.blockIndex}, len=${l.WavPack.BlockHeaderToken.len}`),0!==e.blockIndex||this.metadata.format.container||(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!e.flags.isHybrid),this.metadata.setFormat("bitsPerSample",e.flags.bitsPerSample),e.flags.isDSD||(this.metadata.setFormat("sampleRate",e.flags.samplingRate),this.metadata.setFormat("duration",e.totalSamples/e.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",e.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",e.totalSamples),this.metadata.setFormat("codec",e.flags.isDSD?"DSD":"PCM"));const t=e.blockSize-(l.WavPack.BlockHeaderToken.len-8);await(0===e.blockIndex?this.parseMetadataSubBlock(e,t):this.tokenizer.ignore(t)),e.blockSamples>0&&(this.audioDataSize+=e.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=l.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",8*this.audioDataSize/this.metadata.format.duration)}async parseMetadataSubBlock(e,t){for(;t>l.WavPack.MetadataIdToken.len;){const n=await this.tokenizer.readToken(l.WavPack.MetadataIdToken),s=await this.tokenizer.readNumber(n.largeBlock?r.UINT24_LE:r.UINT8),i=a.alloc(2*s-(n.isOddSize?1:0));switch(await this.tokenizer.readBuffer(i),m(`Metadata Sub-Blocks functionId=0x${n.functionId.toString(16)}, id.largeBlock=${n.largeBlock},data-size=${i.length}`),n.functionId){case 0:break;case 14:m("ID_DSD_BLOCK");const t=1<<i.readUInt8(0),a=e.flags.samplingRate*t*8;if(!e.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",a),this.metadata.setFormat("duration",e.totalSamples/a);break;case 36:m("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",i);break;case 47:m(`ID_BLOCK_CHECKSUM: checksum=${i.toString("hex")}`);break;default:m(`Ignore unsupported meta-sub-block-id functionId=0x${n.functionId.toString(16)}`)}t-=l.WavPack.MetadataIdToken.len+(n.largeBlock?r.UINT24_LE.len:r.UINT8.len)+2*s,m(`remainingLength=${t}`),n.isOddSize&&this.tokenizer.ignore(1)}if(0!==t)throw new Error("metadata-sub-block should fit it remaining length")}}t.WavPackParser=c},2989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WavPack=void 0;const a=n(3416),r=n(8049),s=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class i{static isBitSet(e,t){return 1===i.getBitAllignedNumber(e,t,1)}static getBitAllignedNumber(e,t,n){return e>>>t&4294967295>>>32-n}}t.WavPack=i,i.BlockHeaderToken={len:32,get:(e,t)=>{const n=a.UINT32_LE.get(e,t+24),o={BlockID:r.FourCcToken.get(e,t),blockSize:a.UINT32_LE.get(e,t+4),version:a.UINT16_LE.get(e,t+8),totalSamples:a.UINT32_LE.get(e,t+12),blockIndex:a.UINT32_LE.get(e,t+16),blockSamples:a.UINT32_LE.get(e,t+20),flags:{bitsPerSample:8*(1+i.getBitAllignedNumber(n,0,2)),isMono:i.isBitSet(n,2),isHybrid:i.isBitSet(n,3),isJointStereo:i.isBitSet(n,4),crossChannel:i.isBitSet(n,5),hybridNoiseShaping:i.isBitSet(n,6),floatingPoint:i.isBitSet(n,7),samplingRate:s[i.getBitAllignedNumber(n,23,4)],isDSD:i.isBitSet(n,31)},crc:new a.Uint8ArrayType(4).get(e,t+28)};return o.flags.isDSD&&(o.totalSamples*=8),o}},i.MetadataIdToken={len:1,get:(e,t)=>({functionId:i.getBitAllignedNumber(e[t],0,6),isOptional:i.isBitSet(e[t],5),isOddSize:i.isBitSet(e[t],6),largeBlock:i.isBitSet(e[t],7)})}},8985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}},7279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class n extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=n},6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const a=n(7279),r=n(8985);var s=n(7279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),t.StreamReader=class{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new a.EndOfStreamError))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,n){const a=await this.read(e,t,n);return this.peekQueue.push(e.subarray(t,t+a)),a}async read(e,t,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new a.EndOfStreamError;let r=n,s=0;for(;this.peekQueue.length>0&&r>0;){const n=this.peekQueue.pop();if(!n)throw new Error("peekData should be defined");const a=Math.min(n.length,r);e.set(n.subarray(0,a),t+s),s+=a,r-=a,a<n.length&&this.peekQueue.push(n.subarray(a))}for(;r>0&&!this.endOfStream;){const n=Math.min(r,1048576),a=await this.readFromStream(e,t+s,n);if(s+=a,a<n)break;r-=a}return s}async readFromStream(e,t,n){const a=this.s.read(n);if(a)return e.set(a,t),a.length;{const a={buffer:e,offset:t,length:n,deferred:new r.Deferred};return this.deferred=a.deferred,this.s.once("readable",(()=>{this.readDeferred(a)})),a.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(e)}))}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}},5167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var a=n(7279);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}});var r=n(6654);Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return r.StreamReader}})},4155:e=>{var t,n,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var o,l=[],m=!1,c=-1;function u(){m&&o&&(m=!1,o.length?l=o.concat(l):c=-1,l.length&&_())}function _(){if(!m){var e=i(u);m=!0;for(var t=l.length;t;){for(o=l,l=[];++c<t;)o&&o[c].run();c=-1,t=l.length}o=null,m=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||m||i(_)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},4448:(e,t,n)=>{"use strict";var a=n(7294),r=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function d(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new d(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new d(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new d(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new d(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new d(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new d(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new d(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new d(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new d(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}function g(e,t,n,a){var r=b.hasOwnProperty(t)?b[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(v,e)||!u.call(p,e)&&(_.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,f);b[t]=new d(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,f);b[t]=new d(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,f);b[t]=new d(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new d(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new d(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,D=Object.assign;function N(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function O(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(t){if(t&&a&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function V(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return O(e.type,!1);case 11:return O(e.type.render,!1);case 1:return O(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case w:return"Portal";case z:return"Profiler";case q:return"StrictMode";case S:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function H(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function K(e,t){J(e,t);var n=Q(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function se(e,t){var n=Q(t.value),a=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function de(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=de(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var he=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fe(e,t){if(t){if(he[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ae=null,qe=null;function ze(e){if(e=gr(e)){if("function"!=typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=yr(t),we(e.stateNode,e.type,t))}}function Ee(e){Ae?qe?qe.push(e):qe=[e]:Ae=e}function ke(){if(Ae){var e=Ae,t=qe;if(qe=Ae=null,ze(e),t)for(e=0;e<t.length;e++)ze(t[e])}}function Te(e,t){return e(t)}function Se(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ae||null!==qe)&&(Se(),ke())}}function Ce(e,t){var n=e.stateNode;if(null===n)return null;var a=yr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Me=!1}function Be(e,t,n,a,r,s,i,o,l){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(e){this.onError(e)}}var Le=!1,De=null,Ne=!1,Fe=null,Oe={onError:function(e){Le=!0,De=e}};function Ve(e,t,n,a,r,s,i,o,l){Le=!1,De=null,Be.apply(Oe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Ue(e)!==e)throw Error(s(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qe(r),e;if(i===a)return Qe(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=i;break}if(l===a){o=!0,a=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,a=r;break}if(l===a){o=!0,a=i,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,He=r.unstable_cancelCallback,$e=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Je=r.unstable_now,Ke=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null,it=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2,mt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _t(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~r;0!==o?a=ut(o):0!=(s&=i)&&(a=ut(s))}else 0!=(i=n&~r)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0==(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!=(4194240&s)))return t;if(0!=(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function dt(){var e=mt;return 0==(4194240&(mt<<=1))&&(mt=64),e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var gt=0;function xt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var yt,wt,At,qt,zt,Et=!1,kt=[],Tt=null,St=null,It=null,Pt=new Map,Ct=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Lt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&null!==(t=gr(t))&&wt(t),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=fr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void zt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gr(n))&&wt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);xe=a,n.target.dispatchEvent(a),xe=null,t.shift()}return!0}function Ft(e,t,n){Nt(e)&&n.delete(t)}function Ot(){Et=!1,null!==Tt&&Nt(Tt)&&(Tt=null),null!==St&&Nt(St)&&(St=null),null!==It&&Nt(It)&&(It=null),Pt.forEach(Ft),Ct.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ot)))}function Ut(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var a=kt[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==St&&Vt(St,e),null!==It&&Vt(It,e),Pt.forEach(t),Ct.forEach(t),n=0;n<Mt.length;n++)(a=Mt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var jt=x.ReactCurrentBatchConfig,Qt=!0;function Xt(e,t,n,a){var r=gt,s=jt.transition;jt.transition=null;try{gt=1,Gt(e,t,n,a)}finally{gt=r,jt.transition=s}}function Wt(e,t,n,a){var r=gt,s=jt.transition;jt.transition=null;try{gt=4,Gt(e,t,n,a)}finally{gt=r,jt.transition=s}}function Gt(e,t,n,a){if(Qt){var r=$t(e,t,n,a);if(null===r)Qa(e,t,a,Ht,n),Bt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,a,r),!0;case"dragenter":return St=Lt(St,e,t,n,a,r),!0;case"mouseover":return It=Lt(It,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Ct.set(s,Lt(Ct.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Bt(e,a),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var s=gr(r);if(null!==s&&yt(s),null===(s=$t(e,t,n,a))&&Qa(e,t,a,Ht,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Qa(e,t,a,null,n)}}var Ht=null;function $t(e,t,n,a){if(Ht=null,null!==(e=fr(e=ye(a))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,Kt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Kt,a=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(mn),un=D({},mn,{view:0,detail:0}),_n=rn(un),pn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),vn=rn(pn),dn=rn(D({},pn,{dataTransfer:0})),bn=rn(D({},un,{relatedTarget:0})),hn=rn(D({},mn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=D({},mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=rn(fn),xn=rn(D({},mn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function zn(){return qn}var En=D({},un,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=rn(En),Tn=rn(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=rn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn})),In=rn(D({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=rn(Pn),Mn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Bn=null;c&&"documentMode"in document&&(Bn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Bn,Dn=c&&(!Rn||Bn&&8<Bn&&11>=Bn),Nn=String.fromCharCode(32),Fn=!1;function On(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Xn(e,t,n,a){Ee(a),0<(t=Wa(t,"onChange")).length&&(n=new cn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Hn(e){Na(e,0)}function $n(e){if(G(xr(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Kn;if(c){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"==typeof ea.oninput}Kn=Zn}else Kn=!1;Jn=Kn&&(!document.documentMode||9<document.documentMode)}function ta(){Wn&&(Wn.detachEvent("onpropertychange",na),Gn=Wn=null)}function na(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Xn(t,Gn,e,ye(e)),Pe(Hn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Gn=n,(Wn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sa(e,t){if("click"===e)return $n(t)}function ia(e,t){if("input"===e||"change"===e)return $n(t)}var oa="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function la(e,t){if(oa(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var n,a=ma(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ma(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _a(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function va(e){var t=_a(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=ca(n,s);var i=ca(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var da=c&&"documentMode"in document&&11>=document.documentMode,ba=null,ha=null,fa=null,ga=!1;function xa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ga||null==ba||ba!==H(a)||(a="selectionStart"in(a=ba)&&pa(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&la(fa,a)||(fa=a,0<(a=Wa(ha,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ba)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Aa={},qa={};function za(e){if(Aa[e])return Aa[e];if(!wa[e])return e;var t,n=wa[e];for(t in n)if(n.hasOwnProperty(t)&&t in qa)return Aa[e]=n[t];return e}c&&(qa=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Ea=za("animationend"),ka=za("animationiteration"),Ta=za("animationstart"),Sa=za("transitionend"),Ia=new Map,Pa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(e,t){Ia.set(e,t),l(t,[e])}for(var Ma=0;Ma<Pa.length;Ma++){var Ra=Pa[Ma];Ca(Ra.toLowerCase(),"on"+(Ra[0].toUpperCase()+Ra.slice(1)))}Ca(Ea,"onAnimationEnd"),Ca(ka,"onAnimationIteration"),Ca(Ta,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(Sa,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),La=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Da(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,o,l,m){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=De;Le=!1,De=null,Ne||(Ne=!0,Fe=c)}}(a,t,void 0,e),e.currentTarget=null}function Na(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,m=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Da(r,o,m),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,m=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Da(r,o,m),s=l}}}if(Ne)throw e=Fe,Ne=!1,Fe=null,e}function Fa(e,t){var n=t[dr];void 0===n&&(n=t[dr]=new Set);var a=e+"__bubble";n.has(a)||(ja(t,e,2,!1),n.add(a))}function Oa(e,t,n){var a=0;t&&(a|=4),ja(n,e,a,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Va]){e[Va]=!0,i.forEach((function(t){"selectionchange"!==t&&(La.has(t)||Oa(t,!1,e),Oa(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Va]||(t[Va]=!0,Oa("selectionchange",!1,t))}}function ja(e,t,n,a){switch(Yt(t)){case 1:var r=Xt;break;case 4:r=Wt;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Qa(e,t,n,a,r){var s=a;if(0==(1&t)&&0==(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=fr(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Pe((function(){var a=s,r=ye(n),i=[];e:{var o=Ia.get(e);if(void 0!==o){var l=cn,m=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":m="focus",l=bn;break;case"focusout":m="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case Ea:case ka:case Ta:l=hn;break;case Sa:l=In;break;case"scroll":l=_n;break;case"wheel":l=Cn;break;case"copy":case"cut":case"paste":l=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!=(4&t),u=!c&&"scroll"===e,_=c?null!==o?o+"Capture":null:o;c=[];for(var p,v=a;null!==v;){var d=(p=v).stateNode;if(5===p.tag&&null!==d&&(p=d,null!==_&&null!=(d=Ce(v,_))&&c.push(Xa(v,d,p))),u)break;v=v.return}0<c.length&&(o=new l(o,m,null,n,r),i.push({event:o,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(m=n.relatedTarget||n.fromElement)||!fr(m)&&!m[vr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(m=(m=n.relatedTarget||n.toElement)?fr(m):null)&&(m!==(u=Ue(m))||5!==m.tag&&6!==m.tag)&&(m=null)):(l=null,m=a),l!==m)){if(c=vn,d="onMouseLeave",_="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,d="onPointerLeave",_="onPointerEnter",v="pointer"),u=null==l?o:xr(l),p=null==m?o:xr(m),(o=new c(d,v+"leave",l,n,r)).target=u,o.relatedTarget=p,d=null,fr(r)===a&&((c=new c(_,v+"enter",m,n,r)).target=p,c.relatedTarget=u,d=c),u=d,l&&m)e:{for(_=m,v=0,p=c=l;p;p=Ga(p))v++;for(p=0,d=_;d;d=Ga(d))p++;for(;0<v-p;)c=Ga(c),v--;for(;0<p-v;)_=Ga(_),p--;for(;v--;){if(c===_||null!==_&&c===_.alternate)break e;c=Ga(c),_=Ga(_)}c=null}else c=null;null!==l&&Ha(i,o,l,c,!1),null!==m&&null!==u&&Ha(i,u,m,c,!0)}if("select"===(l=(o=a?xr(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var b=Yn;else if(Qn(o))if(Jn)b=ia;else{b=ra;var h=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(b=sa);switch(b&&(b=b(e,a))?Xn(i,b,n,r):(h&&h(e,o,a),"focusout"===e&&(h=o._wrapperState)&&h.controlled&&"number"===o.type&&ee(o,"number",o.value)),h=a?xr(a):window,e){case"focusin":(Qn(h)||"true"===h.contentEditable)&&(ba=h,ha=a,fa=null);break;case"focusout":fa=ha=ba=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,xa(i,n,r);break;case"selectionchange":if(da)break;case"keydown":case"keyup":xa(i,n,r)}var f;if(Rn)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Un?On(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==g?"onCompositionEnd"===g&&Un&&(f=en()):(Kt="value"in(Jt=r)?Jt.value:Jt.textContent,Un=!0)),0<(h=Wa(a,g)).length&&(g=new xn(g,e,null,n,r),i.push({event:g,listeners:h}),(f||null!==(f=Vn(n)))&&(g.data=f))),(f=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&On(e,t)?(e=en(),Zt=Kt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(a=Wa(a,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=f)}Na(i,t)}))}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ce(e,n))&&a.unshift(Xa(e,s,r)),null!=(s=Ce(e,t))&&a.push(Xa(e,s,r))),e=e.return}return a}function Ga(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ha(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,m=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==m&&(o=m,r?null!=(l=Ce(n,s))&&i.unshift(Xa(n,l,o)):r||null!=(l=Ce(n,s))&&i.push(Xa(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $a=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Ja(e){return("string"==typeof e?e:""+e).replace($a,"\n").replace(Ya,"")}function Ka(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0,sr="function"==typeof Promise?Promise:void 0,ir="function"==typeof queueMicrotask?queueMicrotask:void 0!==sr?function(e){return sr.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Ut(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Ut(t)}function mr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),_r="__reactFiber$"+ur,pr="__reactProps$"+ur,vr="__reactContainer$"+ur,dr="__reactEvents$"+ur,br="__reactListeners$"+ur,hr="__reactHandles$"+ur;function fr(e){var t=e[_r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vr]||n[_r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[_r])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function gr(e){return!(e=e[_r]||e[vr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function yr(e){return e[pr]||null}var wr=[],Ar=-1;function qr(e){return{current:e}}function zr(e){0>Ar||(e.current=wr[Ar],wr[Ar]=null,Ar--)}function Er(e,t){Ar++,wr[Ar]=e.current,e.current=t}var kr={},Tr=qr(kr),Sr=qr(!1),Ir=kr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return kr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cr(e){return null!=e.childContextTypes}function Mr(){zr(Sr),zr(Tr)}function Rr(e,t,n){if(Tr.current!==kr)throw Error(s(168));Er(Tr,t),Er(Sr,n)}function Br(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,j(e)||"Unknown",r));return D({},n,a)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Ir=Tr.current,Er(Tr,e),Er(Sr,Sr.current),!0}function Dr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Br(e,t,Ir),a.__reactInternalMemoizedMergedChildContext=e,zr(Sr),zr(Tr),Er(Tr,e)):zr(Sr),Er(Sr,n)}var Nr=null,Fr=!1,Or=!1;function Vr(e){null===Nr?Nr=[e]:Nr.push(e)}function Ur(){if(!Or&&null!==Nr){Or=!0;var e=0,t=gt;try{var n=Nr;for(gt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Nr=null,Fr=!1}catch(t){throw null!==Nr&&(Nr=Nr.slice(e+1)),Ge(Ze,Ur),t}finally{gt=t,Or=!1}}return null}var jr=[],Qr=0,Xr=null,Wr=0,Gr=[],Hr=0,$r=null,Yr=1,Jr="";function Kr(e,t){jr[Qr++]=Wr,jr[Qr++]=Xr,Xr=e,Wr=t}function Zr(e,t,n){Gr[Hr++]=Yr,Gr[Hr++]=Jr,Gr[Hr++]=$r,$r=e;var a=Yr;e=Jr;var r=32-it(a)-1;a&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Yr=1<<32-it(t)+r|n<<r|a,Jr=s+e}else Yr=1<<s|n<<r|a,Jr=e}function es(e){null!==e.return&&(Kr(e,1),Zr(e,1,0))}function ts(e){for(;e===Xr;)Xr=jr[--Qr],jr[Qr]=null,Wr=jr[--Qr],jr[Qr]=null;for(;e===$r;)$r=Gr[--Hr],Gr[Hr]=null,Jr=Gr[--Hr],Gr[Hr]=null,Yr=Gr[--Hr],Gr[Hr]=null}var ns=null,as=null,rs=!1,ss=null;function is(e,t){var n=Pm(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=mr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$r?{id:Yr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pm(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function ls(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ms(e){if(rs){var t=as;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=mr(n.nextSibling);var a=ns;t&&os(e,t)?is(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return cs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw _s(),Error(s(418));for(;t;)is(e,t),t=mr(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=mr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?mr(e.stateNode.nextSibling):null;return!0}function _s(){for(var e=as;e;)e=mr(e.nextSibling)}function ps(){as=ns=null,rs=!1}function vs(e){null===ss?ss=[e]:ss.push(e)}var ds=x.ReactCurrentBatchConfig;function bs(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var hs=qr(null),fs=null,gs=null,xs=null;function ys(){xs=gs=fs=null}function ws(e){var t=hs.current;zr(hs),e._currentValue=t}function As(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){fs=e,xs=gs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(xo=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},null===gs){if(null===fs)throw Error(s(308));gs=e,fs.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var Es=null;function ks(e){null===Es?Es=[e]:Es.push(e)}function Ts(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,ks(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ss(e,a)}function Ss(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!=(2&Tl)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Ss(e,n)}return null===(r=a.interleaved)?(t.next=t,ks(a)):(t.next=r.next,r.next=t),a.interleaved=t,Ss(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ft(e,n)}}function Ls(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ds(e,t,n,a){var r=e.updateQueue;Is=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,m=l.next;l.next=null,null===i?s=m:i.next=m,i=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=m:o.next=m,c.lastBaseUpdate=l)}if(null!==s){var u=r.baseState;for(i=0,c=m=l=null,o=s;;){var _=o.lane,p=o.eventTime;if((a&_)===_){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,d=o;switch(_=t,p=n,d.tag){case 1:if("function"==typeof(v=d.payload)){u=v.call(p,u,_);break e}u=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(_="function"==typeof(v=d.payload)?v.call(p,u,_):v))break e;u=D({},u,_);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(_=r.effects)?r.effects=[o]:_.push(o))}else p={eventTime:p,lane:_,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(m=c=p,l=u):c=c.next=p,i|=_;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(_=o).next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}if(null===c&&(l=u),r.baseState=l,r.firstBaseUpdate=m,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=u}}function Ns(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!=typeof r)throw Error(s(191,r));r.call(a)}}}var Fs=(new a.Component).refs;function Os(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=em(),r=tm(e),s=Ms(a,r);s.payload=t,null!=n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(nm(t,e,r,a),Bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=em(),r=tm(e),s=Ms(a,r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(nm(t,e,r,a),Bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=em(),a=tm(e),r=Ms(n,a);r.tag=2,null!=t&&(r.callback=t),null!==(t=Rs(e,r,a))&&(nm(t,e,a,n),Bs(t,e,a))}};function Us(e,t,n,a,r,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!(t.prototype&&t.prototype.isPureReactComponent&&la(n,a)&&la(r,s))}function js(e,t,n){var a=!1,r=kr,s=t.contextType;return"object"==typeof s&&null!==s?s=zs(s):(r=Cr(t)?Ir:Tr.current,s=(a=null!=(a=t.contextTypes))?Pr(e,r):kr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qs(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Xs(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Fs,Ps(e);var s=t.contextType;"object"==typeof s&&null!==s?r.context=zs(s):(s=Cr(t)?Ir:Tr.current,r.context=Pr(e,s)),r.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Os(e,t,s,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vs.enqueueReplaceState(r,r.state,null),Ds(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Fs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hs(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Mm(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Dm(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n,a){var s=n.type;return s===A?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===C&&Hs(s)===t.type)?((a=r(t,n.props)).ref=Ws(e,t,n),a.return=e,a):((a=Rm(n.type,n.key,n.props,null,e.mode,a)).ref=Ws(e,t,n),a.return=e,a)}function c(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nm(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Bm(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function _(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Dm(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Rm(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case w:return(t=Nm(t,e.mode,n)).return=e,t;case C:return _(e,(0,t._init)(t._payload),n)}if(te(t)||B(t))return(t=Bm(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===r?m(e,t,n,a):null;case w:return n.key===r?c(e,t,n,a):null;case C:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||B(n))return null!==r?null:u(e,t,n,a,null);Gs(e,n)}return null}function v(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case y:return m(t,e=e.get(null===a.key?n:a.key)||null,a,r);case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case C:return v(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||B(a))return u(t,e=e.get(n)||null,a,r,null);Gs(t,a)}return null}function d(r,s,o,l){for(var m=null,c=null,u=s,d=s=0,b=null;null!==u&&d<o.length;d++){u.index>d?(b=u,u=null):b=u.sibling;var h=p(r,u,o[d],l);if(null===h){null===u&&(u=b);break}e&&u&&null===h.alternate&&t(r,u),s=i(h,s,d),null===c?m=h:c.sibling=h,c=h,u=b}if(d===o.length)return n(r,u),rs&&Kr(r,d),m;if(null===u){for(;d<o.length;d++)null!==(u=_(r,o[d],l))&&(s=i(u,s,d),null===c?m=u:c.sibling=u,c=u);return rs&&Kr(r,d),m}for(u=a(r,u);d<o.length;d++)null!==(b=v(u,r,d,o[d],l))&&(e&&null!==b.alternate&&u.delete(null===b.key?d:b.key),s=i(b,s,d),null===c?m=b:c.sibling=b,c=b);return e&&u.forEach((function(e){return t(r,e)})),rs&&Kr(r,d),m}function b(r,o,l,m){var c=B(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,d=o,b=o=0,h=null,f=l.next();null!==d&&!f.done;b++,f=l.next()){d.index>b?(h=d,d=null):h=d.sibling;var g=p(r,d,f.value,m);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(r,d),o=i(g,o,b),null===u?c=g:u.sibling=g,u=g,d=h}if(f.done)return n(r,d),rs&&Kr(r,b),c;if(null===d){for(;!f.done;b++,f=l.next())null!==(f=_(r,f.value,m))&&(o=i(f,o,b),null===u?c=f:u.sibling=f,u=f);return rs&&Kr(r,b),c}for(d=a(r,d);!f.done;b++,f=l.next())null!==(f=v(d,r,b,f.value,m))&&(e&&null!==f.alternate&&d.delete(null===f.key?b:f.key),o=i(f,o,b),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(r,e)})),rs&&Kr(r,b),c}return function e(a,s,i,l){if("object"==typeof i&&null!==i&&i.type===A&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case y:e:{for(var m=i.key,c=s;null!==c;){if(c.key===m){if((m=i.type)===A){if(7===c.tag){n(a,c.sibling),(s=r(c,i.props.children)).return=a,a=s;break e}}else if(c.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===C&&Hs(m)===c.type){n(a,c.sibling),(s=r(c,i.props)).ref=Ws(a,c,i),s.return=a,a=s;break e}n(a,c);break}t(a,c),c=c.sibling}i.type===A?((s=Bm(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=Rm(i.type,i.key,i.props,null,a.mode,l)).ref=Ws(a,s,i),l.return=a,a=l)}return o(a);case w:e:{for(c=i.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(a,s.sibling),(s=r(s,i.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Nm(i,a.mode,l)).return=a,a=s}return o(a);case C:return e(a,s,(c=i._init)(i._payload),l)}if(te(i))return d(a,s,i,l);if(B(i))return b(a,s,i,l);Gs(a,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,i)).return=a,a=s):(n(a,s),(s=Dm(i,a.mode,l)).return=a,a=s),o(a)):n(a,s)}}var Ys=$s(!0),Js=$s(!1),Ks={},Zs=qr(Ks),ei=qr(Ks),ti=qr(Ks);function ni(e){if(e===Ks)throw Error(s(174));return e}function ai(e,t){switch(Er(ti,t),Er(ei,e),Er(Zs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zr(Zs),Er(Zs,t)}function ri(){zr(Zs),zr(ei),zr(ti)}function si(e){ni(ti.current);var t=ni(Zs.current),n=le(t,e.type);t!==n&&(Er(ei,e),Er(Zs,n))}function ii(e){ei.current===e&&(zr(Zs),zr(ei))}var oi=qr(0);function li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mi=[];function ci(){for(var e=0;e<mi.length;e++)mi[e]._workInProgressVersionPrimary=null;mi.length=0}var ui=x.ReactCurrentDispatcher,_i=x.ReactCurrentBatchConfig,pi=0,vi=null,di=null,bi=null,hi=!1,fi=!1,gi=0,xi=0;function yi(){throw Error(s(321))}function wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function Ai(e,t,n,a,r,i){if(pi=i,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=null===e||null===e.memoizedState?io:oo,e=n(a,r),fi){i=0;do{if(fi=!1,gi=0,25<=i)throw Error(s(301));i+=1,bi=di=null,t.updateQueue=null,ui.current=lo,e=n(a,r)}while(fi)}if(ui.current=so,t=null!==di&&null!==di.next,pi=0,bi=di=vi=null,hi=!1,t)throw Error(s(300));return e}function qi(){var e=0!==gi;return gi=0,e}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bi?vi.memoizedState=bi=e:bi=bi.next=e,bi}function Ei(){if(null===di){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=di.next;var t=null===bi?vi.memoizedState:bi.next;if(null!==t)bi=t,di=e;else{if(null===e)throw Error(s(310));e={memoizedState:(di=e).memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},null===bi?vi.memoizedState=bi=e:bi=bi.next=e}return bi}function ki(e,t){return"function"==typeof t?t(e):t}function Ti(e){var t=Ei(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=di,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var l=o=null,m=null,c=i;do{var u=c.lane;if((pi&u)===u)null!==m&&(m=m.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var _={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===m?(l=m=_,o=a):m=m.next=_,vi.lanes|=u,Ll|=u}c=c.next}while(null!==c&&c!==i);null===m?o=a:m.next=l,oa(a,t.memoizedState)||(xo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=m,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,vi.lanes|=i,Ll|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=Ei(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);oa(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ii(){}function Pi(e,t){var n=vi,a=Ei(),r=t(),i=!oa(a.memoizedState,r);if(i&&(a.memoizedState=r,xo=!0),a=a.queue,ji(Ri.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==bi&&1&bi.memoizedState.tag){if(n.flags|=2048,Ni(9,Mi.bind(null,n,a,r,t),void 0,null),null===Sl)throw Error(s(349));0!=(30&pi)||Ci(n,t,r)}return r}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mi(e,t,n,a){t.value=n,t.getSnapshot=a,Bi(t)&&Li(e)}function Ri(e,t,n){return n((function(){Bi(t)&&Li(e)}))}function Bi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(e){return!0}}function Li(e){var t=Ss(e,1);null!==t&&nm(t,e,1,-1)}function Di(e){var t=zi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,vi,e),[t.memoizedState,e]}function Ni(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Fi(){return Ei().memoizedState}function Oi(e,t,n,a){var r=zi();vi.flags|=e,r.memoizedState=Ni(1|t,n,void 0,void 0===a?null:a)}function Vi(e,t,n,a){var r=Ei();a=void 0===a?null:a;var s=void 0;if(null!==di){var i=di.memoizedState;if(s=i.destroy,null!==a&&wi(a,i.deps))return void(r.memoizedState=Ni(t,n,s,a))}vi.flags|=e,r.memoizedState=Ni(1|t,n,s,a)}function Ui(e,t){return Oi(8390656,8,e,t)}function ji(e,t){return Vi(2048,8,e,t)}function Qi(e,t){return Vi(4,2,e,t)}function Xi(e,t){return Vi(4,4,e,t)}function Wi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gi(e,t,n){return n=null!=n?n.concat([e]):null,Vi(4,4,Wi.bind(null,t,e),n)}function Hi(){}function $i(e,t){var n=Ei();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&wi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=Ei();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&wi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Ji(e,t,n){return 0==(21&pi)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(oa(n,t)||(n=dt(),vi.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ki(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var a=_i.transition;_i.transition={};try{e(!1),t()}finally{gt=n,_i.transition=a}}function Zi(){return Ei().memoizedState}function eo(e,t,n){var a=tm(e);n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},no(e)?ao(t,n):null!==(n=Ts(e,t,n,a))&&(nm(n,e,a,em()),ro(n,t,a))}function to(e,t,n){var a=tm(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ao(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,i)){var l=t.interleaved;return null===l?(r.next=r,ks(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(e){}null!==(n=Ts(e,t,r,a))&&(nm(n,e,a,r=em()),ro(n,t,a))}}function no(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function ao(e,t){fi=hi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!=(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ft(e,n)}}var so={readContext:zs,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},io={readContext:zs,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oi(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=zi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=zi();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=eo.bind(null,vi,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:Di,useDebugValue:Hi,useDeferredValue:function(e){return zi().memoizedState=e},useTransition:function(){var e=Di(!1),t=e[0];return e=Ki.bind(null,e[1]),zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=vi,r=zi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Sl)throw Error(s(349));0!=(30&pi)||Ci(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ui(Ri.bind(null,a,i,e),[e]),a.flags|=2048,Ni(9,Mi.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=zi(),t=Sl.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Yr&~(1<<32-it(Yr)-1)).toString(32)+n),0<(n=gi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:zs,useCallback:$i,useContext:zs,useEffect:ji,useImperativeHandle:Gi,useInsertionEffect:Qi,useLayoutEffect:Xi,useMemo:Yi,useReducer:Ti,useRef:Fi,useState:function(){return Ti(ki)},useDebugValue:Hi,useDeferredValue:function(e){return Ji(Ei(),di.memoizedState,e)},useTransition:function(){return[Ti(ki)[0],Ei().memoizedState]},useMutableSource:Ii,useSyncExternalStore:Pi,useId:Zi,unstable_isNewReconciler:!1},lo={readContext:zs,useCallback:$i,useContext:zs,useEffect:ji,useImperativeHandle:Gi,useInsertionEffect:Qi,useLayoutEffect:Xi,useMemo:Yi,useReducer:Si,useRef:Fi,useState:function(){return Si(ki)},useDebugValue:Hi,useDeferredValue:function(e){var t=Ei();return null===di?t.memoizedState=e:Ji(t,di.memoizedState,e)},useTransition:function(){return[Si(ki)[0],Ei().memoizedState]},useMutableSource:Ii,useSyncExternalStore:Pi,useId:Zi,unstable_isNewReconciler:!1};function mo(e,t){try{var n="",a=t;do{n+=V(a),a=a.return}while(a);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var _o="function"==typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ql||(Ql=!0,Xl=a),uo(0,t)},n}function vo(e,t,n){(n=Ms(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!=typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new _o;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=zm.bind(null,e,t,n),t.then(e,e))}function ho(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,n,a,r){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var go=x.ReactCurrentOwner,xo=!1;function yo(e,t,n,a){t.child=null===e?Js(t,null,n,a):Ys(t,e.child,n,a)}function wo(e,t,n,a,r){n=n.render;var s=t.ref;return qs(t,r),a=Ai(e,t,n,a,s,r),n=qi(),null===e||xo?(rs&&n&&es(t),t.flags|=1,yo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qo(e,t,r))}function Ao(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||Cm(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rm(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,qo(e,t,s,a,r))}if(s=e.child,0==(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:la)(i,a)&&e.ref===t.ref)return Qo(e,t,r)}return t.flags|=1,(e=Mm(s,a)).ref=t.ref,e.return=t,t.child=e}function qo(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(xo=!1,t.pendingProps=a=s,0==(e.lanes&r))return t.lanes=e.lanes,Qo(e,t,r);0!=(131072&e.flags)&&(xo=!0)}}return ko(e,t,n,a,r)}function zo(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ml,Cl),Cl|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Ml,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Er(Ml,Cl),Cl|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Er(Ml,Cl),Cl|=a;return yo(e,t,r,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,a,r){var s=Cr(n)?Ir:Tr.current;return s=Pr(t,s),qs(t,r),n=Ai(e,t,n,a,s,r),a=qi(),null===e||xo?(rs&&a&&es(t),t.flags|=1,yo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qo(e,t,r))}function To(e,t,n,a,r){if(Cr(n)){var s=!0;Lr(t)}else s=!1;if(qs(t,r),null===t.stateNode)jo(e,t),js(t,n,a),Xs(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,m=n.contextType;m="object"==typeof m&&null!==m?zs(m):Pr(t,m=Cr(n)?Ir:Tr.current);var c=n.getDerivedStateFromProps,u="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==a||l!==m)&&Qs(t,i,a,m),Is=!1;var _=t.memoizedState;i.state=_,Ds(t,a,i,r),l=t.memoizedState,o!==a||_!==l||Sr.current||Is?("function"==typeof c&&(Os(t,n,c,a),l=t.memoizedState),(o=Is||Us(t,n,o,a,_,l,m))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=m,a=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Cs(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:bs(t.type,o),i.props=m,u=t.pendingProps,_=i.context,l="object"==typeof(l=n.contextType)&&null!==l?zs(l):Pr(t,l=Cr(n)?Ir:Tr.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==u||_!==l)&&Qs(t,i,a,l),Is=!1,_=t.memoizedState,i.state=_,Ds(t,a,i,r);var v=t.memoizedState;o!==u||_!==v||Sr.current||Is?("function"==typeof p&&(Os(t,n,p,a),v=t.memoizedState),(m=Is||Us(t,n,m,a,_,v,l)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,v,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,v,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),i.props=a,i.state=v,i.context=l,a=m):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),a=!1)}return So(e,t,n,a,s,r)}function So(e,t,n,a,r,s){Eo(e,t);var i=0!=(128&t.flags);if(!a&&!i)return r&&Dr(t,n,!1),Qo(e,t,s);a=t.stateNode,go.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=a.state,r&&Dr(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),ai(e,t.containerInfo)}function Po(e,t,n,a,r){return ps(),vs(r),t.flags|=256,yo(e,t,n,a),t.child}var Co,Mo,Ro,Bo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var a,r=t.pendingProps,i=oi.current,o=!1,l=0!=(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!=(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Er(oi,1&i),null===e)return ms(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0==(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lm(l,r,0,null),e=Bm(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Bo,e):No(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Lm({mode:"visible",children:a.children},r,0,null),(i=Bm(i,r,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!=(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Bo,i);if(0==(1&t.mode))return Fo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Fo(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!=(o&e.childLanes),xo||l){if(null!==(a=Sl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!=(r&(a.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ss(e,r),nm(a,e,r,-1))}return dm(),Fo(e,t,o,a=co(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=km.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,as=mr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Gr[Hr++]=Yr,Gr[Hr++]=Jr,Gr[Hr++]=$r,Yr=e.id,Jr=e.overflow,$r=t),(t=No(t,a.children)).flags|=4096,t)}(e,t,l,r,a,i,n);if(o){o=r.fallback,l=t.mode,a=(i=e.child).sibling;var m={mode:"hidden",children:r.children};return 0==(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=m,t.deletions=null):(r=Mm(i,m)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Mm(a,o):(o=Bm(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Bo,r}return e=(o=e.child).sibling,r=Mm(o,{mode:"visible",children:r.children}),0==(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function No(e,t){return(t=Lm({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,a){return null!==a&&vs(a),Ys(t,e.child,null,n),(e=No(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Oo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),As(e.return,t,n)}function Vo(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Uo(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(yo(e,t,a.children,n),0!=(2&(a=oi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Oo(e,n,t);else if(19===e.tag)Oo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Er(oi,a),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===li(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===li(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mm(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mm(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Go(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Cr(t.type)&&Mr(),Wo(t),null;case 3:return a=t.stateNode,ri(),zr(Sr),zr(Tr),ci(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ss&&(im(ss),ss=null))),Wo(t),null;case 5:ii(t);var r=ni(ti.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=ni(Zs.current),us(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[_r]=t,a[pr]=i,e=0!=(1&t.mode),n){case"dialog":Fa("cancel",a),Fa("close",a);break;case"iframe":case"object":case"embed":Fa("load",a);break;case"video":case"audio":for(r=0;r<Ba.length;r++)Fa(Ba[r],a);break;case"source":Fa("error",a);break;case"img":case"image":case"link":Fa("error",a),Fa("load",a);break;case"details":Fa("toggle",a);break;case"input":Y(a,i),Fa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Fa("invalid",a);break;case"textarea":re(a,i),Fa("invalid",a)}for(var l in fe(n,i),r=null,i)if(i.hasOwnProperty(l)){var m=i[l];"children"===l?"string"==typeof m?a.textContent!==m&&(!0!==i.suppressHydrationWarning&&Ka(a.textContent,m,e),r=["children",m]):"number"==typeof m&&a.textContent!==""+m&&(!0!==i.suppressHydrationWarning&&Ka(a.textContent,m,e),r=["children",""+m]):o.hasOwnProperty(l)&&null!=m&&"onScroll"===l&&Fa("scroll",a)}switch(n){case"input":W(a),Z(a,i,!0);break;case"textarea":W(a),ie(a);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[_r]=t,e[pr]=a,Co(e,t),t.stateNode=e;e:{switch(l=ge(n,a),n){case"dialog":Fa("cancel",e),Fa("close",e),r=a;break;case"iframe":case"object":case"embed":Fa("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ba.length;r++)Fa(Ba[r],e);r=a;break;case"source":Fa("error",e),r=a;break;case"img":case"image":case"link":Fa("error",e),Fa("load",e),r=a;break;case"details":Fa("toggle",e),r=a;break;case"input":Y(e,a),r=$(e,a),Fa("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=D({},a,{value:void 0}),Fa("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Fa("invalid",e)}for(i in fe(n,r),m=r)if(m.hasOwnProperty(i)){var c=m[i];"style"===i?be(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===i?"string"==typeof c?("textarea"!==n||""!==c)&&_e(e,c):"number"==typeof c&&_e(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Fa("scroll",e):null!=c&&g(e,i,c,l))}switch(n){case"input":W(e),Z(e,a,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+Q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Ro(0,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(n=ni(ti.current),ni(Zs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[_r]=t,(i=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ka(a.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ka(a.nodeValue,n,0!=(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[_r]=t,t.stateNode=a}return Wo(t),null;case 13:if(zr(oi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!=(1&t.mode)&&0==(128&t.flags))_s(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[_r]=t}else ps(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==ss&&(im(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((a=null!==a)!=(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&oi.current)?0===Rl&&(Rl=3):dm())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return ri(),null===e&&Ua(t.stateNode.containerInfo),Wo(t),null;case 10:return ws(t.type._context),Wo(t),null;case 19:if(zr(oi),null===(i=t.memoizedState))return Wo(t),null;if(a=0!=(128&t.flags),null===(l=i.rendering))if(a)Xo(i,!1);else{if(0!==Rl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=li(e))){for(t.flags|=128,Xo(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(oi,1&oi.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Ul&&(t.flags|=128,a=!0,Xo(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=li(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!rs)return Wo(t),null}else 2*Je()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,a=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=oi.current,Er(oi,a?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return um(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!=(1&t.mode)?0!=(1073741824&Cl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ho(e,t){switch(ts(t),t.tag){case 1:return Cr(t.type)&&Mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ri(),zr(Sr),zr(Tr),ci(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ii(t),null;case 13:if(zr(oi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return zr(oi),null;case 4:return ri(),null;case 10:return ws(t.type._context),null;case 22:case 23:return um(),null;default:return null}}Co=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,ni(Zs.current);var s,i=null;switch(n){case"input":r=$(e,r),a=$(e,a),i=[];break;case"select":r=D({},r,{value:void 0}),a=D({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!=typeof r.onClick&&"function"==typeof a.onClick&&(e.onclick=Za)}for(c in fe(n,a),n=null,r)if(!a.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var m=a[c];if(l=null!=r?r[c]:void 0,a.hasOwnProperty(c)&&m!==l&&(null!=m||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||m&&m.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in m)m.hasOwnProperty(s)&&l[s]!==m[s]&&(n||(n={}),n[s]=m[s])}else n||(i||(i=[]),i.push(c,n)),n=m;else"dangerouslySetInnerHTML"===c?(m=m?m.__html:void 0,l=l?l.__html:void 0,null!=m&&l!==m&&(i=i||[]).push(c,m)):"children"===c?"string"!=typeof m&&"number"!=typeof m||(i=i||[]).push(c,""+m):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=m&&"onScroll"===c&&Fa("scroll",e),i||l===m||(i=[])):(i=i||[]).push(c,m))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ro=function(e,t,n,a){n!==a&&(t.flags|=4)};var $o=!1,Yo=!1,Jo="function"==typeof WeakSet?WeakSet:Set,Ko=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){qm(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){qm(e,t,n)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,n,s)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[_r],delete t[pr],delete t[dr],delete t[br],delete t[hr]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ml(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}var cl=null,ul=!1;function _l(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(e){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var a=cl,r=ul;cl=null,_l(e,t,n),ul=r,null!==(cl=a)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(cl,n.stateNode));break;case 4:a=cl,r=ul,cl=n.stateNode.containerInfo,ul=!0,_l(e,t,n),cl=a,ul=r;break;case 0:case 11:case 14:case 15:if(!Yo&&null!==(a=n.updateQueue)&&null!==(a=a.lastEffect)){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!=(2&s)||0!=(4&s))&&el(n,t,i),r=r.next}while(r!==a)}_l(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(e){qm(n,t,e)}_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:1&n.mode?(Yo=(a=Yo)||null!==n.memoizedState,_l(e,t,n),Yo=a):_l(e,t,n);break;default:_l(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var a=Tm.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function dl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));pl(i,o,r),cl=null,ul=!1;var m=r.alternate;null!==m&&(m.return=null),r.return=null}catch(e){qm(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bl(t,e),t=t.sibling}function bl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),hl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(t){qm(e,e.return,t)}try{nl(5,e,e.return)}catch(t){qm(e,e.return,t)}}break;case 1:dl(t,e),hl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(dl(t,e),hl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{_e(r,"")}catch(t){qm(e,e.return,t)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,m=e.updateQueue;if(e.updateQueue=null,null!==m)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(r,i),ge(l,o);var c=ge(l,i);for(o=0;o<m.length;o+=2){var u=m[o],_=m[o+1];"style"===u?be(r,_):"dangerouslySetInnerHTML"===u?ue(r,_):"children"===u?_e(r,_):g(r,u,_,c)}switch(l){case"input":K(r,i);break;case"textarea":se(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;null!=v?ne(r,!!i.multiple,v,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[pr]=i}catch(t){qm(e,e.return,t)}}break;case 6:if(dl(t,e),hl(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(t){qm(e,e.return,t)}}break;case 3:if(dl(t,e),hl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){qm(e,e.return,t)}break;case 4:default:dl(t,e),hl(e);break;case 13:dl(t,e),hl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Je())),4&a&&vl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(c=Yo)||u,dl(t,e),Yo=c):dl(t,e),hl(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!=(1&e.mode))for(Ko=e,u=e.child;null!==u;){for(_=Ko=u;null!==Ko;){switch(v=(p=Ko).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var d=p.stateNode;if("function"==typeof d.componentWillUnmount){a=p,n=p.return;try{t=a,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(e){qm(a,n,e)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){yl(_);continue}}null!==v?(v.return=p,Ko=v):yl(_)}u=u.sibling}e:for(u=null,_=e;;){if(5===_.tag){if(null===u){u=_;try{r=_.stateNode,c?"function"==typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=_.stateNode,o=null!=(m=_.memoizedProps.style)&&m.hasOwnProperty("display")?m.display:null,l.style.display=de("display",o))}catch(t){qm(e,e.return,t)}}}else if(6===_.tag){if(null===u)try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(t){qm(e,e.return,t)}}else if((22!==_.tag&&23!==_.tag||null===_.memoizedState||_===e)&&null!==_.child){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;null===_.sibling;){if(null===_.return||_.return===e)break e;u===_&&(u=null),_=_.return}u===_&&(u=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:dl(t,e),hl(e),4&a&&vl(e);case 21:}}function hl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(_e(r,""),a.flags&=-33),ml(e,ol(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(t){qm(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,n){Ko=e,gl(e,t,n)}function gl(e,t,n){for(var a=0!=(1&e.mode);null!==Ko;){var r=Ko,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||$o;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=$o;var m=Yo;if($o=i,(Yo=l)&&!m)for(Ko=r;null!==Ko;)l=(i=Ko).child,22===i.tag&&null!==i.memoizedState?wl(r):null!==l?(l.return=i,Ko=l):wl(r);for(;null!==s;)Ko=s,gl(s,t,n),s=s.sibling;Ko=r,$o=o,Yo=m}xl(e)}else 0!=(8772&r.subtreeFlags)&&null!==s?(s.return=r,Ko=s):xl(e)}}function xl(e){for(;null!==Ko;){var t=Ko;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:bs(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ns(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ns(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var _=u.dehydrated;null!==_&&Ut(_)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&rl(t)}catch(e){qm(t,t.return,e)}}if(t===e){Ko=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ko=n;break}Ko=t.return}}function yl(e){for(;null!==Ko;){var t=Ko;if(t===e){Ko=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ko=n;break}Ko=t.return}}function wl(e){for(;null!==Ko;){var t=Ko;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(e){qm(t,n,e)}break;case 1:var a=t.stateNode;if("function"==typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(e){qm(t,r,e)}}var s=t.return;try{rl(t)}catch(e){qm(t,s,e)}break;case 5:var i=t.return;try{rl(t)}catch(e){qm(t,i,e)}}}catch(e){qm(t,t.return,e)}if(t===e){Ko=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ko=o;break}Ko=t.return}}var Al,ql=Math.ceil,zl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Tl=0,Sl=null,Il=null,Pl=0,Cl=0,Ml=qr(0),Rl=0,Bl=null,Ll=0,Dl=0,Nl=0,Fl=null,Ol=null,Vl=0,Ul=1/0,jl=null,Ql=!1,Xl=null,Wl=null,Gl=!1,Hl=null,$l=0,Yl=0,Jl=null,Kl=-1,Zl=0;function em(){return 0!=(6&Tl)?Je():-1!==Kl?Kl:Kl=Je()}function tm(e){return 0==(1&e.mode)?1:0!=(2&Tl)&&0!==Pl?Pl&-Pl:null!==ds.transition?(0===Zl&&(Zl=dt()),Zl):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nm(e,t,n,a){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));ht(e,n,a),0!=(2&Tl)&&e===Sl||(e===Sl&&(0==(2&Tl)&&(Dl|=n),4===Rl&&om(e,Pl)),am(e,a),1===n&&0===Tl&&0==(1&t.mode)&&(Ul=Je()+500,Fr&&Ur()))}function am(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=r[i];-1===l?0!=(o&n)&&0==(o&a)||(r[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=_t(e,e===Sl?Pl:0);if(0===a)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Fr=!0,Vr(e)}(lm.bind(null,e)):Vr(lm.bind(null,e)),ir((function(){0==(6&Tl)&&Ur()})),n=null;else{switch(xt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Sm(n,rm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rm(e,t){if(Kl=-1,Zl=0,0!=(6&Tl))throw Error(s(327));var n=e.callbackNode;if(wm()&&e.callbackNode!==n)return null;var a=_t(e,e===Sl?Pl:0);if(0===a)return null;if(0!=(30&a)||0!=(a&e.expiredLanes)||t)t=bm(e,a);else{t=a;var r=Tl;Tl|=2;var i=vm();for(Sl===e&&Pl===t||(jl=null,Ul=Je()+500,_m(e,t));;)try{fm();break}catch(t){pm(e,t)}ys(),zl.current=i,Tl=r,null!==Il?t=0:(Sl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&0!==(r=vt(e))&&(a=r,t=sm(e,r)),1===t)throw n=Bl,_m(e,0),om(e,a),am(e,Je()),n;if(6===t)om(e,a);else{if(r=e.current.alternate,0==(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!oa(s(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=bm(e,a))&&0!==(i=vt(e))&&(a=i,t=sm(e,i)),1===t))throw n=Bl,_m(e,0),om(e,a),am(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:ym(e,Ol,jl);break;case 3:if(om(e,a),(130023424&a)===a&&10<(t=Vl+500-Je())){if(0!==_t(e,0))break;if(((r=e.suspendedLanes)&a)!==a){em(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(ym.bind(null,e,Ol,jl),t);break}ym(e,Ol,jl);break;case 4:if(om(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>r&&(r=o),a&=~i}if(a=r,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ql(a/1960))-a)){e.timeoutHandle=ar(ym.bind(null,e,Ol,jl),a);break}ym(e,Ol,jl);break;default:throw Error(s(329))}}}return am(e,Je()),e.callbackNode===n?rm.bind(null,e):null}function sm(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(_m(e,t).flags|=256),2!==(e=bm(e,t))&&(t=Ol,Ol=n,null!==t&&im(t)),e}function im(e){null===Ol?Ol=e:Ol.push.apply(Ol,e)}function om(e,t){for(t&=~Nl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function lm(e){if(0!=(6&Tl))throw Error(s(327));wm();var t=_t(e,0);if(0==(1&t))return am(e,Je()),null;var n=bm(e,t);if(0!==e.tag&&2===n){var a=vt(e);0!==a&&(t=a,n=sm(e,a))}if(1===n)throw n=Bl,_m(e,0),om(e,t),am(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ym(e,Ol,jl),am(e,Je()),null}function mm(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=Je()+500,Fr&&Ur())}}function cm(e){null!==Hl&&0===Hl.tag&&0==(6&Tl)&&wm();var t=Tl;Tl|=1;var n=kl.transition,a=gt;try{if(kl.transition=null,gt=1,e)return e()}finally{gt=a,kl.transition=n,0==(6&(Tl=t))&&Ur()}}function um(){Cl=Ml.current,zr(Ml)}function _m(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Il)for(n=Il.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&Mr();break;case 3:ri(),zr(Sr),zr(Tr),ci();break;case 5:ii(a);break;case 4:ri();break;case 13:case 19:zr(oi);break;case 10:ws(a.type._context);break;case 22:case 23:um()}n=n.return}if(Sl=e,Il=e=Mm(e.current,null),Pl=Cl=t,Rl=0,Bl=null,Nl=Dl=Ll=0,Ol=Fl=null,null!==Es){for(t=0;t<Es.length;t++)if(null!==(a=(n=Es[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Es=null}return e}function pm(e,t){for(;;){var n=Il;try{if(ys(),ui.current=so,hi){for(var a=vi.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}hi=!1}if(pi=0,bi=di=vi=null,fi=!1,gi=0,El.current=null,null===n||null===n.return){Rl=1,Bl=t,Il=null;break}e:{var i=e,o=n.return,l=n,m=t;if(t=Pl,l.flags|=32768,null!==m&&"object"==typeof m&&"function"==typeof m.then){var c=m,u=l,_=u.tag;if(0==(1&u.mode)&&(0===_||11===_||15===_)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=ho(o);if(null!==v){v.flags&=-257,fo(v,o,l,0,t),1&v.mode&&bo(i,c,t),m=c;var d=(t=v).updateQueue;if(null===d){var b=new Set;b.add(m),t.updateQueue=b}else d.add(m);break e}if(0==(1&t)){bo(i,c,t),dm();break e}m=Error(s(426))}else if(rs&&1&l.mode){var h=ho(o);if(null!==h){0==(65536&h.flags)&&(h.flags|=256),fo(h,o,l,0,t),vs(mo(m,l));break e}}i=m=mo(m,l),4!==Rl&&(Rl=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ls(i,po(0,m,t));break e;case 1:l=m;var f=i.type,g=i.stateNode;if(0==(128&i.flags)&&("function"==typeof f.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===Wl||!Wl.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t,Ls(i,vo(i,l,t));break e}}i=i.return}while(null!==i)}xm(n)}catch(e){t=e,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function vm(){var e=zl.current;return zl.current=so,null===e?so:e}function dm(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Sl||0==(268435455&Ll)&&0==(268435455&Dl)||om(Sl,Pl)}function bm(e,t){var n=Tl;Tl|=2;var a=vm();for(Sl===e&&Pl===t||(jl=null,_m(e,t));;)try{hm();break}catch(t){pm(e,t)}if(ys(),Tl=n,zl.current=a,null!==Il)throw Error(s(261));return Sl=null,Pl=0,Rl}function hm(){for(;null!==Il;)gm(Il)}function fm(){for(;null!==Il&&!$e();)gm(Il)}function gm(e){var t=Al(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?xm(e):Il=t,El.current=null}function xm(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Go(n,t,Cl)))return void(Il=n)}else{if(null!==(n=Ho(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function ym(e,t,n){var a=gt,r=kl.transition;try{kl.transition=null,gt=1,function(e,t,n,a){do{wm()}while(null!==Hl);if(0!=(6&Tl))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Sl&&(Il=Sl=null,Pl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Gl||(Gl=!0,Sm(tt,(function(){return wm(),null}))),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=kl.transition,kl.transition=null;var o=gt;gt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(er=Qt,pa(e=_a())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var o=0,l=-1,m=-1,c=0,u=0,_=e,p=null;t:for(;;){for(var v;_!==n||0!==r&&3!==_.nodeType||(l=o+r),_!==i||0!==a&&3!==_.nodeType||(m=o+a),3===_.nodeType&&(o+=_.nodeValue.length),null!==(v=_.firstChild);)p=_,_=v;for(;;){if(_===e)break t;if(p===n&&++c===r&&(l=o),p===i&&++u===a&&(m=o),null!==(v=_.nextSibling))break;p=(_=p).parentNode}_=v}n=-1===l||-1===m?null:{start:l,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Qt=!1,Ko=t;null!==Ko;)if(e=(t=Ko).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Ko=e;else for(;null!==Ko;){t=Ko;try{var d=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==d){var b=d.memoizedProps,h=d.memoizedState,f=t.stateNode,g=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:bs(t.type,b),h);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(e){qm(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ko=e;break}Ko=t.return}d=tl,tl=!1}(e,n),bl(n,e),va(tr),Qt=!!er,tr=er=null,e.current=n,fl(n,e,r),Ye(),Tl=l,gt=o,kl.transition=i}else e.current=n;if(Gl&&(Gl=!1,Hl=e,$l=r),0===(i=e.pendingLanes)&&(Wl=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),am(e,Je()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)a((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(Ql)throw Ql=!1,e=Xl,Xl=null,e;0!=(1&$l)&&0!==e.tag&&wm(),0!=(1&(i=e.pendingLanes))?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Ur()}(e,t,n,a)}finally{kl.transition=r,gt=a}return null}function wm(){if(null!==Hl){var e=xt($l),t=kl.transition,n=gt;try{if(kl.transition=null,gt=16>e?16:e,null===Hl)var a=!1;else{if(e=Hl,Hl=null,$l=0,0!=(6&Tl))throw Error(s(331));var r=Tl;for(Tl|=4,Ko=e.current;null!==Ko;){var i=Ko,o=i.child;if(0!=(16&Ko.flags)){var l=i.deletions;if(null!==l){for(var m=0;m<l.length;m++){var c=l[m];for(Ko=c;null!==Ko;){var u=Ko;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var _=u.child;if(null!==_)_.return=u,Ko=_;else for(;null!==Ko;){var p=(u=Ko).sibling,v=u.return;if(sl(u),u===c){Ko=null;break}if(null!==p){p.return=v,Ko=p;break}Ko=v}}}var d=i.alternate;if(null!==d){var b=d.child;if(null!==b){d.child=null;do{var h=b.sibling;b.sibling=null,b=h}while(null!==b)}}Ko=i}}if(0!=(2064&i.subtreeFlags)&&null!==o)o.return=i,Ko=o;else e:for(;null!==Ko;){if(0!=(2048&(i=Ko).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var f=i.sibling;if(null!==f){f.return=i.return,Ko=f;break e}Ko=i.return}}var g=e.current;for(Ko=g;null!==Ko;){var x=(o=Ko).child;if(0!=(2064&o.subtreeFlags)&&null!==x)x.return=o,Ko=x;else e:for(o=g;null!==Ko;){if(0!=(2048&(l=Ko).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(e){qm(l,l.return,e)}if(l===o){Ko=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,Ko=y;break e}Ko=l.return}}if(Tl=r,Ur(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(e){}a=!0}return a}finally{gt=n,kl.transition=t}}return!1}function Am(e,t,n){e=Rs(e,t=po(0,t=mo(n,t),1),1),t=em(),null!==e&&(ht(e,1,t),am(e,t))}function qm(e,t,n){if(3===e.tag)Am(e,e,n);else for(;null!==t;){if(3===t.tag){Am(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=Rs(t,e=vo(t,e=mo(n,e),1),1),e=em(),null!==t&&(ht(t,1,e),am(t,e));break}}t=t.return}}function zm(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=em(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Je()-Vl?_m(e,0):Nl|=n),am(e,t)}function Em(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=em();null!==(e=Ss(e,t))&&(ht(e,t,n),am(e,n))}function km(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Em(e,n)}function Tm(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Em(e,n)}function Sm(e,t){return Ge(e,t)}function Im(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pm(e,t,n,a){return new Im(e,t,n,a)}function Cm(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mm(e,t){var n=e.alternate;return null===n?((n=Pm(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rm(e,t,n,a,r,i){var o=2;if(a=e,"function"==typeof e)Cm(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case A:return Bm(n.children,r,i,t);case q:o=8,r|=8;break;case z:return(e=Pm(12,n,t,2|r)).elementType=z,e.lanes=i,e;case S:return(e=Pm(13,n,t,r)).elementType=S,e.lanes=i,e;case I:return(e=Pm(19,n,t,r)).elementType=I,e.lanes=i,e;case M:return Lm(n,r,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case k:o=9;break e;case T:o=11;break e;case P:o=14;break e;case C:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pm(o,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Bm(e,t,n,a){return(e=Pm(7,e,a,t)).lanes=n,e}function Lm(e,t,n,a){return(e=Pm(22,e,a,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Dm(e,t,n){return(e=Pm(6,e,null,t)).lanes=n,e}function Nm(e,t,n){return(t=Pm(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fm(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Om(e,t,n,a,r,s,i,o,l){return e=new Fm(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pm(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Vm(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}function Um(e){if(!e)return kr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Cr(n))return Br(e,n,t)}return t}function jm(e,t,n,a,r,s,i,o,l){return(e=Om(n,a,!0,e,0,s,0,o,l)).context=Um(null),n=e.current,(s=Ms(a=em(),r=tm(n))).callback=null!=t?t:null,Rs(n,s,r),e.current.lanes=r,ht(e,r,a),am(e,a),e}function Qm(e,t,n,a){var r=t.current,s=em(),i=tm(r);return n=Um(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Rs(r,t,i))&&(nm(e,r,i,s),Bs(e,r,i)),i}function Xm(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gm(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Sr.current)xo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),ps();break;case 5:si(t);break;case 1:Cr(t.type)&&Lr(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Er(hs,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Er(oi,1&oi.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Do(e,t,n):(Er(oi,1&oi.current),null!==(e=Qo(e,t,n))?e.sibling:null);Er(oi,1&oi.current);break;case 19:if(a=0!=(n&t.childLanes),0!=(128&e.flags)){if(a)return Uo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(oi,oi.current),a)break;return null;case 22:case 23:return t.lanes=0,zo(e,t,n)}return Qo(e,t,n)}(e,t,n);xo=0!=(131072&e.flags)}else xo=!1,rs&&0!=(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;jo(e,t),e=t.pendingProps;var r=Pr(t,Tr.current);qs(t,n),r=Ai(null,t,a,e,r,n);var i=qi();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(a)?(i=!0,Lr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ps(t),r.updater=Vs,t.stateNode=r,r._reactInternals=t,Xs(t,a,e,n),t=So(null,t,a,!0,i,n)):(t.tag=0,rs&&i&&es(t),yo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"==typeof e)return Cm(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(a),e=bs(a,e),r){case 0:t=ko(null,t,a,e,n);break e;case 1:t=To(null,t,a,e,n);break e;case 11:t=wo(null,t,a,e,n);break e;case 14:t=Ao(null,t,a,bs(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,ko(e,t,a,r=t.elementType===a?r:bs(a,r),n);case 1:return a=t.type,r=t.pendingProps,To(e,t,a,r=t.elementType===a?r:bs(a,r),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));a=t.pendingProps,r=(i=t.memoizedState).element,Cs(e,t),Ds(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Po(e,t,a,n,r=mo(Error(s(423)),t));break e}if(a!==r){t=Po(e,t,a,n,r=mo(Error(s(424)),t));break e}for(as=mr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),a===r){t=Qo(e,t,n);break e}yo(e,t,a,n)}t=t.child}return t;case 5:return si(t),null===e&&ms(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==i&&nr(a,i)&&(t.flags|=32),Eo(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&ms(t),null;case 13:return Do(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Ys(t,null,a,n):yo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,wo(e,t,a,r=t.elementType===a?r:bs(a,r),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Er(hs,a._currentValue),a._currentValue=o,null!==i)if(oa(i.value,o)){if(i.children===r.children&&!Sr.current){t=Qo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var m=l.firstContext;null!==m;){if(m.context===a){if(1===i.tag){(m=Ms(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?m.next=m:(m.next=u.next,u.next=m),c.pending=m}}i.lanes|=n,null!==(m=i.alternate)&&(m.lanes|=n),As(i.return,n,t),l.lanes|=n;break}m=m.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),As(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,qs(t,n),a=a(r=zs(r)),t.flags|=1,yo(e,t,a,n),t.child;case 14:return r=bs(a=t.type,t.pendingProps),Ao(e,t,a,r=bs(a.type,r),n);case 15:return qo(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:bs(a,r),jo(e,t),t.tag=1,Cr(a)?(e=!0,Lr(t)):e=!1,qs(t,n),js(t,a,r),Xs(t,a,r,n),So(null,t,a,!0,e,n);case 19:return Uo(e,t,n);case 22:return zo(e,t,n)}throw Error(s(156,t.tag))};var Hm="function"==typeof reportError?reportError:function(e){console.error(e)};function $m(e){this._internalRoot=e}function Ym(e){this._internalRoot=e}function Jm(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Km(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zm(){}function ec(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"==typeof r){var o=r;r=function(){var e=Xm(i);o.call(e)}}Qm(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"==typeof a){var s=a;a=function(){var e=Xm(i);s.call(e)}}var i=jm(t,a,e,0,null,!1,0,"",Zm);return e._reactRootContainer=i,e[vr]=i.current,Ua(8===e.nodeType?e.parentNode:e),cm(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof a){var o=a;a=function(){var e=Xm(l);o.call(e)}}var l=Om(e,0,!1,null,0,!1,0,"",Zm);return e._reactRootContainer=l,e[vr]=l.current,Ua(8===e.nodeType?e.parentNode:e),cm((function(){Qm(t,l,n,a)})),l}(n,t,e,r,a);return Xm(i)}Ym.prototype.render=$m.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qm(e,t,null,null)},Ym.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cm((function(){Qm(null,e,null,null)})),t[vr]=null}},Ym.prototype.unstable_scheduleHydration=function(e){if(e){var t=qt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(ft(t,1|n),am(t,Je()),0==(6&Tl)&&(Ul=Je()+500,Ur()))}break;case 13:cm((function(){var t=Ss(e,1);if(null!==t){var n=em();nm(t,e,1,n)}})),Gm(e,1)}},wt=function(e){if(13===e.tag){var t=Ss(e,134217728);null!==t&&nm(t,e,134217728,em()),Gm(e,134217728)}},At=function(e){if(13===e.tag){var t=tm(e),n=Ss(e,t);null!==n&&nm(n,e,t,em()),Gm(e,t)}},qt=function(){return gt},zt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},we=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=yr(a);if(!r)throw Error(s(90));G(a),K(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=mm,Se=cm;var tc={usingClientEntryPoint:!1,Events:[gr,xr,yr,Ee,ke,mm]},nc={findFiberByHostInstance:fr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ac={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{rt=rc.inject(ac),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jm(t))throw Error(s(200));return Vm(e,t,null,n)},t.createRoot=function(e,t){if(!Jm(e))throw Error(s(299));var n=!1,a="",r=Hm;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Om(e,1,!1,null,0,n,0,a,r),e[vr]=t.current,Ua(8===e.nodeType?e.parentNode:e),new $m(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return cm(e)},t.hydrate=function(e,t,n){if(!Km(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jm(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",o=Hm;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=jm(t,null,e,1,null!=n?n:null,r,0,i,o),e[vr]=t.current,Ua(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ym(t)},t.render=function(e,t,n){if(!Km(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Km(e))throw Error(s(40));return!!e._reactRootContainer&&(cm((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[vr]=null}))})),!0)},t.unstable_batchedUpdates=mm,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Km(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},745:(e,t,n)=>{"use strict";var a=n(3935);t.s=a.createRoot,a.hydrateRoot},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},2408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.iterator,v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,b={};function h(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function f(){}function g(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=h.prototype;var x=g.prototype=new f;x.constructor=g,d(x,h.prototype),x.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,A={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function z(e,t,a){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!q.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var m=Array(l),c=0;c<l;c++)m[c]=arguments[c+2];s.children=m}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:A.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+T(l,0):s,y(i)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),S(i,t,r,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",y(e))for(var m=0;m<e.length;m++){var c=s+T(o=e[m],m);l+=S(o,t,r,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),m=0;!(o=e.next()).done;)l+=S(o=o.value,t,r,c=s+T(o,m++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var a=[],r=0;return S(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},M={transition:null},R={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=h,t.Fragment=r,t.Profiler=i,t.PureComponent=g,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,a){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(m in t)w.call(t,m)&&!q.hasOwnProperty(m)&&(r[m]=void 0===t[m]&&void 0!==l?l[m]:t[m])}var m=arguments.length-2;if(1===m)r.children=a;else if(1<m){l=Array(m);for(var c=0;c<m;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=z,t.createFactory=function(e){var t=z.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:_,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,n){return C.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,n){return C.current.useReducer(e,t,n)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.current.useTransition()},t.version="18.2.0"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},8090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;const a=n(5507);class r extends a.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}t.ReadableWebToNodeStream=r},1281:e=>{"use strict";var t={};function n(e,n,a){a||(a=Error);var r=function(e){var t,a;function r(t,a,r){return e.call(this,function(e,t,a){return"string"==typeof n?n:n(e,t,a)}(t,a,r))||this}return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,r}(a);r.prototype.name=a.name,r.prototype.code=e,t[e]=r}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,s,i,o,l;if("string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var m=("number"!=typeof l&&(l=0),l+".".length>(o=e).length||-1===o.indexOf(".",l)?"argument":"property");i='The "'.concat(e,'" ').concat(m," ").concat(r," ").concat(a(t,"type"))}return i+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6201:(e,t,n)=>{"use strict";var a=n(4155),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var s=n(2460),i=n(1103);n(5717)(c,s);for(var o=r(i.prototype),l=0;l<o.length;l++){var m=o[l];c.prototype[m]||(c.prototype[m]=i.prototype[m])}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||a.nextTick(_,this)}function _(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4404:(e,t,n)=>{"use strict";e.exports=r;var a=n(7749);function r(e){if(!(this instanceof r))return new r(e);a.call(this,e)}n(5717)(r,a),r.prototype._transform=function(e,t,n){n(null,e)}},2460:(e,t,n)=>{"use strict";var a,r=n(4155);e.exports=z,z.ReadableState=q,n(7187).EventEmitter;var s,i=function(e,t){return e.listeners(t).length},o=n(8114),l=n(8764).Buffer,m=n.g.Uint8Array||function(){},c=n(3838);s=c&&c.debuglog?c.debuglog("stream"):function(){};var u,_,p,v=n(597),d=n(358),b=n(5267).getHighWaterMark,h=n(1281).q,f=h.ERR_INVALID_ARG_TYPE,g=h.ERR_STREAM_PUSH_AFTER_EOF,x=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(z,o);var w=d.errorOrDestroy,A=["error","close","destroy","pause","resume"];function q(e,t,r){a=a||n(6201),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",r),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(2553).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function z(e){if(a=a||n(6201),!(this instanceof z))return new z(e);var t=this instanceof a;this._readableState=new q(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,n,a,r){s("readableAddChunk",t);var i,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(s("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}(e,o);else if(r||(i=function(e,t){var n,a;return a=t,l.isBuffer(a)||a instanceof m||"string"==typeof t||void 0===t||e.objectMode||(n=new f("chunk",["string","Buffer","Uint8Array"],t)),n}(o,t)),i)w(e,i);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),a)o.endEmitted?w(e,new y):k(e,o,t,!0);else if(o.ended)w(e,new g);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?k(e,o,t,!1):C(e,o)):k(e,o,t,!1)}else a||(o.reading=!1,C(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function k(e,t,n,a){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,a?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),C(e,t)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),z.prototype.destroy=d.destroy,z.prototype._undestroy=d.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype.push=function(e,t){var n,a=this._readableState;return a.objectMode?n=!0:"string"==typeof e&&((t=t||a.defaultEncoding)!==a.encoding&&(e=l.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},z.prototype.unshift=function(e){return E(this,e,null,!0,!1)},z.prototype.isPaused=function(){return!1===this._readableState.flowing},z.prototype.setEncoding=function(e){u||(u=n(2553).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var a=this._readableState.buffer.head,r="";null!==a;)r+=t.write(a.data),a=a.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var T=1073741824;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;s("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(P,e))}function P(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){s("readable nexttick read 0"),e.read(0)}function L(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(O,t,e))}function O(e,t){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function V(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}z.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):I(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&F(this),null;var a,r=t.needReadable;return s("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",r=!0),t.ended||t.reading?s("reading or ended",r=!1):r&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(a=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==a&&this.emit("data",a),a},z.prototype._read=function(e){w(this,new x("_read()"))},z.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,s("pipe count=%d opts=%j",a.pipesCount,t);var o=t&&!1===t.end||e===r.stdout||e===r.stderr?d:l;function l(){s("onend"),e.end()}a.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",(function t(r,i){s("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,s("cleanup"),e.removeListener("close",p),e.removeListener("finish",v),e.removeListener("drain",m),e.removeListener("error",_),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",d),n.removeListener("data",u),c=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||m())}));var m=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",m);var c=!1;function u(t){s("ondata");var r=e.write(t);s("dest.write",r),!1===r&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==V(a.pipes,e))&&!c&&(s("false write response, pause",a.awaitDrain),a.awaitDrain++),n.pause())}function _(t){s("onerror",t),d(),e.removeListener("error",_),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",v),d()}function v(){s("onfinish"),e.removeListener("close",p),d()}function d(){s("unpipe"),n.unpipe(e)}return n.on("data",u),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",_),e.once("close",p),e.once("finish",v),e.emit("pipe",n),a.flowing||(s("pipe resume"),n.resume()),e},z.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var a=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<r;s++)a[s].emit("unpipe",this,{hasUnpiped:!1});return this}var i=V(t.pipes,e);return-1===i||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},z.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,s("on readable",a.length,a.reading),a.length?I(this):a.reading||r.nextTick(B,this))),n},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(R,this),n},z.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(R,this),t},z.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},z.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(e){var t=this,n=this._readableState,a=!1;for(var r in e.on("end",(function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){s("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(a=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var i=0;i<A.length;i++)e.on(A[i],this.emit.bind(this,A[i]));return this._read=function(t){s("wrapped _read",t),a&&(a=!1,e.resume())},this},"function"==typeof Symbol&&(z.prototype[Symbol.asyncIterator]=function(){return void 0===_&&(_=n(6913)),_(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),z._fromList=N,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(z.from=function(e,t){return void 0===p&&(p=n(2887)),p(z,e,t)})},7749:(e,t,n)=>{"use strict";e.exports=c;var a=n(1281).q,r=a.ERR_METHOD_NOT_IMPLEMENTED,s=a.ERR_MULTIPLE_CALLBACK,i=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=a.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6201);function m(e,t){var n=this._transformState;n.transforming=!1;var a=n.writecb;if(null===a)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),a(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?_(this,null,null):this._flush((function(t,n){_(e,t,n)}))}function _(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new i;return e.push(null)}n(5717)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new r("_transform()"))},c.prototype._write=function(e,t,n){var a=this._transformState;if(a.writecb=n,a.writechunk=e,a.writeencoding=t,!a.transforming){var r=this._readableState;(a.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},1103:(e,t,n)=>{"use strict";var a,r=n(4155);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var a=e.entry;for(e.entry=null;a;){var r=a.callback;t.pendingcb--,r(undefined),a=a.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=z,z.WritableState=q;var i,o={deprecate:n(4927)},l=n(8114),m=n(8764).Buffer,c=n.g.Uint8Array||function(){},u=n(358),_=n(5267).getHighWaterMark,p=n(1281).q,v=p.ERR_INVALID_ARG_TYPE,d=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,h=p.ERR_STREAM_CANNOT_PIPE,f=p.ERR_STREAM_DESTROYED,g=p.ERR_STREAM_NULL_VALUES,x=p.ERR_STREAM_WRITE_AFTER_END,y=p.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function A(){}function q(e,t,i){a=a||n(6201),e=e||{},"boolean"!=typeof i&&(i=t instanceof a),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=_(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,a=n.sync,s=n.writecb;if("function"!=typeof s)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,a,s){--t.pendingcb,n?(r.nextTick(s,a),r.nextTick(P,e,t),e._writableState.errorEmitted=!0,w(e,a)):(s(a),e._writableState.errorEmitted=!0,w(e,a),P(e,t))}(e,n,a,t,s);else{var i=S(n)||e.destroyed;i||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),a?r.nextTick(k,e,n,i,s):k(e,n,i,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function z(e){var t=this instanceof(a=a||n(6201));if(!t&&!i.call(z,this))return new z(e);this._writableState=new q(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function E(e,t,n,a,r,s,i){t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new f("write")):n?e._writev(r,t.onwrite):e._write(r,s,t.onwrite),t.sync=!1}function k(e,t,n,a){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,a(),P(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var a=t.bufferedRequestCount,r=new Array(a),i=t.corkedRequestsFree;i.entry=n;for(var o=0,l=!0;n;)r[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;r.allBuffers=l,E(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var m=n.chunk,c=n.encoding,u=n.callback;if(E(e,t,!1,t.objectMode?1:m.length,m,c,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var n=S(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var a=e._readableState;(!a||a.autoDestroy&&a.endEmitted)&&e.destroy()}return n}n(5717)(z,l),q.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(q.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===z&&e&&e._writableState instanceof q}})):i=function(e){return e instanceof this},z.prototype.pipe=function(){w(this,new h)},z.prototype.write=function(e,t,n){var a,s=this._writableState,i=!1,o=!s.objectMode&&(a=e,m.isBuffer(a)||a instanceof c);return o&&!m.isBuffer(e)&&(e=function(e){return m.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=A),s.ending?function(e,t){var n=new x;w(e,n),r.nextTick(t,n)}(this,n):(o||function(e,t,n,a){var s;return null===n?s=new g:"string"==typeof n||t.objectMode||(s=new v("chunk",["string","Buffer"],n)),!s||(w(e,s),r.nextTick(a,s),!1)}(this,s,e,n))&&(s.pendingcb++,i=function(e,t,n,a,r,s){if(!n){var i=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=m.from(t,n)),t}(t,a,r);a!==i&&(n=!0,r="buffer",a=i)}var o=t.objectMode?1:a.length;t.length+=o;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:a,encoding:r,isBuf:n,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,o,a,r,s);return l}(this,s,o,e,t,n)),i},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},z.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(e,t,n){n(new d("_write()"))},z.prototype._writev=null,z.prototype.end=function(e,t,n){var a=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,a,n),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),z.prototype.destroy=u.destroy,z.prototype._undestroy=u.undestroy,z.prototype._destroy=function(e,t){t(e)}},6913:(e,t,n)=>{"use strict";var a,r=n(4155);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(2880),o=Symbol("lastResolve"),l=Symbol("lastReject"),m=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),_=Symbol("handlePromise"),p=Symbol("stream");function v(e,t){return{value:e,done:t}}function d(e){var t=e[o];if(null!==t){var n=e[p].read();null!==n&&(e[u]=null,e[o]=null,e[l]=null,t(v(n,!1)))}}function b(e){r.nextTick(d,e)}var h=Object.getPrototypeOf((function(){})),f=Object.setPrototypeOf((s(a={get stream(){return this[p]},next:function(){var e=this,t=this[m];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(v(void 0,!0));if(this[p].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[m]?n(e[m]):t(v(void 0,!0))}))}));var n,a=this[u];if(a)n=new Promise(function(e,t){return function(n,a){e.then((function(){t[c]?n(v(void 0,!0)):t[_](n,a)}),a)}}(a,this));else{var s=this[p].read();if(null!==s)return Promise.resolve(v(s,!1));n=new Promise(this[_])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),s(a,"return",(function(){var e=this;return new Promise((function(t,n){e[p].destroy(null,(function(e){e?n(e):t(v(void 0,!0))}))}))})),a),h);e.exports=function(e){var t,n=Object.create(f,(s(t={},p,{value:e,writable:!0}),s(t,o,{value:null,writable:!0}),s(t,l,{value:null,writable:!0}),s(t,m,{value:null,writable:!0}),s(t,c,{value:e._readableState.endEmitted,writable:!0}),s(t,_,{value:function(e,t){var a=n[p].read();a?(n[u]=null,n[o]=null,n[l]=null,e(v(a,!1))):(n[o]=e,n[l]=t)},writable:!0}),t));return n[u]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];return null!==t&&(n[u]=null,n[o]=null,n[l]=null,t(e)),void(n[m]=e)}var a=n[o];null!==a&&(n[u]=null,n[o]=null,n[l]=null,a(v(void 0,!0))),n[c]=!0})),e.on("readable",b.bind(null,n)),n}},597:(e,t,n)=>{"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=n(8764).Buffer,o=n(9283).inspect,l=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t,n,a,r=i.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,n=r,a=o,i.prototype.copy.call(t,n,a),o+=s.data.length,s=s.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,a=t.data;for(e-=a.length;t=t.next;){var r=t.data,s=e>r.length?r.length:e;if(s===r.length?a+=r:a+=r.slice(0,e),0==(e-=s)){s===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(s));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),n=this.head,a=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,s=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,s),0==(e-=s)){s===r.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(s));break}++a}return this.length-=a,t}},{key:l,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),e}()},358:(e,t,n)=>{"use strict";var a=n(4155);function r(e,t){i(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(i,this,e)):a.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?a.nextTick(s,n):(n._writableState.errorEmitted=!0,a.nextTick(r,n,e)):a.nextTick(r,n,e):t?(a.nextTick(s,n),t(e)):a.nextTick(s,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,a=e._writableState;n&&n.autoDestroy||a&&a.autoDestroy?e.destroy(t):e.emit("error",t)}}},2880:(e,t,n)=>{"use strict";var a=n(1281).q.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.apply(this,a)}}}(s||r);var i=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||c()},m=t._writableState&&t._writableState.finished,c=function(){o=!1,m=!0,i||s.call(t)},u=t._readableState&&t._readableState.endEmitted,_=function(){i=!1,u=!0,o||s.call(t)},p=function(e){s.call(t,e)},v=function(){var e;return i&&!u?(t._readableState&&t._readableState.ended||(e=new a),s.call(t,e)):o&&!m?(t._writableState&&t._writableState.ended||(e=new a),s.call(t,e)):void 0},d=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",v),t.req?d():t.on("request",d)):o&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",_),t.on("finish",c),!1!==n.error&&t.on("error",p),t.on("close",v),function(){t.removeListener("complete",c),t.removeListener("abort",v),t.removeListener("request",d),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",_),t.removeListener("error",p),t.removeListener("close",v)}}},2887:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},677:(e,t,n)=>{"use strict";var a,r=n(1281).q,s=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e,t,r,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===a&&(a=n(2880)),a(e,{readable:t,writable:r},(function(e){if(e)return s(e);o=!0,s()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new i("pipe"))}}function m(e){e()}function c(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a,r=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var i=t.map((function(e,n){var s=n<t.length-1;return l(e,s,n>0,(function(e){a||(a=e),e&&i.forEach(m),s||(i.forEach(m),r(a))}))}));return t.reduce(c)}},5267:(e,t,n)=>{"use strict";var a=n(1281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new a(r?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},8114:(e,t,n)=>{e.exports=n(7187).EventEmitter},5507:(e,t,n)=>{(t=e.exports=n(2460)).Stream=t,t.Readable=t,t.Writable=n(1103),t.Duplex=n(6201),t.Transform=n(7749),t.PassThrough=n(4404),t.finished=n(2880),t.pipeline=n(677)},9509:(e,t,n)=>{var a=n(8764),r=a.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=a:(s(a,t),t.Buffer=i),i.prototype=Object.create(r.prototype),s(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=r(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var o=2*(a+1)-1,l=e[o],m=o+1,c=e[m];if(0>s(l,n))m<r&&0>s(c,l)?(e[a]=c,e[m]=n,a=m):(e[a]=l,e[o]=n,a=o);else{if(!(m<r&&0>s(c,n)))break e;e[a]=c,e[m]=n,a=m}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var m=[],c=[],u=1,_=null,p=3,v=!1,d=!1,b=!1,h="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=a(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(m,t)}t=a(c)}}function y(e){if(b=!1,x(e),!d)if(null!==a(m))d=!0,M(w);else{var t=a(c);null!==t&&R(y,t.startTime-e)}}function w(e,n){d=!1,b&&(b=!1,f(E),E=-1),v=!0;var s=p;try{for(x(n),_=a(m);null!==_&&(!(_.expirationTime>n)||e&&!S());){var i=_.callback;if("function"==typeof i){_.callback=null,p=_.priorityLevel;var o=i(_.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?_.callback=o:_===a(m)&&r(m),x(n)}else r(m);_=a(m)}if(null!==_)var l=!0;else{var u=a(c);null!==u&&R(y,u.startTime-n),l=!1}return l}finally{_=null,p=s,v=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,q=!1,z=null,E=-1,k=5,T=-1;function S(){return!(t.unstable_now()-T<k)}function I(){if(null!==z){var e=t.unstable_now();T=e;var n=!0;try{n=z(!0,e)}finally{n?A():(q=!1,z=null)}}else q=!1}if("function"==typeof g)A=function(){g(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,C=P.port2;P.port1.onmessage=I,A=function(){C.postMessage(null)}}else A=function(){h(I,0)};function M(e){z=e,q||(q=!0,A())}function R(e,n){E=h((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){d||v||(d=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(m)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(c,e),null===a(m)&&e===a(c)&&(b?(f(E),E=-1):b=!0,R(y,s-i))):(e.sortIndex=o,n(m,e),d||v||(d=!0,M(w))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3988:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var a={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(a),a},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var a,r=t[e];if(r)for(a=r.length;a--;)r[a].handler(n)},e},e.exports=t},5754:e=>{"use strict";var t,n,a,r,s,i,o,l,m=(t="https://api.spotify.com/v1",n=null,a=null,r=function(e,t){return e.abort=t,e},s=function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e.slice(1);return t=t||{},n.forEach((function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})),t},i=function(e,t){var s=new XMLHttpRequest,i=function(a,r){var i=e.type||"GET";if(s.open(i,function(e,t){var n="";for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];n+=encodeURIComponent(a)+"="+encodeURIComponent(r)+"&"}return n.length>0&&(e=e+"?"+(n=n.substring(0,n.length-1))),e}(e.url,e.params)),n&&s.setRequestHeader("Authorization","Bearer "+n),s.onreadystatechange=function(){if(4===s.readyState){var e=null;try{e=s.responseText?JSON.parse(s.responseText):""}catch(e){console.error(e)}s.status>=200&&s.status<300?function(e){a&&a(e),t&&t(null,e)}(e):(r&&r(s),t&&t(s,null))}},"GET"===i)s.send(null);else{var o=null;e.postData&&("image/jpeg"===e.contentType?(o=e.postData,s.setRequestHeader("Content-Type",e.contentType)):(o=JSON.stringify(e.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(o)}};return t?(i(),null):function(e,t){var n;if(null!==a){var i=a.defer();e((function(e){i.resolve(e)}),(function(e){i.reject(e)})),n=i.promise}else window.Promise&&(n=new window.Promise(e));return n?new r(n,(function(){s.abort()})):null}(i)},o=function(e,t,n,a){var r={},o=null;return"object"==typeof t?(r=t,o=n):"function"==typeof t&&(o=t),"GET"!==(e.type||"GET")&&e.postData&&!a?e.postData=s(e.postData,r):e.params=s(e.params,r),i(e,o)},((l=function(){}).prototype={constructor:m}).getGeneric=function(e,t){return o({url:e},t)},l.prototype.getMe=function(e,n){return o({url:t+"/me"},e,n)},l.prototype.getMySavedTracks=function(e,n){return o({url:t+"/me/tracks"},e,n)},l.prototype.addToMySavedTracks=function(e,n,a){return o({url:t+"/me/tracks",type:"PUT",postData:e},n,a)},l.prototype.removeFromMySavedTracks=function(e,n,a){return o({url:t+"/me/tracks",type:"DELETE",postData:e},n,a)},l.prototype.containsMySavedTracks=function(e,n,a){var r={url:t+"/me/tracks/contains",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getMySavedAlbums=function(e,n){return o({url:t+"/me/albums"},e,n)},l.prototype.addToMySavedAlbums=function(e,n,a){return o({url:t+"/me/albums",type:"PUT",postData:e},n,a)},l.prototype.removeFromMySavedAlbums=function(e,n,a){return o({url:t+"/me/albums",type:"DELETE",postData:e},n,a)},l.prototype.containsMySavedAlbums=function(e,n,a){var r={url:t+"/me/albums/contains",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getMyTopArtists=function(e,n){return o({url:t+"/me/top/artists"},e,n)},l.prototype.getMyTopTracks=function(e,n){return o({url:t+"/me/top/tracks"},e,n)},l.prototype.getMyRecentlyPlayedTracks=function(e,n){return o({url:t+"/me/player/recently-played"},e,n)},l.prototype.followUsers=function(e,n){var a={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"user"}};return o(a,n)},l.prototype.followArtists=function(e,n){var a={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"artist"}};return o(a,n)},l.prototype.followPlaylist=function(e,n,a){return o({url:t+"/playlists/"+e+"/followers",type:"PUT",postData:{}},n,a)},l.prototype.unfollowUsers=function(e,n){var a={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"user"}};return o(a,n)},l.prototype.unfollowArtists=function(e,n){var a={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"artist"}};return o(a,n)},l.prototype.unfollowPlaylist=function(e,n){return o({url:t+"/playlists/"+e+"/followers",type:"DELETE"},n)},l.prototype.isFollowingUsers=function(e,n){var a={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"user"}};return o(a,n)},l.prototype.isFollowingArtists=function(e,n){var a={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"artist"}};return o(a,n)},l.prototype.areFollowingPlaylist=function(e,n,a){var r={url:t+"/playlists/"+e+"/followers/contains",type:"GET",params:{ids:n.join(",")}};return o(r,a)},l.prototype.getFollowedArtists=function(e,n){return o({url:t+"/me/following",type:"GET",params:{type:"artist"}},e,n)},l.prototype.getUser=function(e,n,a){var r={url:t+"/users/"+encodeURIComponent(e)};return o(r,n,a)},l.prototype.getUserPlaylists=function(e,n,a){var r;return"string"==typeof e?r={url:t+"/users/"+encodeURIComponent(e)+"/playlists"}:(r={url:t+"/me/playlists"},a=n,n=e),o(r,n,a)},l.prototype.getPlaylist=function(e,n,a){return o({url:t+"/playlists/"+e},n,a)},l.prototype.getPlaylistTracks=function(e,n,a){return o({url:t+"/playlists/"+e+"/tracks"},n,a)},l.prototype.getPlaylistCoverImage=function(e,n){return o({url:t+"/playlists/"+e+"/images"},n)},l.prototype.createPlaylist=function(e,n,a){var r={url:t+"/users/"+encodeURIComponent(e)+"/playlists",type:"POST",postData:n};return o(r,n,a)},l.prototype.changePlaylistDetails=function(e,n,a){return o({url:t+"/playlists/"+e,type:"PUT",postData:n},n,a)},l.prototype.addTracksToPlaylist=function(e,n,a,r){return o({url:t+"/playlists/"+e+"/tracks",type:"POST",postData:{uris:n}},a,r,!0)},l.prototype.replaceTracksInPlaylist=function(e,n,a){return o({url:t+"/playlists/"+e+"/tracks",type:"PUT",postData:{uris:n}},{},a)},l.prototype.reorderTracksInPlaylist=function(e,n,a,r,s){return o({url:t+"/playlists/"+e+"/tracks",type:"PUT",postData:{range_start:n,insert_before:a}},r,s)},l.prototype.removeTracksFromPlaylist=function(e,n,a){var r=n.map((function(e){return"string"==typeof e?{uri:e}:e}));return o({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:r}},{},a)},l.prototype.removeTracksFromPlaylistWithSnapshotId=function(e,n,a,r){var s=n.map((function(e){return"string"==typeof e?{uri:e}:e}));return o({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{tracks:s,snapshot_id:a}},{},r)},l.prototype.removeTracksFromPlaylistInPositions=function(e,n,a,r){return o({url:t+"/playlists/"+e+"/tracks",type:"DELETE",postData:{positions:n,snapshot_id:a}},{},r)},l.prototype.uploadCustomPlaylistCoverImage=function(e,n,a){var r={url:t+"/playlists/"+e+"/images",type:"PUT",postData:n.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return o(r,{},a)},l.prototype.getAlbum=function(e,n,a){return o({url:t+"/albums/"+e},n,a)},l.prototype.getAlbumTracks=function(e,n,a){return o({url:t+"/albums/"+e+"/tracks"},n,a)},l.prototype.getAlbums=function(e,n,a){var r={url:t+"/albums/",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getTrack=function(e,n,a){var r={};return r.url=t+"/tracks/"+e,o(r,n,a)},l.prototype.getTracks=function(e,n,a){var r={url:t+"/tracks/",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getArtist=function(e,n,a){return o({url:t+"/artists/"+e},n,a)},l.prototype.getArtists=function(e,n,a){var r={url:t+"/artists/",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getArtistAlbums=function(e,n,a){return o({url:t+"/artists/"+e+"/albums"},n,a)},l.prototype.getArtistTopTracks=function(e,n,a,r){return o({url:t+"/artists/"+e+"/top-tracks",params:{country:n}},a,r)},l.prototype.getArtistRelatedArtists=function(e,n,a){return o({url:t+"/artists/"+e+"/related-artists"},n,a)},l.prototype.getFeaturedPlaylists=function(e,n){return o({url:t+"/browse/featured-playlists"},e,n)},l.prototype.getNewReleases=function(e,n){return o({url:t+"/browse/new-releases"},e,n)},l.prototype.getCategories=function(e,n){return o({url:t+"/browse/categories"},e,n)},l.prototype.getCategory=function(e,n,a){return o({url:t+"/browse/categories/"+e},n,a)},l.prototype.getCategoryPlaylists=function(e,n,a){return o({url:t+"/browse/categories/"+e+"/playlists"},n,a)},l.prototype.search=function(e,n,a,r){var s={url:t+"/search/",params:{q:e,type:n.join(",")}};return o(s,a,r)},l.prototype.searchAlbums=function(e,t,n){return this.search(e,["album"],t,n)},l.prototype.searchArtists=function(e,t,n){return this.search(e,["artist"],t,n)},l.prototype.searchTracks=function(e,t,n){return this.search(e,["track"],t,n)},l.prototype.searchPlaylists=function(e,t,n){return this.search(e,["playlist"],t,n)},l.prototype.searchShows=function(e,t,n){return this.search(e,["show"],t,n)},l.prototype.searchEpisodes=function(e,t,n){return this.search(e,["episode"],t,n)},l.prototype.getAudioFeaturesForTrack=function(e,n){var a={};return a.url=t+"/audio-features/"+e,o(a,{},n)},l.prototype.getAudioFeaturesForTracks=function(e,n){return o({url:t+"/audio-features",params:{ids:e}},{},n)},l.prototype.getAudioAnalysisForTrack=function(e,n){var a={};return a.url=t+"/audio-analysis/"+e,o(a,{},n)},l.prototype.getRecommendations=function(e,n){return o({url:t+"/recommendations"},e,n)},l.prototype.getAvailableGenreSeeds=function(e){return o({url:t+"/recommendations/available-genre-seeds"},{},e)},l.prototype.getMyDevices=function(e){return o({url:t+"/me/player/devices"},{},e)},l.prototype.getMyCurrentPlaybackState=function(e,n){return o({url:t+"/me/player"},e,n)},l.prototype.getMyCurrentPlayingTrack=function(e,n){return o({url:t+"/me/player/currently-playing"},e,n)},l.prototype.transferMyPlayback=function(e,n,a){var r=n||{};return r.device_ids=e,o({type:"PUT",url:t+"/me/player",postData:r},n,a)},l.prototype.play=function(e,n){var a="device_id"in(e=e||{})?{device_id:e.device_id}:null,r={};return["context_uri","uris","offset","position_ms"].forEach((function(t){t in e&&(r[t]=e[t])})),o({type:"PUT",url:t+"/me/player/play",params:a,postData:r},"function"==typeof e?e:{},n)},l.prototype.queue=function(e,n,a){var r="device_id"in(n=n||{})?{uri:e,device_id:n.device_id}:{uri:e};return o({type:"POST",url:t+"/me/player/queue",params:r},n,a)},l.prototype.pause=function(e,n){var a="device_id"in(e=e||{})?{device_id:e.device_id}:null;return o({type:"PUT",url:t+"/me/player/pause",params:a},e,n)},l.prototype.skipToNext=function(e,n){var a="device_id"in(e=e||{})?{device_id:e.device_id}:null;return o({type:"POST",url:t+"/me/player/next",params:a},e,n)},l.prototype.skipToPrevious=function(e,n){var a="device_id"in(e=e||{})?{device_id:e.device_id}:null;return o({type:"POST",url:t+"/me/player/previous",params:a},e,n)},l.prototype.seek=function(e,n,a){var r={position_ms:e};return"device_id"in(n=n||{})&&(r.device_id=n.device_id),o({type:"PUT",url:t+"/me/player/seek",params:r},n,a)},l.prototype.setRepeat=function(e,n,a){var r={state:e};return"device_id"in(n=n||{})&&(r.device_id=n.device_id),o({type:"PUT",url:t+"/me/player/repeat",params:r},n,a)},l.prototype.setVolume=function(e,n,a){var r={volume_percent:e};return"device_id"in(n=n||{})&&(r.device_id=n.device_id),o({type:"PUT",url:t+"/me/player/volume",params:r},n,a)},l.prototype.setShuffle=function(e,n,a){var r={state:e};return"device_id"in(n=n||{})&&(r.device_id=n.device_id),o({type:"PUT",url:t+"/me/player/shuffle",params:r},n,a)},l.prototype.getShow=function(e,n,a){var r={};return r.url=t+"/shows/"+e,o(r,n,a)},l.prototype.getShows=function(e,n,a){var r={url:t+"/shows/",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getMySavedShows=function(e,n){return o({url:t+"/me/shows"},e,n)},l.prototype.addToMySavedShows=function(e,n,a){return o({url:t+"/me/shows",type:"PUT",postData:e},n,a)},l.prototype.removeFromMySavedShows=function(e,n,a){return o({url:t+"/me/shows",type:"DELETE",postData:e},n,a)},l.prototype.containsMySavedShows=function(e,n,a){var r={url:t+"/me/shows/contains",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getShowEpisodes=function(e,n,a){return o({url:t+"/shows/"+e+"/episodes"},n,a)},l.prototype.getEpisode=function(e,n,a){var r={};return r.url=t+"/episodes/"+e,o(r,n,a)},l.prototype.getEpisodes=function(e,n,a){var r={url:t+"/episodes/",params:{ids:e.join(",")}};return o(r,n,a)},l.prototype.getAccessToken=function(){return n},l.prototype.setAccessToken=function(e){n=e},l.prototype.setPromiseImplementation=function(e){var t=!1;try{var n=new e((function(e){e()}));"function"==typeof n.then&&"function"==typeof n.catch&&(t=!0)}catch(e){console.error(e)}if(!t)throw new Error("Unsupported implementation of Promises/A+");a=e},l);"object"==typeof e.exports&&(e.exports=m)},2553:(e,t,n)=>{"use strict";var a=n(9509).Buffer,r=a.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(a.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=m,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=_,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var a=n.charCodeAt(n.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function _(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var a=t.length-1;if(a<n)return 0;var r=i(t[a]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--a<n||-2===r?0:(r=i(t[a]))>=0?(r>0&&(e.lastNeed=r-2),r):--a<n||-2===r?0:(r=i(t[a]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var a=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,a),e.toString("utf8",t,a)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},842:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const r=n(5167);t.AbstractTokenizer=class{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const n=a.alloc(e.len);if(await this.readBuffer(n,{position:t})<e.len)throw new r.EndOfStreamError;return e.get(n,0)}async peekToken(e,t=this.position){const n=a.alloc(e.len);if(await this.peekBuffer(n,{position:t})<e.len)throw new r.EndOfStreamError;return e.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const a=n(5167),r=n(842);class s extends r.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const n=await this.peekBuffer(e,t);return this.position+=n,n}async peekBuffer(e,t){const n=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&r<n.length)throw new a.EndOfStreamError;return e.set(this.uint8Array.subarray(n.position,n.position+r),n.offset),r}async close(){}}t.BufferTokenizer=s},599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const a=n(842),r=n(5167);class s extends a.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new r.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const n=this.normalizeOptions(e,t),a=n.position-this.position;if(a>0)return await this.ignore(a),this.readBuffer(e,t);if(a<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;const s=await this.streamReader.read(e,n.offset,n.length);if(this.position+=s,(!t||!t.mayBeLess)&&s<n.length)throw new r.EndOfStreamError;return s}async peekBuffer(e,t){const n=this.normalizeOptions(e,t);let a=0;if(n.position){const t=n.position-this.position;if(t>0){const r=new Uint8Array(n.length+t);return a=await this.peekBuffer(r,{mayBeLess:n.mayBeLess}),e.set(r.subarray(t),n.offset),a-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{a=await this.streamReader.peek(e,n.offset,n.length)}catch(e){if(t&&t.mayBeLess&&e instanceof r.EndOfStreamError)return 0;throw e}if(!n.mayBeLess&&a<n.length)throw new r.EndOfStreamError}return a}async ignore(e){const t=Math.min(256e3,e),n=new Uint8Array(t);let a=0;for(;a<e;){const r=e-a,s=await this.readBuffer(n,{length:Math.min(t,r)});if(s<0)return s;a+=s}return a}}t.ReadStreamTokenizer=s},5849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const a=n(599),r=n(778);var s=n(5167);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new a.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new r.BufferTokenizer(e,t)}},3416:(e,t,n)=>{"use strict";var a=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const r=n(645);function s(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:(e,t)=>s(e).getUint8(t),put:(e,t,n)=>(s(e).setUint8(t,n),t+1)},t.UINT16_LE={len:2,get:(e,t)=>s(e).getUint16(t,!0),put:(e,t,n)=>(s(e).setUint16(t,n,!0),t+2)},t.UINT16_BE={len:2,get:(e,t)=>s(e).getUint16(t),put:(e,t,n)=>(s(e).setUint16(t,n),t+2)},t.UINT24_LE={len:3,get(e,t){const n=s(e);return n.getUint8(t)+(n.getUint16(t+1,!0)<<8)},put(e,t,n){const a=s(e);return a.setUint8(t,255&n),a.setUint16(t+1,n>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){const n=s(e);return(n.getUint16(t)<<8)+n.getUint8(t+2)},put(e,t,n){const a=s(e);return a.setUint16(t,n>>8),a.setUint8(t+2,255&n),t+3}},t.UINT32_LE={len:4,get:(e,t)=>s(e).getUint32(t,!0),put:(e,t,n)=>(s(e).setUint32(t,n,!0),t+4)},t.UINT32_BE={len:4,get:(e,t)=>s(e).getUint32(t),put:(e,t,n)=>(s(e).setUint32(t,n),t+4)},t.INT8={len:1,get:(e,t)=>s(e).getInt8(t),put:(e,t,n)=>(s(e).setInt8(t,n),t+1)},t.INT16_BE={len:2,get:(e,t)=>s(e).getInt16(t),put:(e,t,n)=>(s(e).setInt16(t,n),t+2)},t.INT16_LE={len:2,get:(e,t)=>s(e).getInt16(t,!0),put:(e,t,n)=>(s(e).setInt16(t,n,!0),t+2)},t.INT24_LE={len:3,get(e,n){const a=t.UINT24_LE.get(e,n);return a>8388607?a-16777216:a},put(e,t,n){const a=s(e);return a.setUint8(t,255&n),a.setUint16(t+1,n>>8,!0),t+3}},t.INT24_BE={len:3,get(e,n){const a=t.UINT24_BE.get(e,n);return a>8388607?a-16777216:a},put(e,t,n){const a=s(e);return a.setUint16(t,n>>8),a.setUint8(t+2,255&n),t+3}},t.INT32_BE={len:4,get:(e,t)=>s(e).getInt32(t),put:(e,t,n)=>(s(e).setInt32(t,n),t+4)},t.INT32_LE={len:4,get:(e,t)=>s(e).getInt32(t,!0),put:(e,t,n)=>(s(e).setInt32(t,n,!0),t+4)},t.UINT64_LE={len:8,get:(e,t)=>s(e).getBigUint64(t,!0),put:(e,t,n)=>(s(e).setBigUint64(t,n,!0),t+8)},t.INT64_LE={len:8,get:(e,t)=>s(e).getBigInt64(t,!0),put:(e,t,n)=>(s(e).setBigInt64(t,n,!0),t+8)},t.UINT64_BE={len:8,get:(e,t)=>s(e).getBigUint64(t),put:(e,t,n)=>(s(e).setBigUint64(t,n),t+8)},t.INT64_BE={len:8,get:(e,t)=>s(e).getBigInt64(t),put:(e,t,n)=>(s(e).setBigInt64(t,n),t+8)},t.Float16_BE={len:2,get(e,t){return r.read(e,t,!1,10,this.len)},put(e,t,n){return r.write(e,n,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return r.read(e,t,!0,10,this.len)},put(e,t,n){return r.write(e,n,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:(e,t)=>s(e).getFloat32(t),put:(e,t,n)=>(s(e).setFloat32(t,n),t+4)},t.Float32_LE={len:4,get:(e,t)=>s(e).getFloat32(t,!0),put:(e,t,n)=>(s(e).setFloat32(t,n,!0),t+4)},t.Float64_BE={len:8,get:(e,t)=>s(e).getFloat64(t),put:(e,t,n)=>(s(e).setFloat64(t,n),t+8)},t.Float64_LE={len:8,get:(e,t)=>s(e).getFloat64(t,!0),put:(e,t,n)=>(s(e).setFloat64(t,n,!0),t+8)},t.Float80_BE={len:10,get(e,t){return r.read(e,t,!1,63,this.len)},put(e,t,n){return r.write(e,n,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return r.read(e,t,!0,63,this.len)},put(e,t,n){return r.write(e,n,t,!0,63,this.len),t+this.len}},t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},t.Uint8ArrayType=class{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}},t.BufferType=class{constructor(e){this.len=e}get(e,t){return a.from(e.subarray(t,t+this.len))}},t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return a.from(e).toString(this.encoding,t,t+this.len)}};class i{constructor(e){this.len=e}static decode(e,t,n){let a="";for(let r=t;r<n;++r)a+=i.codePointToString(i.singleByteDecoder(e[r]));return a}static inRange(e,t,n){return t<=e&&e<=n}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(i.inRange(e,0,127))return e;const t=i.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return i.decode(e,t,t+this.len)}}t.AnsiStringType=i,i.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},4927:(e,t,n)=>{function a(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(a("noDeprecation"))return e;var n=!1;return function(){if(!n){if(a("throwDeprecation"))throw new Error(t);a("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},6006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n(2275))&&a.__esModule?a:{default:a};t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},9125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9215)),r=o(n(8255)),s=o(n(5279)),i=o(n(6006));function o(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)("youtube-player"),m={proxyEvents:function(e){var t={},n=function(n){var a="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[a]=function(t){l('event "%s"',a,t),e.trigger(n,t)}},a=!0,r=!1,i=void 0;try{for(var o,m=s.default[Symbol.iterator]();!(a=(o=m.next()).done);a=!0)n(o.value)}catch(e){r=!0,i=e}finally{try{!a&&m.return&&m.return()}finally{if(r)throw i}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},a=function(a){t&&i.default[a]?n[a]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){var t=i.default[a],r=e.getPlayerState(),s=e[a].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(r)?new Promise((function(n){e.addEventListener("onStateChange",(function a(){var r=e.getPlayerState(),s=void 0;"number"==typeof t.timeout&&(s=setTimeout((function(){e.removeEventListener("onStateChange",a),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(r)&&(e.removeEventListener("onStateChange",a),clearTimeout(s),n())}))})).then((function(){return s})):s}))}:n[a]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){return e[a].apply(e,n)}))}},s=!0,o=!1,l=void 0;try{for(var m,c=r.default[Symbol.iterator]();!(s=(m=c.next()).done);s=!0){var u=m.value;a(u)}}catch(e){o=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw l}}return n}};t.default=m,e.exports=t.default},2275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},5279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},8255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},1062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(n(3988)),s=o(n(5900)),i=o(n(9125));function o(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,r.default)();if(l||(l=(0,s.default)(o)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=i.default.proxyEvents(o);var m=new Promise((function(n){"object"===(void 0===e?"undefined":a(e))&&e.playVideo instanceof Function?n(e):l.then((function(a){var r=new a.Player(e,t);return o.on("ready",(function(){n(r)})),null}))})),c=i.default.promisifyPlayer(m,n);return c.on=o.on,c.off=o.off,c},e.exports=t.default},5900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n(9090))&&a.__esModule?a:{default:a};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,r.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var a=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){a&&a(),t(window.YT)}}}))},e.exports=t.default},9215:(e,t,n)=>{var a=n(4155);function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==a&&"env"in a&&(e=a.env.DEBUG),e}(t=e.exports=n(5046)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var r=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(s=r))})),e.splice(s,0,a)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},5046:(e,t,n)=>{var a;function r(e){function n(){if(n.enabled){var e=n,r=+new Date,s=r-(a||r);e.diff=s,e.prev=a,e.curr=r,a=r;for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,a){if("%%"===n)return n;l++;var r=t.formatters[a];if("function"==typeof r){var s=i[l];n=r.call(e,s),i.splice(l,1),l--}return n})),t.formatArgs.call(e,i);var m=n.log||t.log||console.log.bind(console);m.apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,a=0;for(n in e)a=(a<<5)-a+e.charCodeAt(n),a|=0;return t.colors[Math.abs(a)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length,r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,a;for(n=0,a=t.skips.length;n<a;n++)if(t.skips[n].test(e))return!1;for(n=0,a=t.names.length;n<a;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(4680),t.names=[],t.skips=[],t.formatters={}},4680:e=>{var t=1e3,n=60*t,a=60*n,r=24*a;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,i){i=i||{};var o,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*r;case"hours":case"hour":case"hrs":case"hr":case"h":return i*a;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===l&&!1===isNaN(e))return i.long?s(o=e,r,"day")||s(o,a,"hour")||s(o,n,"minute")||s(o,t,"second")||o+" ms":function(e){return e>=r?Math.round(e/r)+"d":e>=a?Math.round(e/a)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9283:()=>{},3838:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(7294),t=__webpack_require__(745);class n{constructor(e,t=localStorage){this.storage=t,this.id=`ampcast/${e}`}getItem(e){return this.storage.getItem(`${this.id}/${e}`)}setItem(e,t){this.storage.setItem(`${this.id}/${e}`,null!=t?t:"")}removeItem(e){this.storage.removeItem(`${this.id}/${e}`)}clear(){const e=[];for(let t=0;t<this.storage.length;t++){const n=this.storage.key(t);(null==n?void 0:n.startsWith(`${this.id}/`))&&e.push(n)}e.forEach((e=>this.storage.removeItem(e)))}}const a=new n("layout"),r={get(e,t=0){const n=a.getItem(e);return Number(n)||t},set(e,t){a.setItem(e,String(Number(t)||0))}};function s(t,n){const a=(0,e.useRef)(n);(0,e.useEffect)((()=>{a.current=n}),[n]),(0,e.useLayoutEffect)((()=>{const e=t.current;if(e){const t=new ResizeObserver((()=>a.current()));return t.observe(e),()=>t.disconnect()}}),[t])}const i=document.createElement("div");function o(){const t=(0,e.useRef)(i),[n,a]=(0,e.useState)(0);return(0,e.useEffect)((()=>{i.parentElement||(document.body.append(i),a(l()))}),[]),s(t,(0,e.useCallback)((()=>a(l())),[])),n}function l(){return parseInt(getComputedStyle(i).fontSize,10)||16}function m({vertical:t,primary:n,size:a,children:r}){const s={};return n||(t?s.height=`${a}px`:s.width=`${a}px`),e.createElement("div",{className:"layout-pane layout-pane-"+(n?"primary":"secondary"),style:s},r)}function c({id:t,arrange:n="columns",primaryIndex:a=0,children:i}){const l=(0,e.useRef)(null),[c,u]=(0,e.useState)({width:0,height:0}),[_,p]=(0,e.useState)(0),[v,d]=(0,e.useState)(0),[b,h]=(0,e.useState)(0),[f,g]=(0,e.useState)((()=>t?r.get(t):0)),[x,y]=(0,e.useState)(-1),[w,A]=(0,e.useState)(0),q=-1!==x,z=o(),E="rows"===n;(0,e.useEffect)((()=>{t&&r.set(t,f)}),[t,f]),(0,e.useLayoutEffect)((()=>{var e;if(z>0){const t=l.current,n=E?"minHeight":"minWidth",a=t.querySelector(":scope > .layout-pane-primary");if(a){a.style[n]="";const e=parseInt(getComputedStyle(a)[n],10);a.style[n]="unset",p(e||80)}const r=t.querySelector(":scope > .layout-pane-secondary");if(r){r.style[n]="";const a=parseInt(getComputedStyle(r)[n],10);r.style[n]="unset",d(a||80);const s=E?"offsetHeight":"offsetWidth",i=t.querySelector(":scope > .layout-splitter");h(null!==(e=null==i?void 0:i[s])&&void 0!==e?e:4)}}}),[E,z]),(0,e.useLayoutEffect)((()=>{const e=E?c.height:c.width;if(e>0){const t=e-b-f;t<_?g(Math.max(f-(_-t),0)):f<v&&g(Math.min(e-b-_,v))}}),[E,c,_,v,b,f]);const k=(0,e.useCallback)((e=>{if(0===e.button){const t=E?e.screenY:e.screenX;y(t),A(f),e.preventDefault()}}),[E,f]),T=(0,e.useCallback)((e=>{const t=(E?e.screenY:e.screenX)-x;g(0===a?w-t:w+t)}),[E,a,x,w]),S=(0,e.useCallback)((()=>{y(-1),A(0)}),[]);return(0,e.useEffect)((()=>{if(q)return document.documentElement.style.cursor=E?"ns-resize":"ew-resize",document.body.classList.add("dragging"),document.addEventListener("mouseup",S),document.addEventListener("mousemove",T),()=>{document.documentElement.style.cursor="",document.body.classList.remove("dragging"),document.removeEventListener("mouseup",S),document.removeEventListener("mousemove",T)}}),[E,q,T,S]),s(l,(0,e.useCallback)((()=>{const e=l.current;u({width:e.clientWidth,height:e.clientHeight})}),[])),e.createElement("div",{className:`splitter splitter-${n}`,id:t,ref:l},e.Children.toArray(i).slice(0,2).map(((t,n)=>{const r=n===a,s=r?0:f,i=[];return 1===n&&i.push(e.createElement("div",{className:"layout-splitter "+(q?"active":""),role:"separator",onMouseDown:k,key:"splitter"})),i.push(e.createElement(m,{vertical:E,primary:r,size:s,key:n},t)),i})))}i.style.cssText="\n    position: absolute;\n    pointer-events: none;\n    visibility: hidden;\n    font-size: 1rem;\n    width: 1rem;\n    height: 1rem;\n";var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function p(e,t){var n,a,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&s[0]?a.return:s[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;switch(a=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],a=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}function b(e,t,n){if(n||2===arguments.length)for(var a,r=0,s=t.length;r<s;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function f(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=n.apply(e,t||[]),s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(e){r[e]&&(a[e]=function(t){return new Promise((function(n,a){s.push([e,t,n,a])>1||o(e,t)}))})}function o(e,t){try{(n=r[e](t)).value instanceof h?Promise.resolve(n.value.v).then(l,m):c(s[0][2],n)}catch(e){c(s[0][3],e)}var n}function l(e){o("next",e)}function m(e){o("throw",e)}function c(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function g(e){return"function"==typeof e}function x(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var y=x((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function w(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var A=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,a,r;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=v(s),o=i.next();!o.done;o=i.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else s.remove(this);var l=this.initialTeardown;if(g(l))try{l()}catch(e){r=e instanceof y?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var c=v(m),u=c.next();!u.done;u=c.next()){var _=u.value;try{E(_)}catch(e){r=null!=r?r:[],e instanceof y?r=b(b([],d(r)),d(e.errors)):r.push(e)}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}}if(r)throw new y(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)E(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&w(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&w(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),q=A.EMPTY;function z(e){return e instanceof A||e&&"closed"in e&&g(e.remove)&&g(e.add)&&g(e.unsubscribe)}function E(e){g(e)?e():e.unsubscribe()}var k=null,T=null,S=void 0,I=!1,P=!1,C={setTimeout:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var r=C.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,b([e,t],d(n))):setTimeout.apply(void 0,b([e,t],d(n)))},clearTimeout:function(e){var t=C.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function M(e){C.setTimeout((function(){if(!k)throw e;k(e)}))}function R(){}var B=L("C",void 0,void 0);function L(e,t,n){return{kind:e,value:t,error:n}}var D=null;function N(e){if(I){var t=!D;if(t&&(D={errorThrown:!1,error:null}),e(),t){var n=D,a=n.errorThrown,r=n.error;if(D=null,a)throw r}}else e()}var F=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,z(t)&&t.add(n)):n.destination=W,n}return _(t,e),t.create=function(e,t,n){return new j(e,t,n)},t.prototype.next=function(e){this.isStopped?X(function(e){return L("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?X(L("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?X(B,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(A),O=Function.prototype.bind;function V(e,t){return O.call(e,t)}var U=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Q(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Q(e)}else Q(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Q(e)}},e}(),j=function(e){function t(t,n,a){var r,s,i=e.call(this)||this;return g(t)||!t?r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=a?a:void 0}:i&&P?((s=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},r={next:t.next&&V(t.next,s),error:t.error&&V(t.error,s),complete:t.complete&&V(t.complete,s)}):r=t,i.destination=new U(r),i}return _(t,e),t}(F);function Q(e){var t;I?(t=e,I&&D&&(D.errorThrown=!0,D.error=t)):M(e)}function X(e,t){var n=T;n&&C.setTimeout((function(){return n(e,t)}))}var W={closed:!0,next:R,error:function(e){throw e},complete:R},G="function"==typeof Symbol&&Symbol.observable||"@@observable";function H(e){return e}function $(e){return 0===e.length?H:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Y=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var a,r=this,s=(a=e)&&a instanceof F||function(e){return e&&g(e.next)&&g(e.error)&&g(e.complete)}(a)&&z(a)?e:new j(e,t,n);return N((function(){var e=r,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?r._subscribe(s):r._trySubscribe(s))})),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=J(t))((function(t,a){var r=new j({next:function(t){try{e(t)}catch(e){a(e),r.unsubscribe()}},error:a,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[G]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=J(e))((function(e,n){var a;t.subscribe((function(e){return a=e}),(function(e){return n(e)}),(function(){return e(a)}))}))},e.create=function(t){return new e(t)},e}();function J(e){var t;return null!==(t=null!=e?e:S)&&void 0!==t?t:Promise}var K=x((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Z=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _(t,e),t.prototype.lift=function(e){var t=new ee(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new K},t.prototype.next=function(e){var t=this;N((function(){var n,a;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=v(t.currentObservers),s=r.next();!s.done;s=r.next())s.value.next(e)}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;N((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;N((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,a=n.hasError,r=n.isStopped,s=n.observers;return a||r?q:(this.currentObservers=null,s.push(e),new A((function(){t.currentObservers=null,w(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,a=t.thrownError,r=t.isStopped;n?e.error(a):r&&e.complete()},t.prototype.asObservable=function(){var e=new Y;return e.source=this,e},t.create=function(e,t){return new ee(e,t)},t}(Y),ee=function(e){function t(t,n){var a=e.call(this)||this;return a.destination=t,a.source=n,a}return _(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:q},t}(Z),te=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return _(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,a=e._value;if(t)throw n;return this._throwIfClosed(),a},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Z);const ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1H\nAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";class ae{constructor(e="",t=!1,n=window.console){const a=e?` ${e}:`:"",r=(e,t)=>e&&t?`${e}/${t}`:t||e,s=(...t)=>{e.startsWith(ae.only)&&n.log(...t)};this.log=(...e)=>s(`##${a}`,...e),this.warn=(...e)=>s(`###${a}`,...e),this.error=t=>{e.startsWith(ae.only)&&(s(`####${a} ERROR`),n.error(t))},t&&(this.next=this.log,this.complete=()=>this.log("***complete***")),this.id=a=>new ae(r(e,a),t,n),this.all=t=>new ae(r(e,t),!0,n),this.only=()=>(ae.only=e,this)}}ae.only="";var re=__webpack_require__(4155),se=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,s=t.length;r<s;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},ie=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},oe=function(e,t,n,a){this.name=e,this.version=t,this.os=n,this.bot=a,this.type="bot-device"},le=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},me=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ce=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ue=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _e(e){var t=function(e){return""!==e&&ce.reduce((function(t,n){var a=n[0],r=n[1];if(t)return t;var s=r.exec(e);return!!s&&[a,s]}),!1)}(e);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new le;var r=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);r?r.length<3&&(r=se(se([],r,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-r.length),!0)):r=[];var s=r.join("."),i=function(e){for(var t=0,n=ue.length;t<n;t++){var a=ue[t],r=a[0];if(a[1].exec(e))return r}return null}(e),o=me.exec(e);return o&&o[1]?new oe(n,s,i,o[1]):new ie(n,s,i)}const pe="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!=typeof navigator?_e(navigator.userAgent):void 0!==re&&re.version?new function(e){this.version=e,this.type="node",this.name="node",this.os=re.platform}(re.version.slice(1)):null;const ve=(null==pe?void 0:pe.name)||"unknown",de=/^edge/.test(ve)?"Microsoft Edge":ve.replace(/^\w/,(e=>e.toUpperCase())),be={name:ve,displayName:de,version:(null==pe?void 0:pe.version)||"0",os:(null==pe?void 0:pe.os)||"unknown"};function he(e){return null!=e}const fe={};function ge(e){return t=this,n=void 0,r=function*(){if(!fe[e])return new Promise(((t,n)=>{let a=document.querySelector(`script[src="${e}"]`);a||(a=document.createElement("script"),a.async=!0,a.src=e),a.addEventListener("load",(()=>{fe[e]=!0,t()})),a.addEventListener("error",(()=>n(`Failed to load script: '${e}'`))),a.parentElement||document.head.appendChild(a)}))},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}const xe={url:ne,width:1,height:1};function ye(e=[],t=360,n=1){if(0===e.length)return xe;e.sort(((e,t)=>t.width*t.height-e.width*e.height));const[a,r]=we(e,(e=>e.width<=t&&e.height<=t));return a.length>0?(a.sort(((e,t)=>{const a=e.width/e.height,r=Math.abs(a-n),s=t.width/t.height;return r-Math.abs(s-n)})),a[0]):r[r.length-1]||xe}function we(e,t){const n=[],a=[];for(const r of e)t(r)?n.push(r):a.push(r);return[n,a]}function Ae(e){e.preventDefault()}function qe(e){e.stopPropagation()}function ze(e){return{itemType:e,src:"",title:""}}function Ee(e,t,n=0){if(1===e.length)return e[0];const a=e[Math.floor(Math.random()*e.length)];return void 0!==t&&a===t&&n<3?Ee(e,t,n++):a}var ke;!function(e){e[e.Media=0]="Media",e[e.Album=1]="Album",e[e.Artist=2]="Artist",e[e.Playlist=3]="Playlist"}(ke||(ke={}));const Te=ke;function Se(e){return e&&g(e.schedule)}function Ie(e){return e[e.length-1]}function Pe(e){return g(Ie(e))?e.pop():void 0}function Ce(e){return Se(Ie(e))?e.pop():void 0}function Me(e,t){return"number"==typeof Ie(e)?e.pop():t}var Re=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Be(e){return g(null==e?void 0:e.then)}function Le(e){return g(e[G])}function De(e){return Symbol.asyncIterator&&g(null==e?void 0:e[Symbol.asyncIterator])}function Ne(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Oe(e){return g(null==e?void 0:e[Fe])}function Ve(e){return f(this,arguments,(function(){var t,n,a;return p(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,h(t.read())];case 3:return n=r.sent(),a=n.value,n.done?[4,h(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,h(a)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Ue(e){return g(null==e?void 0:e.getReader)}function je(e){if(e instanceof Y)return e;if(null!=e){if(Le(e))return r=e,new Y((function(e){var t=r[G]();if(g(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Re(e))return a=e,new Y((function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()}));if(Be(e))return n=e,new Y((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,M)}));if(De(e))return Qe(e);if(Oe(e))return t=e,new Y((function(e){var n,a;try{for(var r=v(t),s=r.next();!s.done;s=r.next()){var i=s.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}e.complete()}));if(Ue(e))return Qe(Ve(e))}var t,n,a,r;throw Ne(e)}function Qe(e){return new Y((function(t){(function(e,t){var n,a,r,s,i,o,l,m;return i=this,o=void 0,m=function(){var i,o;return p(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(n){t[n]=e[n]&&function(t){return new Promise((function(a,r){!function(e,t,n,a){Promise.resolve(a).then((function(t){e({value:t,done:n})}),t)}(a,r,(t=e[n](t)).done,t.value)}))}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((a=l.sent()).done)return[3,4];if(i=a.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),r={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),a&&!a.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{r(m.next(e))}catch(e){t(e)}}function a(e){try{r(m.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,a)}r((m=m.apply(i,o||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function Xe(e,t,n,a,r){void 0===a&&(a=0),void 0===r&&(r=!1);var s=t.schedule((function(){n(),r?e.add(this.schedule(null,a)):this.unsubscribe()}),a);if(e.add(s),!r)return s}function We(e){return function(t){if(function(e){return g(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Ge(e,t,n,a,r){return new He(e,t,n,a,r)}var He=function(e){function t(t,n,a,r,s,i){var o=e.call(this,t)||this;return o.onFinalize=s,o.shouldUnsubscribe=i,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=a?function(){try{a()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return _(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(F);function $e(e,t){return void 0===t&&(t=0),We((function(n,a){n.subscribe(Ge(a,(function(n){return Xe(a,e,(function(){return a.next(n)}),t)}),(function(){return Xe(a,e,(function(){return a.complete()}),t)}),(function(n){return Xe(a,e,(function(){return a.error(n)}),t)})))}))}function Ye(e,t){return void 0===t&&(t=0),We((function(n,a){a.add(e.schedule((function(){return n.subscribe(a)}),t))}))}function Je(e,t){if(!e)throw new Error("Iterable cannot be null");return new Y((function(n){Xe(n,t,(function(){var a=e[Symbol.asyncIterator]();Xe(n,t,(function(){a.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Ke(e,t){return t?function(e,t){if(null!=e){if(Le(e))return function(e,t){return je(e).pipe(Ye(t),$e(t))}(e,t);if(Re(e))return function(e,t){return new Y((function(n){var a=0;return t.schedule((function(){a===e.length?n.complete():(n.next(e[a++]),n.closed||this.schedule())}))}))}(e,t);if(Be(e))return function(e,t){return je(e).pipe(Ye(t),$e(t))}(e,t);if(De(e))return Je(e,t);if(Oe(e))return function(e,t){return new Y((function(n){var a;return Xe(n,t,(function(){a=e[Fe](),Xe(n,t,(function(){var e,t,r;try{t=(e=a.next()).value,r=e.done}catch(e){return void n.error(e)}r?n.complete():n.next(t)}),0,!0)})),function(){return g(null==a?void 0:a.return)&&a.return()}}))}(e,t);if(Ue(e))return function(e,t){return Je(Ve(e),t)}(e,t)}throw Ne(e)}(e,t):je(e)}function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ce(e);return Ke(e,n)}var et=new Y((function(e){return e.complete()}));class tt{constructor(e=[]){this.items=e}get size(){return this.items.length}observeComplete(){return Ze(this.items)}observeItems(){return Ze(this.items)}observeSize(){return Ze(this.items.length)}observeMaxSize(){return Ze(this.items.length)}observeError(){return et}fetchAt(){}disconnect(){}}function nt(e,t){return void 0===t&&(t=H),e=null!=e?e:at,We((function(n,a){var r,s=!0;n.subscribe(Ge(a,(function(n){var i=t(n);!s&&e(r,i)||(s=!1,r=i,a.next(n))})))}))}function at(e,t){return e===t}function rt(e,t){return We((function(n,a){var r=0;n.subscribe(Ge(a,(function(n){a.next(e.call(t,n,r++))})))}))}const st="eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ijk3RjI2N1daRDkifQ.eyJpYXQiOjE2NTY3MDUwMjksImV4cCI6MTY3MjI1NzAyOSwiaXNzIjoiODM4Nk5ERlhMQiJ9.P6k3R2eCHfinKym779xE4i9Q2DUpb3k8p_cyhQkO9vIKe3qUKolpnIuJKLOstPw-OdAvuXZFsZMexhpbZyBztA".toString(),it="41bd731be5b78200d2bbaea2312b917b".toString(),ot="78aa93b641329f00e68cf1542356b8fc".toString(),lt="68c1c915728f4b9da193da1028692f0d".toString(),mt="AIzaSyD-cQaU5ntJBcCEBAbmK5pIXD4FQ19fdho".toString(),ct="364143070327-sgopc15lidje8uq4l16k1u8pqo2hpc4o.apps.googleusercontent.com".toString();var ut=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::appleAuth");const _t=new ae("appleAuth"),pt=new te("");function vt(){return pt.pipe(nt()).pipe(rt((e=>""!==e)),nt())}function dt(){return ut(this,void 0,void 0,(function*(){if(""===pt.getValue())try{const e=yield ht(),t=yield e.authorize();_t.log("Access token successfully obtained."),pt.next(t)}catch(e){_t.log("Could not obtain access token."),_t.error(e)}}))}function bt(){return ut(this,void 0,void 0,(function*(){yield MusicKit.getInstance().unauthorize(),pt.next("")}))}function ht(){return ut(this,void 0,void 0,(function*(){return window.MusicKit?MusicKit.getInstance():new Promise(((e,t)=>{ge("https://js-cdn.music.apple.com/musickit/v3/musickit.js").then(void 0,t),document.addEventListener("musickitloaded",(()=>{MusicKit.configure({developerToken:st,app:{name:"ampcast",build:"0.4.6"},sourceType:8,suppressErrorDialog:!0}).then(e,t)}))}))}))}const ft={observeIsLoggedIn:vt,login:dt,logout:bt};var gt;!function(){ut(this,void 0,void 0,(function*(){const e=yield ht();if(e.isAuthorized){const t=yield e.authorize();_t.log("Access token successfully obtained."),pt.next(t)}}))}(),function(e){e[e.Audio=0]="Audio",e[e.Video=1]="Video"}(gt||(gt={}));const xt=gt;var yt=Array.isArray,wt=Object.getPrototypeOf,At=Object.prototype,qt=Object.keys;function zt(e){if(1===e.length){var t=e[0];if(yt(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&wt(a)===At){var n=qt(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var a;return{args:e,keys:null}}var Et=Array.isArray;function kt(e){return rt((function(t){return function(e,t){return Et(t)?e.apply(void 0,b([],d(t))):e(t)}(e,t)}))}function Tt(e,t){return e.reduce((function(e,n,a){return e[n]=t[a],e}),{})}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ce(e),a=Pe(e),r=zt(e),s=r.args,i=r.keys;if(0===s.length)return Ke([],n);var o=new Y(It(s,n,i?function(e){return Tt(i,e)}:H));return a?o.pipe(kt(a)):o}function It(e,t,n){return void 0===n&&(n=H),function(a){Pt(t,(function(){for(var r=e.length,s=new Array(r),i=r,o=r,l=function(r){Pt(t,(function(){var l=Ke(e[r],t),m=!1;l.subscribe(Ge(a,(function(e){s[r]=e,m||(m=!0,o--),o||a.next(n(s.slice()))}),(function(){--i||a.complete()})))}),a)},m=0;m<r;m++)l(m)}),a)}}function Pt(e,t,n){e?Xe(n,e,t):t()}function Ct(e,t,n){var a=g(e)||t||n?{next:e,error:t,complete:n}:e;return a?We((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(Ge(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):H}function Mt(e,t,n){return void 0===n&&(n=1/0),g(t)?Mt((function(n,a){return rt((function(e,r){return t(n,e,a,r)}))(je(e(n,a)))}),n):("number"==typeof t&&(n=t),We((function(t,a){return function(e,t,n,a,r,s,i,o){var l=[],m=0,c=0,u=!1,_=function(){!u||l.length||m||t.complete()},p=function(e){return m<a?v(e):l.push(e)},v=function(e){m++;var r=!1;je(n(e,c++)).subscribe(Ge(t,(function(e){t.next(e)}),(function(){r=!0}),void 0,(function(){if(r)try{m--;for(;l.length&&m<a;)e=void 0,e=l.shift(),v(e);_()}catch(e){t.error(e)}var e})))};return e.subscribe(Ge(t,p,(function(){u=!0,_()}))),function(){}}(t,a,e,n)})))}function Rt(e){return We((function(t,n){var a,r=null,s=!1;r=t.subscribe(Ge(n,void 0,void 0,(function(i){a=je(e(i,Rt(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):s=!0}))),s&&(r.unsubscribe(),r=null,a.subscribe(n))}))}function Bt(e){return We((function(t,n){je(e).subscribe(Ge(n,(function(){return n.complete()}),R)),!n.closed&&t.subscribe(n)}))}function Lt(e){return e<=0?function(){return et}:We((function(t,n){var a=0;t.subscribe(Ge(n,(function(t){++a<=e&&(n.next(t),e<=a&&n.complete())})))}))}function Dt(e,t){return We((function(n,a){var r=0;n.subscribe(Ge(a,(function(n){return e.call(t,n,r++)&&a.next(n)})))}))}function Nt(e,t){return We((function(n,a){var r=null,s=0,i=!1,o=function(){return i&&!r&&a.complete()};n.subscribe(Ge(a,(function(n){null==r||r.unsubscribe();var i=0,l=s++;je(e(n,l)).subscribe(r=Ge(a,(function(e){return a.next(t?t(n,e,l,i++):e)}),(function(){r=null,o()})))}),(function(){i=!0,o()})))}))}var Ft={now:function(){return(Ft.delegate||Date).now()},delegate:void 0},Ot=function(e){function t(t,n,a){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===a&&(a=Ft);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=n,r._timestampProvider=a,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=n===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,n),r}return _(t,e),t.prototype.next=function(t){var n=this,a=n.isStopped,r=n._buffer,s=n._infiniteTimeWindow,i=n._timestampProvider,o=n._windowTime;a||(r.push(t),!s&&r.push(i.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,a=this._buffer.slice(),r=0;r<a.length&&!e.closed;r+=n?1:2)e.next(a[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,a=e._buffer,r=e._infiniteTimeWindow,s=(r?1:2)*t;if(t<1/0&&s<a.length&&a.splice(0,a.length-s),!r){for(var i=n.now(),o=0,l=1;l<a.length&&a[l]<=i;l+=2)o=l;o&&a.splice(0,o+1)}},t}(Z);const Vt=[],Ut=new ae("AbstractPager");let jt=0;class Qt{constructor(e){this.items$=new te(Vt),this.size$=new Ot(1),this.maxSize$=new Ot(1),this.error$=new Ot(1),this.fetches$=new te({index:0,length:0}),this.disconnected=!1,this.config=Object.assign({},e),(null==e?void 0:e.maxSize)&&this.maxSize$.next(null==e?void 0:e.maxSize)}observeComplete(){return St([this.observeItems(),this.observeSize()]).pipe(Dt((([e,t])=>e.reduce((e=>e+1),0)===t)),rt((([e])=>e)),Lt(1))}observeItems(){return this.items$.pipe(Dt((e=>e!==Vt)))}observeSize(){return this.size$.pipe(nt())}observeMaxSize(){return this.maxSize$.pipe(nt())}observeError(){return this.error$}disconnect(){this.disconnected||(this.disconnected=!0,this.subscriptions&&(this.subscriptions.unsubscribe(),Ut.log("Pager disconnected. connected pagers="+--jt)),this.items.forEach((e=>{var t;return null===(t=e.pager)||void 0===t?void 0:t.disconnect()})),this.items$.complete(),this.size$.complete(),this.maxSize$.complete(),this.error$.complete())}fetchAt(e,t){if(this.disconnected)Ut.warn("disconnected");else{if(!this.subscriptions&&(this.createSubscriptions(),this.config.calculatePageSize)){const{minPageSize:e=10,maxPageSize:n=100}=this.config,a=10*Math.ceil(2*t/10);this.config.pageSize=Math.max(Math.min(a,n),e)}this.fetches$.next({index:e,length:t})}}get items(){return this.items$.getValue()}get maxSize(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.maxSize)&&void 0!==t?t:1/0}createSubscriptions(){this.subscriptions||(Ut.log("Pager connected. connected pagers="+ ++jt),this.subscriptions=new A,this.subscriptions.add(this.observeAdditions().pipe(Ct((e=>this.addPagerDecorations(e)))).subscribe(Ut)))}observeAdditions(){return this.items$.pipe(We((function(e,t){var n,a=!1;e.subscribe(Ge(t,(function(e){var r=n;n=e,a&&t.next([r,e]),a=!0})))})),rt((([e,t])=>t.filter((t=>!e.find((e=>e.src===t.src)))))))}addPagerDecorations(e){e.forEach((e=>{if(e.itemType===Te.Playlist&&!e.trackCount&&e.pager){const t=e.src;this.subscriptions.add(e.pager.observeSize().pipe(Ct((e=>{const n=this.items.findIndex((e=>e.src===t));if(-1!==n){const t=this.items.slice(),a=t[n];t[n]=Object.assign(Object.assign({},a),{trackCount:e}),this.items$.next(t)}}))).subscribe(Ut))}}))}}const Xt=new ae("SequentialPager");class Wt extends Qt{constructor(e,t){super(t),this.fetchNext=e,this.fetching$=new te(!1),this.emptyCount=0}createSubscriptions(){var e,t;this.subscriptions||(super.createSubscriptions(),this.subscriptions.add(this.observeShouldFetch().pipe(Ct((()=>this.fetching$.next(!0))),(e=()=>this.fetchNext(this.config.pageSize),g(t)?Mt(e,t,1):Mt(e,1)),Ct((e=>this.addPage(e))),Rt((e=>(Xt.error(e),this.error$.next(e),Ze(void 0)))),Ct((()=>this.fetching$.next(!1))),Bt(this.observeComplete()),Lt(100)).subscribe(Xt)))}observeShouldFetch(){const e=St([this.fetches$,this.items$]).pipe(rt((([{index:e,length:t},n])=>e+2*t>n.length)),Dt((e=>e)),rt((()=>{})),Lt(1));return this.fetching$.pipe(Nt((t=>t?et:e)))}addPage(e){const t=(e.items||[]).filter(he),n=this.items.concat(t).filter(((e,t,n)=>t===n.findIndex((t=>e.src===t.src))));n.length===this.items.length&&this.emptyCount++,n.length=Math.min(n.length,this.maxSize);const a=e.atEnd||n.length===this.maxSize||this.emptyCount>2?n.length:e.total;void 0!==a&&this.size$.next(a),this.items$.next(n)}}var Gt=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};class Ht{constructor(e,t,n){this.nextPageUrl=void 0,this.pager=new Wt((n=>Gt(this,void 0,void 0,(function*(){const a=yield this.fetchNext(this.nextPageUrl||e,n),r=t(a.data),s=this.createItems(r.items),i=r.total,o=!r.nextPageUrl;return this.nextPageUrl=r.nextPageUrl,{items:s,total:i,atEnd:o}}))),n)}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeMaxSize(){return this.pager.observeMaxSize()}observeSize(){return this.pager.observeSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}fetchNext(e,t){return Gt(this,void 0,void 0,(function*(){const n=MusicKit.getInstance();return t&&!/[?&]limit=/.test(e)&&(e=`${e}${e.includes("?")?"&":"?"}limit=${t}`),n.api.music(e)}))}createItems(e){return e.map((e=>this.createItem(e)))}createItem(e){switch(e.type){case"playlists":case"library-playlists":return this.createMediaPlaylist(e);case"artists":case"library-artists":return this.createMediaArtist(e);case"albums":case"library-albums":return this.createMediaAlbum(e);case"songs":case"library-songs":case"music-videos":return this.createMediaItem(e)}}createMediaPlaylist(e){const t=e.attributes,{id:n,kind:a}=t.playParams||{id:e.id,kind:"playlist"};return Object.assign(Object.assign({},ze(Te.Playlist)),{src:`apple:${a}:${n}`,externalUrl:t.url,title:t.name,thumbnails:this.createThumbnails(e),apple:{href:e.href},owner:{name:t.curatorName||"",url:""},pager:this.createPager(`${e.href}?include=tracks`),unplayable:!t.playParams})}createMediaArtist(e){var t;const n=e.attributes;return Object.assign(Object.assign({},ze(Te.Artist)),{src:`apple:artist:${e.id}`,externalUrl:n.url,title:n.name,thumbnails:this.createThumbnails(e),genre:n.genreNames.join(";"),apple:{href:e.href},pager:this.createPager((null===(t=e.relationships)||void 0===t?void 0:t.albums.href)||`/v1/catalog/{{storefrontId}}/artists/${e.id}/albums`)})}createMediaAlbum(e){const t=e.attributes,{id:n,kind:a}=t.playParams||{id:e.id,kind:"album"};return Object.assign(Object.assign({},ze(Te.Album)),{src:`apple:${a}:${n}`,externalUrl:t.url,title:t.name,thumbnails:this.createThumbnails(e),artist:t.artistName,trackCount:t.trackCount,genre:t.genreNames.join(";"),year:new Date(t.releaseDate).getFullYear()||0,pager:this.createPager(e.href),apple:{href:e.href},unplayable:!t.playParams})}createMediaItem(e){const t=e.attributes,{id:n,kind:a}=t.playParams||{id:e.id,kind:"music-videos"===e.type?"musicVideo":"song"};return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:"musicVideo"===a?xt.Video:xt.Audio,src:`apple:${a}:${n}`,externalUrl:t.url,title:t.name,thumbnails:this.createThumbnails(e),artist:t.artistName,albumArtist:t.albumName?t.artistName:void 0,album:t.albumName,duration:t.durationInMillis/1e3,genre:t.genreNames.join(";"),disc:t.discNumber,track:t.trackNumber,year:new Date(t.releaseDate).getFullYear()||void 0,apple:{href:e.href},unplayable:!t.playParams})}createThumbnails(e){var t;const n=null===(t=e.attributes)||void 0===t?void 0:t.artwork;return n?[this.createThumbnail(n,60),this.createThumbnail(n,120),this.createThumbnail(n,240),this.createThumbnail(n,480)]:[]}createThumbnail(e,t){return{url:MusicKit.formatArtworkURL(e,t,t),width:t,height:t}}createPager(e,t){return new Ht(e,(e=>{var t,n,a;const r=(null===(n=null===(t=e.data[0])||void 0===t?void 0:t.relationships)||void 0===n?void 0:n.tracks)||e,s=r.data||[],i=r.next;return{items:s,total:null===(a=r.meta)||void 0===a?void 0:a.total,nextPageUrl:i}}),t)}}console.log("module::apple");const $t={view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","Duration"]};function Yt(e,t="songs",n){if(e){const a="/v1/catalog/{{storefrontId}}/search",r=new URLSearchParams({term:e,types:t});return new Ht(`${a}?${r}`,(e=>{var n;const a=e.results[t]||{data:[]},r=a.next,s=null===(n=e.meta)||void 0===n?void 0:n.total;return{items:a.data,total:s,nextPageUrl:r}}),Object.assign({maxSize:250,pageSize:25},n))}return new tt}const Jt={id:"apple/video",title:"Music Video",icon:"video",itemType:Te.Media,searchable:!0,layout:$t,search:e=>e?Yt(e,"music-videos",{maxSize:100}):new tt},Kt={id:"apple/recently-played",title:"Recently Played",icon:"clock",itemType:Te.Media,layout:{view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","LastPlayed"]},search:()=>new Ht("/v1/me/recent/played/tracks",(e=>{var t;const n=e.data,a=e.next;return{items:n,total:null===(t=e.meta)||void 0===t?void 0:t.total,nextPageUrl:a}}),{pageSize:30})},Zt={id:"apple/liked-songs",title:"Liked Songs",icon:"heart",itemType:Te.Media,layout:$t,search:()=>new Ht("/v1/me/library/songs",(e=>{var t;const n=e.data,a=e.next;return{items:n,total:null===(t=e.meta)||void 0===t?void 0:t.total,nextPageUrl:a}}))},en={id:"apple/liked-albums",title:"Liked Albums",icon:"heart",itemType:Te.Album,search:()=>new Ht("/v1/me/library/albums",(e=>{var t;const n=e.data,a=e.next;return{items:n,total:null===(t=e.meta)||void 0===t?void 0:t.total,nextPageUrl:a}}))},tn={id:"apple/playlists",title:"Playlists",icon:"playlists",itemType:Te.Playlist,layout:{view:"card compact",fields:["Thumbnail","Title","TrackCount"]},search:()=>new Ht("/v1/me/library/playlists",(e=>{var t;const n=e.data,a=e.next;return{items:n,total:null===(t=e.meta)||void 0===t?void 0:t.total,nextPageUrl:a}}))};function nn(e,t){return Object.assign(Object.assign({},t),{id:`apple/search/${e}`,icon:"",searchable:!0,search:t=>Yt(t,e)})}const an={id:"apple",title:"Apple Music",icon:"apple",searches:[nn("songs",{title:"Songs",itemType:Te.Media,layout:$t}),nn("albums",{title:"Albums",itemType:Te.Album}),nn("artists",{title:"Artists",itemType:Te.Artist}),nn("playlists",{title:"Playlists",itemType:Te.Playlist})],sources:[Jt,Kt,Zt,en,tn],observeIsLoggedIn:vt,login:dt,logout:bt};var rn;!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(rn||(rn={}));const sn=new ae("OffsetPager");class on extends Qt{constructor(e,t){super(t),this.fetch=e,this.fetchStates={},this.size=0}createSubscriptions(){this.subscriptions||(super.createSubscriptions(),this.subscriptions.add(this.fetches$.pipe(Dt((({index:e})=>this.isInRange(e))),rt((({index:e,length:t})=>this.getPageNumbersFromIndex(e,t))),Mt((e=>e)),Mt((e=>this.fetchPage(e))),Rt((e=>(sn.error(e),this.error$.next(e),Ze(void 0)))),Bt(this.observeComplete())).subscribe(sn)))}get pageSize(){return this.config.pageSize||20}fetchPage(e){return t=this,n=void 0,r=function*(){if(this.fetchStates[e]!==rn.Fulfilled&&this.fetchStates[e]!==rn.Pending){this.fetchStates[e]=rn.Pending;try{const t=yield this.fetch(e,this.pageSize);this.fetchStates[e]=rn.Fulfilled,this.insertPage(e,t)}catch(t){throw this.fetchStates[e]=rn.Rejected,t}}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}insertPage(e,t){const n=this.items.slice(),a=Math.min(t.total,this.maxSize),r=Math.ceil(a/this.pageSize),s=(e-1)*this.pageSize,i=e===r;if(n.length=i||t.items.length<this.pageSize?s:a,t.items.forEach(((e,t)=>n[t+s]=e)),n.length=Math.min(n.length,a),t.items.length===a)for(let e=0;e<=r;e++)this.fetchStates[e+1]=rn.Fulfilled;this.size=a,this.size$.next(a),this.items$.next(n)}getPageNumbersFromIndex(e,t){const n=this.size,a=Math.max(Math.ceil(this.pageSize/2),t),r=Math.max(e-a,0),s=Math.min(e+a+t-1,0===n?1/0:n-1),i=this.getPageNumberFromIndex(r),o=this.getPageNumberFromIndex(s);if(i===o)return[i];{const e=[];for(let t=i;t<=o;t++)e.push(t);return e}}getPageNumberFromIndex(e){return Math.floor(e/this.pageSize)+1}isInRange(e){return 0===this.size?e>=0:e>=0&&e<this.size}}let ln=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");const mn=new n("jellyfin"),cn={get host(){return mn.getItem("host")||""},set host(e){mn.setItem("host",e)},get device(){return"PC"},get deviceId(){let e=mn.getItem("deviceId");return e||(e=ln(),mn.setItem("deviceId",e)),e},get token(){return mn.getItem("token")||""},set token(e){mn.setItem("token",e)},get userId(){return mn.getItem("userId")||""},set userId(e){mn.setItem("userId",e)}};var un=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};function _n(e,t){return un(this,void 0,void 0,(function*(){const{device:n,deviceId:a,token:r}=cn;return t.headers=Object.assign(Object.assign({},t.headers),{"X-Emby-Authorization":`MediaBrowser Client="ampcast", Version="0.4.6", Device="${n}", DeviceId="${a}", Token="${r}"`}),window.fetch(`${cn.host}/${e}`,t)}))}console.log("module::jellyfinApi");const pn={get:function(e,t){return un(this,void 0,void 0,(function*(){return _n(`${e}?${new URLSearchParams(t)}`,{method:"GET"})}))},post:function(e,t){return un(this,void 0,void 0,(function*(){const n=JSON.stringify(t);return _n(e,{method:"POST",headers:{"Content-Type":"application/json"},body:n})}))},getPlayableUrlFromSrc:function(e){const{host:t,userId:n,token:a,deviceId:r}=cn;if(t&&n&&a&&r){const[,,s]=e.split(":");return`${t}/Audio/${s}/universal?${new URLSearchParams({MaxStreamingBitrate:"140000000",MaxSampleRate:"48000",TranscodingProtocol:"hls",TranscodingContainer:"ts",Container:"opus,webm|opus,mp3,aac,m4a|aac,m4b|aac,flac,webma,webm|webma,wav,ogg",AudioCodec:"aac",static:"true",UserId:n,api_key:a,DeviceId:r})}`}throw Error("Not logged in.")}},vn=pn;class dn{constructor(e,t={}){this.path=e,this.params=t,this.pageSize=dn.minPageSize,this.pager=new on((e=>this.fetch(e)),{pageSize:this.pageSize})}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeSize(){return this.pager.observeSize()}observeMaxSize(){return this.pager.observeMaxSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}fetch(e){return t=this,n=void 0,r=function*(){const t=Object.assign(Object.assign({IncludeItemTypes:"Audio",Fields:"AudioInfo,Genres",Recursive:"true",ImageTypeLimit:"1",EnableImageTypes:"Primary"},this.params),{Limit:String(this.pageSize),StartIndex:String((e-1)*this.pageSize)}),n=yield vn.get(this.path,t);if(!n.ok)throw Error(`${n.status}: ${n.statusText}`);const{Items:a,TotalRecordCount:r}=yield n.json();return{items:a.map((e=>this.createItem(e))),total:r}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}createItem(e){switch(e.Type){case"MusicArtist":return this.createMediaArtist(e);case"MusicAlbum":return this.createMediaAlbum(e);case"Playlist":return this.createMediaPlaylist(e);default:return this.createMediaItemFromTrack(e)}}createMediaArtist(e){var t;return console.log("createMediaItemFromArtist",e),Object.assign(Object.assign({},ze(Te.Artist)),{src:`jellyfin:album:${e.Id}`,title:e.Name||"",genre:null===(t=e.Genres)||void 0===t?void 0:t.join(";"),thumbnails:this.createThumbnails(e.Id),pager:this.createAlbumsPager(e)})}createMediaAlbum(e){var t,n,a;return console.log("createMediaItemFromAlbum",e),Object.assign(Object.assign({},ze(Te.Album)),{src:`jellyfin:album:${e.Id}`,title:e.Name||"",duration:e.RunTimeTicks?e.RunTimeTicks/1e7:0,playedOn:(null===(t=e.UserData)||void 0===t?void 0:t.LastPlayedDate)?new Date(e.UserData.LastPlayedDate).getTime():void 0,playCount:(null===(n=e.UserData)||void 0===n?void 0:n.PlayCount)||void 0,genre:null===(a=e.Genres)||void 0===a?void 0:a.join(";"),thumbnails:this.createThumbnails(e.Id),trackCount:e.ChildCount||void 0,pager:this.createAlbumPager(e),artist:e.AlbumArtist||void 0,year:e.ProductionYear||void 0})}createMediaPlaylist(e){var t,n,a;return Object.assign(Object.assign({},ze(Te.Playlist)),{src:`jellyfin:playlist:${e.Id}`,title:e.Name||"",duration:e.RunTimeTicks?e.RunTimeTicks/1e7:0,playedOn:(null===(t=e.UserData)||void 0===t?void 0:t.LastPlayedDate)?new Date(e.UserData.LastPlayedDate).getTime():void 0,playCount:(null===(n=e.UserData)||void 0===n?void 0:n.PlayCount)||void 0,genre:null===(a=e.Genres)||void 0===a?void 0:a.join(";"),thumbnails:this.createThumbnails(e.Id),trackCount:e.ChildCount||void 0,pager:this.createPlaylistPager(e)})}createMediaItemFromTrack(e){var t,n,a,r,s;const i=(null===(t=e.ImageTags)||void 0===t?void 0:t.Primary)?e.Id:e.AlbumId;return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Audio,src:`jellyfin:audio:${e.Id}`,title:e.Name||"",duration:e.RunTimeTicks?e.RunTimeTicks/1e7:0,year:e.ProductionYear||void 0,playedOn:(null===(n=e.UserData)||void 0===n?void 0:n.LastPlayedDate)?new Date(e.UserData.LastPlayedDate).getTime():void 0,playCount:(null===(a=e.UserData)||void 0===a?void 0:a.PlayCount)||void 0,genre:null===(r=e.Genres)||void 0===r?void 0:r.join(";"),thumbnails:this.createThumbnails(i),artist:(null===(s=e.Artists)||void 0===s?void 0:s.join("/"))||e.AlbumArtist||void 0,albumArtist:e.AlbumArtist||void 0,album:e.Album||void 0,track:e.Album&&e.IndexNumber||0})}createThumbnails(e){return e?[this.createThumbnail(e,60),this.createThumbnail(e,120),this.createThumbnail(e,240),this.createThumbnail(e,480)]:void 0}createThumbnail(e,t,n=t){return{url:`${cn.host}/Items/${e}/Images/Primary?fillWidth=${t}&fillHeight=${n}`,width:t,height:n}}createAlbumPager(e){return new dn(`Users/${cn.userId}/Items`,{ParentId:e.Id,SortBy:"SortName",SortOrder:"Ascending"})}createAlbumsPager(e){return new dn(`Users/${cn.userId}/Items`,{AlbumArtistIds:e.Id,IncludeItemTypes:"MusicAlbum",SortOrder:"Descending"})}createPlaylistPager(e){return new dn(`Playlists/${e.Id}/Items`,{UserId:cn.userId,MediaType:"Audio",Fields:"ChildCount"})}}dn.minPageSize=100,dn.maxPageSize=1e3;var bn=__webpack_require__(3935),hn=window.CustomEvent;function fn(e,t){var n="on"+t.type.toLowerCase();return"function"==typeof e[n]&&e[n](t),e.dispatchEvent(t)}function gn(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function xn(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function yn(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function wn(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function An(e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])');var n=e.querySelector(t.join(", "));if(!n&&"attachShadow"in Element.prototype)for(var a=e.querySelectorAll("*"),r=0;r<a.length&&!(a[r].tagName&&a[r].shadowRoot&&(n=An(a[r].shadowRoot)));r++);return n}function qn(e){return e.isConnected||document.body.contains(e)}function zn(e){if(e.submitter)return e.submitter;var t=e.target;if(!(t instanceof HTMLFormElement))return null;var n=Tn.formSubmitter;if(!n){var a=e.target;n=("getRootNode"in a&&a.getRootNode()||document).activeElement}return n&&n.form===t?n:null}function En(e){if(!e.defaultPrevented){var t=e.target,n=Tn.imagemapUseValue,a=zn(e);null===n&&a&&(n=a.value);var r=gn(t);r&&"dialog"===(a&&a.getAttribute("formmethod")||t.getAttribute("method"))&&(e.preventDefault(),null!=n?r.close(n):r.close())}}function kn(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",En,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,a=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";n|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(a,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}hn&&"object"!=typeof hn||((hn=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),kn.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&qn(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),Tn.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=An(this.dialog_)),xn(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!qn(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!Tn.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,Tn.needsCentering(this.dialog_)?(Tn.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new hn("close",{bubbles:!1,cancelable:!1});fn(this.dialog_,t)}};var Tn={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],a=null;try{a=n.cssRules}catch(e){}if(a)for(var r=0;r<a.length;++r){var s=a[r],i=null;try{i=document.querySelectorAll(s.selectorText)}catch(e){}if(i&&yn(i,e)){var o=s.style.getPropertyValue("top"),l=s.style.getPropertyValue("bottom");if(o&&"auto"!==o||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||Tn.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new kn(e)},registerDialog:function(e){e.showModal||Tn.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,a=0;t=e.removedNodes[a];++a)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(Tn.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},Tn.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},Tn.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var a=this.pendingDialogStack[0];a?(a.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},Tn.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=gn(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},Tn.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(t)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),xn(t),void 0!==this.forwardTab_)){var n=this.pendingDialogStack[0];return n.dialog.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?n.focus_():t!==document.documentElement&&document.documentElement.focus()),!1}},Tn.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new hn("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&fn(n.dialog,t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},Tn.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},Tn.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},Tn.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},Tn.dm=new Tn.DialogManager,Tn.formSubmitter=null,Tn.imagemapUseValue=null,void 0===window.HTMLDialogElement){var Sn=document.createElement("form");if(Sn.setAttribute("method","dialog"),"dialog"!==Sn.method){var In=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(In){var Pn=In.get;In.get=function(){return wn(this)?"dialog":Pn.call(this)};var Cn=In.set;In.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):Cn.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",In)}}document.addEventListener("click",(function(e){if(Tn.formSubmitter=null,Tn.imagemapUseValue=null,!e.defaultPrevented){var t=e.target;if("composedPath"in e&&(t=e.composedPath().shift()||t),t&&wn(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;Tn.imagemapUseValue=e.offsetX+","+e.offsetY}gn(t)&&(Tn.formSubmitter=t)}}}),!1),document.addEventListener("submit",(function(e){var t=e.target;if(!gn(t)){var n=zn(e);"dialog"===(n&&n.getAttribute("formmethod")||t.getAttribute("method"))&&e.preventDefault()}}));var Mn=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!wn(this))return Mn.call(this);var e=gn(this);e&&e.close()}}const Rn=Tn;const Bn=(0,e.forwardRef)((function(t,n){var{onKeyDown:a}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["onKeyDown"]);const s=(0,e.useCallback)((e=>{" "===e.key&&e.stopPropagation(),null==a||a(e)}),[a]);return e.createElement("button",Object.assign({},r,{onKeyDown:s,ref:n}))}));function Ln({name:t,className:n=""}){switch(n=`icon icon-${t} ${n}`,t){case"play":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}));case"pause":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}));case"stop":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"}));case"volume":return e.createElement("svg",{className:n,viewBox:"0 0 16 16"},e.createElement("path",{className:"high medium",d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}),e.createElement("path",{className:"medium",d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}),e.createElement("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"}));case"muted":return e.createElement("svg",{className:n,viewBox:"0 0 16 16"},e.createElement("path",{d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"}));case"prev":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"}));case"next":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"}));case"info":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}));case"settings":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}));case"locked":return e.createElement("svg",{className:n,viewBox:"0 0 448 512",transform:"scale(0.95)"},e.createElement("path",{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}));case"unlocked":return e.createElement("svg",{className:n,viewBox:"0 0 576 512",transform:"scale(0.95)"},e.createElement("path",{d:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"}));case"left":return e.createElement("svg",{className:n,viewBox:"0 0 320 512"},e.createElement("path",{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}));case"right":return e.createElement("svg",{className:n,viewBox:"0 0 320 512"},e.createElement("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}));case"saved":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}));case"unsaved":return e.createElement("svg",{className:n,viewBox:"0 0 448 512"},e.createElement("path",{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"}));case"close":return e.createElement("svg",{className:n,viewBox:"0 0 64 64"},e.createElement("path",{d:"M 10.5,-0.5 C 12.1667,-0.5 13.8333,-0.5 15.5,-0.5C 20.7971,5.29805 26.2971,10.9647 32,16.5C 37.0314,10.303 42.5314,4.63636 48.5,-0.5C 49.8333,-0.5 51.1667,-0.5 52.5,-0.5C 55.8333,3.5 59.5,7.16667 63.5,10.5C 63.5,11.8333 63.5,13.1667 63.5,14.5C 57.7019,19.7971 52.0353,25.2971 46.5,31C 52.0353,36.7029 57.7019,42.2029 63.5,47.5C 63.5,49.1667 63.5,50.8333 63.5,52.5C 59.5,55.8333 55.8333,59.5 52.5,63.5C 50.8333,63.5 49.1667,63.5 47.5,63.5C 42.1604,57.8275 36.8271,52.1608 31.5,46.5C 25.479,51.8543 19.8123,57.521 14.5,63.5C 13.1667,63.5 11.8333,63.5 10.5,63.5C 7.16667,59.5 3.5,55.8333 -0.5,52.5C -0.5,50.8333 -0.5,49.1667 -0.5,47.5C 5.17254,42.1604 10.8392,36.8271 16.5,31.5C 10.8392,26.1729 5.17254,20.8396 -0.5,15.5C -0.5,13.8333 -0.5,12.1667 -0.5,10.5C 3.5,7.16667 7.16667,3.5 10.5,-0.5 Z"}));case"audio":return e.createElement("svg",{className:n,viewBox:"0 0 384 512"},e.createElement("path",{d:"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm144-76.024c0 10.691-12.926 16.045-20.485 8.485L136 360.486h-28c-6.627 0-12-5.373-12-12v-56c0-6.627 5.373-12 12-12h28l35.515-36.947c7.56-7.56 20.485-2.206 20.485 8.485v135.952zm41.201-47.13c9.051-9.297 9.06-24.133.001-33.439-22.149-22.752 12.235-56.246 34.395-33.481 27.198 27.94 27.212 72.444.001 100.401-21.793 22.386-56.947-10.315-34.397-33.481z"}));case"video":return e.createElement("svg",{className:n,viewBox:"0 0 384 512"},e.createElement("path",{d:"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm228.687-211.303L224 305.374V268c0-11.046-8.954-20-20-20H100c-11.046 0-20 8.954-20 20v104c0 11.046 8.954 20 20 20h104c11.046 0 20-8.954 20-20v-37.374l52.687 52.674C286.704 397.318 304 390.28 304 375.986V264.011c0-14.311-17.309-21.319-27.313-11.314z"}));case"note":return e.createElement("svg",{className:n,viewBox:"0 0 24 24",transform:"scale(1.25)"},e.createElement("path",{stroke:"none",d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}));case"star":return e.createElement("svg",{className:n,viewBox:"0 0 576 512"},e.createElement("path",{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"}));case"heart":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}));case"thumbs-up":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}));case"most-played":return e.createElement("svg",{className:n,viewBox:"0 0 384 512"},e.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}),e.createElement("polygon",{points:"130,250 270,325 130,400",strokeWidth:"30",strokeLinejoin:"round"}));case"clock":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"}));case"recently-added":return e.createElement("svg",{className:n,viewBox:"0 0 384 512"},e.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}),e.createElement("rect",{x:"177",y:"220",width:"40",height:"210",strokeWidth:"20",strokeLinejoin:"round"}),e.createElement("rect",{x:"87",y:"310",width:"210",height:"40",strokeWidth:"20",strokeLinejoin:"round"}));case"playlists":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("path",{d:"M88 48C101.3 48 112 58.75 112 72V120C112 133.3 101.3 144 88 144H40C26.75 144 16 133.3 16 120V72C16 58.75 26.75 48 40 48H88zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H192C174.3 128 160 113.7 160 96C160 78.33 174.3 64 192 64H480zM480 224C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H192C174.3 288 160 273.7 160 256C160 238.3 174.3 224 192 224H480zM480 384C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416C160 398.3 174.3 384 192 384H480zM16 232C16 218.7 26.75 208 40 208H88C101.3 208 112 218.7 112 232V280C112 293.3 101.3 304 88 304H40C26.75 304 16 293.3 16 280V232zM88 368C101.3 368 112 378.7 112 392V440C112 453.3 101.3 464 88 464H40C26.75 464 16 453.3 16 440V392C16 378.7 26.75 368 40 368H88z"}));case"file":case"blob":return e.createElement("svg",{className:n,viewBox:"0 0 448 512",transform:"scale(0.875)"},e.createElement("path",{fill:"#00cccc",d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}));case"apple":return e.createElement("svg",{className:n,viewBox:"0 0 24 24",transform:"scale(1.1) translate(0,-1)"},e.createElement("path",{fillRule:"nonzero",d:"M11.624 7.222c-.876 0-2.232-.996-3.66-.96-1.884.024-3.612 1.092-4.584 2.784-1.956 3.396-.504 8.412 1.404 11.172.936 1.344 2.04 2.856 3.504 2.808 1.404-.06 1.932-.912 3.636-.912 1.692 0 2.172.912 3.66.876 1.512-.024 2.472-1.368 3.396-2.724 1.068-1.56 1.512-3.072 1.536-3.156-.036-.012-2.94-1.128-2.976-4.488-.024-2.808 2.292-4.152 2.4-4.212-1.32-1.932-3.348-2.148-4.056-2.196-1.848-.144-3.396 1.008-4.26 1.008zm3.12-2.832c.78-.936 1.296-2.244 1.152-3.54-1.116.048-2.46.744-3.264 1.68-.72.828-1.344 2.16-1.176 3.432 1.236.096 2.508-.636 3.288-1.572z"}));case"plex":return e.createElement("svg",{className:n,viewBox:"0 0 122.88 122.88"},e.createElement("path",{className:"icon-plex-outer",d:"M18.43,0h86.02c10.18,0,18.43,8.25,18.43,18.43v86.02c0,10.18-8.25,18.43-18.43,18.43H18.43 C8.25,122.88,0,114.63,0,104.45l0-86.02C0,8.25,8.25,0,18.43,0L18.43,0z"}),e.createElement("polygon",{className:"icon-plex-inner",points:"61.44,16.8 35.52,16.8 61.44,61.44 35.52,106.08 61.44,106.08 87.36,61.44 61.44,16.8"}));case"jellyfin":return e.createElement("svg",{className:n,viewBox:"0 0 512 512"},e.createElement("defs",null,e.createElement("linearGradient",{id:"jellyfin-linear-gradient",gradientUnits:"userSpaceOnUse",x1:"110.25",y1:"213.3",x2:"496.14",y2:"436.09"},e.createElement("stop",{offset:"0",style:{stopColor:"#aa5cc3"}}),e.createElement("stop",{offset:"1",style:{stopColor:"#00a4dc"}}))),e.createElement("path",{d:"M256,201.6c-20.4,0-86.2,119.3-76.2,139.4s142.5,19.9,152.4,0S276.5,201.6,256,201.6z"}),e.createElement("path",{d:"M256,23.3c-61.6,0-259.8,359.4-229.6,420.1s429.3,60,459.2,0S317.6,23.3,256,23.3z M406.5,390.8c-19.6,39.3-281.1,39.8-300.9,0s110.1-275.3,150.4-275.3S426.1,351.4,406.5,390.8z"}));case"spotify":return e.createElement("svg",{className:n,viewBox:"0 0 168 168"},e.createElement("path",{stroke:"none",d:"m83.996 0.277c-46.249 0-83.743 37.493-83.743 83.742 0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l0.001-0.004zm38.404 120.78c-1.5 2.46-4.72 3.24-7.18 1.73-19.662-12.01-44.414-14.73-73.564-8.07-2.809 0.64-5.609-1.12-6.249-3.93-0.643-2.81 1.11-5.61 3.926-6.25 31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-0.903-8.148-4.35-1.04-3.453 0.907-7.093 4.354-8.143 30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-0.001zm0.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219-1.254-4.14 1.08-8.513 5.221-9.771 29.581-8.98 78.756-7.245 109.83 11.202 3.73 2.209 4.95 7.016 2.74 10.733-2.2 3.722-7.02 4.949-10.73 2.739z"}));case"lastfm":return e.createElement("svg",{className:n,viewBox:"0 0 455 455"},e.createElement("rect",{className:"icon-lastfm-inner",x:"5",y:"5",width:"445",height:"445"}),e.createElement("path",{className:"icon-lastfm-outer",fillRule:"evenodd",clipRule:"evenodd",d:"M0,0v455h455V0H0z M309.94,315.01c-62.425,0-84.085-28.145-95.625-63.145 L202.77,215.77c-8.65-26.33-18.75-46.915-50.505-46.915c-22.035,0-44.395,15.88-44.395,60.275c0,34.63,17.695,56.29,42.575,56.29 c28.145,0,46.915-20.94,46.915-20.94l11.565,31.385c0,0-19.495,19.125-60.275,19.125c-50.51,0-78.65-29.57-78.65-84.435 c0-56.99,28.14-90.565,81.19-90.565c47.99,0,72.165,17.325,87.305,64.235L250.41,240.3c8.65,26.35,23.805,45.47,60.25,45.47 c24.555,0,37.52-5.41,37.52-18.77c0-10.45-6.13-18.025-24.53-22.365l-24.53-5.76c-29.94-7.225-41.855-22.735-41.855-47.265 c0-39.335,31.755-51.6,64.215-51.6c36.82,0,59.18,13.34,62.07,45.82l-36.07,4.335c-1.445-15.53-10.82-22.015-28.145-22.015 c-15.88,0-25.625,7.21-25.625,19.475c0,10.84,4.685,17.325,20.565,20.94l23.085,5.055c31.035,7.21,47.64,22.365,47.64,51.585 C385,301.295,354.685,315.01,309.94,315.01z"}));case"youtube":return e.createElement("svg",{className:n,viewBox:"0 0 576 512",transform:"scale(1.125)"},e.createElement("rect",{className:"icon-youtube-inner",x:"144",y:"128",width:"288",height:"256"}),e.createElement("path",{className:"icon-youtube-outer",d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}))}}const Dn={left:0,top:0},Nn=(0,e.forwardRef)((function({title:t,className:n="",children:a,onClose:r,target:s="system"},i){const o=(0,e.useRef)(null),[l,m]=(0,e.useState)(Dn),[c,u]=(0,e.useState)(null),[_,p]=(0,e.useState)(Dn);(0,e.useImperativeHandle)(i,(()=>({close:e=>{o.current.open&&o.current.close(e)}}))),(0,e.useEffect)((()=>{const e=o.current;Rn.registerDialog(e),e.showModal()}),[]);const v=(0,e.useCallback)((()=>{o.current.close()}),[]),d=(0,e.useCallback)((()=>{r(o.current.returnValue)}),[r]),b=(0,e.useCallback)((e=>{const t=e.target;"submit"===t.type&&"#cancel"===t.value&&(e.preventDefault(),o.current.close())}),[]),h=(0,e.useCallback)((e=>{e.preventDefault(),0===e.button&&u({left:e.screenX,top:e.screenY})}),[]),f=(0,e.useCallback)((e=>{p({left:e.screenX-c.left,top:e.screenY-c.top})}),[c]),g=(0,e.useCallback)((e=>{m({left:l.left+(e.screenX-c.left),top:l.top+(e.screenY-c.top)}),p(Dn),u(null)}),[l,c]);return(0,e.useEffect)((()=>{if(c)return document.documentElement.style.cursor="default",document.body.classList.add("dragging"),document.addEventListener("mouseup",g),document.addEventListener("mousemove",f),()=>{document.documentElement.style.cursor="",document.body.classList.remove("dragging"),document.removeEventListener("mouseup",g),document.removeEventListener("mousemove",f)}}),[c,f,g]),bn.createPortal(e.createElement("dialog",{className:`dialog ${n}`,onClose:d,style:{transform:`translate(${l.left+_.left}px, ${l.top+_.top}px)`},ref:o},e.createElement("header",{className:"dialog-head",onMouseDown:h},e.createElement("h2",null,t),e.createElement(Bn,{onClick:v,onMouseDown:qe},e.createElement(Ln,{name:"close"}))),e.createElement("div",{className:"dialog-body",onClick:b},a)),document.getElementById(s))}));function Fn(t,n){const[a,r]=(0,e.useState)(!1),s=(0,e.useCallback)((()=>r(!0)),[]),i=(0,e.useCallback)((()=>r(!1)),[]);return[a?e.createElement(t,{onClose:i,target:n}):null,s]}function On(n){return a=this,r=void 0,i=function*(){return new Promise(((a,r)=>{const s=document.createElement("div"),i=(0,t.s)(s);try{const t=e=>{i.unmount(),s.remove(),a(e)};document.body.append(s),i.render(e.createElement(n,{onClose:t}))}catch(e){i.unmount(),s.remove(),r(e)}}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function o(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(n,o)}l((i=i.apply(a,r||[])).next())}));var a,r,s,i}const Vn=(0,e.forwardRef)((function(t,n){var{onKeyDown:a}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["onKeyDown"]);const s=(0,e.useCallback)((e=>{" "===e.key&&e.stopPropagation(),null==a||a(e)}),[a]);return e.createElement("input",Object.assign({},r,{onKeyDown:s,ref:n}))}));var Un=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};function jn(t){const n=(0,e.useRef)(null),a=(0,e.useRef)(null),r=(0,e.useRef)(null),s=(0,e.useRef)(null),i=(0,e.useCallback)((()=>Un(this,void 0,void 0,(function*(){try{const e=r.current.value,t=s.current.value;cn.host=a.current.value;const{device:i,deviceId:o}=cn,l=`MediaBrowser Client="ampcast", Version="0.4.6", Device="${i}", DeviceId="${o}"`,m=yield fetch(`${cn.host}/Users/AuthenticateByName`,{method:"POST",headers:{"Content-Type":"application/json","X-Emby-Authorization":l},body:JSON.stringify({Username:e,Pw:t})});if(!m.ok)throw Error(`${m.status}: ${m.statusText}`);const c=yield m.json(),u=c.User.Id,_=c.AccessToken;n.current.close(JSON.stringify({userId:u,token:_}))}catch(e){console.error(e)}}))),[]),o=(0,e.useCallback)((e=>Un(this,void 0,void 0,(function*(){"Enter"===e.key&&(e.preventDefault(),e.repeat||(yield i()))}))),[i]);return e.createElement(Nn,Object.assign({},t,{className:"jellyfin-login-dialog",title:"Login to Jellyfin",ref:n}),e.createElement("form",{method:"dialog",onKeyDown:o},e.createElement("p",null,e.createElement("label",{htmlFor:"jellyfin-host"},"Host:"),e.createElement(Vn,{type:"url",id:"jellyfin-host",defaultValue:cn.host,ref:a})),e.createElement("p",null,e.createElement("label",{htmlFor:"jellyfin-username"},"User:"),e.createElement(Vn,{type:"text",id:"jellyfin-username",autoFocus:!0,ref:r})),e.createElement("p",null,e.createElement("label",{htmlFor:"jellyfin-password"},"Password:"),e.createElement(Vn,{type:"password",id:"jellyfin-password",ref:s})),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel"},"Cancel"),e.createElement(Bn,{type:"button",onClick:i},"Login"))))}var Qn=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::jellyfinAuth");const Xn=new ae("jellyfinAuth"),Wn=new te("");function Gn(e){e&&Xn.log("Access token successfully obtained."),cn.token=e,Wn.next(e)}function Hn(e){return Dt((function(t,n){return e<=n}))}Gn(cn.token);var $n=["addListener","removeListener"],Yn=["addEventListener","removeEventListener"],Jn=["on","off"];function Kn(e,t,n,a){if(g(n)&&(a=n,n=void 0),a)return Kn(e,t,n).pipe(kt(a));var r=d(function(e){return g(e.addEventListener)&&g(e.removeEventListener)}(e)?Yn.map((function(a){return function(r){return e[a](t,r,n)}})):function(e){return g(e.addListener)&&g(e.removeListener)}(e)?$n.map(Zn(e,t)):function(e){return g(e.on)&&g(e.off)}(e)?Jn.map(Zn(e,t)):[],2),s=r[0],i=r[1];if(!s&&Re(e))return Mt((function(e){return Kn(e,t,n)}))(je(e));if(!s)throw new TypeError("Invalid event target");return new Y((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return i(t)}}))}function Zn(e,t){return function(n){return function(a){return e[n](t,a)}}}function ea(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Pe(e);return We((function(t,a){for(var r=e.length,s=new Array(r),i=e.map((function(){return!1})),o=!1,l=function(t){je(e[t]).subscribe(Ge(a,(function(e){s[t]=e,o||i[t]||(i[t]=!0,(o=i.every(H))&&(i=null))}),R))},m=0;m<r;m++)l(m);t.subscribe(Ge(a,(function(e){if(o){var t=b([e],d(s));a.next(n?n.apply(void 0,b([],d(t))):t)}})))}))}var ta=function(e){function t(t,n){return e.call(this)||this}return _(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(A),na={setInterval:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var r=na.delegate;return(null==r?void 0:r.setInterval)?r.setInterval.apply(r,b([e,t],d(n))):setInterval.apply(void 0,b([e,t],d(n)))},clearInterval:function(e){var t=na.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},aa=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.scheduler=t,a.work=n,a.pending=!1,a}return _(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,a=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(a,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),na.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;na.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,a=!1;try{this.work(e)}catch(e){a=!0,n=e||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,a=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,w(a,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ta),ra=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Ft.now,e}(),sa=function(e){function t(t,n){void 0===n&&(n=ra.now);var a=e.call(this,t,n)||this;return a.actions=[],a._active=!1,a._scheduled=void 0,a}return _(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ra),ia=new sa(aa),oa=ia;function la(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function ma(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const a=la(n);return(e,n)=>a.then((a=>n(a.transaction(t,e).objectStore(t))))}let ca;function ua(){return ca||(ca=ma("keyval-store","keyval")),ca}function _a(e,t=ua()){return t("readonly",(t=>la(t.get(e))))}function pa(e,t,n=ua()){return n("readwrite",(n=>(n.put(t,e),la(n.transaction))))}var va=__webpack_require__(2463);const da=new n("playlist"),ba={allowDuplicates:!0,showLineNumbers:!0,zeroPadLineNumbers:!0,showSourceIcons:!0},ha=new te(function(){try{const e=da.getItem("settings");return e?JSON.parse(e):ba}catch(e){return console.error(e),ba}}()),fa=function(){return ha},ga=function(){return ha.getValue()},xa=function(e){da.setItem("settings",JSON.stringify(e)),ha.next(e)};var ya=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::playlist");const wa=ma("ampcast/playlist","keyval"),Aa=[],qa=new te(Aa),za=new te("");function Ea(){var e;return ya(this,void 0,void 0,(function*(){if(qa.getValue()===Aa){const t=null!==(e=yield _a("items",wa))&&void 0!==e?e:[];qa.next(t)}return qa.getValue()}))}function ka(e){return ya(this,void 0,void 0,(function*(){e=e.concat(),yield pa("items",e,wa),qa.next(e),0!==e.length&&((yield Ta())||Sa(e[0].id))}))}function Ta(){return ya(this,void 0,void 0,(function*(){return za.getValue()}))}function Sa(e){return ya(this,void 0,void 0,(function*(){yield pa("currently-playing-id",e,wa),za.next(e)}))}function Ia(e){return ya(this,void 0,void 0,(function*(){yield Sa(e.id)}))}function Pa(){return za.pipe(ea(qa),rt((([e,t])=>{var n;return null!==(n=t.find((t=>t.id===e)))&&void 0!==n?n:null})),nt())}function Ca(e){return ya(this,void 0,void 0,(function*(){const t=yield Ta();if(t){const n=yield Ea(),a=n.findIndex((e=>e.id===t));if(-1!==a){const t=n[a+e];t&&(yield Ia(t))}}}))}function Ma(e,t){return ya(this,void 0,void 0,(function*(){const n=yield Ea(),a=ga().allowDuplicates;let r=yield function(e){return ya(this,void 0,void 0,(function*(){let t=[];if(Array.isArray(e))if(Na(e[0])){const n=yield Promise.all(e.map(Ba));for(const e of n)t=t.concat(e)}else t=yield Promise.all(e.map(La));else t=Na(e)?yield Ba(e):e instanceof FileList?yield Promise.all(Array.from(e).map(Da)):[yield La(e)];return t.filter(he)}))}(e);if(a||(r=r.filter((e=>-1===n.findIndex((t=>t.src===e.src))))),r.length>0){const e=r.map((e=>Object.assign(Object.assign({},e),{id:ln()})));t>=0&&t<n.length?(n.splice(t,0,...e),yield ka(n)):yield ka(n.concat(e))}}))}function Ra(e){return ya(this,void 0,void 0,(function*(){const t=yield Ea(),n=Array.isArray(e)?e:[e],a=t.filter((e=>!n.includes(e)));if(a.length!==t.length){const e=yield Ta(),t=a.findIndex((t=>t.id===e));-1===t&&(yield Sa("")),yield ka(a)}}))}function Ba(e){return ya(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const a=e.pager.observeItems(),r=e.pager.observeError();a.pipe(Bt(r),Lt(1)).subscribe(t),r.pipe(Bt(a),Lt(1)).subscribe(n),e.pager.fetchAt(0,1e3)}))}))}function La(e){return ya(this,void 0,void 0,(function*(){return e instanceof File?/^(audio|video)/.test(e.type)?Da(e):null:e}))}function Da(e){var t,n,a,r;return ya(this,void 0,void 0,(function*(){let s;try{s=yield(0,va.Aj)(e,{duration:!0,skipCovers:!0})}catch(t){console.log(`Error parsing file: ${e.name}`),console.log(`music-metadata says: ${t}`),s={format:{},common:{}}}const{common:i,format:o}=s,l=e.type.startsWith("video"),m=o.duration||(yield function(e){return ya(this,void 0,void 0,(function*(){return new Promise((t=>{const n=e.type.startsWith("video"),a=document.createElement(n?"video":"audio"),r=URL.createObjectURL(e),s=()=>{const e=a.error?0:a.duration;a.ondurationchange=null,a.onerror=null,a.src="",a.removeAttribute("src"),URL.revokeObjectURL(r),t(e)};a.ondurationchange=s,a.onerror=s,a.onended=s,a.muted=!0,a.src=r}))}))}(e)),c=(e=0)=>Math.floor(Number(e))||0;return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:l?xt.Video:xt.Audio,src:`blob:${ln()}`,title:i.title||e.name.replace(/\.\w+$/,""),artist:i.artist||(null===(t=i.artists)||void 0===t?void 0:t.join(";"))||"",albumArtist:i.album&&i.albumartist||"",album:i.album||"",genre:(null===(n=i.genre)||void 0===n?void 0:n.join(";"))||"",duration:m?Number(m.toFixed(3)):0,track:c(null===(a=i.track)||void 0===a?void 0:a.no),disc:c(null===(r=i.disk)||void 0===r?void 0:r.no),bpm:c(i.bpm),year:c(i.year),mood:i.mood||"",rating:Number(i.rating)||0,blob:e})}))}function Na(e){return"itemType"in e&&e.itemType===Te.Album}const Fa={observe:function(){return qa},observeCurrentItem:Pa,observeCurrentIndex:function(){return za.pipe(ea(qa),rt((([e,t])=>t.findIndex((t=>t.id===e)))),nt())},observeSize:function(){return qa.pipe(rt((e=>e.length)),nt())},getCurrentItem:function(){return ya(this,void 0,void 0,(function*(){const e=yield Ta();return e&&(yield Ea()).find((t=>t.id===e))||null}))},setCurrentItem:Ia,add:function(e){return ya(this,void 0,void 0,(function*(){yield Ma(e,-1)}))},clear:function(){return ya(this,void 0,void 0,(function*(){yield ka([])}))},insertAt:Ma,moveSelection:function(e,t){return ya(this,void 0,void 0,(function*(){const n=yield Ea(),a=n[t];if(e.includes(a))return;const r=n.filter((t=>!e.includes(t))),s=r.indexOf(a);s>=0?(r.splice(s,0,...e),yield ka(r)):yield ka(r.concat(e))}))},next:function(){return ya(this,void 0,void 0,(function*(){yield Ca(1)}))},prev:function(){return ya(this,void 0,void 0,(function*(){yield Ca(-1)}))},remove:Ra,removeAt:function(e){return ya(this,void 0,void 0,(function*(){const t=yield function(e){var t;return ya(this,void 0,void 0,(function*(){const n=yield Ea();return null!==(t=n[e])&&void 0!==t?t:null}))}(e);t&&(yield Ra(t))}))},shuffle:function(){return ya(this,void 0,void 0,(function*(){const e=yield Ea();let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const a=e[t];e[t]=e[n],e[n]=a}yield ka(e)}))}},Oa=Fa;ya(void 0,void 0,void 0,(function*(){var e;yield Ea();const t=null!==(e=yield _a("currently-playing-id",wa))&&void 0!==e?e:"";za.next(t)}));var Va={leading:!0,trailing:!1};function Ua(e,t,n){void 0===e&&(e=0),void 0===n&&(n=oa);var a=-1;return null!=t&&(Se(t)?n=t:a=t),new Y((function(t){var r,s=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;s<0&&(s=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=a?this.schedule(void 0,a):t.complete())}),s)}))}function ja(e,t,n){void 0===t&&(t=ia),void 0===n&&(n=Va);var a=Ua(e,t);return function(e,t){return void 0===t&&(t=Va),We((function(e,n){var r=t.leading,s=t.trailing,i=!1,o=null,l=null,m=!1,c=function(){null==l||l.unsubscribe(),l=null,s&&(p(),m&&n.complete())},u=function(){l=null,m&&n.complete()},_=function(e){return l=je(a).subscribe(Ge(n,c,u))},p=function(){if(i){i=!1;var e=o;o=null,n.next(e),!m&&_()}};e.subscribe(Ge(n,(function(e){i=!0,o=e,(!l||l.closed)&&(r?p():_())}),(function(){m=!0,(!(s&&i&&l)||l.closed)&&n.complete()})))}))}(0,n)}console.log("module::playback");const Qa=new te({currentItem:null,currentTime:0,startedAt:0,endedAt:0,duration:0,paused:!0});function Xa(){return Qa}function Wa(){return Xa().pipe(Dt((e=>0!==e.startedAt)),nt(((e,t)=>e.startedAt===t.startedAt)))}function Ga(){return Xa().pipe(Dt((e=>0!==e.endedAt)),nt(((e,t)=>e.endedAt===t.endedAt)))}function Ha(){const e=Qa.getValue();e.startedAt&&(e.endedAt||Qa.next(Object.assign(Object.assign({},e),{endedAt:Date.now()})),Qa.next(Object.assign(Object.assign({},e),{startedAt:0,endedAt:0})))}Pa().subscribe((e=>{Ha(),Qa.next(Object.assign(Object.assign({},Qa.getValue()),{currentItem:e,currentTime:0,duration:(null==e?void 0:e.duration)||0,startedAt:0,endedAt:0}))}));const $a={get paused(){return Qa.getValue().paused},observeState:Xa,observePlaybackStart:Wa,observePlaybackEnd:Ga,observePlaybackProgress:function(e=1e4){return Wa().pipe(Nt((()=>Xa().pipe(ja(e,void 0,{trailing:!0}),Bt(Ga())))))},observeCurrentTime:function(){return Xa().pipe(rt((e=>e.currentTime)),nt())},observeDuration:function(){return Xa().pipe(rt((e=>e.duration)),nt())},observePaused:function(){return Xa().pipe(rt((e=>e.paused)),nt())},getCurrentTime:function(){return Qa.getValue().currentTime},setCurrentTime:function(e){const t=Qa.getValue();(e=Math.max(Math.min(Math.floor(isFinite(e)?e:0),t.duration),0))!==t.currentTime&&Qa.next(Object.assign(Object.assign({},t),{currentTime:e}))},getDuration:function(){return Qa.getValue().duration},setDuration:function(e){const t=Qa.getValue();if((e=Math.max(Math.floor(isFinite(e)?e:0),0))!==t.duration){const n=Math.min(t.currentTime,e);Qa.next(Object.assign(Object.assign({},t),{duration:e,currentTime:n}))}},play:function(){const e=Qa.getValue();e.currentItem&&e.paused&&Qa.next(Object.assign(Object.assign({},e),{paused:!1}))},pause:function(){const e=Qa.getValue();e.paused||Qa.next(Object.assign(Object.assign({},e),{paused:!0}))},stop:function(){const e=Qa.getValue();if(!e.paused||0!==e.currentTime||0!==e.startedAt&&0===e.endedAt){const t=Object.assign(Object.assign({},e),{paused:!0,currentTime:0,endedAt:e.endedAt||(e.startedAt?Date.now():0)});Qa.next(t),e.startedAt&&Qa.next(Object.assign(Object.assign({},t),{startedAt:0,endedAt:0}))}},started:function(){const e=Qa.getValue();e.startedAt||Qa.next(Object.assign(Object.assign({},e),{startedAt:Date.now()}))},ended:Ha},Ya=$a;console.log("module::audio");const Ja=new AudioContext,Ka=new AnalyserNode(Ja,{fftSize:2048,smoothingTimeConstant:0});let Za,er;Ka.connect(Ja.destination);const tr=new te(Ja.createMediaElementSource(new Audio));function nr(){return tr.pipe(nt())}Wa().subscribe((({currentItem:e})=>{if(e.src.startsWith("apple:")){if(!er){const e=document.querySelector("audio#apple-music-player");e&&(er=Ja.createMediaElementSource(e))}er&&tr.next(er)}else{if(!Za){const e=document.querySelector("audio.html5-audio");e&&(Za=Ja.createMediaElementSource(e))}Za&&tr.next(Za)}})),nr().pipe(Hn(1)).subscribe((e=>e.connect(Ka)));var ar,rr,sr=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},ir=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n};class or{constructor(e,t,n){this.players=e,this.selectPlayer=t,this.loadPlayer=n,this.player$=new te(null),ar.set(this,!1),rr.set(this,!1)}get hidden(){return sr(this,ar,"f")}set hidden(e){ir(this,ar,e,"f"),this.currentPlayer&&(this.currentPlayer.hidden=e)}get autoplay(){return this.players[0].autoplay}set autoplay(e){this.players.forEach((t=>t.autoplay=e))}get loop(){return this.players[0].loop}set loop(e){this.players.forEach((t=>t.loop=e))}get muted(){return sr(this,rr,"f")}set muted(e){ir(this,rr,e,"f"),this.currentPlayer&&(this.currentPlayer.muted=e)}get volume(){return this.players[0].volume}set volume(e){this.players.forEach((t=>t.volume=e))}observeCurrentTime(){return this.observeCurrentPlayer().pipe(Nt((e=>e?e.observeCurrentTime():Ze(0))),nt())}observeDuration(){return this.observeCurrentPlayer().pipe(Nt((e=>e?e.observeDuration():Ze(0))),nt())}observeEnded(){return this.observeCurrentPlayer().pipe(Nt((e=>e?e.observeEnded():et)))}observeError(){return this.observeCurrentPlayer().pipe(Nt((e=>e?e.observeError():et)))}observePlaying(){return this.observeCurrentPlayer().pipe(Nt((e=>e?e.observePlaying():et)))}appendTo(e){this.players.forEach((t=>t.appendTo(e)))}load(e){const t=this.currentPlayer,n=this.selectPlayer(e);t&&t!==n&&(t.muted=!0,t.hidden=!0,t.stop()),this.player$.next(n),n&&(this.loadPlayer(n,e),n!==t&&(n.muted=this.muted,n.hidden=this.hidden))}play(){var e;this.autoplay=!0,null===(e=this.currentPlayer)||void 0===e||e.play()}pause(){this.autoplay=!1,this.players.forEach((e=>e.pause()))}stop(){this.autoplay=!1,this.players.forEach((e=>e.stop()))}seek(e){var t;null===(t=this.currentPlayer)||void 0===t||t.seek(e)}resize(e,t){e*t>0&&this.players.forEach((n=>n.resize(e,t)))}get currentPlayer(){return this.player$.getValue()}observeCurrentPlayer(){return this.player$.pipe(nt())}}function lr(e){return We((function(t,n){var a=!1,r=0;t.subscribe(Ge(n,(function(t){return(a||(a=!e(t,r++)))&&n.next(t)})))}))}ar=new WeakMap,rr=new WeakMap;var mr=__webpack_require__(1062),cr=__webpack_require__.n(mr),ur=__webpack_require__(6998),_r=__webpack_require__.n(ur),pr=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::youtubeAuth");const vr=new ae("youtubeAuth"),dr="https://www.googleapis.com/auth/youtube.readonly",br=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],hr=new te("");function fr(){return hr.getValue()}function gr(){return pr(this,void 0,void 0,(function*(){if(""===fr())try{const e=yield function(){return pr(this,void 0,void 0,(function*(){const e=yield xr();return new Promise(((t,n)=>{e.initTokenClient({client_id:ct,scope:dr,callback:e=>{e.error?n(e.error_description):(hr.next(e.access_token),t(e.access_token))}}).requestAccessToken()}))}))}();hr.next(e),vr.log("Access token successfully obtained.")}catch(e){vr.log("Could not obtain access token."),vr.error(e)}}))}function xr(){var e,t;return pr(this,void 0,void 0,(function*(){return(null===(t=null===(e=window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.oauth2)||(yield ge("https://accounts.google.com/gsi/client")),google.accounts.oauth2}))}!function(){pr(this,void 0,void 0,(function*(){const e=(yield function(){return pr(this,void 0,void 0,(function*(){const e=yield function(){return pr(this,void 0,void 0,(function*(){return window.gapi||(yield ge("https://apis.google.com/js/api.js")),window.gapi}))}();return e.client?e.client:new Promise(((t,n)=>{e.load("client",{callback:()=>{const a={apiKey:mt,clientId:ct,discoveryDocs:br,scope:dr};e.client.init(a).then((()=>t(e.client)),n)},onerror:n})}))}))}()).getToken();e&&(vr.log("Access token successfully obtained."),hr.next(e.access_token)),gapi.load("client:auth2",(()=>{gapi.auth2.getAuthInstance().isSignedIn.listen((e=>{if(e){const e=gapi.client.getToken();hr.next((null==e?void 0:e.access_token)||"")}else hr.next("")}))}))}))}();var yr=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))},wr=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Ar=ma("ampcast/youtube-cache","keyval");!function(){yr(this,void 0,void 0,(function*(){const e=yield function(e=ua()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([la(t.getAllKeys()),la(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>function(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},la(e.transaction)}(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}(Ar),t=[],n=Date.now();for(const[a,r]of e)n-r.cachedAt>6048e5&&t.push(a);t.length>0&&(yield function(e,t=ua()){return t("readwrite",(t=>(e.forEach((e=>t.delete(e))),la(t.transaction))))}(t,Ar))}))}();class qr{constructor(e,t,n){this.defaultConfig={pageSize:qr.maxPageSize},this.nextPageToken=void 0,this.pageNumber=1,this.config=Object.assign(Object.assign({},this.defaultConfig),n),this.pager=new Wt((()=>yr(this,void 0,void 0,(function*(){return this.fetchPage(e,t)}))),this.config)}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeSize(){return this.pager.observeSize()}observeMaxSize(){return this.pager.observeMaxSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}createItems({kind:e,items:t=[]},n){return yr(this,void 0,void 0,(function*(){switch(e){case"youtube#playlistListResponse":return t.map((e=>this.createMediaPlaylist(e)));case"youtube#playlistItemListResponse":{const e=t.map((e=>e.contentDetails.videoId));return(yield this.fetchVideos(e,n)).map((e=>this.createMediaItem(e)))}case"youtube#searchListResponse":{const e=t.map((e=>e.id.videoId));return(yield this.fetchVideos(e,n)).map((e=>this.createMediaItem(e)))}default:return t.map((e=>this.createMediaItem(e)))}}))}createMediaPlaylist(e){var t,n,a;return Object.assign(Object.assign({},ze(Te.Playlist)),{src:`youtube:playlist:${e.id}`,externalUrl:`${zr}/playlist?list=${e.id}`,title:(null===(t=e.snippet)||void 0===t?void 0:t.title)||e.id,thumbnails:this.mapThumbnails(null===(n=e.snippet)||void 0===n?void 0:n.thumbnails),trackCount:null===(a=e.contentDetails)||void 0===a?void 0:a.itemCount,owner:this.createOwner(e.snippet),pager:this.createPlaylistPager(e.id)})}createMediaItem(e){var t,n,a,r,s;return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Video,src:`youtube:video:${e.id}`,externalUrl:`${zr}/watch?v=${e.id}`,title:(null===(t=e.snippet)||void 0===t?void 0:t.title)||e.id,duration:this.parseDuration(null===(n=e.contentDetails)||void 0===n?void 0:n.duration),thumbnails:this.mapThumbnails(null===(a=e.snippet)||void 0===a?void 0:a.thumbnails),owner:this.createOwner(e.snippet),globalRating:this.parseNumber(null===(r=e.statistics)||void 0===r?void 0:r.likeCount),globalPlayCount:this.parseNumber(null===(s=e.statistics)||void 0===s?void 0:s.viewCount)})}createOwner({channelId:e="",channelTitle:t=""}){return e?{name:t,url:`${zr}/channel/${e}`}:void 0}createPlaylistPager(e){return new qr("/playlistItems",{playlistId:e,part:"contentDetails",fields:"items(contentDetails(videoId))"})}mapThumbnails(e){if(e)return Object.keys(e).map((t=>e[t]))}parseDuration(e=""){const[,t=0,n=0,a=0]=/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/.exec(e)||[];return 60*Number(t)*60+60*Number(n)+Number(a)||0}fetchPage(e,t){return yr(this,void 0,void 0,(function*(){const n=this.createCacheKey(e,t,this.pageNumber),a=yield this.getFromCache(n),r=this.nextPageToken,s=yield this.fetch(e,Object.assign(Object.assign({},t),{fields:`etag,kind,pageInfo,nextPageToken,${t.fields||"items"}`,maxResults:String(this.config.pageSize),pageToken:r}),a),{pageInfo:i,nextPageToken:o}=s,l=wr(s,["pageInfo","nextPageToken"]),m=yield this.createItems(l,n),c=null==i?void 0:i.totalResults,u=!o;return this.nextPageToken=o,this.pageNumber++,yield this.saveToCache(n,s),{items:m,total:c,atEnd:u}}))}fetchVideos(e,t){return yr(this,void 0,void 0,(function*(){const n=`${t}/videos`,a=yield this.getFromCache(n),r=yield this.fetch("/videos",{id:e.join(","),part:"contentDetails,snippet,statistics",fields:`etag,${qr.videoFields}`},a);return yield this.saveToCache(n,r),r.items||[]}))}fetch(e,t,n){return yr(this,void 0,void 0,(function*(){const a=(null==n?void 0:n.etag)?{"If-None-Match":n.etag}:void 0;return gapi.client.request({path:`https://www.googleapis.com/youtube/v3${e}`,params:t,headers:a}).then((e=>yr(this,void 0,void 0,(function*(){const{result:t,status:a,statusText:r}=e;if(t)return t;if(304===a&&n)return n;throw Error(r||`Error (${a})`)}))))}))}getFromCache(e){return yr(this,void 0,void 0,(function*(){const t=yield _a(e,Ar);return null!=t?t:null}))}saveToCache(e,t){return yr(this,void 0,void 0,(function*(){this.config.noCache||(yield pa(e,Object.assign(Object.assign({},t),{cachedAt:Date.now()}),Ar))}))}createCacheKey(e,t,n){const{fields:a}=t,r=wr(t,["fields"]);return`${e}?${new URLSearchParams(r)}#${n}`}parseNumber(e){if(null!=e&&!isNaN(Number(e)))return Number(e)}}qr.minPageSize=5,qr.maxPageSize=50,qr.videoFields="items(id,snippet(title,thumbnails,channelId,channelTitle),contentDetails(duration),statistics(viewCount,likeCount))",qr.playlistFields="items(id,snippet(title,thumbnails,channelId,channelTitle),contentDetails(itemCount))";console.log("module::youtube");const zr="https://www.youtube.com",Er={view:"card",fields:["Thumbnail","Title","Duration","Owner"]};function kr(e){return t=this,n=void 0,r=function*(){const t=`${zr}/watch?v=${e}`,n=yield fetch(`${zr}/oembed?url=${t}&format=json`);if(!n.ok)throw n;const a=yield n.json();return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Video,src:`youtube:video:${e}`,externalUrl:t,title:a.title,aspectRatio:a.width/a.height||16/9,duration:0,track:0,thumbnails:[{url:a.thumbnail_url,width:a.thumbnail_width,height:a.thumbnail_height}],owner:{name:a.author_name,url:a.author_url}})},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}const Tr={id:"youtube",title:"YouTube",icon:"youtube",sources:[{id:"youtube/likes",title:"Likes",icon:"thumbs-up",itemType:Te.Media,layout:Er,search:()=>new qr("/videos",{myRating:"like",part:"snippet,contentDetails,statistics",fields:qr.videoFields})},{id:"youtube/playlists",title:"Playlists",icon:"playlists",itemType:Te.Playlist,layout:{view:"card compact",fields:["Thumbnail","Title","TrackCount","Owner"]},secondaryLayout:Er,search:()=>new qr("/playlists",{mine:"true",part:"snippet,contentDetails",fields:qr.playlistFields})}],searches:[{id:"youtube/search/video",title:"Video",icon:"",itemType:Te.Media,layout:Er,searchable:!0,search:e=>e?new qr("/search",{q:e,type:"video",videoCategoryId:"10",part:"id",fields:"items(id(videoId))"},{maxSize:qr.maxPageSize,noCache:!0}):new tt}],observeIsLoggedIn:function(){return hr.pipe(nt()).pipe(rt((e=>""!==e)),nt())},login:gr,logout:function(){return pr(this,void 0,void 0,(function*(){const e=fr();e&&(yield xr()).revoke(e,(()=>hr.next("")))}))}};var Sr,Ir,Pr=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},Cr=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n};const Mr=(e,t)=>e.width===t.width&&e.height===t.height,Rr=16/9,Br={autohide:1,autoplay:0,controls:0,disablekb:1,enablejsapi:1,fs:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0};var Lr;!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED"}(Lr||(Lr={}));class Dr{constructor(e,{startTime:t=0}={}){this.player=null,this.src$=new te(""),this.size$=new te({width:0,height:0}),this.error$=new Z,this.ready$=new Z,this.state$=new te(Lr.UNSTARTED),this.autoplay=!1,this.loop=!1,Sr.set(this,!0),Ir.set(this,1);const n=this.element=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=this.logger=new ae(`YouTubePlayer(${e})`);this.targetId=`youtube-iframe-${e}`,n.hidden=!0,n.className="youtube-video",a.className="youtube-video-wrapper",r.id=this.targetId,a.append(r),n.append(a),this.observeReady().pipe(Mt((()=>this.observeSrc())),lr((e=>!e)),Ct((e=>{const n=this.player,[,a,r]=e.split(":");if(r)if("playlist"===a){const e={list:r,listType:a,startSeconds:t};this.autoplay?n.loadPlaylist(e):n.cuePlaylist(e)}else this.autoplay?n.loadVideoById(r,t):n.cueVideoById(r,t);else n.stopVideo()}))).subscribe(s),this.observeReady().pipe(Mt((()=>this.observeVideoSize())),Ct((({width:e,height:t})=>this.player.setSize(e,t)))).subscribe(s),this.observeState().pipe(Dt((e=>e===Lr.ENDED&&this.loop)),Ct((()=>this.player.seekTo(0,!0)))).subscribe(s),this.observeState().pipe(Dt((e=>e===Lr.PLAYING)),Ct((()=>this.element.style.visibility=""))).subscribe(s),this.observeError().subscribe(s.error)}get hidden(){return this.element.hidden}set hidden(e){this.element.hidden=e,e&&(this.element.style.visibility="hidden")}get muted(){return Pr(this,Sr,"f")}set muted(e){Pr(this,Sr,"f")!==e&&(Cr(this,Sr,e,"f"),this.player&&(e?this.player.mute():0!==this.volume&&this.player.unMute()))}get volume(){return Pr(this,Ir,"f")}set volume(e){Pr(this,Ir,"f")!==e&&(Cr(this,Ir,e,"f"),this.player&&(this.player.setVolume(100*e),0===e?this.player.mute():this.muted||this.player.unMute()))}observeCurrentTime(){return this.observeState().pipe(Nt((e=>{var t;return e===Lr.PLAYING?Ua(250-Math.round(1e3*this.player.getCurrentTime())%250,250).pipe(rt((()=>this.player.getCurrentTime())),Bt(this.observeState().pipe(Hn(1)))):Ze((null===(t=this.player)||void 0===t?void 0:t.getCurrentTime())||0)})))}observeDuration(){return this.observeState().pipe(rt((()=>{var e;return(null===(e=this.player)||void 0===e?void 0:e.getDuration())||0})),Dt((e=>0!==e)),nt())}observeEnded(){return this.observeState().pipe(Dt((e=>e===Lr.ENDED&&!this.loop)),rt((()=>{})))}observeError(){return this.error$}observePlaying(){return this.observeState().pipe(Dt((e=>e===Lr.PLAYING)),rt((()=>{})))}appendTo(e){if(e.appendChild(this.element),!this.player){const e=cr()(this.targetId,{playerVars:Br});e.on("ready",(({target:e})=>{this.player=e,e.setVolume(100*this.volume),(this.muted||0===this.volume)&&e.mute(),this.ready$.next(void 0)})),e.on("stateChange",(({data:e})=>{this.state$.next(e)})),e.on("error",(e=>{this.error$.next(e)}))}}load(e){this.autoplay&&!this.player?this.error$.next(Error("YouTube player not loaded.")):this.autoplay&&this.player&&e===this.src?this.player.playVideo():this.src$.next(e)}play(){this.player?this.player.playVideo():this.error$.next(Error("YouTube player not loaded."))}pause(){var e;null===(e=this.player)||void 0===e||e.pauseVideo()}stop(){var e;null===(e=this.player)||void 0===e||e.stopVideo()}seek(e){var t;null===(t=this.player)||void 0===t||t.seekTo(e,!0)}resize(e,t){this.size$.next({width:e,height:t})}destroy(){var e;null===(e=this.player)||void 0===e||e.destroy(),this.element.remove()}get src(){return this.src$.getValue()}observeAspectRatio(){return this.observeVideoId().pipe(Nt((e=>e?this.getAspectRatio(e):Ze(Rr))),nt())}observeReady(){return this.ready$.pipe(Lt(1))}observeSize(){return this.size$.pipe(nt(Mr),Dt((({width:e,height:t})=>e*t>0)))}observeSrc(){return this.src$.pipe(nt())}observeState(){return this.state$}observeVideoId(){return this.observeState().pipe(rt((()=>{var e;return this.getVideoId((null===(e=this.player)||void 0===e?void 0:e.getVideoUrl())||"")})),nt())}observeVideoSize(){return St([this.observeSize(),this.observeAspectRatio()]).pipe(rt((([{width:e,height:t},n])=>{const a=Math.max(Math.round(e/n),t);return{width:Math.max(Math.round(a*n),e),height:a}})),nt(Mr))}getAspectRatio(e){return Ke(kr(e)).pipe(Bt(Ua(3e3)),Bt(this.observeVideoId().pipe(Hn(1))),rt((({aspectRatio:e})=>e||Rr)),Rt((t=>(this.logger.log(`Could not obtain oembed info: videoId='${e}' (status=${t.status})`),t.status>=400&&(401===t.status?this.error$.next(Error("Embedding prevented by channel owner.")):403===t.status?this.error$.next(Error("Private video.")):404===t.status?this.error$.next(Error("Video does not exist.")):this.error$.next(`Error: ${t.statusText} (${t.status})`)),Ze(Rr)))))}getPlayerState(){return this.player?this.player.getPlayerState():Lr.UNSTARTED}getPlaylist(){var e;return(null===(e=this.player)||void 0===e?void 0:e.getPlaylist())||[]}getVideoId(e){return e.startsWith("youtube:")?e.replace("youtube:video:",""):_r()(e)||""}}Sr=new WeakMap,Ir=new WeakMap;const Nr=new n("plex"),Fr={get clientId(){let e=Nr.getItem("clientId");return e||(e=ln(),Nr.setItem("clientId",e)),e},get connection(){const e=Nr.getItem("connection");return e?JSON.parse(e):null},set connection(e){Nr.setItem("connection",JSON.stringify(e))},get host(){var e;return(null===(e=this.connection)||void 0===e?void 0:e.uri)||""},get libraryId(){return Nr.getItem("libraryId")||""},set libraryId(e){Nr.setItem("libraryId",e)},get server(){const e=Nr.getItem("server");return e?JSON.parse(e):null},set server(e){Nr.setItem("server",JSON.stringify(e))},get serverToken(){var e;return(null===(e=this.server)||void 0===e?void 0:e.accessToken)||""},get userToken(){return Nr.getItem("userToken")||""},set userToken(e){Nr.setItem("userToken",e)},get userId(){return Nr.getItem("userId")||""},set userId(e){Nr.setItem("userId",e)}};var Or=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};function Vr({host:e=Fr.host,path:t,method:n="GET",params:a,headers:r,body:s,token:i,keepalive:o}){return Or(this,void 0,void 0,(function*(){if(!e)throw Error("No Plex connection.");(t=a?`${t}?${new URLSearchParams(a)}`:t).startsWith("/")||(t=`/${t}`),i||(i=e===Fr.host?Fr.serverToken:Fr.userToken);const l=yield window.fetch(`${e}${t}`,{method:n,headers:Object.assign(Object.assign({},r),Ur(i)),body:s,keepalive:o});if(!l.ok)throw Error(l.statusText);return l}))}function Ur(e){const t={"X-Plex-Product":"ampcast","X-Plex-Version":"0.4.6","X-Plex-Platform":be.displayName,"X-Plex-Platform-Version":be.version,"X-Plex-Device":be.os,"X-Plex-Device-Name":be.displayName,"X-Plex-Client-Identifier":Fr.clientId,"X-Plex-Model":"hosted","Accept-Encoding":"gzip, deflate, br"};return e&&(t["X-Plex-Token"]=e),t}console.log("module::plexApi");const jr={fetch:Vr,fetchJSON:function(e){var{headers:t,body:n}=e,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["headers","body"]);return Or(this,void 0,void 0,(function*(){return t=Object.assign(Object.assign({},t),{Accept:"application/json"}),n&&(t=Object.assign(Object.assign({},t),{"Content-Type":"application/json"}),n=JSON.stringify(n)),(yield Vr(Object.assign({headers:t,body:n},a))).json()}))},getPlayableUrlFromSrc:function(e){const{host:t,serverToken:n}=Fr;if(t&&n){const[,,a]=e.split(":");return`${t}${a}?X-Plex-Token=${n}`}throw Error("Not logged in.")}},Qr=jr;class Xr{constructor(e){this.error$=new Z,this.src="",this.loadedSrc="",this.autoplay=!1;const t=this.element=document.createElement(e);t.hidden=!0,t.muted=!0,t.autoplay=!1,t.className=`html5-${e}`,t.crossOrigin="anonymous",Kn(t,"error").pipe(rt((()=>t.error))).subscribe(this.error$);const n=new ae(`HTML5Player.${e}`);this.observeError().subscribe(n.error)}get hidden(){return this.element.hidden}set hidden(e){this.element.hidden=e}get loop(){return this.element.loop}set loop(e){this.element.loop=e}get muted(){return this.element.muted}set muted(e){this.element.muted=e}get volume(){return this.element.volume}set volume(e){this.element.volume=e}observeCurrentTime(){return Kn(this.element,"timeupdate").pipe(rt((()=>this.element.currentTime)),rt((e=>isFinite(e)?e:0)))}observeDuration(){return Kn(this.element,"durationchange").pipe(rt((()=>this.element.duration)),rt((e=>isFinite(e)?e:0)))}observeEnded(){return Kn(this.element,"ended").pipe(rt((()=>{})))}observeError(){return this.error$}observePlaying(){return Kn(this.element,"playing").pipe(rt((()=>{})))}appendTo(e){e.appendChild(this.element)}load(e){this.src=e;try{const t=this.getMediaSource(this.src);this.loadedSrc=e,this.element.setAttribute("src",t),this.autoplay&&this.element.play().then(void 0,(e=>this.error$.next(e)))}catch(e){this.error$.next(e)}}play(){try{const e=this.getMediaSource(this.src);this.src!==this.loadedSrc&&(this.loadedSrc=this.src,this.element.setAttribute("src",e)),this.element.play().then(void 0,(e=>this.error$.next(e)))}catch(e){this.error$.next(e)}}pause(){this.element.pause()}stop(){this.element.pause(),this.element.currentTime=0}seek(e){this.element.currentTime=e}resize(e,t){this.element.style.width=`${e}px`,this.element.style.height=`${t}px`}getMediaSource(e){return e.startsWith("jellyfin:")?vn.getPlayableUrlFromSrc(e):e.startsWith("plex:")?Qr.getPlayableUrlFromSrc(e):e}}const Wr=new Xr("video"),Gr=new Dr("ambient",{startTime:120}),Hr=new or([Wr,Gr],(function(e){return e?e.startsWith("youtube:")?Gr:Wr:null}),(function(e,t){e.load(t)}));Hr.loop=!0,Hr.volume=0,Hr.hidden=!0;const $r=Hr;class Yr{constructor(){this.autoplay=!1,this.loop=!0,this.muted=!0,this.volume=0}observeCurrentTime(){return et}observeDuration(){return et}observeEnded(){return et}observeError(){return et}observePlaying(){return et}seek(){}}const Jr=new ae("AmpShade"),Kr=2*Math.PI,Zr=Math.PI/2,es=Kr/3600;class ts{constructor(e,t={}){let n;if(this._ready=!1,this._gradients={classic:{bgColor:"#111",colorStops:["hsl( 0, 100%, 50% )",{pos:.6,color:"hsl( 60, 100%, 50% )"},"hsl( 120, 100%, 50% )"]},prism:{bgColor:"#111",colorStops:["hsl( 0, 100%, 50% )","hsl( 60, 100%, 50% )","hsl( 120, 100%, 50% )","hsl( 180, 100%, 50% )","hsl( 240, 100%, 50% )"]},rainbow:{bgColor:"#111",dir:"h",colorStops:["hsl( 0, 100%, 50% )","hsl( 60, 100%, 50% )","hsl( 120, 100%, 50% )","hsl( 180, 100%, 47% )","hsl( 240, 100%, 58% )","hsl( 300, 100%, 50% )","hsl( 360, 100%, 50% )"]}},this._container=e||document.body,this._defaultWidth=this._container.clientWidth||640,this._defaultHeight=this._container.clientHeight||270,t.source&&(n=t.source.context));else if(n=t.audioCtx);else try{n=new(window.AudioContext||window.webkitAudioContext)}catch(e){throw new ns("ERR_AUDIO_CONTEXT_FAIL","Could not create audio context. Web Audio API not supported?")}if(!n.createGain)throw new ns("ERR_INVALID_AUDIO_CONTEXT","Provided audio context is not valid");const a=this._analyzer=[n.createAnalyser(),n.createAnalyser()],r=this._splitter=n.createChannelSplitter(2),s=this._merger=n.createChannelMerger(2);this._input=n.createGain(),this._output=n.createGain(),this._sources=[],t.source&&this.connectInput(t.source);for(const e of[0,1])r.connect(a[e],e);s.connect(this._output),this._outNodes=[],!1!==t.connectSpeakers&&this.connectOutput(),this._energy={val:0,peak:0,hold:0};const i=document.createElement("canvas");i.style="max-width: 100%;",this._canvasCtx=i.getContext("2d");for(const e of["_scaleX","_scaleR"])this[e]=document.createElement("canvas").getContext("2d");this._fsEl=t.fsElement||i;const o=()=>{this._fsTimeout||(this._fsTimeout=window.setTimeout((()=>{this._fsChanging||(this._setCanvas("resize"),this._fsTimeout=0)}),60))};window.ResizeObserver&&new ResizeObserver(o).observe(this._container),window.addEventListener("resize",o),i.addEventListener("fullscreenchange",(()=>{this._fsChanging=!0,this._fsTimeout&&window.clearTimeout(this._fsTimeout),this._setCanvas("fschange"),this._fsTimeout=window.setTimeout((()=>{this._fsChanging=!1,this._fsTimeout=0}),60)}));const l=()=>{"suspended"==n.state&&n.resume(),window.removeEventListener("click",l)};window.addEventListener("click",l),this._calcAux(),this._setProps(t,!0),this.useCanvas&&this._container.appendChild(i),this._ready=!0,this._setCanvas("create")}get alphaBars(){return this._alphaBars}set alphaBars(e){this._alphaBars=!!e,this._calcAux()}get barSpace(){return this._barSpace}set barSpace(e){this._barSpace=+e||0,this._calcAux()}get fftSize(){return this._analyzer[0].fftSize}set fftSize(e){for(const t of[0,1])this._analyzer[t].fftSize=e;const t=this._analyzer[0].frequencyBinCount;this._fftData=[new Uint8Array(t),new Uint8Array(t)],this._calcBars()}get gradient(){return this._gradient}set gradient(e){if(!this._gradients.hasOwnProperty(e))throw new ns("ERR_UNKNOWN_GRADIENT",`Unknown gradient: '${e}'`);this._gradient=e,this._makeGrad()}get height(){return this._height}set height(e){this._height=e,this._setCanvas("user")}get ledBars(){return this._showLeds}set ledBars(e){this._showLeds=!!e,this._calcAux()}get loRes(){return this._loRes}set loRes(e){this._loRes=!!e,this._setCanvas("lores")}get lumiBars(){return this._lumiBars}set lumiBars(e){this._lumiBars=!!e,this._calcAux(),this._calcLeds(),this._makeGrad()}get maxDecibels(){return this._analyzer[0].maxDecibels}set maxDecibels(e){for(const t of[0,1])this._analyzer[t].maxDecibels=e}get maxFreq(){return this._maxFreq}set maxFreq(e){if(e<1)throw new ns("ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1");this._maxFreq=e,this._calcBars()}get minDecibels(){return this._analyzer[0].minDecibels}set minDecibels(e){for(const t of[0,1])this._analyzer[t].minDecibels=e}get minFreq(){return this._minFreq}set minFreq(e){if(e<1)throw new ns("ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1");this._minFreq=e,this._calcBars()}get mirror(){return this._mirror}set mirror(e){this._mirror=0|Math.sign(e),this._calcAux(),this._calcBars(),this._makeGrad()}get mode(){return this._mode}set mode(e){const t=0|e;if(!(t>=0&&t<=10&&9!=t))throw new ns("ERR_INVALID_MODE",`Invalid mode: ${e}`);this._mode=t,this._calcAux(),this._calcBars(),this._makeGrad()}get outlineBars(){return this._outlineBars}set outlineBars(e){this._outlineBars=!!e,this._calcAux()}get radial(){return this._radial}set radial(e){this._radial=!!e,this._calcAux(),this._calcBars(),this._makeGrad()}get reflexRatio(){return this._reflexRatio}set reflexRatio(e){if((e=+e||0)<0||e>=1)throw new ns("ERR_REFLEX_OUT_OF_RANGE","Reflex ratio must be >= 0 and < 1");this._reflexRatio=e,this._calcAux(),this._makeGrad(),this._calcLeds()}get showLeds(){return this.ledBars}set showLeds(e){this.ledBars=e}get smoothing(){return this._analyzer[0].smoothingTimeConstant}set smoothing(e){for(const t of[0,1])this._analyzer[t].smoothingTimeConstant=e}get spinSpeed(){return this._spinSpeed}set spinSpeed(e){e=+e||0,void 0!==this._spinSpeed&&0!=e||(this._spinAngle=-Zr),this._spinSpeed=e}get splitGradient(){return this._splitGradient}set splitGradient(e){this._splitGradient=!!e,this._makeGrad()}get stereo(){return this._stereo}set stereo(e){this._stereo=!!e,this._input.disconnect(),this._input.connect(this._stereo?this._splitter:this._analyzer[0]),this._analyzer[0].disconnect(),this._outNodes.length&&this._analyzer[0].connect(this._stereo?this._merger:this._output),this._calcAux(),this._createScales(),this._calcLeds(),this._makeGrad()}get volume(){return this._output.gain.value}set volume(e){this._output.gain.value=e}get width(){return this._width}set width(e){this._width=e,this._setCanvas("user")}get audioCtx(){return this._input.context}get canvas(){return this._canvasCtx.canvas}get canvasCtx(){return this._canvasCtx}get connectedSources(){return this._sources}get connectedTo(){return this._outNodes}get energy(){return this.getEnergy()}get fps(){return this._fps}get fsHeight(){return this._fsHeight}get fsWidth(){return this._fsWidth}get isAlphaBars(){return this._isAlphaBars}get isFullscreen(){return(document.fullscreenElement||document.webkitFullscreenElement)===this._fsEl}get isLedBars(){return this._isLedDisplay}get isLedDisplay(){return this.isLedBars}get isLumiBars(){return this._isLumiBars}get isOctaveBands(){return this._isOctaveBands}get isOn(){return void 0!==this._runId}get isOutlineBars(){return this._isOutline}get peakEnergy(){return this.getEnergy("peak")}get pixelRatio(){return this._pixelRatio}static get version(){return"3.6.0"}connectInput(e){const t=e instanceof HTMLMediaElement;if(!t&&!e.connect)throw new ns("ERR_INVALID_AUDIO_SOURCE","Audio source must be an instance of HTMLMediaElement or AudioNode");const n=t?this.audioCtx.createMediaElementSource(e):e;return this._sources.includes(n)||(n.connect(this._input),this._sources.push(n)),n}connectOutput(e=this.audioCtx.destination){if(!this._outNodes.includes(e)&&(this._output.connect(e),this._outNodes.push(e),1==this._outNodes.length))for(const e of[0,1])this._analyzer[e].connect(this._stereo||e?this._merger:this._output,0,e)}disconnectInput(e){e?Array.isArray(e)||(e=[e]):e=Array.from(this._sources);for(const t of e){const e=this._sources.indexOf(t);e>=0&&(t.disconnect(this._input),this._sources.splice(e,1))}}disconnectOutput(e){if((!e||this._outNodes.includes(e))&&(this._output.disconnect(e),this._outNodes=e?this._outNodes.filter((t=>t!==e)):[],0==this._outNodes.length))for(const e of[0,1])this._analyzer[e].disconnect()}getBars(){return Array.from(this._bars,(({posX:e,freqLo:t,freqHi:n,hold:a,peak:r,value:s})=>({posX:e,freqLo:t,freqHi:n,hold:a,peak:r,value:s})))}getEnergy(e,t){if(void 0===e)return this._energy.val;if(e!=+e){if("peak"==e)return this._energy.peak;const n={bass:[20,250],lowMid:[250,500],mid:[500,2e3],highMid:[2e3,4e3],treble:[4e3,16e3]};if(!n[e])return null;[e,t]=n[e]}const n=this._freqToBin(e),a=t?this._freqToBin(t):n,r=this._stereo+1;let s=0;for(let e=0;e<r;e++)for(let t=n;t<=a;t++)s+=this._fftData[e][t];return s/(a-n+1)/r/255}registerGradient(e,t){if("string"!=typeof e||0==e.trim().length)throw new ns("ERR_GRADIENT_INVALID_NAME","Gradient name must be a non-empty string");if("object"!=typeof t)throw new ns("ERR_GRADIENT_NOT_AN_OBJECT","Gradient options must be an object");if(void 0===t.colorStops||t.colorStops.length<2)throw new ns("ERR_GRADIENT_MISSING_COLOR","Gradient must define at least two colors");this._gradients[e]={bgColor:t.bgColor||"#111",dir:t.dir,colorStops:t.colorStops},e==this._gradient&&this._makeGrad()}setCanvasSize(e,t){this._width=e,this._height=t,this._setCanvas("user")}setFreqRange(e,t){if(e<1||t<1)throw new ns("ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1");this._minFreq=Math.min(e,t),this._maxFreq=Math.max(e,t),this._calcBars()}setLedParams(e){let t,n,a;e&&(t=0|e.maxLeds,n=+e.spaceV,a=+e.spaceH),this._ledParams=t>0&&n>0&&a>=0?[t,n,a]:void 0,this._calcLeds()}setOptions(e){this._setProps(e)}setSensitivity(e,t){for(const n of[0,1])this._analyzer[n].minDecibels=Math.min(e,t),this._analyzer[n].maxDecibels=Math.max(e,t)}toggleAnalyzer(e){const t=this.isOn;return void 0===e&&(e=!t),t&&!e?(cancelAnimationFrame(this._runId),this._runId=void 0):!t&&e&&(this._frame=this._fps=0,this._time=performance.now(),this._runId=requestAnimationFrame((e=>this._draw(e)))),this.isOn}toggleFullscreen(){if(this.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{const e=this._fsEl;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}}_calcAux(){const e=this.canvas,t=this._radial,n=this._stereo&&!t,a=e.width>>1;this._radius=Math.min(e.width,e.height)*(this._stereo?.375:.125)|0,this._barSpacePx=Math.min(this._barWidth-1,this._barSpace>0&&this._barSpace<1?this._barWidth*this._barSpace:this._barSpace),this._isOctaveBands=this._mode%10!=0,this._isLedDisplay=this._showLeds&&this._isOctaveBands&&!t,this._isLumiBars=this._lumiBars&&this._isOctaveBands&&!t,this._isAlphaBars=this._alphaBars&&!this._isLumiBars&&10!=this._mode,this._isOutline=this._outlineBars&&this._isOctaveBands&&!this._isLumiBars&&!this._isLedDisplay,this._maximizeLeds=!this._stereo||this._reflexRatio>0&&!this._isLumiBars,this._channelHeight=e.height-(n&&!this._isLedDisplay?.5:0)>>n,this._analyzerHeight=this._channelHeight*(this._isLumiBars||t?1:1-this._reflexRatio)|0,this._channelGap=n?e.height-2*this._channelHeight:0,this._analyzerWidth=e.width-a*(0!=this._mirror),this._initialX=a*(-1==this._mirror&&!t)}_calcBars(){const e=this._bars=[];if(!this._ready)return;const t=e=>e*this.audioCtx.sampleRate/this.fftSize||1,n=(t,n,a,r,s,i,o)=>e.push({posX:t,binLo:n,binHi:a,freqLo:r,freqHi:s,ratioLo:i,ratioHi:o,peak:[0,0],hold:[0],value:[0]}),a=this._analyzerWidth,r=this._initialX,s=this._maxFreq,i=this._minFreq;let o,l;if(this._isOctaveBands){let m=[];for(let e=0;e<11;e++)for(let n=0;n<24;n++){const a=16.351597831287332*1.029302236643492**(24*e+n),r=this._freqToBin(a,"floor"),s=t(r),i=(a-s)/(t(r+1)-s);m.push({freq:a,bin:r,ratio:i})}const c=[0,1,2,3,4,6,8,12,24][this._mode];for(let a=0;a<m.length;a+=c){let{freq:r,bin:o,ratio:l}=m[a],{freq:u,bin:_,ratio:p}=m[a+c-1];const v=e.length,d=e[v-1];if(u>s||_>=this.fftSize/2){d.binHi++,d.ratioHi=0,d.freqHi=t(d.binHi);break}if(r>=i){if(v>0){const n=o-d.binHi;n>1&&(d.binHi=o-(n>>1),d.ratioHi=0,d.freqHi=t(d.binHi),v>1&&d.binHi>d.binLo&&d.binLo>e[v-2].binHi&&(d.ratioLo=0,d.freqLo=t(d.binLo)),o=d.binHi+1),_>o&&o>d.binHi&&(l=0,r=t(o))}n(0,o,_,r,u,l,p)}}this._barWidth=a/e.length,e.forEach(((e,t)=>e.posX=r+t*this._barWidth)),o=Math.log10(e[0].freqLo),l=a/(Math.log10(e[e.length-1].freqHi)-o)}else{this._barWidth=1,o=Math.log10(i),l=a/(Math.log10(s)-o);const m=this._freqToBin(i,"floor"),c=this._freqToBin(s);let u=-999;for(let a=m;a<=c;a++){const s=t(a),i=r+Math.round(l*(Math.log10(s)-o));i>u?(n(i,a,a,s,s,0,0),u=i):e.length&&(e[e.length-1].binHi=a,e[e.length-1].freqHi=s)}}this._minLog=o,this._logWidth=l,this._calcAux(),this._createScales(),this._calcLeds()}_calcLeds(){if(!this._isOctaveBands||!this._ready)return;const e=this._pixelRatio/(window.devicePixelRatio>1&&window.screen.height<=540?2:1),t=this._ledParams,[n,a,r]=t||[[],[128,3,.45],[128,4,.225],[96,6,.225],[80,6,.225],[80,6,.125],[64,6,.125],[48,8,.125],[24,16,.125]][this._mode];let s,i,o=this._analyzerHeight;if(t){const t=2*e;let r;s=n+1;do{s--,r=o/s/(1+a),i=r*a}while((r<t||i<t)&&s>1)}else{const t=540/a;i=Math.min(a*e,Math.max(2,o/t+.1|0))}this._maximizeLeds&&(o+=i),t||(s=Math.min(n,o/(2*i)|0)),this._leds=[s,r>=1?r:this._barWidth*r,i,o/s-i]}_createScales(){const e=[16,31,63,125,250,500,1e3,2e3,4e3,8e3,16e3],t=this._canvasCtx.canvas,n=this._scaleX,a=this._scaleR,r=n.canvas,s=a.canvas,i=.03*Math.min(t.width,t.height)|0;s.width=s.height=(this._radius<<1)+this._stereo*i;const o=s.width>>1,l=o-.7*i,m=(e,n)=>{const r=Kr*(e/t.width),s=r-Zr,i=l*Math.cos(s),m=l*Math.sin(s);a.save(),a.translate(o+i,o+m),a.rotate(r),a.fillText(n,0,0),a.restore()};r.width|=0,n.fillStyle=a.strokeStyle="#000c",n.fillRect(0,0,r.width,r.height),a.arc(o,o,o-i/2,0,Kr),a.lineWidth=i,a.stroke(),n.fillStyle=a.fillStyle="#fff",n.font=(r.height>>1)+"px sans-serif",a.font=(i>>1)+"px sans-serif",n.textAlign=a.textAlign="center";for(const a of e){const e=a>=1e3?a/1e3+"k":a,s=this._logWidth*(Math.log10(a)-this._minLog);s>=0&&s<=this._analyzerWidth&&(n.fillText(e,this._initialX+s,.75*r.height),s<this._analyzerWidth&&m(s,e),this._mirror&&(n.fillText(e,(this._initialX||t.width)-s,.75*r.height),s>10&&m(-s,e)))}}_draw(e){const t=this._canvasCtx,n=t.canvas,a=this._scaleX.canvas,r=this._scaleR.canvas,s=this._energy,i=this._mode,o=this._isAlphaBars,l=this._isLedDisplay,m=this._isLumiBars,c=this._isOctaveBands,u=this._isOutline,_=this._radial,p=this._stereo,v=+this.lineWidth,d=this._mirror,b=this._channelHeight,h=this._channelGap,f=this._analyzerHeight,g=_?n.width:this._analyzerWidth,x=this._initialX,y=x+g,w=n.width>>1,A=n.height>>1,q=this._radius,z=_?Math.min(w,A)-q:f,E=this.useCanvas;s.val>0&&(this._spinAngle+=this._spinSpeed*es);const k=e=>{if(e&&v){const e=t.globalAlpha;t.globalAlpha=1,t.stroke(),t.globalAlpha=e}},T=(e,t,a)=>{const r=q+t,s=a*Kr*(e/n.width)+this._spinAngle;return[w+r*Math.cos(s),A+r*Math.sin(s)]},S=(e,n,a,r,s)=>{t.beginPath();for(const s of d?[1,-1]:[1])t.moveTo(...T(e,n,s)),t.lineTo(...T(e,n+r,s)),t.lineTo(...T(e+a,n+r,s)),t.lineTo(...T(e+a,n,s));k(s),t.fill()},[I,P,C,M]=this._leds||[],R=e=>(e*I|0)*(M+C)-C,B=!this.showBgColor||l&&!this.overlay?"#000":this._gradients[this._gradient].bgColor;let L=this._barWidth-(c?Math.max(l?P:0,this._barSpacePx):0);0!=this._barSpace||l||(L|=0);let D=0;const N=this._bars.length;for(let e=0;e<p+1;e++){const r=b*e+h*e,s=r+b,c=r+f-(l&&!this._maximizeLeds?C:0);if(E){if(this.overlay&&t.clearRect(0,r-h,n.width,b+h),this.overlay&&!this.showBgColor||(this.overlay&&(t.globalAlpha=this.bgAlpha),t.fillStyle=B,_&&0!=e||t.fillRect(x,r-h,g,(this.overlay&&1==this.reflexAlpha?f:b)+h),t.globalAlpha=1),this.showScaleY&&!m&&!_){const e=a.height,s=e>>1,i=this._analyzer[0].minDecibels,o=this._analyzer[0].maxDecibels,l=f/(o-i);t.fillStyle="#888",t.font=`${s}px sans-serif`,t.textAlign="right",t.lineWidth=1;for(let a=o;a>i;a-=5){const i=r+(o-a)*l,m=a%2==0|0;if(m){const o=i+s*(i==r?.8:.35);-1!=d&&t.fillText(a,.85*e,o),1!=d&&t.fillText(a,n.width-.1*e,o),t.strokeStyle="#888",t.setLineDash([2,4]),t.lineDashOffset=0}else t.strokeStyle="#555",t.setLineDash([2,8]),t.lineDashOffset=1;t.beginPath(),t.moveTo(x+e*m*(-1!=d),.5+~~i),t.lineTo(y-e*m*(1!=d),.5+~~i),t.stroke()}t.setLineDash([]),t.lineDashOffset=0}l?(t.setLineDash([M,C]),t.lineWidth=L):t.lineWidth=u?Math.min(v,L/2):v,t.fillStyle=t.strokeStyle=this._canvasGradient}const I=this._fftData[e];this._analyzer[e].getByteFrequencyData(I);const F=(e,t)=>I[e]+(I[e+1]-I[e])*t;t.beginPath();let O=[];for(let n=0;n<N;n++){const a=this._bars[n],{binLo:p,binHi:b,ratioLo:h,ratioHi:f}=a;let g=Math.max(F(p,h),F(b,f));for(let e=p+1;e<b;e++)I[e]>g&&(g=I[e]);if(g/=255,a.value[e]=g,D+=g,a.peak[e]>0&&(a.hold[e]--,a.hold[e]<0&&(a.peak[e]+=a.hold[e]/z)),g>=a.peak[e]&&(a.peak[e]=g,a.hold[e]=30),!E)continue;m||o?t.globalAlpha=g:u&&(t.globalAlpha=this.fillAlpha),l?(g=R(g),g<0&&(g=0)):g=g*z|0,_&&1==e&&(g*=-1);let w=L,A=a.posX;if(10==i){const a=n?0:(I[this._bars[1].binLo]/255*z*(!_||!e||-1)+g)/2;if(_){if(0==n&&t.lineTo(...T(0,A<0?a:g,1)),A>=0){const e=[A,g];t.lineTo(...T(...e,1)),O.push(e)}}else{if(0==n)if(-1!=d){const e=p?I[p-1]/255*z:g;t.moveTo(x-v,c-e)}else t.moveTo(x,c-(A<x?a:g));(-1!=d||A>=x)&&t.lineTo(A,c-g)}}else if(i>0&&(l?A+=Math.max(P/2,this._barSpacePx/2):0==this._barSpace?(A|=0,n>0&&A>this._bars[n-1].posX+L&&(A--,w++)):A+=this._barSpacePx/2),l){const e=A+L/2;if(this.showBgColor&&!this.overlay){const n=t.globalAlpha;t.beginPath(),t.moveTo(e,r),t.lineTo(e,c),t.strokeStyle="#7f7f7f22",t.globalAlpha=1,t.stroke(),t.strokeStyle=t.fillStyle,t.globalAlpha=n}t.beginPath(),t.moveTo(e,m?r:c),t.lineTo(e,m?s:c-g),t.stroke()}else if(A>=x)if(_)S(A,0,w,g,u);else{const e=A,n=m?r:c,a=w,i=m?s:-g;t.beginPath(),t.moveTo(e,n),t.lineTo(e,n+i),t.lineTo(e+a,n+i),t.lineTo(e+a,n),k(u),t.fill()}const q=a.peak[e];q>0&&this.showPeaks&&!m&&A>=x&&A<y&&(u&&v>0?t.globalAlpha=1:o&&(t.globalAlpha=q),l?t.fillRect(A,c-R(q),L,M):_?10!=i&&S(A,q*z*(!e||-1),w,-2):t.fillRect(A,c-q*z,w,2))}if(E){if(t.globalAlpha=1,10==i){if(_){if(d){let e;for(;e=O.pop();)t.lineTo(...T(...e,-1))}t.closePath()}v>0&&t.stroke(),this.fillAlpha>0&&(_?(t.moveTo(w+q,A),t.arc(w,A,q,0,Kr,!0)):(t.lineTo(y,c),t.lineTo(x,c)),t.globalAlpha=this.fillAlpha,t.fill(),t.globalAlpha=1)}if(this._reflexRatio>0&&!m){let a,s;this.reflexFit||p?(a=p&&0==e?b+h:0,s=b-f):(a=n.height-2*f,s=f),t.globalAlpha=this.reflexAlpha,1!=this.reflexBright&&(t.filter=`brightness(${this.reflexBright})`),t.setTransform(1,0,0,-1,0,n.height),t.drawImage(n,0,r,n.width,f,0,a,n.width,s),t.setTransform(1,0,0,1,0,0),t.filter="none",t.globalAlpha=1}}}s.val=D/(N<<p),s.val>=s.peak?(s.peak=s.val,s.hold=30):s.hold>0?s.hold--:s.peak>0&&(s.peak*=(30+s.hold--)/30),E&&(d&&!_&&(t.setTransform(-1,0,0,1,n.width-x,0),t.drawImage(n,x,0,w,n.height,0,0,w,n.height),t.setTransform(1,0,0,1,0,0)),t.setLineDash([]),this.showScaleX&&(_?(t.save(),t.translate(w,A),this._spinSpeed&&t.rotate(this._spinAngle+Zr),t.drawImage(r,-r.width>>1,-r.width>>1),t.restore()):t.drawImage(a,0,n.height-a.height))),this._frame++;const F=e-this._time;if(F>=1e3&&(this._fps=this._frame/(F/1e3),this._frame=0,this._time=e),this.showFPS){const e=a.height;t.font=`bold ${e}px sans-serif`,t.fillStyle="#0f0",t.textAlign="right",t.fillText(Math.round(this._fps),n.width-e,2*e)}this.onCanvasDraw&&(t.save(),t.fillStyle=t.strokeStyle=this._canvasGradient,this.onCanvasDraw(this),t.restore()),this._runId=requestAnimationFrame((e=>this._draw(e)))}_freqToBin(e,t="round"){const n=this._analyzer[0].frequencyBinCount-1,a=Math[t](e*this.fftSize/this.audioCtx.sampleRate);return a<n?a:n}_makeGrad(){if(!this._ready)return;const e=this._canvasCtx,t=e.canvas,n=this._isLumiBars,a=n?t.height:t.height*(1-this._reflexRatio*!this._stereo)|0,r=1-this._reflexRatio,s=this._initialX,i=t.width>>1,o=t.height>>1,l=Math.min(i,o),m=this._radius,c=this._gradients[this._gradient],u=c.colorStops,_="h"==c.dir;let p;if(p=this._radial?e.createRadialGradient(i,o,l,i,o,m-(l-m)*this._stereo):e.createLinearGradient(..._?[s,0,s+this._analyzerWidth,0]:[0,0,0,a]),u){const e=this._stereo&&!this._splitGradient&&!_,t=(e,t)=>p.addColorStop(e,t.color||t);for(let a=0;a<1+e;a++)u.forEach(((s,i)=>{const o=u.length-1;let l=void 0!==s.pos?s.pos:i/o;if(e&&(l/=2),!this._stereo||n||this._radial||_||(l*=r,!e&&l>.5*r&&(l+=.5*this._reflexRatio)),1==a)if(this._radial||n){const e=o-i;l=1-(void 0!==(s=u[e]).pos?s.pos:e/o)/2}else 0==i&&l>0&&t(.5,s),l+=.5;t(l,s),this._stereo&&i==o&&l<.5&&t(.5,s)}))}this._canvasGradient=p}_setCanvas(e){if(!this._ready)return;const t=this._canvasCtx,n=t.canvas,a=this._scaleX.canvas,r=window.devicePixelRatio/(this._loRes+1);let s=window.screen.width*r,i=window.screen.height*r;90==Math.abs(window.orientation)&&s<i&&([s,i]=[i,s]);const o=this.isFullscreen,l=o&&this._fsEl==n,m=l?s:(this._width||this._container.clientWidth||this._defaultWidth)*r|0,c=l?i:(this._height||this._container.clientHeight||this._defaultHeight)*r|0;this._pixelRatio=r,this._fsWidth=s,this._fsHeight=i,n.width==m&&n.height==c||(n.width=m,n.height=c,this._calcAux(),this.overlay||(t.fillStyle="#000",t.fillRect(0,0,m,c)),t.lineJoin="bevel",a.width=m,a.height=Math.max(20*r,Math.min(m,c)/27|0),this._makeGrad(),this._calcBars(),void 0!==this._fsStatus&&this._fsStatus!==o&&(e="fschange"),this._fsStatus=o,this.onCanvasResize&&this.onCanvasResize(e,this))}_setProps(e,t){const n={alphaBars:!1,barSpace:.1,bgAlpha:.7,fftSize:8192,fillAlpha:1,gradient:"classic",ledBars:!1,lineWidth:0,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFreq:22e3,minDecibels:-85,minFreq:20,mirror:0,mode:0,outlineBars:!1,overlay:!1,radial:!1,reflexAlpha:.15,reflexBright:1,reflexFit:!0,reflexRatio:0,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!0,showScaleY:!1,smoothing:.5,spinSpeed:0,splitGradient:!1,start:!0,stereo:!1,useCanvas:!0,volume:1},a=["onCanvasDraw","onCanvasResize"],r=Object.keys(n).filter((e=>"start"!=e)).concat(a,["height","width"]);e&&void 0!==e.showLeds&&void 0===e.ledBars&&(e.ledBars=e.showLeds),(t||void 0===e)&&(e={...n,...e});for(const t of Object.keys(e))a.includes(t)&&"function"!=typeof e[t]?this[t]=void 0:r.includes(t)&&(this[t]=e[t]);void 0!==e.start&&this.toggleAnalyzer(e.start)}}class ns extends Error{constructor(e,t){super(t),this.name="AudioMotionError",this.code=e}}const as=[{name:"Anemone",options:{radial:!0,ledBars:!1,spinSpeed:1,mode:8,barSpace:0,gradient:"rainbow",reflexRatio:.4,showPeaks:!0,mirror:-1,maxFreq:8e3,lineWidth:2,fillAlpha:.2}},{name:"Classic LEDs",options:{mode:7,barSpace:0,gradient:"classic",ledBars:!0,lumiBars:!1,radial:!1,reflexRatio:0,showPeaks:!0}},{name:"Mirror wave",options:{mode:10,fillAlpha:.6,gradient:"rainbow",lineWidth:2,mirror:-1,radial:!1,reflexAlpha:1,reflexBright:1,reflexRatio:.5,showPeaks:!1}},{name:"Radial overlay",options:{mode:5,barSpace:.1,gradient:"prism",radial:!0,ledBars:!1,showPeaks:!0,spinSpeed:1}},{name:"Reflex Bars",options:{mode:5,barSpace:.25,gradient:"rainbow",lumiBars:!1,radial:!1,reflexAlpha:.25,reflexBright:1,reflexFit:!0,reflexRatio:.3,ledBars:!1,showPeaks:!0}}],rs=new ae("AudioMotion");var ss=__webpack_require__(2238),is=__webpack_require__.n(ss),os=__webpack_require__(6607),ls=__webpack_require__.n(os);const ms=Object.keys(ls()).map((e=>({name:e,data:ls()[e]}))),cs=new ae("Milkdrop");function us(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function _s(e){return Math.min(1,Math.max(0,e))}function ps(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function vs(e){return e<=1?"".concat(100*Number(e),"%"):e}function ds(e){return 1===e.length?"0"+e:String(e)}function bs(e,t,n){e=us(e,255),t=us(t,255),n=us(n,255);var a=Math.max(e,t,n),r=Math.min(e,t,n),s=0,i=0,o=(a+r)/2;if(a===r)i=0,s=0;else{var l=a-r;switch(i=o>.5?l/(2-a-r):l/(a+r),a){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:i,l:o}}function hs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fs(e,t,n){e=us(e,255),t=us(t,255),n=us(n,255);var a=Math.max(e,t,n),r=Math.min(e,t,n),s=0,i=a,o=a-r,l=0===a?0:o/a;if(a===r)s=0;else{switch(a){case e:s=(t-n)/o+(t<n?6:0);break;case t:s=(n-e)/o+2;break;case n:s=(e-t)/o+4}s/=6}return{h:s,s:l,v:i}}function gs(e,t,n,a){var r=[ds(Math.round(e).toString(16)),ds(Math.round(t).toString(16)),ds(Math.round(n).toString(16))];return a&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function xs(e){return ys(e)/255}function ys(e){return parseInt(e,16)}var ws={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var As="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),qs="[\\s|\\(]+(".concat(As,")[,|\\s]+(").concat(As,")[,|\\s]+(").concat(As,")\\s*\\)?"),zs="[\\s|\\(]+(".concat(As,")[,|\\s]+(").concat(As,")[,|\\s]+(").concat(As,")[,|\\s]+(").concat(As,")\\s*\\)?"),Es={CSS_UNIT:new RegExp(As),rgb:new RegExp("rgb"+qs),rgba:new RegExp("rgba"+zs),hsl:new RegExp("hsl"+qs),hsla:new RegExp("hsla"+zs),hsv:new RegExp("hsv"+qs),hsva:new RegExp("hsva"+zs),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ks(e){return Boolean(Es.CSS_UNIT.exec(String(e)))}var Ts=function(){function e(t,n){var a;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=function(e){var t,n,a,r={r:0,g:0,b:0},s=1,i=null,o=null,l=null,m=!1,c=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(ws[e])e=ws[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Es.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Es.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Es.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Es.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Es.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Es.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Es.hex8.exec(e))?{r:ys(n[1]),g:ys(n[2]),b:ys(n[3]),a:xs(n[4]),format:t?"name":"hex8"}:(n=Es.hex6.exec(e))?{r:ys(n[1]),g:ys(n[2]),b:ys(n[3]),format:t?"name":"hex"}:(n=Es.hex4.exec(e))?{r:ys(n[1]+n[1]),g:ys(n[2]+n[2]),b:ys(n[3]+n[3]),a:xs(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=Es.hex3.exec(e))&&{r:ys(n[1]+n[1]),g:ys(n[2]+n[2]),b:ys(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(ks(e.r)&&ks(e.g)&&ks(e.b)?(t=e.r,n=e.g,a=e.b,r={r:255*us(t,255),g:255*us(n,255),b:255*us(a,255)},m=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):ks(e.h)&&ks(e.s)&&ks(e.v)?(i=vs(e.s),o=vs(e.v),r=function(e,t,n){e=6*us(e,360),t=us(t,100),n=us(n,100);var a=Math.floor(e),r=e-a,s=n*(1-t),i=n*(1-r*t),o=n*(1-(1-r)*t),l=a%6;return{r:255*[n,i,s,s,o,n][l],g:255*[o,n,n,i,s,s][l],b:255*[s,s,o,n,n,i][l]}}(e.h,i,o),m=!0,c="hsv"):ks(e.h)&&ks(e.s)&&ks(e.l)&&(i=vs(e.s),l=vs(e.l),r=function(e,t,n){var a,r,s;if(e=us(e,360),t=us(t,100),n=us(n,100),0===t)r=n,s=n,a=n;else{var i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;a=hs(o,i,e+1/3),r=hs(o,i,e),s=hs(o,i,e-1/3)}return{r:255*a,g:255*r,b:255*s}}(e.h,i,l),m=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(s=e.a)),s=ps(s),{ok:m,format:e.format||c,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:s}}(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(a=n.format)&&void 0!==a?a:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,a=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=ps(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=fs(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=fs(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=bs(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=bs(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),gs(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,a,r){var s,i=[ds(Math.round(e).toString(16)),ds(Math.round(t).toString(16)),ds(Math.round(n).toString(16)),ds((s=a,Math.round(255*parseFloat(s)).toString(16)))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*us(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*us(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+gs(this.r,this.g,this.b,!1),t=0,n=Object.entries(ws);t<n.length;t++){var a=n[t],r=a[0];if(e===a[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,a=this.a<1&&this.a>=0;return t||!a||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=_s(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=_s(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=_s(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=_s(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),a=(n.h+t)%360;return n.h=a<0?360+a:a,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var a=this.toRgb(),r=new e(t).toRgb(),s=n/100;return new e({r:(r.r-a.r)*s+a.r,g:(r.g-a.g)*s+a.g,b:(r.b-a.b)*s+a.b,a:(r.a-a.a)*s+a.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var a=this.toHsl(),r=360/n,s=[this];for(a.h=(a.h-(r*t>>1)+720)%360;--t;)a.h=(a.h+r)%360,s.push(new e(a));return s},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),a=n.h,r=n.s,s=n.v,i=[],o=1/t;t--;)i.push(new e({h:a,s:r,v:s})),s=(s+o)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),a=new e(t).toRgb();return new e({r:a.r+(n.r-a.r)*n.a,g:a.g+(n.g-a.g)*n.a,b:a.b+(n.b-a.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),a=n.h,r=[this],s=360/t,i=1;i<t;i++)r.push(new e({h:(a+i*s)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ss(e,t){var n=new Ts(e),a=new Ts(t);return(Math.max(n.getLuminance(),a.getLuminance())+.05)/(Math.min(n.getLuminance(),a.getLuminance())+.05)}function Is(e,t,n){void 0===n&&(n={includeFallbackColors:!1,level:"AA",size:"small"});for(var a=null,r=0,s=n.includeFallbackColors,i=n.level,o=n.size,l=0,m=t;l<m.length;l++){var c=m[l],u=Ss(e,c);u>r&&(r=u,a=new Ts(c))}return function(e,t,n){var a,r;void 0===n&&(n={level:"AA",size:"small"});var s=Ss(e,t);switch((null!==(a=n.level)&&void 0!==a?a:"AA")+(null!==(r=n.size)&&void 0!==r?r:"small")){case"AAsmall":case"AAAlarge":return s>=4.5;case"AAlarge":return s>=3;case"AAAsmall":return s>=7;default:return!1}}(e,a,{level:i,size:o})||!s?a:(n.includeFallbackColors=!1,Is(e,["#fff","#000"],n))}const Ps=JSON.parse('{"name":"Black Gold","backgroundColor":"#0d0c0c","textColor":"#cbccad","frameColor":"#0e0e0c","frameTextColor":"#e8e8bf","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0.25,"flat":false}'),Cs=JSON.parse('{"name":"Boring Skyblue","backgroundColor":"#08090a","textColor":"#7ccaf8","frameColor":"#333738","frameTextColor":"#d2d2d2","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":"#163d5a","selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0,"flat":false}'),Ms=JSON.parse('{"name":"Grey Green","backgroundColor":"#0f0f10","textColor":"#d1f5d2","frameColor":"#24322c","frameTextColor":"#c3feca","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0.25,"flat":false}'),Rs=JSON.parse('{"name":"Indigo","backgroundColor":"#06181e","textColor":"#d1d3f5","frameColor":"#43477a","frameTextColor":"#f3f3f7","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":"#4b4049","selectedTextColor":"#ffffff","evenRowBackgroundColor":null,"spacing":0.625,"roundness":0.84375,"flat":true}'),Bs=JSON.parse('{"name":"Lemon","backgroundColor":"#e7fdfc","textColor":"#000000","frameColor":"#e8d502","frameTextColor":"#180c06","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":"#aaaaaa","selectedTextColor":"#000000","evenRowBackgroundColor":null,"spacing":0.375,"roundness":0,"flat":true}'),Ls=JSON.parse('{"name":"Lilac","backgroundColor":"#12051a","textColor":"#f5d1ed","frameColor":"#79437a","frameTextColor":"#f3f7f3","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.625,"roundness":0.84375,"flat":true}'),Ds=JSON.parse('{"name":"Moody Blue","backgroundColor":"#000000","textColor":"#bec1c0","frameColor":"#125673","frameTextColor":"#d8eee7","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.53125,"roundness":0.40625,"flat":false}'),Ns=JSON.parse('{"name":"Olive Oil","backgroundColor":"#1e1710","textColor":"#cbccad","frameColor":"#81810e","frameTextColor":"#181816","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0.25,"flat":false}'),Fs=JSON.parse('{"name":"Pale Pink","backgroundColor":"#f7f7f7","textColor":"#120f0c","frameColor":"#cfbdd0","frameTextColor":"#121211","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0.53125,"flat":true}'),Os=JSON.parse('{"name":"Purplelicious (Winamp)","backgroundColor":"#000000","textColor":"#ffb464","frameColor":"#3e0445","frameTextColor":"#ffb464","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":"#3e0445","selectedTextColor":"#ffb464","evenRowBackgroundColor":null,"spacing":0.21875,"roundness":0.09375,"flat":false}'),Vs=JSON.parse('{"name":"Saddle","backgroundColor":"#271607","textColor":"#cbbe86","frameColor":"#331d0a","frameTextColor":"#fedfc3","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":null,"selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.375,"roundness":0.34375,"flat":false}'),Us=JSON.parse('{"name":"Seaweed","backgroundColor":"#244319","textColor":"#bef3c5","frameColor":"#3b722c","frameTextColor":"#fcfcf7","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":"#54e3da","mediaButtonTextColor":null,"selectedBackgroundColor":"#04958b","selectedTextColor":null,"evenRowBackgroundColor":null,"spacing":0.78125,"roundness":0.8125,"flat":true}'),js=JSON.parse('{"name":"Tangerine","backgroundColor":"#eaf2c5","textColor":"#2e1f05","frameColor":"#e89f02","frameTextColor":"#180c06","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":null,"mediaButtonTextColor":null,"selectedBackgroundColor":"#adaaaa","selectedTextColor":"#000000","evenRowBackgroundColor":null,"spacing":0.46875,"roundness":1,"flat":false}'),Qs=JSON.parse('{"name":"Winamp Amber","backgroundColor":"#000000","textColor":"#e79a36","frameColor":"#383757","frameTextColor":"#d2d2d2","buttonColor":"#464379","buttonTextColor":"#ebebeb","mediaButtonColor":"#cccccc","mediaButtonTextColor":"#111111","selectedBackgroundColor":"#76490e","selectedTextColor":"#ebebeb","evenRowBackgroundColor":null,"spacing":0.21875,"roundness":0.09375,"flat":false}'),Xs=JSON.parse('{"name":"Winamp Classic","backgroundColor":"#000000","textColor":"#00e200","frameColor":"#383757","frameTextColor":"#d2d2d2","buttonColor":"#464379","buttonTextColor":"#d2d2d2","mediaButtonColor":"#cccccc","mediaButtonTextColor":"#111111","selectedBackgroundColor":"#040dae","selectedTextColor":"#d2d2d2","evenRowBackgroundColor":null,"spacing":0.21875,"roundness":0.09375,"flat":false}'),Ws=JSON.parse('{"name":"Winamp Modern (WACUP)","backgroundColor":"#14121c","textColor":"#8ac440","frameColor":"#1f1f36","frameTextColor":"#f0f0f0","buttonColor":null,"buttonTextColor":null,"mediaButtonColor":"#cccccc","mediaButtonTextColor":"#111111","selectedBackgroundColor":"#2f2f76","selectedTextColor":"#f0f0f0","evenRowBackgroundColor":null,"spacing":0.21875,"roundness":0.09375,"flat":false}'),Gs={name:"",backgroundColor:"#000000",textColor:"#ebebeb",frameColor:"#000000",frameTextColor:"#ebebeb",buttonColor:null,buttonTextColor:null,mediaButtonColor:null,mediaButtonTextColor:null,selectedBackgroundColor:null,selectedTextColor:null,evenRowBackgroundColor:null,spacing:.375,roundness:.25,flat:!1},Hs=[Gs,Ps,Cs,Ms,Rs,Bs,Ls,Ds,Ns,Fs,Os,Vs,Us,js,Qs,Xs,Ws],$s=new n("theme"),Ys=new class{constructor(){this.app=document.getElementById("app"),this.popup=document.getElementById("popup"),this.system=document.getElementById("system"),this.theme$=new te(Gs);const e=document.createElement("style");document.head.append(e),this.sheet=e.sheet,this.rootStyle=this.createStyle(":root"),this.appStyle=this.createStyle(".app"),this.playheadStyle=this.createStyle("#playhead"),this.restore()}observe(){return this.theme$}get backgroundColor(){return this.current.backgroundColor}set backgroundColor(e){this.setColor("backgroundColor",e),this.app.classList.toggle("dark",this.isDark),this.app.classList.toggle("light",this.isLight),this.popup.classList.toggle("dark",this.isDark),this.popup.classList.toggle("light",this.isLight)}get buttonColor(){return this.current.buttonColor}set buttonColor(e){this.setColor("buttonColor",e)}get buttonTextColor(){return this.current.buttonTextColor}set buttonTextColor(e){this.setColor("buttonTextColor",e)}get current(){return this.theme$.value}get evenRowBackgroundColor(){return this.current.evenRowBackgroundColor}set evenRowBackgroundColor(e){this.setColor("evenRowBackgroundColor",e)}get flat(){return this.current.flat}set flat(e){this.app.classList.toggle("flat",!!e),this.popup.classList.toggle("flat",!!e),this.theme$.next(Object.assign(Object.assign({},this.current),{flat:e}))}get fontSize(){return Number(this.rootStyle.getPropertyValue("--font-size"))||16}set fontSize(e){this.rootStyle.setProperty("--font-size",String(e)),this.createPlayheadSmiley()}get frameColor(){return this.current.frameColor}set frameColor(e){this.setColor("frameColor",e),this.app.classList.toggle("frame-light",this.isFrameLight),this.app.classList.toggle("frame-dark",this.isFrameDark),this.popup.classList.toggle("frame-light",this.isFrameLight),this.popup.classList.toggle("frame-dark",this.isFrameDark),this.createPlayheadSmiley()}get frameTextColor(){return this.current.frameTextColor}set frameTextColor(e){this.setColor("frameTextColor",e)}get mediaButtonColor(){return this.current.mediaButtonColor}set mediaButtonColor(e){this.setColor("mediaButtonColor",e)}get mediaButtonTextColor(){return this.current.mediaButtonTextColor}set mediaButtonTextColor(e){this.setColor("mediaButtonTextColor",e)}get name(){return this.current.name}set name(e){this.theme$.next(Object.assign(Object.assign({},this.current),{name:e}))}get roundness(){return this.current.roundness}set roundness(e){this.setProperty("roundness",e),this.theme$.next(Object.assign(Object.assign({},this.current),{roundness:e}))}get selectedBackgroundColor(){var e;return null!==(e=this.current.selectedBackgroundColor)&&void 0!==e?e:null}set selectedBackgroundColor(e){if(this.setColor("selectedBackgroundColor",e),this.selectedBackgroundColor){let e=new Ts(this.selectedBackgroundColor).desaturate(40);e=e.isLight()?e.tint(25):e.shade(25),this.setProperty("selected-background-color-blurred",e.toHexString())}}get selectedTextColor(){return this.current.selectedTextColor}set selectedTextColor(e){this.setColor("selectedTextColor",e)}get spacing(){return this.current.spacing}set spacing(e){this.setProperty("spacing",e),this.theme$.next(Object.assign(Object.assign({},this.current),{spacing:e}))}get textColor(){return this.current.textColor}set textColor(e){this.setColor("textColor",e)}get isDark(){return new Ts(this.backgroundColor).isDark()}get isLight(){return new Ts(this.backgroundColor).isLight()}get isFrameDark(){return new Ts(this.frameColor).isDark()}get isFrameLight(){return new Ts(this.frameColor).isLight()}load(e){let t;t="string"==typeof e?Hs.find((t=>t.name===e)):e,t&&Object.assign(this,this.applyDefaults(t))}restore(){const e=this.retrieve("current"),t=e?JSON.parse(e):Gs;Object.assign(this,this.applyDefaults(t)),this.fontSize=Number(this.retrieve("fontSize"))||16,this.app.classList.toggle("dark",this.isDark),this.app.classList.toggle("light",this.isLight),this.app.classList.toggle("frame-light",this.isFrameLight),this.app.classList.toggle("frame-dark",this.isFrameDark),this.popup.classList.toggle("dark",this.isDark),this.popup.classList.toggle("light",this.isLight),this.popup.classList.toggle("frame-light",this.isFrameLight),this.popup.classList.toggle("frame-dark",this.isFrameDark),this.system.classList.toggle("dark",this.isDark),this.system.classList.toggle("light",this.isLight),this.createPlayheadSmiley()}save(){this.store("fontSize",this.fontSize),this.store("current",JSON.stringify(this.current)),this.system.classList.toggle("dark",this.isDark),this.system.classList.toggle("light",this.isLight)}applyDefaults(e){if(!e.selectedBackgroundColor){const t=new Ts(e.textColor),n=t.monochromatic();n.sort(((e,t)=>e.getBrightness()-t.getBrightness())),t.isLight()?e.selectedBackgroundColor=n[1].toHexString():e.selectedBackgroundColor=n[n.length-2].toHexString(),n.push(new Ts("white"),new Ts("black")),e.selectedTextColor=Is(e.selectedBackgroundColor,n,{includeFallbackColors:!0,level:"AA",size:"large"}).toHexString()}return e}setColor(e,t){"string"==typeof t&&(t=new Ts(t));const n=null==t?void 0:t.toHsl(),a=this.toDashName(e);this.setProperty(`${a}-h`,n?String(n.h):null),this.setProperty(`${a}-s`,n?100*n.s+"%":null),this.setProperty(`${a}-l`,n?100*n.l+"%":null),this.theme$.next(Object.assign(Object.assign({},this.current),{[e]:t?t.toHexString():null}))}setProperty(e,t){this.appStyle.setProperty(`--${e}`,null==t?null:String(t))}createStyle(e){const t=this.sheet.insertRule(`${e}{}`);return this.sheet.cssRules[t].style}get defaultMediaButtonColor(){const e=new Ts(this.frameColor).toHsl();return e.s+=1-.33*e.s,e.l+=1-.5*e.l,new Ts(e).toHexString()}get defaultMediaButtonTextColor(){const e=new Ts(this.defaultMediaButtonColor).toHsl();return e.s-=.5*e.s,e.l-=.9*e.l,new Ts(e).toHexString()}get smileyColor(){return this.mediaButtonTextColor||this.defaultMediaButtonTextColor}createPlayheadSmiley(){const e=new Ts(this.smileyColor).toRgbString(),t=[`<path fill='${e}' d='M 160.5,164.5 C 183.647,162.813 194.147,173.48 192,196.5C 186.494,211.009 175.994,216.842 160.5,214C 145.991,208.494 140.158,197.994 143,182.5C 145.683,173.318 151.517,167.318 160.5,164.5 Z'/>`,`<path fill='${e}' d='M 335.5,164.5 C 358.647,162.813 369.147,173.48 367,196.5C 361.494,211.009 350.994,216.842 335.5,214C 320.991,208.494 315.158,197.994 318,182.5C 320.683,173.318 326.517,167.318 335.5,164.5 Z'/>`,`<path fill='${e}' d='M 164.5,296.5 C 172.699,295.1 179.865,297.1 186,302.5C 201.99,327.582 224.823,341.582 254.5,344.5C 279.499,342.418 299.999,331.751 316,312.5C 318.955,308.756 321.789,304.922 324.5,301C 334.716,294.616 344.55,295.116 354,302.5C 358.296,308.845 359.63,315.845 358,323.5C 334.118,361.698 299.618,382.365 254.5,385.5C 209.382,382.365 174.882,361.698 151,323.5C 148.138,310.557 152.638,301.557 164.5,296.5 Z'/>`].join(""),n=this.createBase64SVG(512,512,t);this.playheadStyle.setProperty("--smiley",n),this.playheadStyle.setProperty("--thumb-size",`${Math.round(1.25*this.fontSize)}px`)}createBase64SVG(e,t,n){return`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${t}'>${n}</svg>")`}retrieve(e){return $s.getItem(e)}store(e,t){$s.setItem(e,String(t))}toDashName(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}},Js=new ae("Waveform");console.log("module::visualizer/player");const Ks=new ae("visualizer/player"),Zs=new class extends Yr{constructor(e,t){super(),this.audioContext=e,this.analyser=t,this.canvas=document.createElement("canvas"),this.gl=this.canvas.getContext("webgl"),this.animationFrameId=0;const n=this.canvas,a=this.gl;n.hidden=!0,n.className="visualizer visualizer-ampshade",this.shader=function(e,t){const n=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(n,"\nattribute vec2 position;\n\nvoid main(void) {\n  gl_Position = vec4(position, 0, 1);\n}\n"),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));const a=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(a,"\nprecision mediump float;\n\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D spectrum;\n\nvoid main(void) {\n  vec3 c;\n  float z = 0.1 * time;\n  vec2 uv = gl_FragCoord.xy / resolution;\n  vec2 p = uv - 0.5;\n  p.x *= resolution.x / resolution.y;\n  float l = 0.2 * length(p);\n  for (int i = 0; i < 3; i++) {\n    z += 0.07;\n    uv += p / l * (sin(z) + 1.0) * abs(sin(l * 9.0 - z * 2.0));\n    c[i] = 0.01 / length(abs(mod(uv, 1.0) - 0.5));\n  }\n  float intensity = texture2D(spectrum, vec2(l, 0.5)).x;\n  gl_FragColor = vec4(c / l * intensity, time);\n}\n"),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(a));const r=e.createProgram();return e.attachShader(r,n),e.attachShader(r,a),e.linkProgram(r),e.useProgram(r),r}(a);const r=a.getAttribLocation(this.shader,"position");a.enableVertexAttribArray(r),this.fragTime=a.getUniformLocation(this.shader,"time"),a.uniform1f(this.fragTime,e.currentTime),this.fragResolution=a.getUniformLocation(this.shader,"resolution"),a.uniform2f(this.fragResolution,n.width,n.height),this.spectrum=new Uint8Array(this.analyser.frequencyBinCount),this.fragSpectrumArray=new Uint8Array(4*this.spectrum.length),function(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}(a),function(e){const t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t);const n=new Float32Array([-1,-1,1,-1,-1,1,1,1]);e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0)}(a)}get hidden(){return this.canvas.hidden}set hidden(e){this.canvas.hidden!==e&&(this.canvas.hidden=e,e||this.animationFrameId||this.render())}appendTo(e){e.append(this.canvas)}load(){Jr.log("load"),this.play()}play(){Jr.log("play"),this.animationFrameId||this.render()}pause(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)}stop(){this.pause(),this.clear()}resize(e,t){const n=this.canvas,a=this.gl;n.width=e,n.height=t,a.viewport(0,0,e,t),this.fragResolution=a.getUniformLocation(this.shader,"resolution"),a.uniform2f(this.fragResolution,n.width,n.height),this.renderFrame()}clear(){}render(){this.renderFrame(),this.autoplay&&!this.canvas.hidden&&(this.animationFrameId=requestAnimationFrame((()=>this.render())))}renderFrame(){this.analyser.getByteFrequencyData(this.spectrum),this.gl.uniform1f(this.fragTime,this.audioContext.currentTime),function(e,t,n){for(let e=0;e<t.length;e++)n[4*e+0]=t[e],n[4*e+1]=t[e],n[4*e+2]=t[e],n[4*e+3]=255;e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.length,1,0,e.RGBA,e.UNSIGNED_BYTE,n)}(this.gl,this.spectrum,this.fragSpectrumArray),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}(Ja,Ka),ei=new class extends Yr{constructor(e,t){super();const n=this.element=document.createElement("div");n.hidden=!0,n.className="visualizer visualizer-audiomotion",this.audioSourceNode=e.createMediaElementSource(new Audio);const a=this.visualizer=new ts(n,{source:this.audioSourceNode,showBgColor:!1,overlay:!0,showScaleX:!1,showScaleY:!1,connectSpeakers:!1});t.subscribe((e=>{this.audioSourceNode=e,this.element.hidden||a.connectInput(e)}))}get hidden(){return this.element.hidden}set hidden(e){this.element.hidden!==e&&(this.element.hidden=e,e?this.visualizer.disconnectInput():this.visualizer.connectInput(this.audioSourceNode))}appendTo(e){e.append(this.element)}load(e){rs.log("load");const t=as.find((t=>t.name===e));t&&(rs.log(`Using AudioMotion preset: ${t.name}`),this.visualizer.setOptions(t.options)),this.autoplay&&this.play()}play(){rs.log("play"),this.visualizer.toggleAnalyzer(!0)}pause(){this.visualizer.toggleAnalyzer(!1)}stop(){this.visualizer.toggleAnalyzer(!0)}resize(e,t){this.element.style.width=`${e}px`,this.element.style.height=`${t}px`}}(Ja,nr()),ti=new class extends Yr{constructor(e){super(),this.analyser=e,this.canvas=document.createElement("canvas"),this.canvasContext=this.canvas.getContext("2d"),this.animationFrameId=0,this.canvas.hidden=!0,this.canvas.className="visualizer visualizer-milkdrop",(this.visualizer=is().createVisualizer(e.context,this.canvas,{width:400,height:200})).connectAudio(e)}get hidden(){return this.canvas.hidden}set hidden(e){this.canvas.hidden!==e&&(this.canvas.hidden=e,e?this.visualizer.disconnectAudio(this.analyser):(this.visualizer.connectAudio(this.analyser),this.animationFrameId||this.render()))}appendTo(e){e.append(this.canvas)}load(e){cs.log("load",e);const t=ms.find((t=>t.name===e));t&&(cs.log(`Using butterchurn preset: ${t.name}`),this.visualizer.loadPreset(t.data,.5)),this.play()}play(){cs.log("play"),this.animationFrameId||this.render()}pause(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)}stop(){this.pause(),this.clear()}resize(e,t){this.canvas.width=e,this.canvas.height=t,this.visualizer.render(),this.visualizer.setRendererSize(e,t),this.visualizer.render()}clear(){const e=this.canvas.width,t=this.canvas.height;this.canvasContext.clearRect(0,0,e,t)}render(){this.visualizer.render(),this.autoplay&&!this.canvas.hidden&&(this.animationFrameId=requestAnimationFrame((()=>this.render())))}}(Ka),ni=new class extends Yr{constructor(e){super(),this.analyser=e,this.canvas=document.createElement("canvas"),this.canvasContext=this.canvas.getContext("2d"),this.animationFrameId=0,this.canvas.hidden=!0,this.canvas.className="visualizer visualizer-waveform"}get hidden(){return this.canvas.hidden}set hidden(e){this.canvas.hidden!==e&&(this.canvas.hidden=e,e||this.animationFrameId||this.render())}appendTo(e){e.append(this.canvas)}load(){Js.log("load"),this.play()}play(){Js.log("play"),this.animationFrameId||this.render()}pause(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)}stop(){this.pause(),this.clear()}resize(e,t){this.canvas.width=e,this.canvas.height=t,this.renderFrame()}clear(){const e=this.canvas.getContext("2d"),t=this.canvas.width,n=this.canvas.height;e.clearRect(0,0,t,n)}render(){this.renderFrame(),this.autoplay&&!this.canvas.hidden&&(this.animationFrameId=requestAnimationFrame((()=>this.render())))}renderFrame(){const e=this.analyser.frequencyBinCount,t=new Uint8Array(e),n=this.canvasContext,a=this.canvas.width,r=this.canvas.height,s=a/e;let i=0;n.lineWidth=2,Ys.isLight&&Ys.isFrameLight?n.strokeStyle=Ys.frameColor:n.strokeStyle=Ys.textColor,n.clearRect(0,0,a,r),n.beginPath(),this.analyser.getByteTimeDomainData(t);for(let a=0;a<e;a++){const e=t[a]/128*r/2;0===a?n.moveTo(i,e):n.lineTo(i,e),i+=s}n.lineTo(a,r/2),n.stroke()}}(Ka),ai=new or([Zs,ei,ti,ni,$r],(function(e){switch(e.provider){case"ampshade":return Zs;case"audiomotion":return ei;case"milkdrop":return ti;case"video":return $r;case"waveform":return ni;default:return null}}),(function(e,t){e.load(t.preset)}));ai.loop=!0,ai.muted=!0,ai.volume=.07;const ri=ai;ai.observeError().subscribe(Ks.error),ai.observePlaying().subscribe(Ks.all("playing")),ai.observeEnded().subscribe(Ks.all("ended"));var si,ii,oi=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},li=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n};const mi=new ae("MusicKitPlayer"),ci="Apple Music player not connected.";si=new WeakMap,ii=new WeakMap;const ui=new class{constructor(e){this.isLoggedIn$=e,this.duration$=new Z,this.currentTime$=new Z,this.ended$=new Z,this.playing$=new Z,this.error$=new Z,this.playerReady$=new Z,this.src$=new te(""),this.loadedSrc="",this.isLoggedIn=!1,this.loop=!1,this.autoplay=!1,si.set(this,!0),ii.set(this,1),this.onPlaybackStateChange=({state:e})=>{if(e===MusicKit.PlaybackStates.ended)this.ended$.next(void 0);else if(e===MusicKit.PlaybackStates.playing){const[,,e]=this.src.split(":"),t=this.player.nowPlayingItem;!1===(null==t?void 0:t.isPlayable)&&(null==t?void 0:t.id)===e?(this.error$.next(Error("Unplayable")),this.player.stop()):this.playing$.next(void 0)}},this.onPlaybackDurationChange=({duration:e})=>{this.duration$.next(e)},this.onPlaybackTimeChange=({currentPlaybackTime:e})=>{this.currentTime$.next(e)},this.onPlaybackError=e=>{console.log("MusicKit::onPlaybackError",e)};const t=this.element=document.createElement("div");t.hidden=!0,t.className="apple-video",t.id="apple-music-video-container",this.observeIsLoggedIn().pipe(Dt((e=>e)),Ct((()=>{const e=this.player=MusicKit.getInstance(),t=MusicKit.Events;e.addEventListener(t.playbackStateDidChange,this.onPlaybackStateChange),e.addEventListener(t.playbackDurationDidChange,this.onPlaybackDurationChange),e.addEventListener(t.playbackTimeDidChange,this.onPlaybackTimeChange),e.addEventListener(t.mediaPlaybackError,this.onPlaybackError),e.volume=this.muted?0:this.volume,this.playerReady$.next(void 0)})),Lt(1)).subscribe(mi),this.observeReady().pipe(Mt((()=>St([this.observeSrc(),this.observeIsLoggedIn()]))),Nt((([e,t])=>{if(t&&e&&e!==this.loadedSrc){const[,t,n]=e.split(":");return Ke(this.player.setQueue({[t]:n})).pipe(Mt((()=>(this.loadedSrc=e,this.autoplay?this.player.play():et))),Rt((e=>(this.error$.next(e),et))))}return et}))).subscribe(mi),this.observeIsLoggedIn().pipe(lr((e=>e===this.isLoggedIn))).subscribe((e=>{var t;this.isLoggedIn=e,!e&&(null===(t=this.player)||void 0===t?void 0:t.isPlaying)&&(this.stop(),this.error$.next(Error(ci)))})),this.observeError().subscribe(mi.error)}get hidden(){return this.element.hidden}set hidden(e){this.element.hidden=e}get muted(){return oi(this,si,"f")}set muted(e){oi(this,si,"f")!==e&&(li(this,si,e,"f"),this.player&&(this.player.volume=e?0:this.volume))}get volume(){return oi(this,ii,"f")}set volume(e){oi(this,ii,"f")!==e&&(li(this,ii,e,"f"),this.player&&(this.player.volume=this.muted?0:e))}observeCurrentTime(){return this.currentTime$.pipe(nt())}observeDuration(){return this.duration$.pipe(nt())}observePlaying(){return this.playing$}observeEnded(){return this.ended$}observeError(){return this.error$}appendTo(e){e.appendChild(this.element)}load(e){this.src$.next(e),this.player&&this.isLoggedIn?this.autoplay&&e===this.loadedSrc&&this.player.play().then(void 0,(e=>this.error$.next(e))):this.autoplay&&this.error$.next(Error(ci))}play(){this.player&&this.isLoggedIn?this.src===this.loadedSrc&&this.player.play().then(void 0,(e=>this.error$.next(e))):this.error$.next(Error(ci))}pause(){var e;(null===(e=this.player)||void 0===e?void 0:e.isPlaying)&&this.player.pause()}stop(){var e;null===(e=this.player)||void 0===e||e.stop()}seek(e){var t;null===(t=this.player)||void 0===t||t.seekToTime(e)}resize(e,t){this.element.style.width=`${e}px`,this.element.style.height=`${t}px`}get src(){return this.src$.getValue()}observeIsLoggedIn(){return this.isLoggedIn$}observeReady(){return this.playerReady$.pipe(rt((()=>{})),Lt(1))}observeSrc(){return this.src$.pipe(nt())}}(vt());function _i(e){return void 0===e&&(e=1/0),Mt(H,e)}function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ce(e),a=Me(e,1/0),r=e;return r.length?1===r.length?je(r[0]):_i(a)(Ke(r,n)):et}function vi(e,t){return void 0===e&&(e=0),void 0===t&&(t=ia),e<0&&(e=0),Ua(e,e,t)}function di(){return _i(1)}function bi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return di()(Ke(e,Ce(e)))}function hi(e,t){return t?function(n){return bi(t.pipe(Lt(1),We((function(e,t){e.subscribe(Ge(t,R))}))),n.pipe(hi(e)))}:Mt((function(t,n){return e(t,n).pipe(Lt(1),function(e){return rt((function(){return e}))}(t))}))}function fi(e,t){void 0===t&&(t=ia);var n=Ua(e,t);return hi((function(){return n}))}var gi=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::spotifyAuth");const xi=new ae("spotifyAuth"),yi=new n("spotify/auth"),wi=location.hostname,Ai=("localhost"===wi?`http://${wi}:${location.port}`:`https://${wi}`)+"/auth/spotify/callback/",qi="https://accounts.spotify.com",zi=new te("");function Ei(){return zi.pipe(nt())}function ki(){return gi(this,void 0,void 0,(function*(){if(""===zi.getValue())try{Si(yield function(){return gi(this,void 0,void 0,(function*(){const e=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<64;e++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),t=yield function(e){return gi(this,void 0,void 0,(function*(){const t=yield crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}))}(e);return yi.setItem("code_verifier",e),new Promise(((e,n)=>{let a=null;const r=t=>{if(/(localhost|ampcast)/.test(t.origin)){if(clearInterval(i),window.removeEventListener("message",r,!1),null==a||a.close(),a=null,t.origin!==location.origin)return void n({message:`Origin ${t.origin} does not match ${location.origin}`});(function(e){return gi(this,void 0,void 0,(function*(){const t=yi.getItem("code_verifier"),n=yield fetch(`${qi}/api/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({client_id:lt,grant_type:"authorization_code",code:e,redirect_uri:Ai,code_verifier:t})});if(!n.ok)throw n;return yield n.json()}))})(t.data.code).then(e,n)}};window.addEventListener("message",r,!1);const s=new URLSearchParams({client_id:lt,scope:["user-read-recently-played","user-read-playback-position","user-top-read","user-read-playback-state","user-modify-playback-state","user-read-currently-playing","streaming","user-read-email","user-read-private","playlist-read-private","user-library-read"].join(" "),redirect_uri:Ai,response_type:"code",code_challenge_method:"S256",code_challenge:t});a=window.open(`${qi}/authorize?${s}`,"Spotify","popup");const i=setInterval((()=>{(null==a?void 0:a.closed)&&(clearInterval(i),n({message:"access_denied"}))}),500)}))}))}())}catch(e){xi.log("Could not obtain access token."),xi.error(e)}}))}function Ti(){return gi(this,void 0,void 0,(function*(){const e=Ii(),t=null==e?void 0:e.refresh_token;if(t){const e=yield fetch(`${qi}/api/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({client_id:lt,grant_type:"refresh_token",refresh_token:t})});if(!e.ok)throw Ci(),Error(e.statusText);const n=yield e.json();return Si(n),n.access_token}throw Ci(),Error("No 'refresh_token'")}))}function Si(e){const{access_token:t,refresh_token:n,expires_in:a}=e,r=new Date,s=new Date(r.setSeconds(r.getSeconds()+a)).toISOString();yi.setItem("token",JSON.stringify({access_token:t,refresh_token:n,expires_at:s})),Pi(t),setTimeout(Ti,1e3*a)}function Ii(){const e=JSON.parse(yi.getItem("token")||"null");return e&&(e.expires_at=new Date(e.expires_at)),e}function Pi(e){xi.log("Access token successfully obtained."),zi.next(e)}function Ci(){yi.removeItem("token"),zi.next("")}!function(){gi(this,void 0,void 0,(function*(){const e=Ii();if(e){const t=e.expires_at.getTime()-Date.now();t<=0?yield Ti():(Pi(e.access_token),setTimeout(Ti,t))}}))}();var Mi,Ri,Bi=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))},Li=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},Di=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n};const Ni=new ae("SpotifyPlayer"),Fi="Spotify player not connected.",Oi=(e,t)=>e.paused===t.paused&&e.position===t.position;Mi=new WeakMap,Ri=new WeakMap;const Vi=new class{constructor(e){this.accessToken$=e,this.player=null,this.paused$=new te(!0),this.src$=new te(""),this.error$=new Z,this.ready$=new Z,this.state$=new te(null),this.loadedSrc="",this.currentTrackSrc="",this.isLoggedIn=!1,this.deviceId="",this.autoplay=!1,this.hidden=!0,this.loop=!1,Mi.set(this,!0),Ri.set(this,1),this.onSpotifyWebPlaybackSDKReady=()=>{Ni.log("onSpotifyWebPlaybackSDKReady"),this.observeAccessToken().pipe(Dt((e=>""!==e)),Ct((e=>{let t=!1;const n=new Spotify.Player({name:"ampcast",getOAuthToken:n=>Bi(this,void 0,void 0,(function*(){t&&(e=yield Ti()),t=!0,n(e)})),volume:this.muted?0:this.volume});n.addListener("initialization_error",Ni.error),n.addListener("authentication_error",Ni.error),n.addListener("account_error",Ni.error),n.addListener("playback_error",(e=>this.error$.next(e))),n.addListener("player_state_changed",(e=>this.state$.next(e))),n.addListener("not_ready",(()=>{Ni.log("not_ready"),this.deviceId=""})),n.addListener("ready",(({device_id:e})=>{Ni.log("ready"),this.player=n,this.deviceId=e,this.ready$.next(void 0)})),n.connect()})),Lt(1)).subscribe(Ni)},window.onSpotifyWebPlaybackSDKReady=this.onSpotifyWebPlaybackSDKReady,this.observeReady().pipe(Mt((()=>this.observeIsLoggedIn())),Nt((e=>e?this.observeSrc():et)),ea(this.observeAccessToken()),Nt((([e,t])=>e&&e!==this.loadedSrc?this.observeNotLoading().pipe(hi((()=>this.loadError?this.reconnect():Ze(0))),Mt((()=>this.addToQueue(e,t))),Mt((()=>this.observeState().pipe(rt((e=>e.track_window.current_track.uri)),lr((e=>e===this.currentTrackSrc)),Ct((e=>this.currentTrackSrc=e)),Lt(1)))),Rt((t=>(this.loadedSrc="",this.currentTrackSrc="",this.loadError={src:e,error:t,timeStamp:Date.now()},this.error$.next(t),et))),Ct(Ni.all("step5")),Lt(1)):et))).subscribe(Ni),this.observeState().pipe(Ct((e=>{this.paused&&!e.paused?this.player.pause().then(void 0,Ni.error):e.paused&&!this.paused&&e.track_window.current_track.uri===this.currentTrackSrc&&this.player.resume().then(void 0,(e=>this.error$.next(e)))}))).subscribe(Ni),this.observeIsLoggedIn().pipe(lr((e=>e===this.isLoggedIn)),Ct((e=>{this.isLoggedIn=e,e||this.paused||(this.stop(),this.error$.next(Error(Fi)))}))).subscribe(Ni),this.observeError().subscribe(Ni.error),ge("https://sdk.scdn.co/spotify-player.js")}get muted(){return Li(this,Mi,"f")}set muted(e){Li(this,Mi,"f")!==e&&(Di(this,Mi,e,"f"),this.setVolume(e?0:this.volume))}get volume(){return Li(this,Ri,"f")}set volume(e){Li(this,Ri,"f")!==e&&(Di(this,Ri,e,"f"),this.setVolume(this.muted?0:e))}observeCurrentTime(){return pi(this.observeCurrentTrackState(),this.observePaused().pipe(Nt((e=>e?this.getCurrentState():vi(250).pipe(Mt((()=>this.getCurrentState()))))))).pipe(rt((e=>e?e.position/1e3:0)),nt())}observeDuration(){return this.observeSrc().pipe(Nt((e=>e?this.observeCurrentTrackState().pipe(rt((e=>e.duration/1e3)),Lt(1)):Ze(0))))}observeEnded(){return this.observeCurrentTrackState().pipe(nt(Oi),ea(this.observePaused()),rt((([e,t])=>!t&&e.paused&&0===e.position)),Dt((e=>e)),rt((()=>{})))}observeError(){return this.error$}observePlaying(){return this.observeCurrentTrackState().pipe(nt(Oi),ea(this.observePaused()),rt((([e,t])=>!t&&!e.paused)),Dt((e=>e)),rt((()=>{})))}appendTo(){}load(e){this.src$.next(e),this.player&&this.isLoggedIn?this.autoplay&&(this.paused$.next(!1),e===this.loadedSrc&&this.player.resume().then(void 0,(e=>this.error$.next(e)))):this.autoplay&&this.error$.next(Error(Fi))}play(){var e;this.paused$.next(!1),this.player&&this.isLoggedIn?this.src===(null===(e=this.loadError)||void 0===e?void 0:e.src)?this.error$.next(this.loadError.error):this.src===this.loadedSrc&&this.player.resume().then(void 0,(e=>this.error$.next(e))):this.error$.next(Error(Fi))}pause(){var e;this.paused$.next(!0),this.loadedSrc&&(null===(e=this.player)||void 0===e||e.pause())}stop(){var e;this.paused$.next(!0),this.loadedSrc&&(null===(e=this.player)||void 0===e||e.seek(0).then((()=>this.player.pause())))}seek(e){var t;null===(t=this.player)||void 0===t||t.seek(1e3*e)}resize(){}get paused(){return this.paused$.getValue()}get src(){return this.src$.getValue()}observeAccessToken(){return this.accessToken$}observeIsLoggedIn(){return this.observeAccessToken().pipe(rt((e=>!!e)),nt())}observeNotLoading(){return this.state$.pipe(rt((e=>!0!==(null==e?void 0:e.loading))),nt(),rt((()=>{})))}observePaused(){return this.paused$.pipe(nt())}observeReady(){return this.ready$.pipe(Lt(1))}observeSrc(){return this.src$.pipe(nt())}observeState(){return this.state$.pipe(Dt(he))}observeCurrentTrackState(){return this.observeState().pipe(Dt((e=>e.track_window.current_track.uri===this.currentTrackSrc)),rt((e=>e)))}getCurrentState(){return this.player?this.player.getCurrentState():Promise.resolve(null)}addToQueue(e,t,n=3){return Bi(this,void 0,void 0,(function*(){if(!t)throw Error(Fi);const a=yield fetch(`https://api.spotify.com/v1/me/player/play?device_id=${this.deviceId}`,{method:"PUT",body:JSON.stringify({uris:[e],position_ms:0}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!a.ok){if(401===a.status&&n>0){const t=yield Ti();return this.addToQueue(e,t,--n)}throw a}this.loadError=void 0,this.loadedSrc=e}))}reconnect(){return Ke(Promise.resolve().then((()=>this.player.disconnect()))).pipe(fi(1e3),Mt((()=>this.player.connect())),fi(1e3),Ct((()=>this.loadError=void 0)),rt((()=>{})))}setVolume(e){return this.player?this.player.setVolume(e).then(void 0,Ni.error):Promise.resolve()}}(Ei());console.log("module::mediaPlayer");const Ui=new ae("mediaPlayer"),ji=new Xr("audio"),Qi=new Xr("video"),Xi=new Dr("main"),Wi=new or([ji,Qi,Xi,ui,Vi],(function(e){return e?e.src.startsWith("youtube:")?Xi:e.src.startsWith("apple:")?ui:e.src.startsWith("spotify:")?Vi:e.mediaType===xt.Video?Qi:ji:null}),(function(e,t){e.load(function(e){return e?e.blob?URL.createObjectURL(e.blob):e.src||"":""}(t))})),Gi=Wi;Wi.observeError().subscribe(Ui.error),Wi.observePlaying().subscribe(Ui.all("playing")),Wi.observeEnded().subscribe(Ui.all("ended")),console.log("module::mediaPlayback");const Hi=new ae("mediaPlayback"),$i=new n("mediaPlayback"),Yi=new n("mediaPlayback",sessionStorage),Ji=new te(!1);let Ki="forward";function Zi(){return Ji.pipe(nt(),Nt((e=>e?et:Oa.observeCurrentItem())))}function eo(){return Ya.observeCurrentTime()}function to(){return Ya.observeDuration()}function no(){return Gi.observeEnded()}function ao(){return Ya.observePaused()}function ro(){return Ya.observePlaybackStart()}function so(){return Ya.observePlaybackEnd()}function io(e){return Ya.observePlaybackProgress(e)}function oo(){return Ya.observeState()}function lo(){return Gi.observePlaying()}function mo(e){Hi.log("load",null==e?void 0:e.title),Gi.load(e)}function co(){Hi.log("play"),Ki="forward",xo(),Ya.play(),Ya.paused||Gi.play()}function uo(){Hi.log("pause"),xo(),Ya.pause(),Gi.pause()}function _o(e){Gi.seek(e)}function po(){Hi.log("stop"),xo(),Ya.stop(),Gi.stop()}function vo(){Ki="backward",go(),Oa.prev()}function bo(){Ki="forward",go(),Oa.next()}function ho(){Oa.shuffle()}function fo(){return St([Oa.observeCurrentIndex(),Oa.observeSize()]).pipe(rt((([e,t])=>e===t-1)),nt())}function go(){Ya.paused||!1!==Ji.getValue()||(po(),Ya.play()),Ji.next(!0)}function xo(){Ji.next(!1)}const yo={get autoplay(){return Gi.autoplay},set autoplay(e){Gi.autoplay=e,ri.autoplay=e},get hidden(){return!1},get loop(){return!1},get muted(){return Gi.muted},set muted(e){Yi.setItem("muted",String(e)),Gi.muted=e},get paused(){return Ya.paused},get volume(){return Gi.volume},set volume(e){$i.setItem("volume",String(e)),Gi.volume=e},observeCurrentItem:Zi,observeCurrentTime:eo,observeDuration:to,observeEnded:no,observeError:function(){return Gi.observeError()},observePaused:ao,observePlaying:lo,observePlaybackStart:ro,observePlaybackEnd:so,observePlaybackProgress:io,observePlaybackState:oo,appendTo:function(e){const t=e.querySelector("#players"),n=e.querySelector("#visualizers");Gi.appendTo(t),ri.appendTo(n)},load:mo,play:co,pause:uo,stop:po,seek:_o,resize:function(e,t){Gi.resize(e,t),ri.resize(e,t)},next:bo,prev:vo,shuffle:ho},wo=yo;var Ao;yo.muted="true"===Yi.getItem("muted"),yo.volume=Number($i.getItem("volume"))||1,Gi.observeCurrentTime().subscribe((e=>Ya.setCurrentTime(e))),Gi.observeDuration().subscribe((e=>Ya.setDuration(e))),Gi.observePlaying().subscribe((()=>Ya.started())),Gi.observeEnded().subscribe((()=>Ya.ended())),Gi.observePlaying().subscribe((()=>Ki="forward")),Gi.observeEnded().pipe(ea(fo())).subscribe((([,e])=>{e?po():Oa.next()})),Gi.observeError().pipe(ea(ao(),Oa.observeCurrentIndex().pipe(rt((e=>0===e)),nt()),fo())).subscribe((([,e,t,n])=>{n||t&&"backward"===Ki?po():e||("backward"===Ki?Oa.prev():Oa.next())})),Oa.observeSize().pipe(rt((e=>0===e)),nt(),Dt((e=>e))).subscribe(po),Ji.pipe((250,void 0===Ao&&(Ao=ia),We((function(e,t){var n=null,a=null,r=null,s=function(){if(n){n.unsubscribe(),n=null;var e=a;a=null,t.next(e)}};function i(){var e=r+250,a=Ao.now();if(a<e)return n=this.schedule(void 0,e-a),void t.add(n);s()}e.subscribe(Ge(t,(function(e){a=e,r=Ao.now(),n||(n=Ao.schedule(i,250),t.add(n))}),(function(){s(),t.complete()}),void 0,(function(){a=n=null})))}))),Dt((e=>e)),Ct((()=>{yo.autoplay=!Ya.paused,Ji.next(!1)}))).subscribe(Hi),Zi().subscribe(mo),Kn(window,"pagehide").subscribe(po),to().subscribe(Hi.all("duration")),eo().pipe(Dt((e=>Math.round(e)%10==0))).subscribe(Hi.all("currentTime")),lo().subscribe(Hi.all("playing")),no().subscribe(Hi.all("ended")),ro().subscribe(Hi.all("playbackStart")),so().subscribe(Hi.all("playbackEnd"));var qo=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};function zo(e,t,n,a){return qo(this,void 0,void 0,(function*(){const[,,r]=e.src.split(":");yield vn.post("Sessions/Playing/Progress",{ItemId:r,IsPaused:n,PositionTicks:Math.floor(1e7*t),PlayMethod:"Transcode",EventName:a})}))}console.log("module::jellyfinPlayback"),console.log("module::jellyfinReporting");const Eo=e=>{var t;return(null===(t=e.currentItem)||void 0===t?void 0:t.src.startsWith("jellyfin:"))||!1},ko=Dt(Eo);ro().pipe(ko).subscribe((({currentItem:e})=>function(e){return qo(this,void 0,void 0,(function*(){const[,,t]=e.src.split(":");yield vn.post("Sessions/Playing",{ItemId:t,IsPaused:!1,PositionTicks:0,PlayMethod:"Transcode"})}))}(e))),so().pipe(ko).subscribe((({currentItem:e,currentTime:t})=>function(e,t){return qo(this,void 0,void 0,(function*(){const[,,n]=e.src.split(":");yield vn.post("Sessions/Playing/Stopped",{ItemId:n,IsPaused:!1,PositionTicks:Math.floor(1e7*t),PlayMethod:"Transcode"})}))}(e,t))),io(1e4).pipe(ko).subscribe((({currentItem:e,currentTime:t,paused:n})=>zo(e,t,n,"timeupdate"))),ro().pipe(Nt((e=>Eo(e)?oo().pipe(nt(((e,t)=>e.paused===t.paused)),Hn(1),Bt(so())):et))).subscribe((({currentItem:e,currentTime:t,paused:n})=>zo(e,t,n,n?"pause":"unpause"))),console.log("module::jellyfin");const To={view:"details",fields:["Artist","Title","Album","Track","Duration","Genre","PlayCount"]},So={id:"jellyfin/liked-songs",title:"Liked Songs",icon:"heart",itemType:Te.Media,layout:To,search:()=>Ro({Filters:"IsFavorite"})},Io={id:"jellyfin/liked-albums",title:"Liked Albums",icon:"heart",itemType:Te.Album,search:()=>Ro({Filters:"IsFavorite",IncludeItemTypes:"MusicAlbum"})},Po={id:"jellyfin/recently-played",title:"Recently Played",icon:"clock",itemType:Te.Media,layout:{view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","LastPlayed"]},search:()=>Ro({SortBy:"DatePlayed",SortOrder:"Descending",Filters:"IsPlayed"})},Co={id:"jellyfin/most-played",title:"Most Played",icon:"most-played",itemType:Te.Media,layout:To,search:()=>Ro({SortBy:"PlayCount,DatePlayed",SortOrder:"Descending",Filters:"IsPlayed"})},Mo={id:"jellyfin/playlists",title:"Playlists",icon:"playlists",itemType:Te.Playlist,layout:{view:"card compact",fields:["Thumbnail","Title","TrackCount"]},secondaryLayout:To,search:()=>Ro({SortBy:"SortName",SortOrder:"Ascending",IncludeItemTypes:"Playlist"})};function Ro(e){return new dn(`Users/${cn.userId}/Items`,e)}function Bo(e,t){return Object.assign(Object.assign({},t),{id:e,icon:"",searchable:!0,search:t=>function(e,t="Audio"){return e?Ro({SearchTerm:e,IncludeItemTypes:t}):new tt}(t,e)})}const Lo={id:"jellyfin",title:"Jellyfin",icon:"jellyfin",searches:[Bo("Audio",{title:"Songs",itemType:Te.Media}),Bo("MusicAlbum",{title:"Albums",itemType:Te.Album}),{id:"Artist",title:"Artists",icon:"",itemType:Te.Artist,searchable:!0,search:e=>e?new dn("Artists",{searchTerm:e}):new tt},Bo("Playlist",{title:"Playlists",itemType:Te.Playlist})],sources:[Co,Po,So,Io,Mo],observeIsLoggedIn:function(){return Wn.pipe(nt()).pipe(rt((e=>""!==e)),nt())},login:function(){return Qn(this,void 0,void 0,(function*(){if(""===Wn.getValue())try{const e=yield function(){return Un(this,void 0,void 0,(function*(){return On(jn)}))}(),{userId:t,token:n}=JSON.parse(e);cn.userId=t,Gn(n)}catch(e){Xn.log("Could not obtain access token."),Xn.error(e)}}))},logout:function(){return Qn(this,void 0,void 0,(function*(){Gn("")}))}};var Do=__webpack_require__(2568),No=__webpack_require__.n(Do);const Fo=new n("lastfm"),Oo={get token(){return Fo.getItem("token")||""},set token(e){Fo.setItem("token",e)},get userId(){return Fo.getItem("userId")||""},set userId(e){Fo.setItem("userId",e)},get sessionKey(){return Fo.getItem("sessionKey")||""},set sessionKey(e){Fo.setItem("sessionKey",e)}};var Vo=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::lastfmAuth");const Uo=new ae("lastfmAuth"),jo=new te(""),Qo=new te("");function Xo(){return jo.pipe(nt())}function Wo(){return Qo.pipe(nt())}function Go(e){const t=Object.keys(e);let n="";return t.sort(),t.forEach((t=>n+=t+e[t])),n+=ot,No()(n)}Qo.next(Oo.sessionKey),jo.next(Oo.token);class Ho{constructor(e,t,n,a="playcount"){this.playCountName=a,this.defaultConfig={minPageSize:Ho.minPageSize,maxPageSize:Ho.maxPageSize,pageSize:50},this.pageNumber=1;const r=Object.assign(Object.assign({},this.defaultConfig),n);this.pager=new Wt(((n=this.defaultConfig.pageSize)=>{return a=this,r=void 0,i=function*(){const a=yield fetch(`https://ws.audioscrobbler.com/2.0?${e}&page=${this.pageNumber}&limit=${n}`);if(this.pageNumber++,!a.ok)throw a;const r=yield a.json(),{items:s,total:i,atEnd:o,itemType:l}=t(r);return{items:this.createMediaObjects(l,s),total:i,atEnd:o}},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function o(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(n,o)}l((i=i.apply(a,r||[])).next())}));var a,r,s,i}),r)}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeSize(){return this.pager.observeSize()}observeMaxSize(){return this.pager.observeMaxSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}createMediaObjects(e,t){switch(e){case Te.Artist:return t.map((e=>this.createMediaArtist(e)));case Te.Album:return t.map((e=>this.createMediaAlbum(e)));case Te.Media:return t.map((e=>this.createMediaItem(e)));case Te.Playlist:return[]}}createMediaItem(e){var t,n;return Object.assign(Object.assign({},this.createMediaObject(Te.Media,e)),{mediaType:xt.Audio,src:`lastfm:track:${ln()}`,artist:null===(t=e.artist)||void 0===t?void 0:t.name,album:null===(n=e.album)||void 0===n?void 0:n["#text"],duration:Number(e.duration)||0,playedOn:e.date?1e3*e.date.uts:void 0,unplayable:!0})}createMediaAlbum(e){var t;return Object.assign(Object.assign({},this.createMediaObject(Te.Album,e)),{src:`lastfm:album:${ln()}`,artist:e.artist.name,year:(null===(t=e.wiki)||void 0===t?void 0:t.published)&&new Date(e.wiki.published).getFullYear()||void 0,pager:this.createAlbumPager(e),unplayable:!0})}createMediaArtist(e){return Object.assign(Object.assign({},this.createMediaObject(Te.Artist,e)),{src:`lastfm:artist:${ln()}`,pager:this.createArtistAlbumsPager(e)})}createMediaObject(e,t){return Object.assign(Object.assign({},ze(e)),{title:t.name,rating:Number(t.loved)||0,playCount:Number(t[this.playCountName])||void 0,globalPlayCount:"userplaycount"===this.playCountName&&Number(t.playcount)||void 0,thumbnails:this.createThumbnails(t.image),externalUrl:t.url})}createThumbnails(e){return e?[this.createThumbnail(e[0],34),this.createThumbnail(e[1],64),this.createThumbnail(e[2],174),this.createThumbnail(e[3],300)].filter(he):void 0}createThumbnail(e,t,n=t){if(e){const a=e["#text"];if(a&&!a.endsWith("2a96cbd8b46e442fc41c2b86b821562f.png"))return{url:a,width:t,height:n}}}createArtistAlbumsPager(e){return new Ho(`method=artist.getTopAlbums&artist=${encodeURIComponent(e.name)}&api_key=${it}&format=json`,(({topalbums:e})=>{const t=e["@attr"];return{items:e.album,total:Number(t.total)||void 0,atEnd:t.page===t.totalPages,itemType:Te.Album}}),{maxSize:100},"userplaycount")}createAlbumPager(e){return new Ho(`method=album.getInfo&album=${encodeURIComponent(e.name)}&artist=${encodeURIComponent(e.artist.name)}&api_key=${it}&user=${Oo.userId}&format=json`,(({album:e})=>{if(e.tracks){const t=e.tracks.track;return{items:t,total:t.length,atEnd:!0,itemType:Te.Media}}throw Error("No track info")}),void 0,"userplaycount")}}Ho.minPageSize=10,Ho.maxPageSize=200;var $o=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::lastfmScrobbler");const Yo=new ae("lastfmScrobbler"),Jo="https://ws.audioscrobbler.com/2.0",Ko=({currentItem:e})=>!!(null==e?void 0:e.title)&&!!(null==e?void 0:e.artist)&&(null==e?void 0:e.duration)>30;function Zo(e){const t={};return t.track=e.title,t.artist=e.artist,e.album&&(t.album=e.album),e.albumArtist&&(t.albumArtist=e.albumArtist),e.duration&&(t.duration=String(Math.round(e.duration))),e.track&&(t.trackNumber=String(e.track)),t}ro().pipe(Dt(Ko),ea(Xo(),Wo()),Dt((([,e,t])=>!!e&&!!t)),Mt((([{currentItem:e},t,n])=>function(e,t,n){return $o(this,void 0,void 0,(function*(){const a=Object.assign({api_key:it,token:t,sk:n,method:"track.updateNowPlaying"},Zo(e)),r=Go(a);yield fetch(Jo,{method:"POST",body:`${new URLSearchParams(a)}&api_sig=${r}`,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}))}(e,t,n)))).subscribe(Yo),so().pipe(Dt(Ko),ea(Xo(),Wo()),Dt((([,e,t])=>!!e&&!!t)),Mt((([{currentItem:e,startedAt:t},n,a])=>function(e,t,n,a){return $o(this,void 0,void 0,(function*(){a=Math.floor(a/1e3);const r=Math.floor(Date.now()/1e3)-a;if(r>240||r>e.duration/2){const r="track.scrobble",s=String(a),i=Object.assign({api_key:it,token:t,sk:n,method:r,timestamp:s},Zo(e)),o=Go(i);yield fetch(Jo,{method:"POST",body:`${new URLSearchParams(i)}&api_sig=${o}`,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}))}(e,n,a,t)))).subscribe(Yo),console.log("module::lastfm");const el={view:"card compact",fields:["Thumbnail","Title","Artist","Year","PlayCount"]},tl={view:"details",fields:["Index","Title","Artist"]},nl={id:"lastfm/recently-played",title:"Recently Played",icon:"clock",itemType:Te.Media,layout:{view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","LastPlayed"]},unplayable:!0,search:()=>new Ho(`method=user.getRecentTracks&user=${Oo.userId}&api_key=${it}&extended=1&format=json`,(({recenttracks:e})=>{var t,n;const a=e["@attr"],r=e.track,s="true"===(null===(n=null===(t=r[0])||void 0===t?void 0:t["@attr"])||void 0===n?void 0:n.nowplaying),i=Number(a.total)+(s?1:0),o=a.page===a.totalPages;return s&&"1"!==a.page&&r.shift(),{items:r,total:i,atEnd:o,itemType:Te.Media}}))};function al(e,t){return Object.assign(Object.assign({},t),{id:e,icon:"",searchable:!1,unplayable:!0,search:()=>function(e,t){return new Ho(`method=${e}&user=${Oo.userId}&api_key=${it}&format=json`,(n=>{const[,a]=e.toLowerCase().split("."),r=n[a.slice(3)],s=r["@attr"];return{items:r[a.slice(6,-1)],total:Number(s.total)||void 0,atEnd:s.page===s.totalPages,itemType:t}}))}(e,t.itemType)})}const rl={id:"lastfm",title:"last.fm",icon:"lastfm",sources:[nl],searches:[al("user.getTopTracks",{title:"Top Tracks",itemType:Te.Media,layout:{view:"card compact",fields:["Thumbnail","Title","Artist","PlayCount"]}}),al("user.getTopAlbums",{title:"Top Albums",itemType:Te.Album,layout:el,secondaryLayout:tl}),al("user.getTopArtists",{title:"Top Artists",itemType:Te.Artist,layout:{view:"card minimal",fields:["Thumbnail","Title","PlayCount"]},secondaryLayout:el,tertiaryLayout:tl})],observeIsLoggedIn:function(){return Xo().pipe(rt((e=>""!==e)),nt())},login:function(){return Vo(this,void 0,void 0,(function*(){if(""===jo.getValue())try{const e=yield function(){return Vo(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const n=location.hostname,a=("localhost"===n?`http://${n}:${location.port}`:`https://${n}`)+"/auth/lastfm/callback/";let r=null;const s=n=>{if(/(localhost|ampcast)/.test(n.origin)){if(clearInterval(i),window.removeEventListener("message",s,!1),null==r||r.close(),r=null,n.origin!==location.origin)return void t({message:`Origin ${n.origin} does not match ${location.origin}`});e(n.data.token)}};window.addEventListener("message",s,!1),r=window.open(`https://www.last.fm/api/auth?api_key=${it}&cb=${a}`,"last.fm","popup");const i=setInterval((()=>{(null==r?void 0:r.closed)&&(clearInterval(i),t({message:"access_denied"}))}),500)}))}))}(),t=yield function(e){return Vo(this,void 0,void 0,(function*(){const t="auth.getSession",n=Go({api_key:it,token:e,method:t}),a=yield fetch(`https://ws.audioscrobbler.com/2.0?method=${t}&api_key=${it}&token=${e}&api_sig=${n}&format=json`);if(!a.ok)throw a;const{session:r}=yield a.json();return Oo.userId=r.name,Oo.token=e,Oo.sessionKey=r.key,r.key}))}(e);Qo.next(t),jo.next(e),Uo.log("Access token successfully obtained.")}catch(e){Uo.log("Could not obtain access token."),Uo.error(e)}}))},logout:function(){return Vo(this,void 0,void 0,(function*(){Qo.next(""),jo.next("")}))}};var sl=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::plexAuth");const il=new ae("plexAuth"),ol="https://plex.tv/api/v2",ll=new te(""),ml=new te(!1);function cl(){return ll.pipe(nt()).pipe(rt((e=>""!==e)),nt())}function ul(e){e&&il.log("Access token successfully obtained."),Fr.userToken=e,ll.next(e)}ul(Fr.userToken),cl().pipe(Dt((e=>e)),Ct((()=>sl(void 0,void 0,void 0,(function*(){const e=function(e,t){return sl(this,void 0,void 0,(function*(){try{return yield Qr.fetch({host:e.uri,path:"/",method:"HEAD",token:t}),e}catch(e){return null}}))},t=Fr.connection;if(t){if(yield e(t,Fr.serverToken))return il.log(`Using existing ${t.local?"local":"public"} connection.`),void ml.next(!0);Fr.server=null,Fr.connection=null}il.log("Searching for a connection...");const n=(yield function(){return sl(this,void 0,void 0,(function*(){return Qr.fetchJSON({host:ol,path:"/resources",params:{includeHttps:"1"}})}))}()).filter((e=>"server"===e.provides));for(const t of n){const n=yield Promise.all([...t.connections.map((n=>e(n,t.accessToken)))]),a=n.filter(he);if(a.length){const e=a.find((e=>e.local))||a[0];return Fr.server=t,Fr.connection=e,il.log(`Using ${e.local?"local":"public"} connection.`),void ml.next(!0)}}il.log("Could not establish a connection.")}))))).subscribe(il),ml.pipe(Dt((e=>e)),Ct((()=>sl(void 0,void 0,void 0,(function*(){il.log("Connected");const{MediaContainer:{Directory:e}}=yield Qr.fetchJSON({path:"/library/sections"}),t=e.find((e=>"artist"===e.type));Fr.libraryId=(null==t?void 0:t.key)||""}))))).subscribe(il);class _l{constructor(e,t){var n;this.path=e,this.params=t,this.pageSize=(null===(n=Fr.connection)||void 0===n?void 0:n.local)?_l.maxPageSize:_l.minPageSize,this.pager=new on((e=>this.fetch(e)),{pageSize:this.pageSize})}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeSize(){return this.pager.observeSize()}observeMaxSize(){return this.pager.observeMaxSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}fetch(e){return t=this,n=void 0,r=function*(){const t=yield Qr.fetchJSON({path:this.path,params:this.params,headers:{"X-Plex-Container-Size":String(this.pageSize),"X-Plex-Container-Start":String((e-1)*this.pageSize)}}),{MediaContainer:{Metadata:n=[],totalSize:a}}=t;return{items:n.map((e=>this.createItem(e))),total:a}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}createItem(e){switch(e.type){case"clip":return this.createMediaItemFromVideo(e);case"album":return this.createMediaAlbum(e);case"artist":return this.createMediaArtist(e);case"playlist":return this.createMediaPlaylist(e);default:return this.createMediaItemFromTrack(e)}}createMediaItemFromTrack(e){const[t]=e.Media,[n]=t.Part,a="[Unknown Album]"===e.parentTitle?"":e.parentTitle||"";return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Audio,src:`plex:audio:${n.key}`,title:e.title,addedOn:e.addedAt,artist:e.grandparentTitle,albumArtist:a?e.grandparentTitle:void 0,album:a,duration:e.duration/1e3,track:a?e.index:void 0,rating:e.userRating,year:e.parentYear,playedOn:e.lastViewedAt?1e3*e.lastViewedAt:void 0,playCount:e.viewCount,plex:{ratingKey:e.ratingKey},thumbnails:this.createThumbnails(e.thumb)})}createMediaAlbum(e){var t;return Object.assign(Object.assign({},ze(Te.Album)),{src:`plex:album:${e.ratingKey}`,title:e.title||"",addedOn:e.addedAt,artist:e.parentTitle,rating:e.userRating,year:e.year,playedOn:e.lastViewedAt?1e3*e.lastViewedAt:void 0,playCount:e.viewCount,genre:null===(t=e.Genre)||void 0===t?void 0:t.map((e=>e.tag)).join(";"),plex:{ratingKey:e.ratingKey},pager:this.createPager(e.key),thumbnails:this.createThumbnails(e.thumb)})}createMediaArtist(e){var t;return Object.assign(Object.assign({},ze(Te.Artist)),{src:`plex:album:${e.ratingKey}`,title:e.title,addedOn:e.addedAt,rating:e.userRating,genre:null===(t=e.Genre)||void 0===t?void 0:t.map((e=>e.tag)).join(";"),plex:{ratingKey:e.ratingKey},pager:this.createPager(e.key),thumbnails:this.createThumbnails(e.thumb)})}createMediaItemFromVideo(e){const[t]=e.Media,[n]=t.Part;return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Video,src:`plex:video:${n.key}`,title:e.title||"Video",addedOn:e.addedAt,artist:e.grandparentTitle,duration:e.duration/1e3,playedOn:e.lastViewedAt?1e3*e.lastViewedAt:void 0,playCount:e.viewCount,plex:{ratingKey:e.ratingKey},thumbnails:this.createThumbnails(e.thumb)})}createMediaPlaylist(e){return Object.assign(Object.assign({},ze(Te.Playlist)),{src:`plex:playlist:${e.key}`,title:e.title,addedOn:e.addedAt,duration:e.duration/1e3,playedOn:e.lastViewedAt?1e3*e.lastViewedAt:void 0,playCount:e.viewCount,trackCount:e.leafCount,plex:{ratingKey:e.ratingKey},pager:this.createPager(e.key),thumbnails:this.createThumbnails(e.composite)})}createThumbnails(e){return e?[this.createThumbnail(e,60),this.createThumbnail(e,120),this.createThumbnail(e,240),this.createThumbnail(e,480)]:void 0}createThumbnail(e,t,n=t){return{url:`${Fr.host}/photo/:/transcode?url=${encodeURIComponent(e)}&width=${t}&height=${n}&minSize=1&upscale=1&X-Plex-Token=${Fr.serverToken}`,width:t,height:n}}createPager(e){return new _l(e)}}_l.minPageSize=100,_l.maxPageSize=1e3;var pl=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::plexPlayback");let vl=null;function dl(e,t,n){return pl(this,void 0,void 0,(function*(){yield bl(e,t,n)}))}function bl(e,t,n,a){return pl(this,void 0,void 0,(function*(){const[,,r]=e.src.split(":");yield Qr.fetch({path:"/:/timeline",params:{key:r,ratingKey:e.plex.ratingKey,playQueueItemID:String(vl.playQueueSelectedItemID),state:n,hasMDE:"1",time:String(Math.floor(1e3*t)),duration:String(Math.floor(1e3*e.duration))},keepalive:a})}))}console.log("module::plexReporting");const hl=new ae("plexReporting"),fl=e=>{var t;return(null===(t=e.currentItem)||void 0===t?void 0:t.src.startsWith("plex:"))||!1};ro().pipe(Dt(fl),Ct((({currentItem:e})=>function(e){return pl(this,void 0,void 0,(function*(){const[,,t]=e.src.split(":");vl=yield function(e){return pl(this,void 0,void 0,(function*(){return Qr.fetchJSON({path:"/playQueues",method:"POST",params:{type:"music",continuous:"0",uri:`server://${Fr.server.clientIdentifier}/com.plexapp.plugins.library/${e}`,repeat:"0",own:"1",includeExternalMedia:"1"}})}))}(t),yield bl(e,0,"playing")}))}(e)))).subscribe(hl),so().pipe(Dt(fl),Ct((({currentItem:e})=>function(e){return pl(this,void 0,void 0,(function*(){yield bl(e,0,"stopped",!0)}))}(e)))).subscribe(hl),io(1e4).pipe(Dt(fl),Ct((({currentItem:e,currentTime:t,paused:n})=>dl(e,t,n?"paused":"playing")))).subscribe(hl),ro().pipe(Nt((e=>fl(e)?oo().pipe(nt(((e,t)=>e.paused===t.paused)),Hn(1),Bt(so())):et)),Ct((({currentItem:e,currentTime:t,paused:n})=>dl(e,t,n?"paused":"playing")))).subscribe(hl),console.log("module::plex");const gl={id:"plex/video",title:"Music Video",icon:"video",itemType:Te.Media,searchable:!0,search:e=>new _l(`/library/sections/${Fr.libraryId}/extras/all`,{title:e,type:"8",extraType:"4"})},xl={id:"plex/recently-played",title:"Recently Played",icon:"clock",itemType:Te.Media,layout:{view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","LastPlayed"]},search:()=>new _l(`/library/sections/${Fr.libraryId}/all`,{type:"10","lastViewedAt>":"-3mon",sort:"lastViewedAt:desc"})};function yl(e,t){return Object.assign(Object.assign({},t),{id:e,icon:"",searchable:!0,search:t=>function(e,t){return e?new _l(`/library/sections/${Fr.libraryId}/all`,{title:e,type:t}):new tt}(t,e)})}const wl={id:"plex",title:"Plex",icon:"plex",sources:[gl,{id:"plex/most-played",title:"Most Played",icon:"most-played",itemType:Te.Media,search:()=>new _l(`/library/sections/${Fr.libraryId}/all`,{type:"10","viewCount>":"1",sort:"viewCount:desc,lastViewedAt:desc"})},xl,{id:"plex/top-rated",title:"Top Rated",icon:"star",itemType:Te.Media,search:()=>new _l(`/library/sections/${Fr.libraryId}/all`,{type:"10","track.userRating>":"1",sort:"track.userRating:desc,viewCount:desc,lastViewedAt:desc"})},{id:"plex/playlists",title:"Playlists",icon:"playlists",itemType:Te.Playlist,search:()=>new _l("/playlists/all",{type:"15",playlistType:"audio"})}],searches:[yl("10",{title:"Songs",itemType:Te.Media}),yl("9",{title:"Albums",itemType:Te.Album}),yl("8",{title:"Artists",itemType:Te.Artist}),yl("15",{title:"Playlists",itemType:Te.Playlist})],observeIsLoggedIn:cl,login:function(){return sl(this,void 0,void 0,(function*(){if(""===ll.getValue())try{const{id:e,authToken:t}=yield function(){return sl(this,void 0,void 0,(function*(){const e=yield Qr.fetchJSON({host:ol,path:"/pins",method:"POST",params:{strong:"true"}});return new Promise(((t,n)=>{const a=location.hostname,r=("localhost"===a?`http://${a}:${location.port}`:`https://${a}`)+"/auth/plex/callback/";let s=null;const i=a=>{if(/(localhost|ampcast)/.test(a.origin)){if(clearInterval(l),window.removeEventListener("message",i,!1),null==s||s.close(),s=null,a.origin!==location.origin)return void n({message:`Origin ${a.origin} does not match ${location.origin}`});let r=10;const o=()=>sl(this,void 0,void 0,(function*(){r--;try{const{authToken:a,id:s}=yield Qr.fetchJSON({host:ol,path:`/pins/${e.id}`});a?t({id:s,authToken:a}):r?setTimeout(o,200):n("Timeout.")}catch(e){n(e)}}));o()}};window.addEventListener("message",i,!1);const o=`clientID=${Fr.clientId}&code=${e.code}&forwardUrl=${encodeURIComponent(r)}&context%5Bdevice%5D%5Bproduct%5D=ampcast`;s=window.open(`https://app.plex.tv/auth#?${o}`,"Plex","popup");const l=setInterval((()=>{(null==s?void 0:s.closed)&&(clearInterval(l),n({message:"access_denied"}))}),500)}))}))}();Fr.userId=e,ul(t)}catch(e){il.log("Could not obtain access token."),il.error(e)}}))},logout:function(){return sl(this,void 0,void 0,(function*(){ul("")}))}};var Al=__webpack_require__(5754),ql=__webpack_require__.n(Al),zl=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};class El{constructor(e,t){this.defaultConfig={minPageSize:El.minPageSize,maxPageSize:El.maxPageSize,pageSize:El.maxPageSize},this.pageNumber=1;const n=Object.assign(Object.assign({},this.defaultConfig),t);this.pager=new Wt(((t=this.defaultConfig.pageSize)=>zl(this,void 0,void 0,(function*(){const n=(this.pageNumber-1)*t,a=()=>zl(this,void 0,void 0,(function*(){const{items:a,total:r,next:s}=yield e(n,t);return this.pageNumber++,{items:a.map((e=>this.createMediaObject(e))),total:r,atEnd:!s}}));try{return yield a()}catch(e){if(401===e.status)return yield Ti(),yield a();throw e}}))),n)}observeComplete(){return this.pager.observeComplete()}observeItems(){return this.pager.observeItems()}observeSize(){return this.pager.observeSize()}observeMaxSize(){return this.pager.observeMaxSize()}observeError(){return this.pager.observeError()}disconnect(){this.pager.disconnect()}fetchAt(e,t){this.pager.fetchAt(e,t)}createMediaObject(e){switch(e.type){case"episode":return this.createMediaItemFromEpisode(e);case"artist":return this.createMediaArtist(e);case"album":return this.createMediaAlbum(e);case"playlist":return this.createMediaPlaylist(e);case"track":return this.createMediaItemFromTrack(e)}}createMediaItemFromEpisode(e){return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Audio,src:e.uri,externalUrl:e.external_urls.spotify,title:e.name,duration:e.duration_ms/1e3,thumbnails:e.images,unplayable:!1===e.is_playable})}createMediaAlbum(e){var t;return Object.assign(Object.assign({},ze(Te.Album)),{src:e.uri,externalUrl:e.external_urls.spotify,title:e.name,artist:e.artists.map((e=>e.name)).join("/"),year:new Date(e.release_date).getFullYear(),thumbnails:e.images,trackCount:null===(t=e.tracks)||void 0===t?void 0:t.total,pager:this.createAlbumPager(e)})}createMediaArtist(e){return Object.assign(Object.assign({},ze(Te.Artist)),{src:e.uri,externalUrl:e.external_urls.spotify,title:e.name,thumbnails:e.images,pager:this.createArtistAlbumsPager(e)})}createMediaPlaylist(e){return Object.assign(Object.assign({},ze(Te.Playlist)),{src:e.uri,externalUrl:e.external_urls.spotify,title:e.name,thumbnails:e.images,trackCount:e.tracks.total,pager:this.createPlaylistPager(e),owner:{name:e.owner.display_name||"",url:e.owner.external_urls.spotify}})}createMediaItemFromTrack(e){var t,n,a,r,s;const i=/album|compilation/i.test((null===(t=e.album)||void 0===t?void 0:t.album_type)||"")?e.album:null;return Object.assign(Object.assign({},ze(Te.Media)),{mediaType:xt.Audio,src:e.uri,externalUrl:e.external_urls.spotify,title:e.name,artist:e.artists.map((e=>e.name)).join("/"),albumArtist:null===(n=null==i?void 0:i.artists[0])||void 0===n?void 0:n.name,album:null==i?void 0:i.name,duration:e.duration_ms/1e3,playedOn:e.played_at&&new Date(e.played_at).getTime()||void 0,genre:null===(r=null===(a=e.album)||void 0===a?void 0:a.genres)||void 0===r?void 0:r.join(";"),disc:i?e.disc_number:void 0,track:i?e.track_number:void 0,year:e.album?new Date(e.album.release_date).getFullYear():void 0,thumbnails:null===(s=e.album)||void 0===s?void 0:s.images,unplayable:!1===e.is_playable})}createArtistAlbumsPager(e){const t=this.getMarket();return new El(((n,a)=>zl(this,void 0,void 0,(function*(){const{items:r,total:s,next:i}=yield Sl.getArtistAlbums(e.id,{offset:n,limit:a,market:t});return{items:r,total:s,next:i}}))))}createAlbumPager(e){var t;const n=null===(t=e.tracks)||void 0===t?void 0:t.items;if(n&&n.length===e.total_tracks)return new tt(n.map((e=>this.createMediaItemFromTrack(e))));{const t=this.getMarket();return new El(((n,a)=>zl(this,void 0,void 0,(function*(){return yield Sl.getAlbumTracks(e.id,{offset:n,limit:a,market:t})}))))}}createPlaylistPager(e){const t=this.getMarket();return new El(((n,a)=>zl(this,void 0,void 0,(function*(){const{items:r,total:s,next:i}=yield Sl.getPlaylistTracks(e.id,{offset:n,limit:a,market:t});return{items:r.map((e=>e.track)),total:s,next:i}}))))}getMarket(){return yi.getItem("market")||""}}El.minPageSize=10,El.maxPageSize=50;var kl=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};console.log("module::spotify");const Tl=new ae("spotify"),Sl=new(ql()),Il={view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","Duration"]};function Pl(){return yi.getItem("market")||""}const Cl={id:"spotify",title:"Spotify",icon:"spotify",sources:[{id:"spotify/recently-played",title:"Recently Played",icon:"clock",itemType:Te.Media,layout:{view:"card",fields:["Thumbnail","Title","Artist","AlbumAndYear","LastPlayed"]},search(){return new El(((e,t)=>kl(this,void 0,void 0,(function*(){const{items:e,total:n}=yield Sl.getMyRecentlyPlayedTracks({limit:t});return{items:e.map((e=>Object.assign({played_at:e.played_at},e.track))),total:n,next:void 0}}))),{maxSize:50,pageSize:50})}},{id:"spotify/top-tracks",title:"Top Tracks",icon:"star",itemType:Te.Media,layout:Il,search(){return new El(((e,t)=>kl(this,void 0,void 0,(function*(){return Sl.getMyTopTracks({offset:e,limit:t})}))))}},{id:"spotify/liked-songs",title:"Liked Songs",icon:"heart",itemType:Te.Media,layout:Il,search(){const e=Pl();return new El(((t,n)=>kl(this,void 0,void 0,(function*(){const{items:a,total:r,next:s}=yield Sl.getMySavedTracks({offset:t,limit:n,market:e});return{items:a.map((e=>e.track)),total:r,next:s}}))))}},{id:"spotify/liked-albums",title:"Liked Albums",icon:"heart",itemType:Te.Album,search(){const e=Pl();return new El(((t,n)=>kl(this,void 0,void 0,(function*(){const{items:a,total:r,next:s}=yield Sl.getMySavedAlbums({offset:t,limit:n,market:e});return{items:a.map((e=>e.album)),total:r,next:s}}))),{calculatePageSize:!0})}},{id:"spotify/playlists",title:"Playlists",icon:"playlists",itemType:Te.Playlist,layout:{view:"card compact",fields:["Thumbnail","Title","TrackCount","Owner"]},search(){const e=Pl();return new El(((t,n)=>kl(this,void 0,void 0,(function*(){const{items:a,total:r,next:s}=yield Sl.getUserPlaylists(void 0,{offset:t,limit:n,market:e});return{items:a,total:r,next:s}}))))}}],searches:[{id:"spotify/search/songs",title:"Songs",icon:"",itemType:Te.Media,layout:Il,searchable:!0,search(e){if(e){const t=Pl();return new El(((n,a)=>kl(this,void 0,void 0,(function*(){const{tracks:{items:r,total:s,next:i}}=yield Sl.searchTracks(e,{offset:n,limit:a,market:t});return{items:r,total:s,next:i}}))),{maxSize:250})}return new tt}},{id:"spotify/search/albums",title:"Albums",icon:"",itemType:Te.Album,searchable:!0,search(e){if(e){const t=Pl();return new El(((n,a)=>kl(this,void 0,void 0,(function*(){const{albums:{items:r,total:s,next:i}}=yield Sl.searchAlbums(e,{offset:n,limit:a,market:t});return{items:r,total:s,next:i}}))),{maxSize:250})}return new tt}},{id:"spotify/search/artists",title:"Artists",icon:"",itemType:Te.Artist,searchable:!0,search(e){if(e){const t=Pl();return new El(((n,a)=>kl(this,void 0,void 0,(function*(){const{artists:{items:r,total:s,next:i}}=yield Sl.searchArtists(e,{offset:n,limit:a,market:t});return{items:r,total:s,next:i}}))),{maxSize:250})}return new tt}},{id:"spotify/search/playlists",title:"Playlists",icon:"",itemType:Te.Playlist,searchable:!0,search(e){if(e){const t=Pl();return new El(((n,a)=>kl(this,void 0,void 0,(function*(){const{playlists:{items:r,total:s,next:i}}=yield Sl.searchPlaylists(e,{offset:n,limit:a,market:t});return{items:r,total:s,next:i}}))),{maxSize:250})}return new tt}}],observeIsLoggedIn:function(){return Ei().pipe(rt((e=>""!==e)),nt())},login:ki,logout:function(){return gi(this,void 0,void 0,(function*(){Ci()}))}};Ei().subscribe((e=>Sl.setAccessToken(e))),Pl()||Ei().pipe(lr((e=>!e)),Mt((()=>Sl.getMe())),Ct((e=>yi.setItem("market",e.country))),Lt(1)).subscribe(Tl);const Ml=[an,Cl,Tr,wl,Lo,rl];var Rl;const Bl=new n("sources"),Ll=Ml.reduce(((e,t)=>(e.push(t.id,...t.sources.map((e=>e.id))),e)),[]),Dl=new te((null===(Rl=Bl.getItem("all"))||void 0===Rl?void 0:Rl.split(","))||Ll);function Nl(){return Dl}function Fl(){return Dl.getValue()}function Ol(){return Ml.map((e=>e.id))}function Vl(e){Bl.setItem("all",String(e)),Dl.next(e)}const Ul={observeAll:Nl,getAll:Fl,getServices:function(){const e=Ol();return Fl().filter((t=>e.includes(t)))},setServices:function(e){const t=new Set(Fl());Ol().forEach((n=>{e.includes(n)?t.add(n):t.delete(n)})),Vl([...t])},getSources:function(e){return Fl().filter((t=>t.startsWith(`${e}/`)))},setSources:function(e,t){const n=new Set(Fl()),a=function(e){var t;return(null===(t=Ml.find((t=>t.id===e)))||void 0===t?void 0:t.sources.map((e=>e.id)))||[]}(e);a.forEach((e=>{t.includes(e)?n.add(e):n.delete(e)})),Vl([...n])}},jl=Ul;function Ql({children:t}){return e.createElement(e.Fragment,null,t)}function Xl(e,t){switch(t.type){case"resize":{const n=Math.max(t.clientSize,0),a=Math.max(t.scrollSize,n);if(n!==e.clientSize||a!==e.scrollSize){const t=a-n,r=Wl(e.position,t);return Object.assign(Object.assign({},e),{position:r,max:t,clientSize:n,scrollSize:a})}return e}case"scrollBy":{const n=Wl(e.position+t.amount,e.max);return n!==e.position?Object.assign(Object.assign({},e),{position:n}):e}case"scrollTo":{const n=Wl(t.position,e.max);return n!==e.position?Object.assign(Object.assign({},e),{position:n}):e}default:return e}}function Wl(e,t){return Math.min(Math.max(e,0),t)}const Gl={position:0,max:0,clientSize:0,scrollSize:0};const Hl=(0,e.memo)((function(t){var{orientation:n,scrollAmount:a,onChange:r,onResize:i,scrollbarRef:o}=t,l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["orientation","scrollAmount","onChange","onResize","scrollbarRef"]);const m=(0,e.useRef)(null),c=(0,e.useRef)(null),{position:u,max:_,clientSize:p,scrollSize:v,resize:d,scrollBy:b,scrollTo:h}=function(){const[{position:t,max:n,clientSize:a,scrollSize:r},s]=(0,e.useReducer)(Xl,Gl),i=(0,e.useCallback)(((e,t)=>s({type:"resize",clientSize:e,scrollSize:t})),[]),o=(0,e.useCallback)((e=>s({type:"scrollTo",position:e})),[]);return{position:t,max:n,clientSize:a,scrollSize:r,scrollTo:o,scrollBy:(0,e.useCallback)((e=>s({type:"scrollBy",amount:e})),[]),resize:i}}(),[f,g]=(0,e.useState)(0),[x,y]=(0,e.useState)(0),[w,A]=(0,e.useState)(0),[q,z]=(0,e.useState)(-1),[E,k]=(0,e.useState)(0),T=-1!==q,S="vertical"===n,I=Math.ceil(u/_*(x-w));(0,e.useEffect)((()=>{o.current={scrollBy:b,scrollTo:h}}),[o,b,h]),(0,e.useLayoutEffect)((()=>d(l.clientSize,l.scrollSize)),[l.clientSize,l.scrollSize,d]),(0,e.useLayoutEffect)((()=>null==r?void 0:r(u)),[u,r]),(0,e.useLayoutEffect)((()=>null==i?void 0:i(f)),[f,i]),s(m,(0,e.useCallback)((()=>{const e=m.current.getBoundingClientRect();y(S?e.height:e.width),g(S?e.width:e.height)}),[S])),s(c,(0,e.useCallback)((()=>{const e=c.current.getBoundingClientRect();A(S?e.height:e.width)}),[S]));const P=(0,e.useCallback)(((e,t)=>{const n=()=>o.current.scrollBy(t),a=t=>t.target===e,r=Kn(document,"mouseup"),s=Kn(e,"mouseover").pipe(rt(a),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ce(e);return We((function(t,a){(n?bi(e,t,n):bi(e,t)).subscribe(a)}))}(!0)),i=pi(s,Kn(e,"mouseout").pipe(Dt(a),rt((()=>!1)))).pipe(Nt(((e,t)=>e?Ua(0===t?400:0,40):et)),Bt(r)).subscribe(n);return n(),()=>i.unsubscribe()}),[o]),C=(0,e.useCallback)((e=>{if(0===e.button)return e.stopPropagation(),P(e.target,-a)}),[a,P]),M=(0,e.useCallback)((e=>{if(0===e.button)return e.stopPropagation(),P(e.target,a)}),[a,P]),R=(0,e.useCallback)((e=>{if(0===e.button){e.preventDefault();const t=S?e.nativeEvent.offsetY:e.nativeEvent.offsetX;return P(e.target,t<I?-p:p)}}),[S,p,I,P]),B=(0,e.useCallback)((e=>{0===e.button&&(e.preventDefault(),e.stopPropagation(),z(S?e.screenY:e.screenX),k(I))}),[S,I]),L=(0,e.useCallback)((e=>{const t=S?e.screenY:e.screenX;h((E+(t-q))*_/(x-w))}),[S,q,E,_,w,x,h]),D=(0,e.useCallback)((()=>{z(-1),k(0)}),[]);return(0,e.useEffect)((()=>{if(T)return document.body.classList.add("dragging"),document.addEventListener("mouseup",D),document.addEventListener("mousemove",L),()=>{document.body.classList.remove("dragging"),document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",L)}}),[T,L,D]),e.createElement("div",{className:`scrollbar scrollbar-${n}`},e.createElement("div",{className:"scrollbar-button scrollbar-button-decrement",onMouseDown:C},e.createElement("svg",{className:"icon",viewBox:"0 0 50 50"},e.createElement("polygon",{points:S?"0,50 25,0 50,50":"50,0 0,25 50,50"}))),e.createElement("div",{className:"scrollbar-track",onMouseDown:R,ref:m},e.createElement("div",{className:"scrollbar-thumb",onMouseDown:B,style:{[S?"height":"width"]:x*(v?p/v:0)+"px",transform:`translate${S?"Y":"X"}(${I}px)`},ref:c})),e.createElement("div",{className:"scrollbar-button scrollbar-button-increment",onMouseDown:M},e.createElement("svg",{className:"icon",viewBox:"0 0 50 50"},e.createElement("polygon",{points:S?"0,0 25,50 50,0":"0,0 50,25 0,50"}))))}));function $l({children:t,scrollWidth:n=0,scrollHeight:a=0,scrollAmount:r=10,droppable:i,onResize:o,onScroll:l,scrollableRef:m}){const c=(0,e.useRef)(null),u=(0,e.useRef)(null),_=(0,e.useRef)(null),p=(0,e.useRef)(null),v=(0,e.useRef)(null),d=(0,e.useRef)(null),[b,h]=(0,e.useState)(0),[f,g]=(0,e.useState)(0),[x,y]=(0,e.useState)(0),[w,A]=(0,e.useState)(0),[q,z]=(0,e.useState)(0),[E,k]=(0,e.useState)(n),[T,S]=(0,e.useState)(a),[I,P]=(0,e.useState)(0),[C,M]=(0,e.useState)(0),[R,B]=(0,e.useState)(!1),[L,D]=(0,e.useState)(!1),[N,F]=(0,e.useState)(0),O=I-(L?f:0),V=C-(R?b:0);(0,e.useEffect)((()=>{m&&(m.current={scrollTo:({left:e,top:t})=>{void 0!==e&&v.current.scrollTo(e),void 0!==t&&d.current.scrollTo(t)}})}),[m]),(0,e.useLayoutEffect)((()=>{B(E-O>1)}),[O,E]),(0,e.useLayoutEffect)((()=>{D(T-V>1)}),[V,T]),(0,e.useLayoutEffect)((()=>{c.current.classList.toggle("overflow-x",R)}),[R]),(0,e.useLayoutEffect)((()=>{c.current.classList.toggle("overflow-y",L)}),[L]),(0,e.useLayoutEffect)((()=>{var e;k(0===n?(null===(e=u.current)||void 0===e?void 0:e.scrollWidth)||0:n)}),[n]),(0,e.useLayoutEffect)((()=>{var e;S(0===a?(null===(e=u.current)||void 0===e?void 0:e.scrollHeight)||0:a)}),[a]);const U=(0,e.useCallback)((()=>{const e=c.current;P(e.clientWidth),M(e.clientHeight),y(e.getBoundingClientRect().top)}),[]),j=(0,e.useCallback)((()=>{const e=u.current,t=p.current;0===n&&k(e.scrollWidth),0===a&&S(t.scrollHeight+_.current.clientHeight),null==o||o({width:e.clientWidth,height:e.clientHeight})}),[n,a,o]);s(c,U),s(u,j),s(p,j),(0,e.useLayoutEffect)((()=>{null==l||l({left:w,top:q})}),[w,q,l]);const Q=(0,e.useCallback)((e=>{d.current.scrollBy(3*r*Math.sign(e.deltaY))}),[r]),X=(0,e.useCallback)((e=>{const t=e.nativeEvent.clientY-x;t+r/2>C?F(r):t<r&&F(-r)}),[x,C,r]);(0,e.useEffect)((()=>{if(N){const e=()=>d.current.scrollBy(N),t=vi(100).subscribe(e);return()=>t.unsubscribe()}}),[N]);const W=(0,e.useCallback)((()=>F(0)),[]),[G,H]=we(e.Children.toArray(t),(e=>(null==e?void 0:e.type)===Ql));return e.createElement("div",{className:"scrollable",onWheel:Q,ref:c},e.createElement("div",{className:"scrollable-content",onDragOver:i?X:void 0,onDragLeave:i?W:void 0,onDragEnd:i?W:void 0,onDrop:i?W:void 0,style:{right:L?`${f}px`:"0",bottom:R?`${b}px`:"0",transform:`translateX(-${w}px)`},ref:u},e.createElement("div",{className:"scrollable-head",ref:_},G),e.createElement("div",{className:"scrollable-body",style:{width:n?`${n}px`:void 0}},e.createElement("div",{className:"scrollable-body-content",style:{transform:`translateY(-${q}px)`},ref:p},H))),e.createElement(Hl,{orientation:"horizontal",clientSize:O,scrollSize:E,scrollAmount:r,onChange:A,onResize:h,scrollbarRef:v}),e.createElement(Hl,{orientation:"vertical",clientSize:V,scrollSize:T,scrollAmount:r,onChange:z,onResize:g,scrollbarRef:d}))}function Yl(t=200){const[n,a]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const e=(e,t)=>Kn(document,e,{capture:!0}).pipe(rt((()=>t))),n=pi(e("keydown",!0),e("keyup",!1)).pipe((r=e=>e?Ze(0):Ua(t),We((function(e,t){var n=!1,a=null,s=null,i=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var e=a;a=null,t.next(e)}};e.subscribe(Ge(t,(function(e){null==s||s.unsubscribe(),n=!0,a=e,s=Ge(t,i,R),je(r(e)).subscribe(s)}),(function(){i(),t.complete()}),void 0,(function(){a=s=null})))})))).subscribe(a);var r;return()=>n.unsubscribe()}),[t]),n}function Jl(t){return(0,e.useMemo)((()=>Kl(t)),[t])}function Kl(e){return e.reduce(((e,t)=>(e.push(t.id),t.children?e.concat(Kl(t.children)):e)),[])}function Zl(t){return{storeExpandedState:(0,e.useCallback)(((e,n)=>{t&&localStorage.setItem(`${t}/${e}`,String(!!n))}),[t]),retrieveExpandedState:(0,e.useCallback)(((e,n=!1)=>{if(t){const a=localStorage.getItem(`${t}/${e}`);return"string"==typeof a?"true"===a:n}return n}),[t]),storeSelectedNodeId:(0,e.useCallback)((e=>{t&&localStorage.setItem(`${t}/selectedId`,e)}),[t]),retrieveSelectedNodeId:(0,e.useCallback)((e=>t&&localStorage.getItem(`${t}/selectedId`)||e),[t])}}function em(t,n){const{storeExpandedState:a,retrieveExpandedState:r}=Zl(n),s=Jl(t),[i,o]=(0,e.useState)((()=>tm(t,r)));(0,e.useEffect)((()=>{const e=i.filter((e=>s.includes(e)));e.length!==i.length&&o(e)}),[s,i]);const l=(0,e.useCallback)(((e,t)=>{const n=i.includes(e);n!==t&&(o(n?i.filter((t=>t!==e)):i.concat(e)),a(e,!n))}),[i,a]);return{expandedIds:i,toggle:l}}function tm(e,t){return e.reduce(((e,n)=>(t(n.id,n.startExpanded)&&e.push(n.id),n.children?e.concat(tm(n.children,t)):e)),[])}function nm(t,n){return(0,e.useMemo)((()=>am(t,n)),[t,n])}function am(e,t){return e.reduce(((e,n)=>(e.push(n.id),n.children&&t.includes(n.id)?e.concat(am(n.children,t)):e)),[])}function rm({id:t,label:n,children:a=[],selectedId:r,expandedIds:s,level:i,rowHeight:o,nodeIndex:l,setSize:m,onSelect:c,onToggle:u}){const _=s.includes(t),p=0!==a.length,v=t===r,d=`${p?"expandable":""} ${_?"expanded":""} ${v?"selected":""} ${0===a.length?"empty":""}`,b=(0,e.useCallback)((e=>{e.stopPropagation()}),[]),h=(0,e.useCallback)((e=>{e.stopPropagation(),null==c||c(t)}),[t,c]),f=(0,e.useCallback)((e=>{e.stopPropagation(),null==u||u(t)}),[t,u]),g=(0,e.useCallback)((e=>{e.stopPropagation(),null==u||u(t),_&&im(a,r)&&(null==c||c(t))}),[t,r,_,a,c,u]);return e.createElement("li",{className:`tree-view-node ${d}`,id:`tree-view-node-${t}`,role:"treeitem","aria-selected":v?"true":void 0,"aria-expanded":_?"true":void 0,"aria-labelledby":`tree-view-node-label-${t}`,"aria-level":i,"aria-setsize":m,"aria-posinset":l+1,onMouseDown:h},e.createElement("span",{className:"tree-view-row",onDoubleClick:f,style:{height:`${o}px`}},p&&e.createElement("svg",{className:"tree-view-node-marker",viewBox:`0 0 ${_?320:256} 512`,onMouseDown:b,onClick:g},_?e.createElement("path",{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}):e.createElement("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"})),e.createElement("span",{className:"tree-view-node-label",id:`tree-view-node-label-${t}`},n)),_&&e.createElement("ul",{className:"tree-view-node-children",role:"group"},a.map(((t,n)=>{var{id:l}=t,m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["id"]);return e.createElement(rm,Object.assign({},m,{id:l,selectedId:r,expandedIds:s,level:i+1,rowHeight:o,nodeIndex:n,setSize:a.length,onSelect:c,onToggle:u,key:l}))}))))}function sm({roots:t,className:n="",storeId:a,onContextMenu:r,onDelete:i,onEnter:o,onInfo:l,onSelect:m}){const c=(0,e.useRef)(null),u=(0,e.useRef)(null),_=(0,e.useRef)(null),{storeSelectedNodeId:p,retrieveSelectedNodeId:v}=Zl(a),[d,b]=(0,e.useState)((()=>{var e;return v(null===(e=t[0])||void 0===e?void 0:e.id)})),{expandedIds:h,toggle:f}=em(t,a),g=nm(t,h),x=g.indexOf(d),[y,w]=(0,e.useState)(0),[A,q]=(0,e.useState)(24),[z,E]=(0,e.useState)(0),k=Math.floor(y/A)-1,T=g.length,S=om(t,d),I=Yl()&&!(0===x||x===T-1),[P,C]=(0,e.useState)((()=>S));(0,e.useLayoutEffect)((()=>{if(!im(t,d)){const e=t.find((e=>d.startsWith(`${e.id}/`)))||t[0];b(null==e?void 0:e.id)}}),[t,d]),(0,e.useLayoutEffect)((()=>{null==m||m(P)}),[P,m]),(0,e.useEffect)((()=>{p(d)}),[d,p]),(0,e.useEffect)((()=>{I||C(S)}),[S,I]);const M=(0,e.useCallback)((e=>{e.preventDefault(),null==r||r(S,e.pageX,e.pageY)}),[S,r]),R=(0,e.useCallback)((e=>{switch(e.key){case"Enter":e.stopPropagation(),e.repeat||null==o||o(S);break;case"Delete":e.stopPropagation(),e.repeat||null==i||i(S);break;case"Info":case"i":e.stopPropagation(),e.repeat||null==l||l(S);break;case"ArrowLeft":e.stopPropagation(),e.repeat||f(d,!1);break;case"ArrowRight":e.stopPropagation(),e.repeat||f(d,!0);break;default:{const t=function(e,t,n){switch(e){case"ArrowUp":return t[t.indexOf(n)-1]||n;case"ArrowDown":return t[t.indexOf(n)+1]||n;case"Home":return t[0]||n;case"End":return t[t.length-1]||n;default:return""}}(e.key,g,d);if(t&&(e.preventDefault(),t!==d)){e.stopPropagation();const n=u.current,a=Math.floor(z/A),r=g.indexOf(t);if(r>=a+k-1){const e=T*A,t=T-k-1,a=Math.min(T-1,r+1)-k,s=a===t?e:a*A;n.scrollTo({top:s})}else if(r<=a){const e=Math.max(0,r-1)*A;n.scrollTo({top:e})}b(t)}}}}),[g,d,S,A,k,T,z,i,o,l,f]),B=(0,e.useCallback)((({height:e})=>w(e)),[]),L=(0,e.useCallback)((({top:e})=>E(e)),[]);return s(_,(0,e.useCallback)((()=>{q(_.current.getBoundingClientRect().height)}),[])),e.createElement("div",{className:`tree-view ${n}`,tabIndex:0,onContextMenu:M,onKeyDown:R,ref:c},e.createElement($l,{scrollAmount:A,onResize:B,onScroll:L,scrollableRef:u},e.createElement("ul",{role:"tree"},t.map(((n,a)=>{var{id:r}=n,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(n,["id"]);return e.createElement(rm,Object.assign({},s,{id:r,selectedId:d,expandedIds:h,level:1,rowHeight:A,nodeIndex:a,setSize:t.length,onSelect:b,onToggle:f,key:r}))}))),e.createElement("div",{className:"tree-view-cursor",style:{transform:`translateY(${x*A}px)`},ref:_})))}function im(e,t){for(const n of e){if(n.id===t)return!0;if(n.children&&im(n.children,t))return!0}return!1}function om(e,t){return e.reduce(((e,n)=>{if(void 0===e)if(n.id===t)e=n.value;else if(n.children)return om(n.children,t);return e}),void 0)}function lm(){return e.createElement("div",{className:"panel"},e.createElement("div",{className:"page login"},e.createElement("p",null,"You need to be logged in to play music from Spotify*."),e.createElement("p",null,e.createElement(Bn,{className:"branded login",onClick:ki},"Log in to Spotify")),e.createElement("p",null,e.createElement("small",null,e.createElement("em",null,"*Spotify Premium required.")))))}function mm(){return e.createElement("div",{className:"panel"},e.createElement("div",{className:"page login"},e.createElement("p",null,"You can still play YouTube videos without being logged in.",e.createElement("br",null),"But you need to be logged in to search for music."),e.createElement("p",null,e.createElement(Bn,{className:"branded login",onClick:gr},"Log in to YouTube"))))}function cm({service:t}){switch(t.id){case"spotify":return e.createElement(lm,null);case"youtube":return e.createElement(mm,null);default:return e.createElement("div",{className:"panel"},e.createElement("div",{className:"page login"},e.createElement("p",null,"You need to be logged in to play music from ",t.title,"."),e.createElement("p",null,e.createElement(Bn,{className:"branded login",onClick:t.login},"Log in to ",t.title))))}}function um({onSubmit:t}){const n=(0,e.useRef)(null),a=(0,e.useCallback)((e=>{const a=n.current.value;e.preventDefault(),null==t||t(a)}),[t]);return e.createElement("form",{className:"search-bar",onSubmit:a},e.createElement("p",{className:"search-bar-input"},e.createElement(Vn,{type:"search",spellCheck:!1,autoComplete:"off",autoCapitalize:"off",ref:n}),e.createElement(Bn,{type:"submit"},"Search")))}function _m(t,n){const[a,r]=(0,e.useState)(n),s=(0,e.useMemo)(t,[t]);return(0,e.useEffect)((()=>{const e=s.subscribe(r);return()=>e.unsubscribe()}),[s]),a}function pm(){const t=(0,e.useRef)(null);null===t.current&&(t.current=new Z),(0,e.useEffect)((()=>()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.complete()}),[]);const n=(0,e.useCallback)((e=>{t.current.next(e)}),[]);return[t.current,n]}function vm({item:t}){switch(t.itemType){case Te.Media:return e.createElement(dm,{item:t});case Te.Artist:return e.createElement(hm,{item:t});case Te.Album:return e.createElement(bm,{item:t});case Te.Playlist:return e.createElement(fm,{item:t})}}function dm({item:t}){return e.createElement("article",{className:"media-info media-item-info"},e.createElement("div",{className:"media-info-main"},e.createElement(zm,{thumbnails:t.thumbnails}),e.createElement(gm,{title:t.title}),e.createElement(xm,{artist:t.artist}),e.createElement(Am,{album:t.album,year:t.year}),e.createElement(ym,{owner:t.owner,src:t.src})),e.createElement(wm,{url:t.externalUrl,src:t.src}))}function bm({item:t}){return e.createElement("article",{className:"media-info album-info"},e.createElement("div",{className:"media-info-main"},e.createElement(zm,{thumbnails:t.thumbnails}),e.createElement(gm,{title:t.title}),e.createElement(xm,{artist:t.artist}),e.createElement(qm,{year:t.year})),e.createElement(wm,{url:t.externalUrl,src:t.src}))}function hm({item:t}){return e.createElement("article",{className:"media-info artist-info"},e.createElement("div",{className:"media-info-main"},e.createElement(zm,{thumbnails:t.thumbnails}),e.createElement(gm,{title:t.title})),e.createElement(wm,{url:t.externalUrl,src:t.src}))}function fm({item:t}){return e.createElement("article",{className:"media-info playlist-info"},e.createElement("div",{className:"media-info-main"},e.createElement(zm,{thumbnails:t.thumbnails}),e.createElement(gm,{title:t.title}),e.createElement(ym,{owner:t.owner,src:t.src})),e.createElement(wm,{url:t.externalUrl,src:t.src}))}function gm({title:t}){return e.createElement("h3",{className:"title"},t||"(no title)")}function xm({artist:t}){return t?e.createElement("h4",{className:"artist"},"By: ",t):null}function ym({src:t,owner:n}){if(!n)return null;const[a]=t.split(":");let r="Owner";return"youtube"!==a?null:(r="Channel",e.createElement("p",{className:"owner"},r,":"," ",e.createElement("a",{href:n.url,target:`ampcast-${a}`},n.name)))}function wm({src:t,url:n}){if(!n)return null;const[a]=t.split(":");let r="";switch(a){case"apple":r="Apple Music";break;case"spotify":r="Spotify";break;case"youtube":r="YouTube";break;case"lastfm":r="last.fm";break;default:return null}return e.createElement("p",{className:"external-view"},"View on ",r,": ",e.createElement(Ln,{name:a})," ",e.createElement("a",{href:n,target:`ampcast-${a}`},n))}function Am({album:t,year:n}){return t&&n?e.createElement("h4",{className:"album"},"From: ",t," (",n,")"):t?e.createElement("h4",{className:"album"},"From: ",t):n?e.createElement("h4",{className:"album"},"Year: ",n):null}function qm({year:t}){return t?e.createElement("p",{className:"year"},"Year: ",t):null}function zm({thumbnails:t}){const n=ye(t);return e.createElement("div",{className:"thumbnail"},e.createElement("div",{className:"thumbnail-img",style:{backgroundImage:`url(${n.url})`}}))}function Em(t){On((n=>e.createElement(km,Object.assign({},n,{item:t,target:"popup"}))))}function km(t){var{item:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["item"]);return e.createElement(Nn,Object.assign({},a,{className:"media-info-dialog",title:"Media Info"}),e.createElement("form",{method:"dialog"},e.createElement(vm,{item:n}),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,null,"Close"))))}let Tm=null;const Sm=function(e){return"#globalDrag"===e.dataTransfer.getData("text")?Tm:null},Im=function(e,t){e.dataTransfer.setData("text","#globalDrag"),Tm=t},Pm=function(){Tm=null};function Cm({style:t,title:n}){return e.createElement("div",{className:"list-view-cell",style:t},n)}function Mm({col:t,onResize:n}){const[a,r]=(0,e.useState)(t.width),[s,i]=(0,e.useState)(-1),[o,l]=(0,e.useState)(0),m=-1!==s,c=(0,e.useCallback)((e=>{e.preventDefault(),0===e.button&&(i(e.screenX),l(a))}),[a]);(0,e.useEffect)((()=>n(t.index,a)),[t.index,a,n]);const u=(0,e.useCallback)((e=>{r(Math.max(20,o+(e.screenX-s)))}),[s,o]),_=(0,e.useCallback)((()=>{i(-1),l(0)}),[]);return(0,e.useEffect)((()=>{if(m)return document.documentElement.style.cursor="col-resize",document.body.classList.add("dragging"),document.addEventListener("mouseup",_),document.addEventListener("mousemove",u),()=>{document.documentElement.style.cursor="",document.body.classList.remove("dragging"),document.removeEventListener("mouseup",_),document.removeEventListener("mousemove",u)}}),[m,u,_]),e.createElement("span",{className:"column-resizer",onMouseDown:c,style:{left:t.left+a-4+"px"}})}function Rm({width:t,height:n,cols:a,sizeable:r,onColumnResize:s}){const i=(0,e.useCallback)(((e,t)=>{null==s||s(e,t)}),[s]);return e.createElement("header",{className:"list-view-head",style:{width:`${t}px`}},e.createElement("div",{className:"list-view-row",style:{width:`${t}px`,height:`${n}px`}},a.map((t=>e.createElement(Cm,Object.assign({},t,{key:t.title}))))," ",r&&a.map((t=>e.createElement(Mm,{col:t,onResize:i,key:t.title})))))}function Bm({rowIndex:t,col:{className:n="",render:a,style:r},item:s}){return e.createElement("div",{className:`list-view-cell ${n}`,style:r},a(s,t))}function Lm({item:t,className:n,rowIndex:a,height:r,selected:s,cols:i,setSize:o,dragIndex:l}){const m=`${n} ${s?"selected":""} ${l===o?a===o-1?"drag-over-last":"":l===a?"drag-over":""}`;return e.createElement("li",{role:"option",className:`list-view-row ${m}`,"aria-selected":s?"true":void 0,"aria-setsize":o,"aria-posinset":a+1,style:{height:`${r}px`,transform:`translateY(${r*a}px)`}},i.map((n=>e.createElement(Bm,{rowIndex:a,col:n,item:t,key:n.title}))))}function Dm({width:t,height:n,rowHeight:a,cols:r,items:s,itemKey:i,itemClassName:o,scrollTop:l,overScan:m=20,selection:c,draggable:u,dragIndex:_}){const p=(0,e.useRef)(null),v=s.length,d=Math.floor(l/a),b=Math.floor(n/a),h=Math.max(0,d-m),f=Math.min(v,b+2*m),g=(0,e.useMemo)((()=>s.slice(h,h+f)),[s,h,f]);return e.createElement("ol",{role:"listbox",className:"list-view-body",draggable:u,style:{width:t?`${t}px`:void 0},ref:p},g.map(((t,n)=>e.createElement(Lm,{className:o(t),rowIndex:h+n,height:a,selected:c.includes(t),cols:r,item:t,setSize:v,dragIndex:_,key:t[i]}))))}const Nm=()=>"";function Fm({items:t=[],itemKey:n,itemClassName:a=Nm,layout:r,className:i="",draggable:l,droppable:m,droppableTypes:c=[],multiSelect:u,reorderable:_,onClick:p,onDoubleClick:v,onContextMenu:d,onDrop:b,onDelete:h,onEnter:f,onInfo:g,onRowIndexChange:x,onScrollIndexChange:y,onPageSizeChange:w,onSelect:A,onMove:q,listViewRef:z}){const E=(0,e.useRef)(null),k=(0,e.useRef)(null),T=(0,e.useRef)(null),S=(0,e.useRef)(null),I="details"===r.view&&r.showTitles,P="details"===r.view&&r.sizeable,[C,M]=(0,e.useState)(-1),[R,B]=(0,e.useState)(0),[L,D]=(0,e.useState)(0),[N,F]=(0,e.useState)(0),[O,V]=(0,e.useState)(0),[U,j]=function(t,n=!1){const[a,r]=(0,e.useState)([]);(0,e.useEffect)((()=>{r(t.reduce(((e,t,a)=>{const r=e[a-1],s=r?r.left+r.width:0,{className:i="",align:o="left",sortOrder:l="none",sortPriority:m=0,width:c=200}=t,u=n?{left:`${s}px`,width:`${c}px`,textAlign:o}:{textAlign:o};return e.push(Object.assign(Object.assign({},t),{className:i,align:o,index:a,left:s,width:c,style:u,sortOrder:l,sortPriority:m})),e}),[]))}),[t,n]);const s=(0,e.useCallback)(((e,t)=>{n&&a[e].width!==t&&r(a.reduce(((n,a,r)=>{if(r>=e){const s=n[r-1],i=s?s.left+s.width:0,o=r===e?t:a.width,l={left:`${i}px`,width:`${o}px`,textAlign:a.align};n.push(Object.assign(Object.assign({},a),{left:i,width:o,style:l}))}else n.push(a);return n}),[]))}),[a,n]);return[a,s]}(r.cols,P),Q=(0,e.useMemo)((()=>U.reduce(((e,t)=>e+t.width),0)),[U]),X=O?Math.floor(L/O)-(I?1:0):0,W=t.length,{selectedItems:G,selectAll:H,selectAt:$,selectRange:Y,toggleSelectionAt:J}=function(t,n){const[a,r]=(0,e.useState)([]);(0,e.useLayoutEffect)((()=>{const e=t.filter((e=>a.some((t=>t[n]===e[n]))));var s,i;i=e,(s=a).length===i.length&&s.every(((e,t)=>i[t]===e))||r(e)}),[t,a,n]);const s=(0,e.useCallback)((()=>{r(t.slice())}),[t]),i=(0,e.useCallback)((e=>{const n=t[e];r(n?[n]:[])}),[t]),o=(0,e.useCallback)(((e,n)=>{const a=Math.min(e,n),s=Math.max(e,n),i=t.slice(a,s+1);r(i)}),[t]),l=(0,e.useCallback)(((e,n)=>{const s=t[e],i=a.includes(s);i!==n&&r(i?a.filter((e=>e!==s)):a.concat(s))}),[t,a]);return{selectedItems:a,selectAll:s,selectAt:i,selectRange:o,toggleSelectionAt:l}}(t,n),K=o(),[Z,ee]=(0,e.useState)(-1),[te,ne]=(0,e.useState)(-1),[ae,re]=(0,e.useState)(-1),se=0===W,ie=function(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current}(se),oe=-1!==ae,le=O?Math.floor(R/O):0,me=Yl()&&!(0===C||C===W-1),[ce,ue]=(0,e.useState)((()=>G)),[_e,pe,ve,de]=l?ce:[];(0,e.useEffect)((()=>{z&&(z.current={selectAll:H})}),[z,H]),(0,e.useLayoutEffect)((()=>null==x?void 0:x(C)),[C,x]),(0,e.useLayoutEffect)((()=>null==y?void 0:y(le)),[le,y]),(0,e.useLayoutEffect)((()=>null==w?void 0:w(X)),[X,w]),(0,e.useLayoutEffect)((()=>null==A?void 0:A(ce)),[ce,A]),(0,e.useEffect)((()=>M(Math.min(W-1,C))),[W,C]),(0,e.useEffect)((()=>{me||ue(G)}),[G,me]),(0,e.useEffect)((()=>{se?M(-1):ie&&(M(0),$(0))}),[se,ie,$]);const be=(0,e.useCallback)((e=>{switch(e.key){case"Enter":e.stopPropagation(),e.repeat||null==f||f(G,e.ctrlKey,e.shiftKey);break;case"Delete":e.stopPropagation(),null==h||h(G);break;case"i":if(e.stopPropagation(),e.ctrlKey&&!e.repeat){null==g||g(G);break}break;case"Info":e.preventDefault(),e.stopPropagation(),e.repeat||null==g||g(G);break;case"a":e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),e.repeat||H());break;case"Shift":e.repeat||ee(C);break;case" ":e.preventDefault(),e.repeat||(e.ctrlKey?(e.stopPropagation(),J(C)):G.includes(t[C])||(e.stopPropagation(),J(C,!0)));break;default:{const n=t.length,a=function(e,t,n,a){switch(e){case"ArrowUp":t-=1;break;case"ArrowDown":t+=1;break;case"PageUp":t-=n-1;break;case"PageDown":t+=n-1;break;case"Home":t=0;break;case"End":t=a-1;break;default:return-1}return Math.min(Math.max(t,0),a-1)}(e.key,C,X,n);if(-1!==a){if(e.preventDefault(),a!==C){e.stopPropagation();const t=k.current,r=Math.floor(R/O);if(a>=r+X-1){const e=(n+(I?1:0))*O,r=n-X-1,s=Math.min(n-1,a+1)-X,i=s===r?e:s*O;t.scrollTo({top:i})}else if(a<=r){const e=Math.max(0,a-1)*O;t.scrollTo({top:e})}M(a)}u&&e.shiftKey&&-1!==Z?Y(Z,a):e.ctrlKey||$(a)}}}}),[C,t,X,O,I,f,h,g,H,$,Y,J,G,u,Z,R]),he=(0,e.useCallback)((e=>{const t=Om(e);-1!==t&&(M(t),u&&e.ctrlKey?J(t):u&&e.shiftKey?-1===Z?Y(t,C):Y(Z,t):function(e){const t=Vm(e);return(null==t?void 0:t.classList.contains("selected"))||!1}(e)||$(t))}),[$,J,Y,C,Z,u]),fe=(0,e.useCallback)((e=>{if(0===e.button){const t=Om(e);-1!==t&&(!u||e.ctrlKey||e.shiftKey||$(t))}}),[$,u]),ge=(0,e.useCallback)((e=>{"Shift"===e.key&&ee(-1)}),[]),xe=(0,e.useCallback)((({width:e,height:t})=>{F(e),D(t)}),[]),ye=(0,e.useCallback)((({top:e})=>{B(e)}),[]);s(T,(0,e.useCallback)((()=>{V(T.current.getBoundingClientRect().height)}),[])),(0,e.useLayoutEffect)((()=>{E.current.classList.toggle("thin",20*K>N)}),[K,N]);const we=(0,e.useCallback)((e=>{const n=Om(e);-1!==n&&(e.preventDefault(),null==p||p(t[n],n))}),[t,p]),Ae=(0,e.useCallback)((e=>{e.preventDefault(),-1!==Om(e)&&(null==d||d(G,e.pageX,e.pageY))}),[G,d]),qe=(0,e.useCallback)((e=>{const n=Om(e);-1!==n&&(e.preventDefault(),null==v||v(t[n],n))}),[t,v]);(0,e.useEffect)((()=>{const e=S.current;for(;e.hasChildNodes();)e.removeChild(e.lastChild);const t=Array.from(E.current.querySelectorAll(".list-view-body:not(list-view-drag-image) li.selected"));t.length=Math.min(t.length,4);for(let n=0;n<t.length;n++){const a=t[n].cloneNode(!0);a.style.transform=`translateY(${O*n}px)`,e.appendChild(a)}}),[_e,pe,ve,de,O]);const ze=(0,e.useCallback)((e=>{const t=e.dataTransfer;l||_?(Im(e,G),t.setDragImage(S.current,-10,-10),t.effectAllowed=l&&_?"copyMove":l?"copy":"move",re(C)):t.effectAllowed="none"}),[l,_,G,C]),Ee=(0,e.useCallback)((e=>{const t=e.dataTransfer;if(m||_){const n=t.types.includes("text/plain");let a=Om(e);-1===a&&(a=W),oe?_&&n?(t.dropEffect="move",ne(a)):(t.dropEffect="none",ne(-1)):m&&(n||Um(t.items,c))?(t.dropEffect="copy",ne(a)):(t.dropEffect="none",ne(-1))}else oe?t.dropEffect="copy":(t.dropEffect="none",ne(-1));e.preventDefault(),e.stopPropagation()}),[W,oe,m,c,_]),ke=(0,e.useCallback)((e=>{if(m||_){const t=e.dataTransfer;let n=Om(e);if(-1===n&&(n=W),"copy"===t.effectAllowed){const t=Sm(e);t&&(null==b||b(t,n))}else if("move"===t.effectAllowed){const e=ae<n?-1:0;null==q||q(G,n),M(n+e)}else m&&Um(t.items,c)&&(null==b||b(t.files,n))}ne(-1),e.preventDefault(),e.stopPropagation()}),[W,G,m,c,_,ae,b,q]),Te=(0,e.useCallback)((()=>{Pm(),re(-1)}),[]),Se=(0,e.useCallback)((()=>{ne(-1)}),[]);return e.createElement("div",{className:`list-view list-view-${r.view} ${i}`,tabIndex:0,onClick:we,onContextMenu:Ae,onDoubleClick:qe,onDragStart:ze,onDragEnter:Ee,onDragOver:Ee,onDragLeave:Se,onDragEnd:Te,onDrop:ke,onKeyDown:be,onKeyUp:ge,onMouseDown:he,onMouseUp:fe,ref:E},e.createElement($l,{scrollWidth:P?Q:void 0,scrollHeight:(W+(m?1:0)+(I?1:0))*O,scrollAmount:O,droppable:m||_&&oe,onResize:xe,onScroll:ye,scrollableRef:k},I&&e.createElement(Ql,null,e.createElement(Rm,{width:Q,height:O,sizeable:P,cols:U,onColumnResize:j})),e.createElement(Dm,{width:P?Q:void 0,height:L,rowHeight:O,cols:U,items:t,itemKey:n,itemClassName:a,scrollTop:R,selection:G,dragIndex:te,draggable:l||_}),e.createElement("div",{className:"list-view-cursor",style:{width:P?`${Q}px`:void 0,transform:`translateY(${C*O}px)`},ref:T}),e.createElement("ul",{className:"list-view-drag-image list-view-body",ref:S})))}function Om(e){let t=0;const n=Vm(e);return n&&(t=Number(n.getAttribute("aria-posinset"))||0),t-1}function Vm(e){let t=e.target;for(;t&&!(null==t?void 0:t.hasAttribute("aria-posinset"));)t=t.parentElement;return t}function Um(e,t){return-1!==Array.from(e).findIndex((e=>t.some((t=>((e,t)=>{const[n,a]=e.split("/"),[r,s]=t.split("/");return n===r&&(a===s||"*"===a)})(t,e.type)))))}new Image(0,0).src=ne;var jm,Qm=1,Xm={};function Wm(e){return e in Xm&&(delete Xm[e],!0)}var Gm=function(e){var t=Qm++;return Xm[t]=!0,jm||(jm=Promise.resolve()),jm.then((function(){return Wm(t)&&e()})),t},Hm=function(e){Wm(e)},$m={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$m.delegate;return((null==n?void 0:n.setImmediate)||Gm).apply(void 0,b([],d(e)))},clearImmediate:function(e){var t=$m.delegate;return((null==t?void 0:t.clearImmediate)||Hm)(e)},delegate:void 0},Ym=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.scheduler=t,a.work=n,a}return _(t,e),t.prototype.requestAsyncId=function(t,n,a){return void 0===a&&(a=0),null!==a&&a>0?e.prototype.requestAsyncId.call(this,t,n,a):(t.actions.push(this),t._scheduled||(t._scheduled=$m.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,a){if(void 0===a&&(a=0),null!=a&&a>0||null==a&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,a);t.actions.some((function(e){return e.id===n}))||($m.clearImmediate(n),t._scheduled=void 0)},t}(aa),Jm=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,a=this.actions;e=e||a.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=a[0])&&e.id===t&&a.shift());if(this._active=!1,n){for(;(e=a[0])&&e.id===t&&a.shift();)e.unsubscribe();throw n}},t}(sa))(Ym);function Km({children:t}){return e.createElement("footer",{className:"status-bar"},t)}function Zm({items:t,size:n,maxSize:a,error:r,loading:s,loadingText:i="Loading",selectedCount:o,itemName:l="item",itemNamePlural:m=l+"s"}){let c="";if(s)c=e.createElement("span",{className:"message"},i,"...");else if(t.length>0){const r=t.reduce((e=>e+1),0),s=e.createElement("span",{className:"selected"},"(",o," selected)"),i=r===n?`${n.toLocaleString()} ${1===n?l:m}`:`Loaded ${r}/${void 0===n?a||`${t.length}+`:a?Math.min(n,a):n} ${m}`;c=e.createElement("span",{className:"message"},i," ",s)}else if(r){const t=null==r?void 0:r.message;c=e.createElement("span",{className:"error"},t?`Error: ${t}`:"Error")}else c=e.createElement("span",{className:"message"},"0 ",m);return e.createElement(Km,null,c)}function ec({time:t,className:n}){return e.createElement("time",{className:n},function(e){return new Date(Math.round(1e3*(e||0))).toISOString().slice(11,19).replace(/^[0:]+(.{4,})$/,"$1")}(t))}const tc={view:"details",fields:["Title","Genre","Owner"]};const nc=t=>e.createElement(ec,{time:t.duration||0}),ac={Index:{title:"#",render:(e,t)=>t+1,className:"index",align:"right",width:60},Artist:{title:"Artist",render:e=>e.artist,className:"artist"},Title:{title:"Title",render:e=>e.title,className:"title"},Album:{title:"Album",render:e=>e.album,className:"album"},AlbumAndYear:{title:"Album",render:e=>e.album?e.year?`${e.album} (${e.year})`:e.album:e.year||"",className:"album"},Track:{title:"Track",render:e=>e.track||"-",align:"right",width:80,className:"track"},Duration:{title:"Time",render:nc,align:"right",width:120,className:"duration"},PlayCount:{title:"Play Count",render:e=>e.playCount||"",align:"right",width:120,className:"play-count"},TrackCount:{title:"Tracks",render:e=>e.trackCount||"",align:"right",width:120,className:"track-count"},Year:{title:"Year",render:e=>e.year||"",align:"right",width:120,className:"year"},Genre:{title:"Genre",render:e=>{var t;return null===(t=e.genre)||void 0===t?void 0:t.split(";").join(", ")},className:"genre"},Owner:{title:"Owner",render:e=>{var t;return null===(t=e.owner)||void 0===t?void 0:t.name},className:"owner"},LastPlayed:{title:"Last Played",render:e=>{if(!e.playedOn)return"";const t=Date.now()-e.playedOn;if(t<12e4)return"just now";const n=36e5;if(t<54e5)return`${Math.round(t/6e4)} minutes ago`;const a=24*n;if(t<1.5*a)return`${Math.round(t/n)} hours ago`;if(t<12*a)return`${Math.round(t/a)} days ago`;const r=7*a;if(t<10*r)return`${Math.round(t/r)} weeks ago`;const s=365*a;return t<s?`${Math.round(t/2592e6)} months ago`:t<2*s?"1 year ago":`${Math.floor(t/s)} years ago`},className:"played-on"},Thumbnail:{title:"Thumbnail",render:t=>{const n=ye(t.thumbnails);return e.createElement("div",{className:"thumbnail-img",style:{backgroundImage:`url(${n.url})`}})},className:"thumbnail"}};function rc(t){var{className:n="",pager:a=null,keepAlive:r,statusBar:s=!0,loadingText:i,onSelect:o,unplayable:l}=t,m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["className","pager","keepAlive","statusBar","loadingText","onSelect","unplayable"]);const c=function(t=tc){return(0,e.useMemo)((()=>function(e){const{view:t,fields:n}=e,a=n.map((e=>ac[e]));return"details"===t?{view:t,cols:a,showTitles:!0,sizeable:!0}:{view:t,cols:a}}(t)),[t])}(m.layout),[u,_]=(0,e.useState)(0),[p,v]=(0,e.useState)(0),[{items:d,loaded:b,error:h,size:f,maxSize:g},x]=function(t,n=!1){const[a,r]=pm(),[s,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(void 0),[m,c]=(0,e.useState)(void 0),[u,_]=(0,e.useState)(),[p,v]=(0,e.useState)(!1),d=(0,e.useMemo)((()=>({items:s,size:o,maxSize:m,error:u,loaded:p})),[s,o,m,u,p]),b=(0,e.useCallback)(((e,t)=>{r([e,t])}),[r]);return(0,e.useEffect)((()=>{if(i([]),l(void 0),c(void 0),_(void 0),v(!1),!t)return;const e=t.observeItems(),r=t.observeSize(),s=t.observeMaxSize(),o=t.observeError(),m=pi(e,o).pipe(Lt(1),rt((()=>!0))),u=bi(Ze([]),et.pipe(fi(0,Jm))),p=new A;return p.add(bi(u,e).subscribe(i)),p.add(r.subscribe(l)),p.add(s.subscribe(c)),p.add(o.subscribe(_)),p.add(m.subscribe(v)),p.add(a.subscribe((([e,n])=>t.fetchAt(e,n)))),n||p.add((()=>t.disconnect())),()=>p.unsubscribe()}),[t,a,n]),[d,b]}(a,r),[y,w]=(0,e.useState)(0);(0,e.useEffect)((()=>{u>=0&&p>0&&x(u,p)}),[x,u,p,a]);const q=(0,e.useCallback)((e=>{w(e.length),null==o||o(e)}),[o]);return e.createElement("div",{className:`panel ${n}`},e.createElement(Fm,Object.assign({},m,{className:"media-list "+(l?"":"playable"),layout:c,items:d,itemKey:"src",onPageSizeChange:v,onScrollIndexChange:_,onSelect:q})),s?e.createElement(Zm,{items:d,error:h,size:f,maxSize:g,loading:!!a&&!b,loadingText:i,selectedCount:y}):null)}function sc({className:t="",children:n,onClose:a,x:r,y:s}){const i=(0,e.useRef)(null),[o,l]=(0,e.useState)({visibility:"hidden"});(0,e.useLayoutEffect)((()=>{const e={},t=i.current;r+t.offsetWidth>document.body.clientWidth?e.left=r-t.offsetWidth+"px":e.left=`${r}px`,s+t.offsetHeight>document.body.clientHeight?e.top=s-t.offsetHeight+"px":e.top=`${s}px`,l(e)}),[r,s]),(0,e.useEffect)((()=>{const e=pi(Kn(document,"click"),Kn(document,"keydown",{capture:!0}),Kn(document,"contextmenu",{capture:!0}),Kn(window,"blur")).subscribe((()=>a("")));return()=>e.unsubscribe()}),[a]);const m=(0,e.useCallback)((e=>{let t=e.target;for(;t&&!t.value;)t=t.parentElement;(null==t?void 0:t.value)&&(e.stopPropagation(),a(t.value))}),[a]);return bn.createPortal(e.createElement("menu",{className:`popup-menu ${t}`,onClick:m,style:o,ref:i},n),document.getElementById("popup"))}function ic({label:t,acceleratorKey:n="",action:a}){return e.createElement("li",{className:"popup-menu-item"},e.createElement(Bn,{value:a},e.createElement("span",{className:"popup-menu-item-label"},t),e.createElement("span",{className:"popup-menu-item-accelerator-key"},n)))}function oc(n,a,r){return s=this,i=void 0,l=function*(){return new Promise(((s,i)=>{const o=document.createElement("div"),l=(0,t.s)(o);try{const t=e=>{l.unmount(),o.remove(),s(e)};document.body.append(o),l.render(e.createElement(n,{x:a,y:r,onClose:t}))}catch(e){l.unmount(),o.remove(),i(e)}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function a(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}r((l=l.apply(s,i||[])).next())}));var s,i,o,l}function lc(t,n,a,r){return s=this,i=void 0,l=function*(){return oc((n=>e.createElement(mc,Object.assign({},n,{items:t,unplayable:r}))),n,a)},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function a(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}r((l=l.apply(s,i||[])).next())}));var s,i,o,l}function mc(t){var{items:n,unplayable:a}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["items","unplayable"]);const s=1===n.length,i=!a&&n.every((e=>e.itemType===Te.Media||e.itemType===Te.Album));return e.createElement(sc,Object.assign({},r,{className:"actions"}),e.createElement("ul",{className:"actions-menu-items"},i?e.createElement(e.Fragment,null,e.createElement(ic,{label:"Queue",action:"queue",acceleratorKey:"Enter",key:"queue"}),e.createElement(ic,{label:"Play next",action:"play-next",acceleratorKey:"Shift+Enter",key:"play-next"}),e.createElement(ic,{label:"Play now",action:"play",acceleratorKey:"Ctrl+Enter",key:"play"})):null,s?e.createElement(ic,{label:"Info...",action:"info",acceleratorKey:"Ctrl+I",key:"info"}):null))}var cc=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};const uc={view:"card compact",fields:["Thumbnail","Title","Artist","Year"]};function _c(t){var{className:n="",layout:a=uc,unplayable:r}=t,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["className","layout","unplayable"]);const i=_m(Oa.observeCurrentIndex,-1),o=(0,e.useCallback)((([e],t,n)=>cc(this,void 0,void 0,(function*(){switch(yield lc([e],t,n,r)){case"play":wo.autoplay=!0,yield Oa.insertAt(e,i+1),wo.next();break;case"play-next":yield Oa.insertAt(e,i+1);break;case"queue":Oa.add(e);break;case"info":Em(e)}}))),[i,r]),l=(0,e.useCallback)((e=>{r||Oa.add(e)}),[r]),m=(0,e.useCallback)((([e],t,n)=>cc(this,void 0,void 0,(function*(){r||(t||n?t&&!n?(wo.autoplay=!0,yield Oa.insertAt(e,i+1),wo.next()):n&&!t&&(yield Oa.insertAt(e,i+1)):Oa.add(e))}))),[i,r]),c=(0,e.useCallback)((([e])=>{e&&Em(e)}),[]);return e.createElement(rc,Object.assign({},s,{className:`albums ${n}`,layout:a,draggable:!r,unplayable:r,onContextMenu:o,onDoubleClick:l,onEnter:m,onInfo:c}))}function pc(){return _m(Pa,null)}var vc=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))};const dc={view:"details",fields:["Artist","Title","Album","Track","Duration","Genre","PlayCount"]};function bc(t){var{className:n="",layout:a=dc,unplayable:r}=t,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["className","layout","unplayable"]);const i=pc(),o=_m(Oa.observeCurrentIndex,-1),l=(0,e.useCallback)((e=>{const[t]=e.src.split(":");return`source-${t} ${e.src===(null==i?void 0:i.src)?"playing":""} ${e.unplayable?"unplayable":""}`}),[i]),m=(0,e.useCallback)(((e,t,n)=>vc(this,void 0,void 0,(function*(){switch(yield lc(e,t,n,r)){case"play":wo.autoplay=!0,yield Oa.insertAt(e,o+1),wo.next();break;case"play-next":yield Oa.insertAt(e,o+1);break;case"queue":Oa.add(e);break;case"info":Em(e[0])}}))),[o,r]),c=(0,e.useCallback)((e=>{r||Oa.add(e)}),[r]),u=(0,e.useCallback)(((e,t,n)=>vc(this,void 0,void 0,(function*(){r||(t||n?t&&!n?(wo.autoplay=!0,yield Oa.insertAt(e,o+1),wo.next()):n&&!t&&(yield Oa.insertAt(e,o+1)):Oa.add(e))}))),[o,r]),_=(0,e.useCallback)((([e])=>{e&&Em(e)}),[]);return e.createElement(rc,Object.assign({},s,{className:`media-items ${n}`,itemClassName:l,layout:a,multiSelect:!0,draggable:!r,unplayable:r,onContextMenu:m,onDoubleClick:c,onEnter:u,onInfo:_}))}const hc={view:"details",fields:["Index","Title","Artist","Duration"]};function fc(t){var{source:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["source"]);const[r,s]=(0,e.useState)(null),i=(0,e.useCallback)((([e])=>{s(e||null)}),[]);return e.createElement("div",{className:"panel album-browser"},e.createElement(c,{id:"album-browser-layout",arrange:"rows",primaryIndex:1},e.createElement(_c,Object.assign({},a,{unplayable:n.unplayable,onSelect:i})),e.createElement(bc,{className:"album-items",pager:null==r?void 0:r.pager,keepAlive:!0,layout:n.secondaryLayout||hc,unplayable:n.unplayable})))}const gc={view:"card minimal",fields:["Thumbnail","Title"]};function xc(t){var{className:n="",layout:a=gc}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["className","layout"]);const s=(0,e.useCallback)((([e],t,n)=>{return a=this,r=void 0,i=function*(){"info"===(yield lc([e],t,n))&&Em(e)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function o(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(n,o)}l((i=i.apply(a,r||[])).next())}));var a,r,s,i}),[]),i=(0,e.useCallback)((([e])=>{e&&Em(e)}),[]);return e.createElement(rc,Object.assign({},r,{className:`artists ${n}`,layout:a,onContextMenu:s,onInfo:i}))}const yc={view:"card compact",fields:["Thumbnail","Title","Year"]},wc={view:"details",fields:["Index","Title","Artist","Duration"]};function Ac(t){var{source:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["source"]);const[r,s]=(0,e.useState)(null),[i,o]=(0,e.useState)(null),l=(0,e.useCallback)((([e])=>{s(e||null)}),[]),m=(0,e.useCallback)((([e])=>{o(e||null)}),[]);return e.createElement("div",{className:"panel artist-browser"},e.createElement(c,{id:"artist-browser-layout",arrange:"columns",primaryIndex:0},e.createElement(xc,Object.assign({},a,{unplayable:n.unplayable,onSelect:l})),e.createElement(c,{id:"artist-album-browser-layout",arrange:"rows",primaryIndex:1},e.createElement(_c,{className:"artist-albums",pager:null==r?void 0:r.pager,keepAlive:!0,layout:n.secondaryLayout||yc,unplayable:n.unplayable,onSelect:m}),e.createElement(bc,{className:"album-items",pager:null==i?void 0:i.pager,keepAlive:!0,layout:n.tertiaryLayout||wc,unplayable:n.unplayable}))))}function qc(t){var{source:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["source"]);return e.createElement("div",{className:"panel media-item-browser"},"return ",e.createElement(bc,Object.assign({},a,{unplayable:n.unplayable})),";")}function zc({sources:t,onSourceChange:n}){const a=(0,e.useId)(),r=(0,e.useCallback)((e=>{const a=Number(e.target.value),r=t[a];null==n||n(r)}),[t,n]);return e.createElement("form",{className:"media-source-selector"},e.createElement("ul",{className:"media-sources"},t.map(((t,n)=>e.createElement("li",{className:"media-source",key:t.id},e.createElement(Vn,{id:`${a}-${t.id}`,type:"radio",name:"search-type",value:n,defaultChecked:0===n,onChange:r}),e.createElement("label",{htmlFor:`${a}-${t.id}`},t.title))))))}const Ec={view:"card compact",fields:["Thumbnail","Title","TrackCount","Owner"]};function kc(t){var{className:n="",layout:a=Ec,unplayable:r}=t,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["className","layout","unplayable"]);const i=(0,e.useCallback)((([e],t,n)=>{return a=this,s=void 0,o=function*(){"info"===(yield lc([e],t,n,r))&&Em(e)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(n,r)}l((o=o.apply(a,s||[])).next())}));var a,s,i,o}),[r]),o=(0,e.useCallback)((([e])=>{e&&Em(e)}),[]);return e.createElement(rc,Object.assign({},s,{className:`playlists ${n}`,layout:a,unplayable:r,onContextMenu:i,onInfo:o}))}const Tc={view:"details",fields:["Index","Artist","Title","Album","Duration","Genre","PlayCount"]};function Sc(t){var{source:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["source"]);const[r,s]=(0,e.useState)(null),i=(0,e.useCallback)((([e])=>{s(e||null)}),[]);return e.createElement("div",{className:"panel playlist-browser"},e.createElement(c,{id:"playlist-browser-layout",arrange:"rows",primaryIndex:1},e.createElement(kc,Object.assign({},a,{unplayable:n.unplayable,onSelect:i})),e.createElement(bc,{className:"playlist-items",pager:null==r?void 0:r.pager,keepAlive:!0,layout:n.secondaryLayout||Tc,unplayable:n.unplayable})))}function Ic({service:t,sources:n}){const a=_m(t.observeIsLoggedIn,!1),r=String(n.map((e=>e.id)));return e.createElement("div",{className:`media-browser ${t.id}-browser`,key:r},a?0===t.sources.length?null:e.createElement(Pc,{service:t,sources:n}):e.createElement(cm,{service:t}))}function Pc({sources:t}){const[n,a]=(0,e.useState)((()=>t[0])),[r,s]=(0,e.useState)(""),i=function(t,n=""){const[a,r]=pm(),[s,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(t){const e=a.pipe(rt((e=>t.search(e)))).subscribe(i);return()=>e.unsubscribe()}i(null)}),[t,a]),(0,e.useEffect)((()=>r(n)),[n,t,r]),s}(n,r),o=!!n.searchable;return e.createElement(e.Fragment,null,o&&e.createElement(um,{onSubmit:s}),t.length>1?e.createElement(zc,{sources:t,onSourceChange:a}):null,e.createElement(Cc,{source:n,pager:i,layout:n.layout,loadingText:r?"Searching":void 0}))}function Cc(t){switch(t.source.itemType){case Te.Artist:return e.createElement(Ac,Object.assign({},t));case Te.Album:return e.createElement(fc,Object.assign({},t));case Te.Playlist:return e.createElement(Sc,Object.assign({},t));default:return e.createElement(qc,Object.assign({},t))}}function Mc({icon:t,text:n,showConnectivity:a}){return e.createElement("span",{className:"media-source-label"},e.createElement(Ln,{name:t,className:a?"show-connectivity":""}),e.createElement("span",{className:"text"},n))}function Rc({onSelect:t}){const n=function(){const t=_m(Nl,(0,e.useMemo)(Fl,[]));return(0,e.useMemo)((()=>Ml.filter((e=>t.includes(e.id))).map((n=>({id:n.id,label:e.createElement(Mc,{icon:n.icon,text:n.title,showConnectivity:!0}),value:e.createElement(Ic,{sources:n.searches,service:n}),startExpanded:!0,children:n.sources.filter((e=>t.includes(e.id))).map((t=>({id:t.id,label:e.createElement(Mc,{icon:t.icon,text:t.title}),value:e.createElement(Ic,{sources:[t],service:n})})))})))),[t])}();return e.createElement("div",{className:"panel media-sources"},e.createElement(sm,{roots:n,onSelect:t,storeId:Bl.id}))}function Bc({label:t,items:n,className:a=""}){const r=(0,e.useId)(),[s,i]=(0,e.useState)(0),o=n.length,l=(0,e.useCallback)((e=>{switch(e.key){case"left":e.preventDefault(),s>0&&(i(s-1),e.stopPropagation());break;case"right":e.preventDefault(),s<o-1&&(i(s+1),e.stopPropagation())}}),[s,o]);return e.createElement("div",{className:`tab-list ${a}`},e.createElement("ul",{className:"tab-list-tabs",role:"tablist","aria-label":t,onKeyDown:l},n.map(((t,n)=>e.createElement("li",{role:"presentation",key:n},e.createElement(Lc,{id:r,item:t,index:n,selected:n===s,onSelect:i}))))),e.createElement("div",{className:"tab-list-panels"},n.map(((t,n)=>e.createElement(Dc,{id:r,item:t,index:n,hidden:n!==s,key:n})))))}function Lc({id:t,item:n,index:a,selected:r,onSelect:s}){const i=(0,e.useCallback)((()=>s(a)),[a,s]);return e.createElement(Bn,{className:"tab",id:`${t}-tab-${a}`,tabIndex:r?0:-1,role:"tab","aria-selected":r,"aria-controls":`${t}-panel-${a}`,onFocus:i},n.tab)}function Dc({id:t,item:n,index:a,hidden:r}){return e.createElement("div",{className:"tab-panel",id:`${t}-panel-${a}`,tabIndex:0,hidden:r,role:"tabpanel","aria-labelledby":`${t}-tab-${a}`},n.panel)}console.log("component::MediaSources");function Nc(t){var{colorName:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["colorName"]);const r=(0,e.useCallback)((e=>{Ys[n]=e.target.value}),[n]);return e.createElement(Vn,Object.assign({},a,{type:"color",onChange:r}))}const Fc=[{tab:"Theme",panel:e.createElement((function(){const t=(0,e.useMemo)((()=>Ys.fontSize),[]),n=_m((()=>Ys.observe()),Gs);(0,e.useLayoutEffect)((()=>(document.getElementById("system").style.setProperty("--font-size",String(Ys.fontSize)),()=>Ys.restore())),[]);const a=(0,e.useCallback)((()=>Ys.save()),[]),r=(0,e.useCallback)((e=>{Ys.load(e.target.value)}),[]),s=(0,e.useCallback)((e=>{Ys.spacing=e.target.valueAsNumber}),[]),i=(0,e.useCallback)((e=>{Ys.fontSize=e.target.valueAsNumber}),[]),o=(0,e.useCallback)((e=>{Ys.roundness=e.target.valueAsNumber}),[]),l=(0,e.useCallback)((e=>{Ys.flat=e.target.checked}),[]);return e.createElement("form",{className:"theme-settings",method:"dialog",onSubmit:a},e.createElement("fieldset",null,e.createElement("legend",null,e.createElement("label",{htmlFor:"theme-name"},"Name:"),e.createElement("select",{id:"theme-name",onChange:r,value:Ys.name},Hs.map((({name:t})=>e.createElement("option",{value:t,key:t},t||"(none)"))))),e.createElement("div",{className:"table-layout"},e.createElement("p",null,e.createElement("label",{htmlFor:"theme-fontFamily"},"Font:"),e.createElement("select",{id:"theme-fontFamily"},e.createElement("option",null,"Arial, sans-serif"))),e.createElement("p",null,e.createElement("label",null,"Frame:"),e.createElement(Nc,{id:"frameColor",colorName:"frameColor",value:n.frameColor,title:"Frame background"}),e.createElement(Nc,{colorName:"frameTextColor",value:n.frameTextColor,title:"Frame text"})),e.createElement("p",null,e.createElement("label",null,"Content:"),e.createElement(Nc,{colorName:"backgroundColor",value:n.backgroundColor,title:"Content background"}),e.createElement(Nc,{colorName:"textColor",value:n.textColor,title:"Content text"})),e.createElement("p",null,e.createElement("label",{htmlFor:"theme-spacing"},"Spacing:"),e.createElement(Vn,{type:"range",id:"theme-spacing",min:0,max:1,step:.03125,value:n.spacing,onChange:s})),e.createElement("p",null,e.createElement("label",{htmlFor:"theme-roundness"},"Roundness:"),e.createElement(Vn,{type:"range",id:"theme-roundness",min:0,max:1,step:.03125,value:n.roundness,onChange:o})),e.createElement("p",null,e.createElement("label",{htmlFor:"theme-flat"},"Flat:"),e.createElement(Vn,{type:"checkbox",id:"theme-flat",checked:n.flat,onChange:l}))),e.createElement("p",{className:"dialog-buttons"},e.createElement(Bn,{className:"small",type:"button",disabled:!0},"Save…"))),e.createElement("p",null,e.createElement("label",{htmlFor:"theme-fontSize"},"Font Size:"),e.createElement(Vn,{type:"range",id:"theme-fontSize",min:10,max:32,step:1,defaultValue:t,onChange:i,key:t})),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel"},"Cancel"),e.createElement(Bn,null,"Confirm")))}),null)}],Oc=[{tab:"General",panel:e.createElement((function(){const t=(0,e.useMemo)((()=>ga()),[]),n=_m(fa,t),a=(0,e.useRef)(null),r=(0,e.useRef)(null),s=(0,e.useRef)(null),i=(0,e.useRef)(null),o=(0,e.useCallback)((()=>{xa(t)}),[t]),l=(0,e.useCallback)((()=>{xa({allowDuplicates:a.current.checked,showLineNumbers:r.current.checked,zeroPadLineNumbers:s.current.checked,showSourceIcons:i.current.checked})}),[]);return e.createElement("form",{className:"playlist-general-settings",method:"dialog"},e.createElement("fieldset",null,e.createElement("legend",null,"Content"),e.createElement("p",null,e.createElement(Vn,{id:"playlist-allow-duplicates",type:"checkbox",checked:n.allowDuplicates,onChange:l,ref:a}),e.createElement("label",{htmlFor:"playlist-allow-duplicates"},"Allow duplicates"))),e.createElement("fieldset",null,e.createElement("legend",null,"Display"),e.createElement("p",null,e.createElement(Vn,{id:"playlist-item-numbers",type:"checkbox",checked:n.showLineNumbers,onChange:l,ref:r}),e.createElement("label",{htmlFor:"playlist-item-numbers"},"Show playlist line numbers")),e.createElement("p",null,e.createElement(Vn,{id:"playlist-zero-pad",type:"checkbox",checked:n.zeroPadLineNumbers,disabled:!n.showLineNumbers,onChange:l,ref:s}),e.createElement("label",{htmlFor:"playlist-zero-pad"},"Zero pad line numbers")),e.createElement("p",null,e.createElement(Vn,{id:"playlist-source-icons",type:"checkbox",checked:n.showSourceIcons,onChange:l,ref:i}),e.createElement("label",{htmlFor:"playlist-source-icons"},"Show media source icons"))),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel",onClick:o},"Cancel"),e.createElement(Bn,null,"Confirm")))}),null)}];function Vc(e,t){return function(n,a){return!e.call(t,n,a)}}function Uc(e,t,n){return[Dt(t,n)(je(e)),Dt(Vc(t,n))(je(e))]}const jc="\nmo2re_RX3Bs blXien2Jh_o etiatMRgFcM DYsMJiwiZSI _MZ7UZ5frCI 33XT9PQUfVU HCx1Z92PjJE dIP7wWY4Znw\nA1m0SEqmmbE 9uZ8CCa0t4Y MXlFDpaQ1ec wz_ItcoR0-c jS4-FmNEDKo Tz77vqH_LJw K73lfmxDVR0 W8ayfyRWUrg\ncbuldALGsaQ AJZon2grzmA H5ASEM9dMiA GE2YEq7vaLc MYGOdJNAzrI Oszl95YWfbs b0-IkxXyhmY\nAgpGXSAS7Cs p-OUNPqRzII XaTxLSPh_Is 1n3ezT1cvAM CWU1pZVw0xM ry1Q7KaQdxM VlC5LSTvoj0\ng5yQtQc3K-0 f6OZ01vvmko o4jE24WixcI BIej9P2LrzM dxw91a7C5BQ jmh_usvhHLw VVkZKzTbWQs vXCB1zGGFiY\nJHARFKMl8dU KSB1AZ0-I74 IGqfU6cJJc8 8zg22-ZCUfE WMlR8eJRS3I V0ggp2sJqA0 A5pbF_YBulo dRFRsKobN9I\ntlN0LoTv3c0 IlDvBTDGanI Az3UNGBKRX8 mOmwk3WyYnw im2eWwIiTOc lxQS58t39_U yk076o8NF3k oggiHfuV4m8\np_GnUkm-G1M xVMsAgHy_IY VdZkfef44JI ZxOd8tmdsIM fszuqfJWKxc 0LGL_lx9XcA i_hU5eUrVIs\nuZjCNtOeZG4 ZpXnEvW0XD0 -C8TYbhnVTU WzxSiEWK3cg ZE8vuq4aqNA 7HMw3bcIgRE ZJiCEDweLl8 lyh2kAjcmSY\nvFwqZ4qAUkE QLbPYQcUcgM xwf7EssFnXU FvNFuSTDPuk vvm8b2jAfv0 XkRFSnxXQ_w Ee0Qh_nIoHw 78rppSvbh7A\nNXIaYDJql1c e5eg-tOusSo ZkRjihsMdp8 e1M6jHcRrlM z9Ug-3qhrwY mA30W2dHQIo XIhEPwTMjWk -Tm4H4CrKT0\nT6tapzmF_n0 7QetsPh7BPM xBDqge4w-XA suWbFuw1O_I yCUQ8n2OxjI ZX8fSO8uTPg xX9xfFT-Qw0 0G9a9o3wOIQ\n-WIamcIaipI Zjc6DwVDvq0 eHjoav_sb88 7E0WVROBsEE BvLIJSmzAnY YPurG3WT8xI\naC7s2UVXt3c EJArkl7K29k 9eFVeErnUzg 7eyYe-MN1Nc B1-yyoNMUzs Ab5I38wGxko sVuqgnXD9AE\nY0U0HAwpw2s Shf_P0PLhNA Nde5P8Ob2xg f-Xul0mdBCA ExStG9rRkoY tMzCwwvHwN0\nQ6YbP3m-KvA eYpCCSAW3aw XfBNIrQ5JKQ -b68N6Q4Qus H3mdjo7kYiQ 9CJLtzzUphU yy-aMo2ds2k\nLtPGmDskDiY U9rtWGI6H5A NHa506wwN0Y PLSxe5Z8Asw ubQKAfwSLDA aFsNz5VMyC8 h6yhFP_qUro\nPEgQ0dIOB5c KWz3SXWnFys MGRDy2PqCGk 4DcMcAHrURw ETwbuC3p1ls iszl1WqjQIk njcvxMb8TVQ sTS5tBOS4GM\nhNNN5xPyyeY 8ls8xBn70gM 2XREaQqoU1U MXL2qjIL4qI 9YqbQcfIre0 JVI9BvU8-Oo\nPaIH77c53LA FSlhSL8bFoI XLuV3_a-ro0 mo7mUJZV6DM IqWPDr8KCmQ v-QS_Kh_i6o RvZFYE5jo1M Xn8tufsbSz0\n7gG4l70v8mw thurNCHVo08 YgryBZTMVZY XAmU3yQc90M KBUg3U3MRao v_My9t4gadA Xwb1xsWClCM KlH1g1x6RJk\nyYP2A8TkSQ0 LMSmWzCqlPE oN3glsVrnRY PPBV3hem5iM 1JbI8Ml25WQ nSJ67PGjQfQ EoBF2xRsbAc KDUYy3xwCFs\nRZOcoZS_52Q pSP9_otXcTU H36qe8NatNQ qgfd-uWTVwg Blu_yCEFYvk HeYMIBFtwh4 fb0QX7DbqLg kdqyAA0ILD4\nriZWEoGKyuU 4qo9bKRxgYA t0j_GdkG1BM hLq9J32lGRs zfc53CpvlZ4 IjNKQbm4AQ8 Ms0uDHae8FY tG991Undnbc\nsh8l2-cCAGQ XDE5pd4V_xc C2BVXFIX7bY ySPxZpoqXZ8 hiEUaLX4cCM wHxEyBMi1A4 YJSw3ougt9Y 2hUJBRUtrPU\nWsCCYv2adkM kD5x3_b1J0o 9Rvtm2zGEl4 DGlAMkUjcY0 h2s_WOkfTXk 0VhxPdtX0xg 6vuFh6NNa70 ukOHqdPbYYg\nH6OmEQ8RqVk qPp315pPVSI FQqj6gN7M6M Xrwks9O2-JQ ipRwt3TDgY4 aVqRyfRviwA X33dmu12C5c QEwzFKoG7tk\nh98nR30UD8Q Z7WpAwRjprI ilqlSBYfCGs V6SoeDWDon0 d-Hwz42Vfw4 hcmxvqJDpDw 22dlye7h3qU\nblSZ365wpfQ ADF4KgfhzPs jSRvD7Uma1g uLMC6bL_q38 k9DuPxFQ7HQ 7f2taFPyqxc YVYDz_coSfY\nOad8nSzotHw YiezM4raRrY H3GL5jO53NU acTsYqhq-AA vp2yiZnjK0w eR5vsN1Lq4E D_l0pBDHFgs HFnt39uG5W0\n7qXiAaxxGBs m6m6bqHiT6U l5jUOT0XiUM NLxwmtJSvk4 dv_QzcJGHAE kaPD4n9uQ2k r7HpeG2ofU0 O1AQcFpPs04\n44ih4WRTyGg W5BmjLsEsB0 JkNlFaei_k8 2ttB1FzBpZ4 k3Q1vse7In8 7xltSb3VBJQ ojbiGfhnjTU _Qb7TJ-T1HM\ngvT3gIDSwq8 4X95pykbYTY BPDznHIgVMA OIA5xQWkk2U 2uQ58Xwx1V4 UVjCFpYMR6A -uww0BzTb7g EqWBy5i8LyQ\nszErNcJMCdA 5k1DGpr_qDw YNEkjkh0bYo jmjrpHYegzc Eye8xYrjm24 rVLOQB5kGGw F8MN0o6RS9o viim_l9gbF8\nsBtYWK817-0 cFRcqnCpqoo y7vz1qQGUd8 -0ewPjoBBNI S1emxk9UWBE 1muEwEFDKgk nnDBkUfVU1Y MPEvXbw3hYA\nwwXpkTd1CaQ W2A_PcIhUVM ZIb8u6uJwBo TWjid2dVjMk gdJjc6l6iII n3Dru5y3ROc OOf4Z7tyLVM iDXDrTKJehk\nwYhliE9O_3k nw0uvJZonBc cK7x6lUUsYo XPjkpBDEs2U e2AUzM6QgGs 3cxyYOXiJss AsD5u6k6dKI d_hx39kXDUg\nhlvfDL3nSoo 6L2xYzu724E OhBo1A8atuA V-ntXk-4TPo yttvb9ByOtY ctqujFKaFZQ NWF3dNJ-EhQ WUkwH9WmmBA\nef1wAfrMg5I eN-RZVkFGj0 dc8LEG9jDFM 0-skl5qAC9Q u1rRUwx_Vy4 iTjgWeJMUJo WL9EOfzoSsA xrCNwCD-z-M\nCC3AanQdQZA ZGLrP5eawdY HoOghpRTkvs N787WRdI35A Cw0d-nqSNE8 2vifO3_gjiM OeJ5xXrbkfU\njP4gBqxfheI gIJxDy25nwM oN8q7p57nZw 6vnxzfejWN4 gVamQ6jodK0 iU5QjAbuhec qLIU_90P4Ac z8k_ximc8Og\nZFBoN7yIMZw 4mexI7cACZk bx-0YlFprqc NDWpXTg3koc Vo2AcHSCRiQ 2ve6LNoU6Qk WXI7byeZk5s y8d7Ihe0IwE\nubmUJcwor3k CGslieDL-04 w7ljU-lmaK4 I0B21LjeSUQ PyFN_FYwqvc vlyVzeLzNe8 ahmrb5EYoxY HGxuVWpN8vQ\nDNR1zyr5Go4 eyPhudLTuis aPWXL4ahxdY JB0A8Me8EKk dGy_6qyyY7c rxrDLgt5YFA uhcocK-td5E 4Z5FLeh7P18\nVB0zDS9ITmk VukLV0AoeFA CouF-tNHV3g lTvYjERVAnY S27YOjpgaaE 24uCC_-zaaE DslTxXsDLsw xilGAQPx5Xw\nzlHISDs2HtQ tdi8B0YzxHg R1OHRQoJOP0 fbqmVbEj9fg asL1AN3hifU rUkLoqxFOTw 3ma3yXXc3V8 1U1We59en3s\niNm7PPqO6rM CLRk8SgtVS4 VYO8Biwffns -imG6CNF9kI ZMOC332wC7A doORhRob3Qg E2sSvVCRI4s nPQ4BpTfK1Q\nE6Ww7lpuZ2k Ueqm3PQKYPk eFiKAcbp2MY dAfMgDBeqwU Wuq5NHJPXyQ LAFK1EvwulU rU07g1g-PIY L_mlofcsRaA\neZe4Q_58UTU NXObT_Fl-xI t6jlhqNxRYk _WkkH31sTMI ALJcKvnOjHM 85Y1N8avsXs NCY42RnUpCE 2QSukL7dl5o\n0Tpq2mLtXDc Zp1Oajc7VQw WGi4XiEGe8M b6L40CEYVyM Mw9qiV7XlFs UgHKb_7884o mvIYmMo906E 2RakvEQhTTA\nRyOu7hdbqg0 k9rKpHXwA1E MTG3VA-m6qk cU3XY6Ii8v0 Flbhk1KHHJw k5sznEJz8BA R8W3U0Mu6t4\n6KBo0GhU9XM d5R3FK9vLBs N5b7Iy4W0ow VogwWGEO1-c YKRe7n3jQ_M A-mPDdnzipI 6gqU-HL68wE\nVIlQIVVLWVs 6A-kQCdEIpI _lisL6tLbdg VarS6olPfTA va306f9aN3A zzscMK0ZtjE KpFU_kIw6To\nbHK0ZvQzfOY PkF4EKJQOOg 0aMUCiKjBDI D1KsEOUqCEU _SFTmh-b-Z4 omlVslJvzxQ FoS3732REf0\nqqC80mXlOKo MS2asGj1-_M BizH494DmJI IahW6hJ1-SM 9MIJm1NeUpE 2qzbMPpgtDw H3UY2gQfj-s 9kekiNImlsI\n5zUCClmhjF0 76Atd-tAkmg e18IjYKZnTA MAFdQs_yWvg xkAUTCdoteI X0IEHj4PhCc JX19TZp8gDQ 7TML_MTQdg4\nSH4f_DnPIto\n".match(/\S+/g).map((e=>`youtube:video:${e}`));var Qc=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))},Xc=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};console.log("module::visualizer");const Wc=new ae("visualizer");Wc.log("Ambient videos:",jc.length),Wc.log("AudioMotion presets:",as.length),Wc.log("Butterchurn presets:",ms.length);const Gc=as.map((e=>e.name)),Hc=ms.map((e=>e.name)),$c=ma("ampcast/visualizer","keyval"),Yc=new te({provider:"none",preset:""}),Jc=new te({}),Kc=new Z,Zc=Zi().pipe(Dt((e=>null==e))),eu=Zi().pipe(Dt(he)),[tu,nu]=Uc(eu,(e=>e.mediaType===xt.Audio)),[au,ru]=Uc(ao(),Boolean),su=[...Array(83).fill("milkdrop"),...Array(10).fill("video"),...Array(5).fill("audiomotion"),...Array(1).fill("ampshade"),...Array(1).fill("waveform")];function iu(){return Yc}function ou(){return mu().pipe(rt((e=>!!e.locked)))}function lu(){return mu().pipe(rt((e=>e.provider||"")),nt())}function mu(){return Jc}function cu(){Kc.next(void 0)}function uu(){return Qc(this,void 0,void 0,(function*(){return pu(!0)}))}function _u(){return Qc(this,void 0,void 0,(function*(){return pu(!1)}))}function pu(e){return Qc(this,void 0,void 0,(function*(){const t=Jc.getValue(),{locked:n}=t,a=Xc(t,["locked"]);if(!!n!==e){const t=Yc.getValue(),n=e?Object.assign(Object.assign({},a),{locked:t}):a;yield pa("settings",n,$c),Jc.next(n)}}))}Qc(void 0,void 0,void 0,(function*(){var e;const t=null!==(e=yield _a("settings",$c))&&void 0!==e?e:{};Jc.next(t)})),Zc.subscribe((()=>ri.stop())),tu.subscribe((()=>ri.hidden=!1)),nu.subscribe((()=>{ri.pause(),ri.hidden=!0})),au.subscribe((()=>ri.pause())),pi(tu,Kc,lu(),ri.observeError()).pipe(ea(tu,mu()),rt((([,e,t])=>function(e,t){if(t.locked)return t.locked;let n=t.provider,a="";e.src.startsWith("spotify:")&&(n="video"),n||(n=Ee(su));const r=Yc.getValue().preset;switch(n){case"audiomotion":a=Ee(Gc,r);break;case"milkdrop":a=Ee(Hc,r);break;case"video":a=Ee(jc,r)}return{provider:n,preset:a}}(e,t))),nt()).subscribe(Yc),iu().pipe(Ct((e=>ri.load(e)))).subscribe(Wc),tu.pipe(Nt((()=>ru))).subscribe((()=>ri.play()));const vu=[{tab:"General",panel:e.createElement((function(){const t=(0,e.useRef)(null),n=_m(lu,""),a=(0,e.useCallback)((()=>{!function(e){Qc(this,void 0,void 0,(function*(){const t=Jc.getValue(),{provider:n}=t,a=Xc(t,["provider"]);if(e!==n){const t=e?Object.assign(Object.assign({},a),{provider:e}):a;yield pa("settings",t,$c),Jc.next(t)}}))}(t.current.value)}),[]);return e.createElement("form",{className:"visualizer-general-settings",method:"dialog",onSubmit:a},e.createElement("p",null,e.createElement("label",{htmlFor:"visualizer-provider"},"Provider:"),e.createElement("select",{id:"visualizer-provider",defaultValue:n,key:n,ref:t},e.createElement("option",{value:""},"(random)"),e.createElement("option",{value:"video"},"Ambient Video"),e.createElement("option",{value:"audiomotion"},"AudioMotion Visualizer"),e.createElement("option",{value:"milkdrop"},"Milkdrop Visualizer"),e.createElement("option",{value:"waveform"},"Waveform Visualizer"),e.createElement("option",{value:"ampshade"},"Ampshade Visualizer"))),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel"},"Cancel"),e.createElement(Bn,null,"Confirm")))}),null)}];function du(){return e.createElement(Bc,{items:vu,label:"Visualizers"})}function bu(t){return e.createElement(Nn,Object.assign({},t,{className:"visualizer-settings-dialog",title:"Visualizer Settings"}),e.createElement(du,null))}function hu(){const t=(0,e.useId)(),n=(0,e.useRef)(null),a=(0,e.useMemo)((()=>jl.getServices()),[]),r=(0,e.useCallback)((()=>{const e=[],t=n.current.elements;for(const n of t)n.checked&&e.push(n.value);jl.setServices(e)}),[]);return e.createElement("form",{className:"media-library-general-settings",method:"dialog",onSubmit:r},e.createElement("fieldset",{ref:n},e.createElement("legend",null,"Display"),e.createElement("ul",null,Ml.map((n=>e.createElement("li",{key:n.id},e.createElement(Vn,{id:`${t}-${n.id}`,type:"checkbox",value:n.id,defaultChecked:a.includes(n.id),disabled:"local"===n.id}),e.createElement("label",{htmlFor:`${t}-${n.id}`},n.title)))))),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel"},"Cancel"),e.createElement(Bn,null,"Confirm")))}function fu({service:t}){const n=(0,e.useMemo)((()=>[{tab:"General",panel:e.createElement(gu,{service:t})}]),[t]);return e.createElement(Bc,{items:n,label:t.title})}function gu({service:t}){const n=(0,e.useId)(),a=(0,e.useRef)(null),r=_m(t.observeIsLoggedIn,!1),s=(0,e.useMemo)((()=>jl.getSources(t.id)),[t]),i=(0,e.useCallback)((()=>{const e=[],n=a.current.elements;for(const t of n)t.checked&&e.push(t.value);jl.setSources(t.id,e)}),[t]);return e.createElement("form",{className:`media-library-settings ${t.id}-settings`,method:"dialog",onSubmit:i},e.createElement("p",null,e.createElement(Bn,{className:"disconnect",onClick:t.logout,disabled:!r},r?"Disconnect...":"Not connected")),e.createElement("fieldset",{ref:a},e.createElement("legend",null,"Display"),e.createElement("ul",null,t.sources.map((t=>e.createElement("li",{key:t.id},e.createElement(Vn,{id:`${n}-${t.id}`,type:"checkbox",value:t.id,defaultChecked:s.includes(t.id)}),e.createElement("label",{htmlFor:`${n}-${t.id}`},t.title)))))),e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,{value:"#cancel"},"Cancel"),e.createElement(Bn,null,"Confirm")))}const xu=[{id:"services",label:"Media Services",value:e.createElement((function(){const t=(0,e.useMemo)((()=>[{tab:"General",panel:e.createElement(hu,null)}]),[]);return e.createElement(Bc,{items:t,label:"Media Services"})}),null),startExpanded:!0,children:[{id:"apple",label:e.createElement(Mc,{icon:"apple",text:"Apple Music"}),value:e.createElement((function(){return e.createElement(fu,{service:an})}),null)},{id:"spotify",label:e.createElement(Mc,{icon:"spotify",text:"Spotify"}),value:e.createElement((function(){return e.createElement(fu,{service:Cl})}),null)},{id:"youtube",label:e.createElement(Mc,{icon:"youtube",text:"YouTube"}),value:e.createElement((function(){return e.createElement(fu,{service:Tr})}),null)},{id:"plex",label:e.createElement(Mc,{icon:"plex",text:"Plex"}),value:e.createElement((function(){return e.createElement(fu,{service:wl})}),null)},{id:"jellyfin",label:e.createElement(Mc,{icon:"jellyfin",text:"Jellyfin"}),value:e.createElement((function(){return e.createElement(fu,{service:Lo})}),null)},{id:"lastfm",label:e.createElement(Mc,{icon:"lastfm",text:"last.fm"}),value:e.createElement((function(){return e.createElement(fu,{service:rl})}),null)}]},{id:"visualizer",label:"Visualizer",value:e.createElement(du,null)},{id:"playlist",label:"Playlist",value:e.createElement((function(){return e.createElement(Bc,{items:Oc,label:"Playlist Settings"})}),null)},{id:"playback",label:"Playback",value:e.createElement("div",null)},{id:"appearance",label:"Appearance",value:e.createElement((function(){return e.createElement(Bc,{items:Fc,label:"Appearance"})}),null)}];function yu(){return xu}function wu(t){const n=yu(),[a,r]=(0,e.useState)(e.createElement("div",null));return e.createElement(Nn,Object.assign({},t,{className:"settings-dialog",title:"Settings"}),e.createElement(sm,{className:"settings-dialog-sources",roots:n,storeId:"settings-dialog-sources",onSelect:r}),e.createElement("div",{className:"settings-dialog-source"},a))}function Au(t){var{icon:n,className:a=""}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["icon","className"]);return e.createElement(Bn,Object.assign({},r,{className:`icon-button icon-button-${n} ${a}`,onMouseDown:Ae,onDoubleClick:qe}),e.createElement(Ln,{name:n}))}function qu(){const[t,n]=(0,e.useState)(null),[a,r]=Fn(wu);return e.createElement("div",{className:"media-library"},e.createElement("header",{className:"media-library-head"},e.createElement("h1",null,"Ampcast ",e.createElement("span",{className:"version"},"0.4.6")),e.createElement(Au,{icon:"settings",className:"in-frame",title:"Settings",onClick:r}),a),e.createElement("div",{className:"media-library-body"},e.createElement(c,{id:"media-library-layout",arrange:"columns",primaryIndex:1},e.createElement(Rc,{onSelect:n}),t)))}function zu({className:t="",children:n}){return e.createElement("div",{className:`icon-buttons ${t}`},n)}function Eu(){return _m(iu,null)}function ku(t){const[n,a]=(0,e.useState)(null);return(0,e.useEffect)((()=>{null==n&&null!=t&&a(t)}),[n,t]),n}function Tu({visualizer:t}){return e.createElement("article",{className:"visualizer-info"},e.createElement(Su,{visualizer:t}),e.createElement(Iu,{visualizer:t}))}function Su({visualizer:t}){return e.createElement("h3",null,"Visualizer: ",function(e){switch(null==e?void 0:e.provider){case"ampshade":return"Ampshade";case"audiomotion":return"AudioMotion";case"milkdrop":return"Milkdrop";case"video":return"Ambient Video";case"waveform":return"Waveform";default:return"none"}}(t))}function Iu({visualizer:t}){return"video"===(null==t?void 0:t.provider)&&t.preset.startsWith("youtube:")?e.createElement(Pu,{visualizer:t}):(null==t?void 0:t.preset)?e.createElement("h4",null,"Name: ",t.preset):null}function Pu({visualizer:t}){const n=function(t){const[n,,a]=t.split(":"),[r,s]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(s(null),a&&"youtube"===n){const e=Ke(kr(a)).subscribe(s);return()=>e.unsubscribe()}}),[n,a]),r}(t.preset);return n?e.createElement("div",{className:"youtube-video-info"},e.createElement("h4",null,"Title: ",n.title),e.createElement(ym,{owner:n.owner,src:n.src}),e.createElement(wm,{url:n.externalUrl,src:n.src})):null}function Cu(t){const n=pc(),a=Eu(),r=ku(n),s=ku(a);return e.createElement(Nn,Object.assign({},t,{className:"currently-playing-dialog",title:"Media Info"}),e.createElement("form",{method:"dialog"},r?e.createElement(vm,{item:r}):e.createElement("p",null,"The playlist is empty."),r&&r.mediaType!==xt.Video?e.createElement(Tu,{visualizer:s}):null,e.createElement("footer",{className:"dialog-buttons"},e.createElement(Bn,null,"Close"))))}function Mu(){const t=_m(ou,!1),[n,a]=Fn(Cu,"popup"),[r,s]=Fn(bu),i=function(){const t=pc(),n=Eu(),[a,r]=(0,e.useState)("");return(0,e.useEffect)((()=>{(null==t?void 0:t.src.startsWith("youtube:"))?r("youtube"):(null==t?void 0:t.src.startsWith("apple:"))&&(null==t?void 0:t.mediaType)===xt.Video?r("apple"):(null==n?void 0:n.preset.startsWith("youtube:"))?r("youtube"):r("")}),[t,n]),a}();return e.createElement("div",{className:"visualizer-controls"},e.createElement(zu,{className:"visualizer-controls-settings"},e.createElement(Au,{className:"with-overlay",icon:"info",title:"Info",tabIndex:-1,onClick:a}),n,e.createElement(Au,{className:"with-overlay",icon:"settings",title:"Settings",tabIndex:-1,onClick:s}),r),e.createElement(zu,{className:"visualizer-controls-selector"},e.createElement(Au,{className:"with-overlay",icon:t?"locked":"unlocked",title:t?"Unlock":"Lock the current visualizer",tabIndex:-1,onClick:t?_u:uu}),t?null:e.createElement(Au,{className:"with-overlay",icon:"right",title:"Next visualizer",tabIndex:-1,onClick:cu})),i?e.createElement(Ln,{className:"source-icon",name:i}):null)}function Ru(){const t=pc(),[n,a]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const e=setTimeout((()=>a(!1)),5e3);return a(!0),()=>clearTimeout(e)}),[t]),e.createElement("div",{className:"interstitial "+(n?"is-recent":"")},t?e.createElement(Bu,{item:t}):e.createElement("p",null,"The playlist is empty."))}function Bu({item:t}){return e.createElement("div",{className:"currently-playing"},e.createElement("h3",null,t.title),t.artist?e.createElement(e.Fragment,null,e.createElement("span",{className:"by"},"by"),e.createElement("h4",null,t.artist)):null)}function Lu(){const t=(0,e.useRef)(null),[n,a]=(0,e.useState)(!1);(0,e.useLayoutEffect)((()=>{wo.appendTo(t.current)}),[]),(0,e.useLayoutEffect)((()=>{const e=Kn(document,"fullscreenchange").pipe(rt((()=>document.fullscreenElement===t.current))).subscribe(a);return()=>e.unsubscribe()}),[]),s(t,(0,e.useCallback)((()=>{const e=t.current;wo.resize(e.clientWidth,e.clientHeight)}),[]));const r=(0,e.useCallback)((()=>{n?document.exitFullscreen():t.current.requestFullscreen()}),[n]);return e.createElement("div",{className:"panel media "+(n?"full-screen":""),onDoubleClick:r,ref:t},e.createElement("div",{id:"players"}),e.createElement("div",{id:"visualizers"}),e.createElement(Ru,null),e.createElement(Mu,null))}function Du({icon:t,onClick:n}){return e.createElement(Bn,{className:`media-button media-button-${t}`,onClick:n},e.createElement(Ln,{name:t}))}function Nu(){const t=(0,e.useRef)(null),n=(0,e.useRef)(null),a=_m(eo,0),r=_m(to,0),s=_m(ao,!0),[i,o]=(0,e.useState)((()=>wo.muted)),[l,m]=(0,e.useState)((()=>wo.volume)),c=l<=.33?"low":l<=.67?"medium":"high";(0,e.useEffect)((()=>{wo.muted=i}),[i]),(0,e.useEffect)((()=>{wo.volume=l}),[l]);const u=(0,e.useCallback)((()=>{_o(t.current.valueAsNumber)}),[]),_=(0,e.useCallback)((()=>{const e=n.current.valueAsNumber;m(e),o(0===e)}),[]),p=(0,e.useCallback)((()=>{o((e=>!e))}),[]);return e.createElement("div",{className:`media-playback-bar volume-${c}`},e.createElement("p",{className:"media-playback-bar-current-time"},e.createElement(ec,{time:a}),e.createElement(Vn,{id:"playhead",type:"range",min:0,max:r,step:1,value:a,disabled:s,onChange:u,ref:t})),e.createElement("div",{className:"media-playback-bar-controls"},e.createElement("p",{className:"media-playback-bar-volume"},e.createElement(Au,{icon:i?"muted":"volume",className:"in-frame",title:i?"unmute":"mute",onClick:p}),e.createElement(Vn,{type:"range",min:0,max:1,step:.01,value:i?0:l,onChange:_,ref:n})),e.createElement("p",{className:"media-playback-bar-buttons"},e.createElement(Du,{icon:"prev",onClick:vo}),e.createElement(Du,{icon:s?"play":"pause",onClick:s?co:uo}),e.createElement(Du,{icon:"stop",onClick:po}),e.createElement(Du,{icon:"next",onClick:bo})),e.createElement("p",{className:"media-playback-bar-more"},e.createElement(Bn,{className:"media-button media-button-shuffle",onClick:ho},"Shuffle"))))}console.log("component::MediaLibrary"),console.log("component::Media");function Fu(t){var{items:n}=t,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["items"]);const r=1===n.length;return e.createElement(sc,Object.assign({},a,{className:"actions"}),e.createElement("ul",{className:"actions-menu-items"},e.createElement(ic,{label:"Select all",action:"select-all",acceleratorKey:"Ctrl+A",key:"select-all"}),r?e.createElement(ic,{label:"Play",action:"play",acceleratorKey:"Enter",key:"play"}):null,e.createElement(ic,{label:"Remove",action:"remove",acceleratorKey:"Del",key:"remove"}),r?e.createElement(ic,{label:"Info...",action:"info",acceleratorKey:"Ctrl+I",key:"info"}):null))}const Ou={view:"details",showTitles:!1,cols:[{title:"#",render:()=>null,align:"right",className:"track"},{title:"Source",render:function({src:t}){const[n]=t.split(":");return e.createElement(Ln,{name:n,className:"youtube"===n?"":"show-connectivity"})},align:"center",className:"source"},{title:"Title",render:function({title:t,artist:n}){return n?e.createElement(e.Fragment,null,e.createElement("span",{className:"artist-text"},n),e.createElement("span",{role:"separator"},"-"),e.createElement("span",{className:"title-text"},t)):e.createElement("span",{className:"title-text"},t)},className:"title"},{title:"Time",render:nc,align:"right",className:"duration"}]};const Vu=["audio/*","video/*"];function Uu(t){var{onSelect:n,onPlay:a}=t,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(t,["onSelect","onPlay"]);const s=(0,e.useRef)(null),i=_m(Oa.observe,[]),o=function(t){const n=String(t).length,{zeroPadLineNumbers:a,showLineNumbers:r,showSourceIcons:s}=_m(fa,ga());return(0,e.useMemo)((()=>Object.assign(Object.assign({},Ou),{cols:Ou.cols.filter((e=>{switch(e.className){case"track":return r;case"source":return s;default:return!0}})).map((e=>"track"===e.className?Object.assign(Object.assign({},e),{render:(e,t)=>function(e,t=0){return String(e+1).padStart(t,"0")}(t,a?n:0)}):e))})),[a,r,s,n])}(i.length),l=pc(),[m,c]=(0,e.useState)(0),u=(0,e.useCallback)((e=>{const[t]=e.src.split(":");return`source-${t} ${e.id===(null==l?void 0:l.id)?"playing":""} ${e.unplayable?"unplayable":""}`}),[l]),_=(0,e.useCallback)((e=>{c(e.length),null==n||n(e)}),[n]),p=(0,e.useCallback)((e=>{null==a||a(e)}),[a]),v=(0,e.useCallback)((e=>{1===e.length&&(null==a||a(e[0]))}),[a]),d=(0,e.useCallback)(((t,n,r)=>{return i=this,o=void 0,m=function*(){const i=yield function(t,n,a){return r=this,s=void 0,o=function*(){return oc((n=>e.createElement(Fu,Object.assign({},n,{items:t}))),n,a)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}l((o=o.apply(r,s||[])).next())}));var r,s,i,o}(t,n,r);switch(i){case"play":null==a||a(t[0]);break;case"remove":Oa.remove(t);break;case"info":Em(t[0]);break;case"select-all":s.current.selectAll()}},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{r(m.next(e))}catch(e){t(e)}}function a(e){try{r(m.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,a)}r((m=m.apply(i,o||[])).next())}));var i,o,l,m}),[a]);return e.createElement("div",{className:"playlist"},e.createElement(Fm,Object.assign({},r,{className:"media-list playable",layout:o,items:i,itemKey:"id",itemClassName:u,droppable:!0,droppableTypes:Vu,multiSelect:!0,reorderable:!0,onContextMenu:d,onDelete:Oa.remove,onDoubleClick:p,onDrop:Oa.insertAt,onEnter:v,onMove:Oa.moveSelection,onSelect:_,listViewRef:s})),e.createElement(Zm,{items:i,size:i.length,selectedCount:m}))}function ju(){return _m(ao,!0)}function Qu(){const t=ju(),n=(0,e.useCallback)((e=>{return t=this,n=void 0,r=function*(){wo.autoplay=!0,yield Oa.setCurrentItem(e),wo.play()},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}l((r=r.apply(t,n||[])).next())}));var t,n,a,r}),[]);return e.createElement("div",{className:"media-playback "+(t?"paused":"")},e.createElement(c,{id:"media-playback-layout",arrange:"rows"},e.createElement("div",{className:"panel playback"},e.createElement(Nu,null),e.createElement(Uu,{onPlay:n})),e.createElement(Lu,null)))}console.log("component::MediaPlayback");const Xu={apple:ft,jellyfin:Lo,lastfm:rl,plex:wl,spotify:Cl,youtube:Tr};function Wu(e){const t=e.dataTransfer;t&&(e.preventDefault(),t.effectAllowed="none",t.dropEffect="none")}const Gu=navigator.mediaSession;console.log("module::App"),(0,t.s)(document.getElementById("app")).render(e.createElement((function(){return(0,e.useEffect)((()=>{document.body.classList.add(`browser-${be.name.replace(/\s+/g,"-")}`)}),[]),(0,e.useEffect)((()=>{const e=new A;return Object.keys(Xu).forEach((t=>{const n=Xu[t].observeIsLoggedIn().subscribe((e=>{document.body.classList.toggle(`${t}-connected`,e),document.body.classList.toggle(`${t}-not-connected`,!e)}));e.add(n)})),()=>e.unsubscribe()}),[]),(0,e.useEffect)((()=>{const e=Kn(document,"dragenter"),t=Kn(document,"dragover"),n=Kn(document,"drop"),a=pi(e,t).pipe(Ct(Wu)),r=pi(a,n.pipe(Ct(Ae))).subscribe();return()=>r.unsubscribe()}),[]),function(){const t=pc(),n=ju(),a=_m(eo,0),r=_m(to,0);(0,e.useEffect)((()=>{Gu.setPositionState({duration:r,position:a,playbackRate:1})}),[r,a]),(0,e.useEffect)((()=>{const e=t?n?"paused":"playing":"none",a=Ua(0,100).pipe(Lt(2),Ct((()=>{!function(e){var t;Gu.metadata=e?new MediaMetadata({title:e.title,artist:e.artist,album:e.artist?"":e.album,artwork:(null===(t=e.thumbnails)||void 0===t?void 0:t.map((e=>({src:e.url,sizes:`${e.width}x${e.height}`}))))||[]}):null}(t),Gu.setActionHandler("play",co),Gu.setActionHandler("pause",uo),Gu.setActionHandler("stop",po),Gu.setActionHandler("previoustrack",vo),Gu.setActionHandler("nexttrack",bo),Gu.setActionHandler("seekto",(e=>{null!=e.seekTime&&_o(e.seekTime)})),Gu.playbackState=e}))).subscribe();return()=>a.unsubscribe()}),[t,n])}(),function(){const t=ju();(0,e.useEffect)((()=>{document.getElementById("system").addEventListener("keydown",qe),document.getElementById("popup").addEventListener("keydown",qe)}),[]),(0,e.useEffect)((()=>{document.body.addEventListener("keydown",(e=>function(e,t){switch(e.key){case" ":case"MediaPlayPause":e.preventDefault(),t?wo.play():wo.pause();break;case"MediaStop":e.preventDefault(),wo.stop();break;case"MediaTrackPrevious":e.preventDefault(),wo.prev();break;case"MediaTrackNext":e.preventDefault(),wo.next();break;case"AudioVolumeMute":e.preventDefault(),wo.muted=!0}}(e,t)))}),[t])}(),function(){(0,e.useEffect)((()=>{(()=>{var e,t,n,a;e=this,t=void 0,a=function*(){var e,t,n,a;const{state:r="granted"}=(yield null===(e=navigator.permissions)||void 0===e?void 0:e.query({name:"persistent-storage"}))||{};let s=yield null===(n=null===(t=navigator.storage)||void 0===t?void 0:t.persisted)||void 0===n?void 0:n.call(t);"granted"!==r||s||(s=yield null===(a=navigator.storage)||void 0===a?void 0:a.persist()),console.log("Persisted storage:",{state:r,persisted:s})},new((n=void 0)||(n=Promise))((function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((a=a.apply(e,t||[])).next())}))})()}),[])}(),e.createElement("main",null,e.createElement(c,{id:"main-layout",arrange:"columns"},e.createElement(qu,null),e.createElement(Qu,null)))}),null))})()})();